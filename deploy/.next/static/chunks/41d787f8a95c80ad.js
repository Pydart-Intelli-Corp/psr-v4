(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,572897,e=>{"use strict";var t=e.i(843476),l=e.i(271645);function r(){let[e,r]=(0,l.useState)(null),[o,a]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=localStorage.getItem("authToken"),t=localStorage.getItem("userData");if(r({exists:!!e,preview:e?e.substring(0,50)+"...":void 0,length:e?e.length:0}),t)try{let e=JSON.parse(t);a(e)}catch{a({error:"Failed to parse user data",raw:t})}else a({exists:!1})},[]);let s=async()=>{let e=localStorage.getItem("authToken");if(!e)return void alert("No token found");try{let t=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),l=await t.json();console.log("Profile API Test:",l),alert(`Profile API Response: ${JSON.stringify(l,null,2)}`)}catch(e){console.error("Profile API Error:",e),alert(`Error: ${e}`)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Authentication Diagnostic"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Token Information"}),(0,t.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(e,null,2)})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"User Data"}),(0,t.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(o,null,2)})]})]}),(0,t.jsxs)("div",{className:"mt-6 space-x-4",children:[(0,t.jsx)("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Test Profile API"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),window.location.reload()},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Clear Storage & Reload"}),(0,t.jsx)("a",{href:"/login",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 inline-block",children:"Go to Login"}),(0,t.jsx)("a",{href:"/admin/dashboard",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 inline-block",children:"Go to Dashboard"})]})]})})}e.s(["default",()=>r])}]);