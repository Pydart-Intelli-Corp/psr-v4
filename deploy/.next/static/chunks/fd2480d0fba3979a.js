(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,545292,e=>{"use strict";var t=e.i(785187);e.s(["FormInput",()=>t.default])},199083,e=>{"use strict";var t=e.i(216940);e.s(["StatusMessage",()=>t.default])},948168,e=>{"use strict";var t=e.i(524420);e.s(["EmptyState",()=>t.default])},506296,e=>{"use strict";var t=e.i(197238);e.s(["FormSelect",()=>t.default])},931194,e=>{"use strict";function t(e){if(!e||""===e.trim())return{isValid:!1,error:"Phone number is required"};let t=e.replace(/\D/g,"");return 10!==t.length?{isValid:!1,error:"Phone number must be exactly 10 digits"}:/^[6-9]/.test(t)?{isValid:!0,formatted:t}:{isValid:!1,error:"Phone number must start with 6, 7, 8, or 9"}}function r(e){return e.replace(/\D/g,"").slice(0,10)}function s(e){return e&&""!==e.trim()&&t(e).error||""}e.s(["formatPhoneInput",()=>r,"validateIndianPhone",()=>t,"validatePhoneOnBlur",()=>s])},892892,e=>{"use strict";var t=e.i(843476),r=e.i(846932),s=e.i(88653);let a=(0,e.i(475254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function l({isOpen:e,onClose:l,onConfirm:i,title:d,message:n,confirmText:c="Continue",cancelText:o="Cancel"}){return e?(0,t.jsx)(s.AnimatePresence,{children:e&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:l,children:(0,t.jsxs)(r.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,t.jsx)(a,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:d}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:n})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:l,className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:o}),(0,t.jsx)("button",{onClick:i,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:c})]})]})})}):null}e.s(["default",()=>l],892892)},896390,e=>{"use strict";let t=(0,e.i(475254).default)("droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);e.s(["Droplet",()=>t],896390)},906516,e=>{"use strict";function t(e){return function(e){if(!e||""===e.trim())return{isValid:!0,formatted:""};let t=e.trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?t.length>255?{isValid:!1,error:"Email address is too long (max 255 characters)"}:{isValid:!0,formatted:t}:{isValid:!1,error:"Please enter a valid email address (e.g., farmer@example.com)"}}(e).error||""}function r(e){return e.trim().toLowerCase()}e.s(["formatEmailInput",()=>r,"validateEmailOnBlur",()=>t])},715788,201928,e=>{"use strict";var t=e.i(475254);let r=(0,t.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>r],715788);let s=(0,t.default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>s],201928)},792484,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(878894),a=e.i(37727),l=e.i(263488),i=e.i(727612);function d({isOpen:e,onClose:d,societyName:n,onConfirm:c,loading:o=!1}){let[m,x]=(0,r.useState)(Array(6).fill("")),[u,h]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[f,p]=(0,r.useState)("");if(!e)return null;let y=e=>{e.preventDefault();let t=e.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(t))return;let r=Array(6).fill("");t.split("").forEach((e,t)=>{r[t]=e}),x(r)},j=async()=>{b(!0),p("");try{let e=localStorage.getItem("authToken"),t=window.selectedSocietyId,r=await fetch("/api/user/society/send-delete-otp",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({societyId:t})}),s=await r.json();if(!r.ok)throw Error(s.error||"Failed to send OTP");h(!0)}catch(e){p(e instanceof Error?e.message:"Failed to send OTP")}finally{b(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,t.jsx)(s.AlertTriangle,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Society"})]}),(0,t.jsx)("button",{onClick:d,className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",disabled:o,children:(0,t.jsx)(a.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 rounded-r",children:[(0,t.jsx)("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-semibold mb-2",children:"⚠️ THIS ACTION CANNOT BE UNDONE!"}),(0,t.jsxs)("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:["Deleting ",(0,t.jsx)("strong",{className:"font-bold",children:n})," will permanently remove:"]})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All farmers under this society"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All machines linked to this society"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All machine statistics"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All machine corrections"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All rate charts and rate chart data"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All milk collections"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All sales records"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All dispatch records"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,t.jsx)("span",{children:"All section pulse tracking data"})]})]}),u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center",children:"Enter 6-digit OTP sent to your email"}),(0,t.jsx)("div",{className:"flex justify-center gap-2 mb-2",children:m.map((e,r)=>(0,t.jsx)("input",{id:`otp-${r}`,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,t)=>{if(!/^\d*$/.test(t))return;let r=[...m];if(r[e]=t.slice(-1),x(r),p(""),t&&e<5){let t=document.getElementById(`otp-${e+1}`);t?.focus()}})(r,e.target.value),onKeyDown:e=>((e,t)=>{if("Backspace"===t.key&&!m[e]&&e>0){let t=document.getElementById(`otp-${e-1}`);t?.focus()}})(r,e),onPaste:0===r?y:void 0,className:"w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900/50 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:bg-white dark:focus:bg-gray-700 active:bg-white dark:active:bg-gray-700 focus:text-gray-900 dark:focus:text-white focus:outline-none transition-colors"},r))}),f&&(0,t.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:f})]}),(0,t.jsx)("button",{onClick:j,disabled:g,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline mb-4 w-full text-center",children:g?"Resending...":"Resend OTP"})]}):(0,t.jsx)("button",{onClick:j,disabled:g,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending OTP..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Mail,{className:"w-5 h-5"}),"Send OTP to Email"]})})]}),u&&(0,t.jsxs)("div",{className:"flex gap-3 p-6 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("button",{onClick:d,disabled:o,className:"flex-1 py-3 px-4 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{let e=m.join("");6!==e.length?p("Please enter complete 6-digit OTP"):c(e)},disabled:o||6!==m.join("").length,className:"flex-1 py-3 px-4 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Deleting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Trash2,{className:"w-5 h-5"}),"Delete All"]})})]})]})})}e.s(["default",()=>d])}]);