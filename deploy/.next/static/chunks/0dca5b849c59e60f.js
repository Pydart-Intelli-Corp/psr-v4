(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,302049,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(618566),s=e.i(846932),i=e.i(88653),l=e.i(871689),d=e.i(761911),n=e.i(346897),o=e.i(343432),c=e.i(284614),x=e.i(607486),m=e.i(952571),g=e.i(715788),h=e.i(201928),y=e.i(239616),p=e.i(217923),b=e.i(896390),u=e.i(212426),j=e.i(63209),k=e.i(39312),N=e.i(842009),f=e.i(688511),w=e.i(356909),v=e.i(37727),C=e.i(16715),S=e.i(727612),I=e.i(286536),F=e.i(77705),P=e.i(931194),$=e.i(906516);e.i(633999);var T=e.i(344803),D=e.i(948168),E=e.i(199083),A=e.i(545292),M=e.i(506296),B=e.i(792484),L=e.i(892892);function R(){let e=(0,r.useParams)(),R=(0,r.useRouter)(),[O,U]=(0,a.useState)(null),[Q,V]=(0,a.useState)("overview"),[z,G]=(0,a.useState)(!0),[q,H]=(0,a.useState)(""),[K,_]=(0,a.useState)(!1),[J,X]=(0,a.useState)(!1),[Y,Z]=(0,a.useState)(!1),[W,ee]=(0,a.useState)(!1),[et,ea]=(0,a.useState)(!1),[er,es]=(0,a.useState)(!1),[ei,el]=(0,a.useState)(!1),[ed,en]=(0,a.useState)(!1),[eo,ec]=(0,a.useState)({name:"",password:"",location:"",presidentName:"",contactPhone:"",email:"",status:"active"}),[ex,em]=(0,a.useState)(!1),[eg,eh]=(0,a.useState)({contactPhone:"",email:""}),[ey,ep]=(0,a.useState)(!1),[eb,eu]=(0,a.useState)(""),ej=(0,a.useCallback)(async()=>{try{G(!0),H("");let t=localStorage.getItem("authToken");if(!t)return void R.push("/login");let a=await fetch(`/api/user/society/${e.id}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){if(401===a.status||403===a.status){localStorage.removeItem("authToken"),R.push("/login");return}throw Error("Failed to fetch society details")}let r=await a.json();r.success&&r.data?U(r.data):H(r.message||"Failed to load society details")}catch(e){console.error("Error fetching society details:",e),H("Failed to load society details")}finally{G(!1)}},[e.id,R]);(0,a.useEffect)(()=>{e.id&&ej()},[e.id,ej]),(0,a.useEffect)(()=>{O?.society&&ec({name:O.society.name||"",password:"",location:O.society.location||"",presidentName:O.society.presidentName||"",contactPhone:O.society.contactPhone||"",email:O.society.email||"",status:O.society.status||"active"})},[O]),(0,a.useEffect)(()=>{(async()=>{if(ed&&e.id)try{let t=localStorage.getItem("authToken"),a=await fetch(`/api/user/society/password?id=${e.id}`,{headers:{Authorization:`Bearer ${t}`}});if(a.ok){let e=await a.json(),t=e.data?.password||e.password||"";eu(t),ec(e=>({...e,password:t}))}}catch(e){console.error("Error fetching password:",e)}else ep(!1),eu("")})()},[ed,e.id]);let ek=e=>{switch(e?.toLowerCase()){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"inactive":default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";case"maintenance":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"suspended":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}},eN=e=>{if(!e)return"N/A";let t=new Date(e);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric"}).format(t)},ef=e=>{if(null==e)return"0";let t="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-IN",{maximumFractionDigits:2}).format(t)},ew=e=>{if(null==e)return"₹0";let t="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t)},ev=()=>{ed&&(O?.society&&ec({name:O.society.name||"",password:"",location:O.society.location||"",presidentName:O.society.presidentName||"",contactPhone:O.society.contactPhone||"",email:O.society.email||"",status:O.society.status||"active"}),eh({contactPhone:"",email:""})),en(!ed)},eC=async()=>{try{if(em(!0),H(""),eo.contactPhone){let e=(0,P.validateIndianPhone)(eo.contactPhone);if(!e.isValid){eh({...eg,contactPhone:e.error||"Invalid phone number"}),H("Please fix validation errors before saving"),em(!1);return}}if(!eo.email||!eo.email.trim()){eh({...eg,email:"Email is required"}),H("Please fix validation errors before saving"),em(!1);return}let t=(0,$.validateEmailOnBlur)(eo.email);if(t){eh({...eg,email:t}),H("Please fix validation errors before saving"),em(!1);return}let a=localStorage.getItem("authToken");if(!a)return void R.push("/login");let r={id:Number(e.id),name:eo.name,location:eo.location,presidentName:eo.presidentName,contactPhone:eo.contactPhone,email:eo.email,status:eo.status};eo.password&&eo.password!==eb&&(r.password=eo.password);let s=await fetch("/api/user/society",{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){if(401===s.status||403===s.status){localStorage.removeItem("authToken"),R.push("/login");return}let e=await s.json().catch(()=>({})),t=e.message||`Failed to update society details (${s.status})`;H(t),console.error("Update failed:",t,e);return}let i=await s.json();i.success?(await ej(),en(!1)):H(i.message||"Failed to update society details")}catch(e){console.error("Error updating society:",e),H(e instanceof Error?e.message:"Failed to update society details")}finally{em(!1)}},eS=async t=>{el(!0);try{let a=localStorage.getItem("authToken");if(!a)return void R.push("/login");let r=await fetch(`/api/user/society?id=${e.id}&otp=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!r.ok){if(401===r.status||403===r.status){localStorage.removeItem("authToken"),R.push("/login");return}let e=await r.json().catch(()=>({}));throw Error(e.message||"Failed to delete society")}let s=await r.json();if(s.success)es(!1),R.push("/admin/society");else throw Error(s.message||"Failed to delete society")}catch(e){console.error("Error deleting society:",e),H(e instanceof Error?e.message:"Failed to delete society"),setTimeout(()=>H(""),5e3)}finally{el(!1)}};if(z)return(0,t.jsx)(T.LoadingSpinner,{});if(q||!O)return(0,t.jsx)(D.EmptyState,{icon:(0,t.jsx)(j.AlertCircle,{className:"w-10 h-10"}),title:"Failed to Load Society Details",message:q||"Unable to fetch society information",actionText:"Back to Societies",onAction:()=>R.push("/admin/society"),showAction:!0});let{society:eI,analytics:eF,topPerformers:eP,channelBreakdown:e$,sections:eT}=O,eD=[{id:"overview",label:"Overview",icon:m.Info},{id:"sections",label:`Sections (${eT?.length||0})`,icon:p.BarChart3},{id:"details",label:"Details",icon:y.Settings}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 lg:pb-8",children:[(0,t.jsx)(E.StatusMessage,{error:q}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>R.push("/admin/society"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center",children:(0,t.jsx)(l.ArrowLeft,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg sm:rounded-xl flex-shrink-0",children:(0,t.jsx)(x.Building2,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100 truncate",children:eI.name}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:["ID: ",eI.societyId]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("span",{className:`px-3 py-1 text-xs sm:text-sm font-medium rounded-full border ${ek(eI.status)}`,children:eI.status}),(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,t.jsxs)("button",{onClick:ej,className:"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm text-blue-600 dark:text-blue-500 border border-blue-600 dark:border-blue-500 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors min-h-[44px]",children:[(0,t.jsx)(C.RefreshCw,{className:"w-4 h-4 sm:mr-2"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,t.jsxs)("button",{onClick:()=>{window.selectedSocietyId=Number(e.id),es(!0)},className:"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm text-red-600 dark:text-red-500 border border-red-600 dark:border-red-500 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors min-h-[44px]",children:[(0,t.jsx)(S.Trash2,{className:"w-4 h-4 sm:mr-2"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})]})}),(0,t.jsx)("div",{className:"px-4 sm:px-6 overflow-x-auto scrollbar-hide",children:(0,t.jsx)("div",{className:"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0",children:eD.map(e=>(0,t.jsxs)("button",{onClick:()=>V(e.id),className:`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${Q===e.id?"text-blue-600 dark:text-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,t.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:e.label}),Q===e.id&&(0,t.jsx)(s.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},e.id))})})]}),(0,t.jsx)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:(0,t.jsxs)(i.AnimatePresence,{mode:"wait",children:["overview"===Q&&(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{onClick:()=>eF.totalFarmers>0&&_(!0),className:`bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${eF.totalFarmers>0?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed opacity-60"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(d.Users,{className:"w-8 h-8 text-white/80"}),(0,t.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-white",children:eF.totalFarmers})})]}),(0,t.jsx)("p",{className:"text-white/90 font-medium text-sm",children:"Total Farmers"}),(0,t.jsxs)("p",{className:"text-white/70 text-xs mt-1",children:[eF.activeFarmers," active • Click to view"]})]}),(0,t.jsxs)("div",{onClick:()=>eF.totalMachines>0&&X(!0),className:`bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${eF.totalMachines>0?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed opacity-60"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(y.Settings,{className:"w-8 h-8 text-white/80"}),(0,t.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-white",children:eF.totalMachines})})]}),(0,t.jsx)("p",{className:"text-white/90 font-medium text-sm",children:"Total Machines"}),(0,t.jsxs)("p",{className:"text-white/70 text-xs mt-1",children:[eF.activeMachines," active • Click to view"]})]}),(0,t.jsxs)("div",{onClick:()=>eF.totalCollections>0&&Z(!0),className:`bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${eF.totalCollections>0?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed opacity-60"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(b.Droplet,{className:"w-8 h-8 text-white/80"}),(0,t.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-white",children:ef(eF.totalCollections)})})]}),(0,t.jsx)("p",{className:"text-white/90 font-medium text-sm",children:"Collections"}),(0,t.jsx)("p",{className:"text-white/70 text-xs mt-1",children:"Last 30 days • Click to view"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(u.DollarSign,{className:"w-8 h-8 text-white/80"}),(0,t.jsx)("div",{className:"flex-1 text-right",children:(0,t.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-white block",children:ew(eF.totalRevenue)})})]}),(0,t.jsx)("p",{className:"text-white/90 font-medium text-sm",children:"Total Revenue"}),(0,t.jsx)("p",{className:"text-white/70 text-xs mt-1",children:"Last 30 days"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,t.jsx)(b.Droplet,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Collected"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[ef(eF.totalQuantityCollected)," L"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Last 30 days"})]})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,t.jsx)(g.Truck,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Dispatched"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[ef(eF.totalQuantityDispatched)," L"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Last 30 days"})]})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,t.jsx)(g.Truck,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Dispatch Count"}),(0,t.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ef(eF.totalDispatches)}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Last 30 days"})]})]})}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,t.jsx)(h.ShoppingCart,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Sales"}),(0,t.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:ef(eF.totalSales)}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Last 30 days"})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,t.jsx)(x.Building2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Society Information"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[eI.dairyName&&(0,t.jsxs)("div",{onClick:()=>eI.dairyId&&ee(!0),className:`flex items-start gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 transition-all ${eI.dairyId?"cursor-pointer hover:shadow-md hover:scale-105 active:scale-95":"cursor-default"}`,children:[(0,t.jsx)(x.Building2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:["Dairy Farm ",eI.dairyId&&"• Click to view"]}),(0,t.jsx)("p",{className:"font-semibold text-sm text-gray-900 dark:text-white break-words",children:eI.dairyName}),eI.dairyIdentifier&&(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:eI.dairyIdentifier})]})]}),eI.bmcName&&(0,t.jsxs)("div",{onClick:()=>eI.bmcId&&ea(!0),className:`flex items-start gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 transition-all ${eI.bmcId?"cursor-pointer hover:shadow-md hover:scale-105 active:scale-95":"cursor-default"}`,children:[(0,t.jsx)(x.Building2,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:["BMC (Bulk Milk Cooler) ",eI.bmcId&&"• Click to view"]}),(0,t.jsx)("p",{className:"font-semibold text-sm text-gray-900 dark:text-white break-words",children:eI.bmcName}),eI.bmcIdentifier&&(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:eI.bmcIdentifier})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[eI.location&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)(n.MapPin,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Location"}),(0,t.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white break-words",children:eI.location})]})]}),eI.presidentName&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)(c.User,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"President"}),(0,t.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white break-words",children:eI.presidentName})]})]}),eI.contactPhone&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)(o.Phone,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Contact Phone"}),(0,t.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white break-words",children:eI.contactPhone})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,t.jsx)(k.Zap,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),"Quality Metrics (Last 30 Days)"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/40 rounded-lg flex items-center justify-center",children:(0,t.jsx)(b.Droplet,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"FAT %"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:[ef(eF.avgFat),"%"]})]})]}),(0,t.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Average Fat Content"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/40 rounded-lg flex items-center justify-center",children:(0,t.jsx)(b.Droplet,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"SNF %"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:[ef(eF.avgSnf),"%"]})]})]}),(0,t.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Solid-Not-Fat Content"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border border-purple-200 dark:border-purple-800 rounded-xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/40 rounded-lg flex items-center justify-center",children:(0,t.jsx)(u.DollarSign,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:"Rate"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:[ew(eF.avgRate),"/L"]})]})]}),(0,t.jsx)("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Average Price per Liter"})]})]})]}),eP.farmers.length>0&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,t.jsx)(N.Award,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),"Top Performing Farmers"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Rank"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Farmer"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Collections"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Quantity (L)"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Revenue"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:eP.farmers.map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${0===a?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":1===a?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":2===a?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400"}`,children:a+1})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.farmerId})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white",children:ef(e.collections)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white",children:ef(e.totalQuantity)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:ew(e.totalRevenue)})]},e.farmerId))})]})})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-4 sm:space-y-6",children:[e$.length>0&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Channel Breakdown"}),(0,t.jsx)("div",{className:"space-y-3",children:e$.map(e=>(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:e.channel}),(0,t.jsxs)("p",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:[ef(e.totalQuantity)," L"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[ef(e.collections)," collections"]})]},e.channel))})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Information"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Society ID"}),(0,t.jsx)("span",{className:"font-mono text-sm text-gray-900 dark:text-gray-100",children:eI.societyId})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Created"}),(0,t.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:eN(eI.createdAt)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Updated"}),(0,t.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:eN(eI.updatedAt)})]})]})]})]})]})]},"overview"),"details"===Q&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[(0,t.jsx)(y.Settings,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Society Details"]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:ed?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{type:"button",onClick:ev,disabled:ex,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(v.X,{className:"w-4 h-4"}),"Cancel"]}),(0,t.jsxs)("button",{type:"button",onClick:eC,disabled:ex,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(w.Save,{className:"w-4 h-4"}),ex?"Saving...":"Save Changes"]})]}):(0,t.jsxs)("button",{type:"button",onClick:ev,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:[(0,t.jsx)(f.Edit,{className:"w-4 h-4"}),"Edit Details"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ed?(0,t.jsx)(A.FormInput,{label:"Society Name",value:eo.name,onChange:e=>ec({...eo,name:e}),placeholder:"Enter society name",required:!0}):(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Society Name"}),(0,t.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,t.jsx)("p",{className:"text-gray-900 dark:text-white",children:eI.name})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Society ID"}),(0,t.jsx)("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 font-mono",children:eI.societyId})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),ed?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:ey?"text":"password",value:eo.password,onChange:e=>ec({...eo,password:e.target.value}),placeholder:"Enter password",className:"form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none"}),(0,t.jsx)("button",{type:"button",onClick:()=>ep(!ey),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:ey?"Hide password":"Show password",children:ey?(0,t.jsx)(F.EyeOff,{className:"w-5 h-5"}):(0,t.jsx)(I.Eye,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Current password is pre-filled. Click eye icon to view or edit to change."})]}):(0,t.jsxs)("div",{className:"relative px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-gray-900 dark:text-white font-mono",children:ey&&eb?eb:"••••••••"}),(0,t.jsx)("button",{type:"button",onClick:async()=>{if(ey||eb)ep(!ey);else try{let t=localStorage.getItem("authToken"),a=await fetch(`/api/user/society/password?id=${e.id}`,{headers:{Authorization:`Bearer ${t}`}});if(a.ok){let e=await a.json(),t=e.data?.password||e.password||"";eu(t),ep(!0)}}catch(e){console.error("Error fetching password:",e)}},className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:ey?"Hide password":"Show password",children:ey?(0,t.jsx)(F.EyeOff,{className:"w-5 h-5"}):(0,t.jsx)(I.Eye,{className:"w-5 h-5"})})]})]}),ed?(0,t.jsx)(A.FormInput,{label:"President Name",value:eo.presidentName,onChange:e=>ec({...eo,presidentName:e}),placeholder:"Enter president name"}):(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"President Name"}),(0,t.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,t.jsx)("p",{className:"text-gray-900 dark:text-white",children:eI.presidentName||"N/A"})})]}),ed?(0,t.jsx)(A.FormInput,{label:"Location",value:eo.location,onChange:e=>ec({...eo,location:e}),placeholder:"Enter location"}):(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,t.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,t.jsx)("p",{className:"text-gray-900 dark:text-white",children:eI.location||"N/A"})})]}),ed?(0,t.jsx)(A.FormInput,{label:"Contact Phone",type:"tel",value:eo.contactPhone,onChange:e=>{let t=(0,P.formatPhoneInput)(e);ec({...eo,contactPhone:t}),eg.contactPhone&&eh({...eg,contactPhone:""})},onBlur:()=>{if(eo.contactPhone){let e=(0,P.validatePhoneOnBlur)(eo.contactPhone);eh({...eg,contactPhone:e})}},placeholder:"Enter 10-digit mobile number",maxLength:10,error:eg.contactPhone}):(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Phone"}),(0,t.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,t.jsx)("p",{className:"text-gray-900 dark:text-white",children:eI.contactPhone||"N/A"})})]}),ed?(0,t.jsx)(A.FormInput,{label:"Email Address",type:"email",value:eo.email,onChange:e=>{let t=(0,$.formatEmailInput)(e);ec({...eo,email:t}),eg.email&&eh({...eg,email:""})},onBlur:()=>{let e=(0,$.validateEmailOnBlur)(eo.email);eh({...eg,email:e})},placeholder:eI.email?`Current: ${eI.email}`:"Enter email address",error:eg.email,required:!0,helperText:"Current email address is pre-filled. Edit to change."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),(0,t.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,t.jsx)("p",{className:"text-gray-900 dark:text-white",children:eI.email||"N/A"})})]}),ed?(0,t.jsx)(M.FormSelect,{label:"Status",value:eo.status,onChange:e=>ec({...eo,status:e}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"}]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,t.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,t.jsx)("span",{className:`inline-flex px-3 py-1 text-xs font-medium rounded-full ${ek(eI.status)}`,children:eI.status})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Associated BMC"}),(0,t.jsxs)("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,t.jsx)("p",{className:"text-gray-900 dark:text-white",children:eI.bmcName||"N/A"}),eI.bmcIdentifier&&(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1",children:eI.bmcIdentifier})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Associated Dairy"}),(0,t.jsxs)("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,t.jsx)("p",{className:"text-gray-900 dark:text-white",children:eI.dairyName||"N/A"}),eI.dairyIdentifier&&(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1",children:eI.dairyIdentifier})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"System Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Created At"}),(0,t.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:eN(eI.createdAt)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Updated"}),(0,t.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:eN(eI.updatedAt)})]})]})]})]})},"details"),"sections"===Q&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4 flex items-center gap-2",children:[(0,t.jsx)(p.BarChart3,{className:"w-5 h-5 text-blue-600"}),"Section Pulse Details (",eT?.length||0,")"]}),eT&&eT.length>0?(0,t.jsx)("div",{className:"overflow-x-auto -mx-4 sm:-mx-6",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,t.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"First Collection"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Collection"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"End Time"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Collections"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Farmers"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Present"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Absent"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Attendance %"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Inactive Days"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Checked"})]})}),(0,t.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:eT.map(e=>{let a=e.totalFarmers>0?(e.presentFarmers/e.totalFarmers*100).toFixed(1):"0.0";return(0,t.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-900 dark:text-white font-medium",children:eN(e.pulseDate)}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:(0,t.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                  ${"active"===e.pulseStatus?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":""}
                                  ${"paused"===e.pulseStatus?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":""}
                                  ${"ended"===e.pulseStatus?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":""}
                                  ${"not_started"===e.pulseStatus?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400":""}
                                  ${"inactive"===e.pulseStatus?"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-500":""}
                                `,children:["active"===e.pulseStatus&&"● Active","paused"===e.pulseStatus&&"⏸ Paused","ended"===e.pulseStatus&&"✓ Ended","not_started"===e.pulseStatus&&"○ Not Started","inactive"===e.pulseStatus&&"- Inactive"]})}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400",children:e.firstCollectionTime||"-"}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400",children:e.lastCollectionTime||"-"}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400",children:e.sectionEndTime||"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white",children:ef(e.totalCollections)}),(0,t.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-blue-600 dark:text-blue-400",children:ef(e.totalFarmers)}),(0,t.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:ef(e.presentFarmers)}),(0,t.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-red-600 dark:text-red-400",children:ef(e.absentFarmers)}),(0,t.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm",children:(0,t.jsxs)("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold
                                  ${parseFloat(a)>=80?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":""}
                                  ${parseFloat(a)>=50&&80>parseFloat(a)?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":""}
                                  ${50>parseFloat(a)?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":""}
                                `,children:[a,"%"]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:e.inactiveDays}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-500 dark:text-gray-500",children:e.lastChecked||"-"})]},e.id)})})]})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(p.BarChart3,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No section data"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No section pulse data available for this society."})]})]})},"sections")]})}),(0,t.jsx)(L.default,{isOpen:K,onClose:()=>_(!1),onConfirm:()=>{_(!1),O?.society&&R.push(`/admin/farmer?societyId=${O.society.id}&societyName=${encodeURIComponent(O.society.name)}`)},title:"Navigate to Farmer Management",message:`View all farmers from ${O?.society.name} in the Farmer Management page with filters applied.`,confirmText:"Go to Farmer Management",cancelText:"Cancel"}),(0,t.jsx)(L.default,{isOpen:J,onClose:()=>X(!1),onConfirm:()=>{X(!1),O?.society&&R.push(`/admin/machine?societyId=${O.society.id}&societyName=${encodeURIComponent(O.society.name)}`)},title:"Navigate to Machine Management",message:`View all machines from ${O?.society.name} in the Machine Management page with filters applied.`,confirmText:"Go to Machine Management",cancelText:"Cancel"}),(0,t.jsx)(L.default,{isOpen:Y,onClose:()=>Z(!1),onConfirm:()=>{if(Z(!1),O?.society){let e=new Date,t=new Date(e);t.setDate(e.getDate()-30);let a=e=>{let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${r}`},r=a(t),s=a(e);R.push(`/admin/reports?societyId=${O.society.societyId}&societyName=${encodeURIComponent(O.society.name)}&fromDate=${r}&toDate=${s}`)}},title:"Navigate to Reports Management",message:`View all collection reports from ${O?.society.name} for the last 30 days in the Reports Management page with filters applied.`,confirmText:"Go to Reports Management",cancelText:"Cancel"}),(0,t.jsx)(L.default,{isOpen:W,onClose:()=>ee(!1),onConfirm:()=>{ee(!1),O?.society.dairyId&&R.push(`/admin/dairy/${O.society.dairyId}`)},title:"Navigate to Dairy Details",message:`View complete details of ${O?.society.dairyName} in the Dairy Management page.`,confirmText:"Go to Dairy Details",cancelText:"Cancel"}),(0,t.jsx)(L.default,{isOpen:et,onClose:()=>ea(!1),onConfirm:()=>{ea(!1),O?.society.bmcId&&R.push(`/admin/bmc/${O.society.bmcId}`)},title:"Navigate to BMC Details",message:`View complete details of ${O?.society.bmcName} in the BMC Management page.`,confirmText:"Go to BMC Details",cancelText:"Cancel"}),(0,t.jsx)(B.default,{isOpen:er,onClose:()=>es(!1),onConfirm:eS,societyName:O?.society.name||"",loading:ei})]})}e.s(["default",()=>R],302049)}]);