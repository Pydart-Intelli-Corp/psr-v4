(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,425091,e=>{"use strict";var r=e.i(429525);e.s(["FilterDropdown",()=>r.default])},833472,e=>{"use strict";var r=e.i(778851);e.s(["LoadingSnackbar",()=>r.default])},906516,e=>{"use strict";function r(e){return function(e){if(!e||""===e.trim())return{isValid:!0,formatted:""};let r=e.trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?r.length>255?{isValid:!1,error:"Email address is too long (max 255 characters)"}:{isValid:!0,formatted:r}:{isValid:!1,error:"Please enter a valid email address (e.g., farmer@example.com)"}}(e).error||""}function t(e){return e.trim().toLowerCase()}e.s(["formatEmailInput",()=>t,"validateEmailOnBlur",()=>r])},154041,e=>{"use strict";var r=e.i(561219);e.s(["FormGrid",()=>r.default])},545292,e=>{"use strict";var r=e.i(785187);e.s(["FormInput",()=>r.default])},199083,e=>{"use strict";var r=e.i(216940);e.s(["StatusMessage",()=>r.default])},948168,e=>{"use strict";var r=e.i(524420);e.s(["EmptyState",()=>r.default])},506296,e=>{"use strict";var r=e.i(197238);e.s(["FormSelect",()=>r.default])},931194,e=>{"use strict";function r(e){if(!e||""===e.trim())return{isValid:!1,error:"Phone number is required"};let r=e.replace(/\D/g,"");return 10!==r.length?{isValid:!1,error:"Phone number must be exactly 10 digits"}:/^[6-9]/.test(r)?{isValid:!0,formatted:r}:{isValid:!1,error:"Phone number must start with 6, 7, 8, or 9"}}function t(e){return e.replace(/\D/g,"").slice(0,10)}function s(e){return e&&""!==e.trim()&&r(e).error||""}e.s(["formatPhoneInput",()=>t,"validateIndianPhone",()=>r,"validatePhoneOnBlur",()=>s])},504767,e=>{"use strict";var r=e.i(42649);e.s(["FormActions",()=>r.default])},939544,e=>{"use strict";let r=(0,e.i(475254).default)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);e.s(["Droplets",()=>r],939544)},935281,688462,e=>{"use strict";var r=e.i(379358);e.s(["PageHeader",()=>r.default],935281);var t=e.i(231788);e.s(["FilterControls",()=>t.default],688462)},540274,e=>{"use strict";var r=e.i(843476),t=e.i(271645),s=e.i(174080),a=e.i(878894),i=e.i(286536),d=e.i(37727),l=e.i(846932),n=e.i(88653);function o({isOpen:e,onClose:o,onConfirm:c,title:m="Confirm Deletion",message:x="Enter your admin password to confirm this action. This action will be logged for security purposes."}){let[u,g]=(0,t.useState)(""),[b,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),y=async e=>{if(e.preventDefault(),!u)return void p("Password is required");h(!0),p("");try{await c(u),g(""),o()}catch(e){p(e instanceof Error?e.message:"Failed to verify password")}finally{h(!1)}},j=()=>{g(""),p(""),o()},v=(0,r.jsx)(n.AnimatePresence,{children:e&&(0,r.jsx)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-end sm:items-center justify-center z-[9999] p-0 sm:p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0},onClick:e=>{e.target===e.currentTarget&&j()},children:(0,r.jsxs)(l.motion.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-xl shadow-2xl w-full sm:max-w-md max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{className:"sm:hidden flex justify-center pt-3 pb-1",children:(0,r.jsx)("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"})}),(0,r.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100",children:m}),(0,r.jsx)("button",{onClick:j,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:(0,r.jsx)(d.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]})}),(0,r.jsx)("div",{className:"p-4 sm:p-6",children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsx)("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(a.AlertTriangle,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 mb-1",children:"Security Verification Required"}),(0,r.jsx)("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:x})]})]})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Admin Password ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"password",value:u,onChange:e=>{g(e.target.value),p("")},placeholder:"Enter your admin password",required:!0,disabled:b,className:`form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:outline-none ${f?"border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20":""}`}),f&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:f})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,r.jsx)("button",{type:"button",onClick:j,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:b||!u,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-red-600 to-red-700 rounded-lg hover:from-red-700 hover:to-red-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Eye,{className:"w-4 h-4"}),"Confirm Delete"]})})]})]})})]})})});return(0,s.createPortal)(v,document.body)}e.s(["default",()=>o])},792484,e=>{"use strict";var r=e.i(843476),t=e.i(271645),s=e.i(878894),a=e.i(37727),i=e.i(263488),d=e.i(727612);function l({isOpen:e,onClose:l,societyName:n,onConfirm:o,loading:c=!1}){let[m,x]=(0,t.useState)(Array(6).fill("")),[u,g]=(0,t.useState)(!1),[b,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)("");if(!e)return null;let y=e=>{e.preventDefault();let r=e.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(r))return;let t=Array(6).fill("");r.split("").forEach((e,r)=>{t[r]=e}),x(t)},j=async()=>{h(!0),p("");try{let e=localStorage.getItem("authToken"),r=window.selectedSocietyId,t=await fetch("/api/user/society/send-delete-otp",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({societyId:r})}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to send OTP");g(!0)}catch(e){p(e instanceof Error?e.message:"Failed to send OTP")}finally{h(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,r.jsx)(s.AlertTriangle,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Society"})]}),(0,r.jsx)("button",{onClick:l,className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",disabled:c,children:(0,r.jsx)(a.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 rounded-r",children:[(0,r.jsx)("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-semibold mb-2",children:"⚠️ THIS ACTION CANNOT BE UNDONE!"}),(0,r.jsxs)("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:["Deleting ",(0,r.jsx)("strong",{className:"font-bold",children:n})," will permanently remove:"]})]}),(0,r.jsxs)("div",{className:"mb-6 space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All farmers under this society"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All machines linked to this society"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All machine statistics"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All machine corrections"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All rate charts and rate chart data"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All milk collections"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All sales records"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All dispatch records"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,r.jsx)("span",{children:"All section pulse tracking data"})]})]}),u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center",children:"Enter 6-digit OTP sent to your email"}),(0,r.jsx)("div",{className:"flex justify-center gap-2 mb-2",children:m.map((e,t)=>(0,r.jsx)("input",{id:`otp-${t}`,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,r)=>{if(!/^\d*$/.test(r))return;let t=[...m];if(t[e]=r.slice(-1),x(t),p(""),r&&e<5){let r=document.getElementById(`otp-${e+1}`);r?.focus()}})(t,e.target.value),onKeyDown:e=>((e,r)=>{if("Backspace"===r.key&&!m[e]&&e>0){let r=document.getElementById(`otp-${e-1}`);r?.focus()}})(t,e),onPaste:0===t?y:void 0,className:"w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900/50 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:bg-white dark:focus:bg-gray-700 active:bg-white dark:active:bg-gray-700 focus:text-gray-900 dark:focus:text-white focus:outline-none transition-colors"},t))}),f&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:f})]}),(0,r.jsx)("button",{onClick:j,disabled:b,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline mb-4 w-full text-center",children:b?"Resending...":"Resend OTP"})]}):(0,r.jsx)("button",{onClick:j,disabled:b,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending OTP..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Mail,{className:"w-5 h-5"}),"Send OTP to Email"]})})]}),u&&(0,r.jsxs)("div",{className:"flex gap-3 p-6 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("button",{onClick:l,disabled:c,className:"flex-1 py-3 px-4 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors disabled:opacity-50",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{let e=m.join("");6!==e.length?p("Please enter complete 6-digit OTP"):o(e)},disabled:c||6!==m.join("").length,className:"flex-1 py-3 px-4 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Deleting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Trash2,{className:"w-5 h-5"}),"Delete All"]})})]})]})})}e.s(["default",()=>l])}]);