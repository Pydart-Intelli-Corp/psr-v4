(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,833035,e=>{"use strict";var a=e.i(843476),r=e.i(271645),t=e.i(846932),s=e.i(931194),l=e.i(906516),d=e.i(618566),i=e.i(871689),n=e.i(688511),c=e.i(727612),o=e.i(356909),m=e.i(37727),x=e.i(284614),g=e.i(343432),b=e.i(263488),h=e.i(346897),u=e.i(607486),y=e.i(475254);let N=(0,y.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var p=e.i(761911);let f=(0,y.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),j=(0,y.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),k=(0,y.default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);var v=e.i(952571),w=e.i(178583),C=e.i(25652),I=e.i(217923),A=e.i(87316),F=e.i(785187),S=e.i(197238),E=e.i(298890),T=e.i(561219);e.i(633999);var D=e.i(648683),B=e.i(216940);e.i(137996);var O=e.i(462201),L=e.i(111110);e.s(["default",0,()=>{let e=(0,d.useParams)(),y=(0,d.useSearchParams)(),M=(0,d.useRouter)(),{t:P}=(0,L.useLanguage)(),U=e?.id,$=y?.get("edit")==="true",[R,q]=(0,r.useState)(null),[z,_]=(0,r.useState)([]),[K,H]=(0,r.useState)(null),[J,V]=(0,r.useState)(!0),[X,G]=(0,r.useState)(!1),[Q,W]=(0,r.useState)($),[Y,Z]=(0,r.useState)("overview"),[ee,ea]=(0,r.useState)(""),[er,et]=(0,r.useState)(""),[es,el]=(0,r.useState)({}),[ed,ei]=(0,r.useState)(!1),[en,ec]=(0,r.useState)(!1),[eo,em]=(0,r.useState)({farmerId:"",rfId:"",farmerName:"",contactNumber:"",email:"",smsEnabled:"OFF",emailNotificationsEnabled:"ON",bonus:0,address:"",bankName:"",bankAccountNumber:"",ifscCode:"",societyId:"",status:"active",notes:""}),ex=(0,r.useCallback)(async()=>{try{let e=localStorage.getItem("authToken"),a=await fetch(`/api/user/farmer?id=${U}`,{headers:{Authorization:`Bearer ${e}`}});if(a.ok){let e=await a.json();q(e.data?.[0]||null)}}catch(e){console.error("Error fetching farmer details:",e)}finally{V(!1)}},[U]),eg=(0,r.useCallback)(async()=>{if(R)try{let e=localStorage.getItem("authToken"),a=await fetch("/api/user/reports/collections",{headers:{Authorization:`Bearer ${e}`}});if(a.ok){let e=(await a.json()).filter(e=>e.farmer_id===R.farmerId);if(e.length>0){let a=e.length,r=e.reduce((e,a)=>e+parseFloat(a.quantity||0),0),t=e.reduce((e,a)=>e+parseFloat(a.fat_percentage||0),0),s=e.reduce((e,a)=>e+parseFloat(a.snf_percentage||0),0),l=e.reduce((e,a)=>e+parseFloat(a.rate_per_liter||0),0),d=e.reduce((e,a)=>e+parseFloat(a.total_amount||0),0),i=new Date;i.setDate(i.getDate()-30);let n=e.filter(e=>new Date(e.collection_date)>=i).length;H({totalCollections:a,totalMilk:r,avgFat:a>0?t/a:0,avgSnf:a>0?s/a:0,avgRate:a>0?l/a:0,totalAmount:d,last30Days:n})}else H({totalCollections:0,totalMilk:0,avgFat:0,avgSnf:0,avgRate:0,totalAmount:0,last30Days:0})}}catch(e){console.error("Error fetching collection stats:",e),H({totalCollections:0,totalMilk:0,avgFat:0,avgSnf:0,avgRate:0,totalAmount:0,last30Days:0})}},[R]);(0,r.useEffect)(()=>{U&&(ex(),eb())},[U,ex]),(0,r.useEffect)(()=>{R&&eg()},[R,eg]),(0,r.useEffect)(()=>{if(er){let e=setTimeout(()=>{et("")},3e3);return()=>clearTimeout(e)}},[er]),(0,r.useEffect)(()=>{if(ee){let e=setTimeout(()=>{ea("")},5e3);return()=>clearTimeout(e)}},[ee]),(0,r.useEffect)(()=>{R&&em({farmerId:R.farmerId,rfId:R.rfId||"",farmerName:R.farmerName,contactNumber:R.contactNumber||"",email:R.email||"",smsEnabled:R.smsEnabled,emailNotificationsEnabled:R.emailNotificationsEnabled||"ON",bonus:R.bonus,address:R.address||"",bankName:R.bankName||"",bankAccountNumber:R.bankAccountNumber||"",ifscCode:R.ifscCode||"",societyId:R.societyId?.toString()||"",status:R.status,notes:R.notes||""})},[R]);let eb=async()=>{try{let e=localStorage.getItem("authToken"),a=await fetch("/api/user/society",{headers:{Authorization:`Bearer ${e}`}});if(a.ok){let e=await a.json();_(e.data||[])}}catch(e){console.error("Error fetching societies:",e)}},eh=async()=>{if(R){if(ea(""),el({}),eo.contactNumber&&""!==eo.contactNumber.trim()){let e=(0,s.validatePhoneOnBlur)(eo.contactNumber);if(e){el({contactNumber:e}),ea("Please correct the validation errors before saving");return}}if(eo.email&&""!==eo.email.trim()){let e=(0,l.validateEmailOnBlur)(eo.email);if(e){el({email:e}),ea("Please correct the validation errors before saving");return}}if(!eo.farmerName||""===eo.farmerName.trim()){el({farmerName:"Farmer name is required"}),ea("Please fill in all required fields");return}G(!0);try{let e=localStorage.getItem("authToken"),a=await fetch("/api/user/farmer",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({id:R.id,farmerId:eo.farmerId,rfId:eo.rfId||null,farmerName:eo.farmerName,contactNumber:eo.contactNumber||null,email:eo.email||null,smsEnabled:eo.smsEnabled,bonus:Number(eo.bonus),address:eo.address||null,bankName:eo.bankName||null,bankAccountNumber:eo.bankAccountNumber||null,ifscCode:eo.ifscCode||null,societyId:eo.societyId?parseInt(eo.societyId):null,status:eo.status,notes:eo.notes||null})});if(a.ok){let e=await a.json();console.log("Farmer updated successfully:",e),et("Farmer details updated successfully!"),W(!1),await ex(),M.replace(`/admin/farmer/${U}`)}else{let e=await a.json(),r=e.error||e.message||"Failed to save farmer details";el({}),ea(""),r.toLowerCase().includes("farmer id")&&r.toLowerCase().includes("already exists")?el({farmerId:"This Farmer ID already exists"}):r.toLowerCase().includes("farmer name")&&r.toLowerCase().includes("already exists")?el({farmerName:"This Farmer Name already exists"}):r.toLowerCase().includes("email")&&r.toLowerCase().includes("already exists")?el({email:"This email address already exists"}):ea(r)}}catch(e){console.error("Error saving farmer:",e),ea(e?.message||"An error occurred while saving farmer details")}finally{G(!1)}}},eu=async()=>{if(R){ec(!0);try{let e=localStorage.getItem("authToken"),a=await fetch(`/api/user/farmer?id=${R.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(a.ok)et("Farmer deleted successfully!"),setTimeout(()=>{M.push("/admin/farmer")},1e3);else{let e=await a.json();console.error("Failed to delete farmer:",e),ea(e.message||e.error||"Failed to delete farmer")}}catch(e){console.error("Error deleting farmer:",e),ea(e?.message||"An error occurred while deleting farmer")}finally{ec(!1),ei(!1)}}},ey=[{id:"overview",label:"Overview",icon:v.Info},{id:"details",label:"Details",icon:w.FileText}];return J?(0,a.jsx)(D.LoadingOverlay,{isLoading:!0}):R?(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)(B.default,{success:er,error:ee,onClose:()=>{et(""),ea("")}}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>M.push("/admin/farmer"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,a.jsx)(i.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R.farmerName}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["ID: ",R.farmerId]})]})]}),"details"===Y&&(0,a.jsx)("div",{className:"flex items-center gap-3",children:Q?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{W(!1),M.replace(`/admin/farmer/${U}`)},className:"p-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,a.jsx)(m.X,{className:"w-5 h-5"})}),(0,a.jsxs)("button",{onClick:eh,disabled:X,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg transition-colors",children:[(0,a.jsx)(o.Save,{className:"w-4 h-4"}),X?"Saving...":"Save"]})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>W(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(n.Edit,{className:"w-4 h-4"}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>ei(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(c.Trash2,{className:"w-4 h-4"}),"Delete"]})]})})]}),(0,a.jsx)("div",{className:"px-4 sm:px-6 overflow-x-auto scrollbar-hide",children:(0,a.jsx)("div",{className:"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0",children:ey.map(e=>(0,a.jsxs)("button",{onClick:()=>Z(e.id),className:`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${Y===e.id?"text-blue-600 dark:text-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,a.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:e.label}),Y===e.id&&(0,a.jsx)(t.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},e.id))})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:["overview"===Y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Collection Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Total Collections"}),(0,a.jsx)(I.BarChart3,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:K?.totalCollections||0})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Total Milk (L)"}),(0,a.jsx)(C.TrendingUp,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:K?.totalMilk?.toFixed(2)||"0.00"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"Total Amount (₹)"}),(0,a.jsx)(k,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:["₹",K?.totalAmount?.toFixed(2)||"0.00"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:"Avg Fat %"}),(0,a.jsx)(I.BarChart3,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:[K?.avgFat?.toFixed(2)||"0.00","%"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 dark:from-cyan-900/20 dark:to-cyan-800/20 rounded-lg p-4 border border-cyan-200 dark:border-cyan-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-cyan-700 dark:text-cyan-300",children:"Avg SNF %"}),(0,a.jsx)(I.BarChart3,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-100",children:[K?.avgSnf?.toFixed(2)||"0.00","%"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 rounded-lg p-4 border border-pink-200 dark:border-pink-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-pink-700 dark:text-pink-300",children:"Avg Rate (₹/L)"}),(0,a.jsx)(C.TrendingUp,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-pink-900 dark:text-pink-100",children:["₹",K?.avgRate?.toFixed(2)||"0.00"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(x.User,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Farmer Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Farmer ID"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.farmerId})]})]})}),R.rfId&&(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,a.jsx)(f,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"RF-ID"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.rfId})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,a.jsx)(x.User,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Farmer Name"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.farmerName})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,a.jsx)(g.Phone,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Contact Number"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.contactNumber||"N/A"})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,a.jsx)(p.Users,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Society"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.societyName||"N/A"})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,a.jsx)(k,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Bonus"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:["₹",R.bonus]})]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(A.Calendar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Account Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(A.Calendar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Created At"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(R.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})}),R.updatedAt&&(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,a.jsx)(A.Calendar,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Last Updated"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(R.updatedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,a.jsx)(j,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"SMS Enabled"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:R.smsEnabled})]})]})})]})]})]}),"details"===Y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(x.User,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Basic Details"]}),Q?(0,a.jsxs)(T.default,{children:[(0,a.jsx)(F.default,{label:"Farmer ID",type:"text",value:eo.farmerId,onChange:e=>em({...eo,farmerId:e}),required:!0,readOnly:!0}),(0,a.jsx)(F.default,{label:"RF-ID",type:"text",value:eo.rfId,onChange:e=>em({...eo,rfId:e})}),(0,a.jsx)(F.default,{label:"Farmer Name",type:"text",value:eo.farmerName,onChange:e=>{em({...eo,farmerName:e}),es.farmerName&&el({...es,farmerName:""})},required:!0,error:es.farmerName}),(0,a.jsx)(S.default,{label:"Status",value:eo.status,onChange:e=>em({...eo,status:e}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"},{value:"maintenance",label:"Maintenance"}]})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(f,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Farmer ID"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.farmerId})]})]})}),R.rfId&&(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,a.jsx)(f,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"RF-ID"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.rfId})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,a.jsx)(x.User,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Farmer Name"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.farmerName})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,a.jsx)(k,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Bonus"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:["₹",R.bonus]})]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(g.Phone,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Contact & Society Information"]}),Q?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(T.default,{children:[(0,a.jsx)(F.default,{label:"Contact Number",type:"tel",value:eo.contactNumber,onChange:e=>{let a=(0,s.formatPhoneInput)(e);em({...eo,contactNumber:a}),es.contactNumber&&el({...es,contactNumber:""})},onBlur:()=>{let e=(0,s.validatePhoneOnBlur)(eo.contactNumber);e?el({...es,contactNumber:e}):el({...es,contactNumber:""})},error:es.contactNumber}),(0,a.jsx)(F.default,{label:"Email",type:"email",value:eo.email,onChange:e=>{em({...eo,email:e}),es.email&&el({...es,email:""})},onBlur:()=>{let e=(0,l.validateEmailOnBlur)(eo.email);e?el({...es,email:e}):el({...es,email:""})},error:es.email}),(0,a.jsx)(S.default,{label:"SMS Enabled",value:eo.smsEnabled,onChange:e=>em({...eo,smsEnabled:e}),options:[{value:"OFF",label:"OFF"},{value:"ON",label:"ON"}]}),(0,a.jsx)(S.default,{label:"Email Notifications",value:eo.emailNotificationsEnabled,onChange:e=>em({...eo,emailNotificationsEnabled:e}),options:[{value:"OFF",label:"OFF"},{value:"ON",label:"ON"}]}),(0,a.jsx)(S.default,{label:"Society",value:eo.societyId,onChange:e=>em({...eo,societyId:e}),options:[{value:"",label:"Select Society"},...z.map(e=>({value:e.id.toString(),label:e.name}))]})]}),(0,a.jsx)(E.default,{label:"Address",value:eo.address,onChange:e=>em({...eo,address:e}),rows:3})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,a.jsx)(g.Phone,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Contact Number"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.contactNumber||"N/A"})]})]})}),R.email&&(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:(0,a.jsx)(b.Mail,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Email"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.email})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-pink-100 dark:bg-pink-900/30 rounded-lg",children:(0,a.jsx)(j,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"SMS Enabled"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:R.smsEnabled})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,a.jsx)(p.Users,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Society"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.societyName||"N/A"})]})]})})]}),R.address&&(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-cyan-100 dark:bg-cyan-900/30 rounded-lg",children:(0,a.jsx)(h.MapPin,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Address"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white whitespace-pre-line",children:R.address})]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(N,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Banking Details"]}),Q?(0,a.jsxs)(T.default,{children:[(0,a.jsx)(F.default,{label:"Bank Name",type:"text",value:eo.bankName,onChange:e=>em({...eo,bankName:e})}),(0,a.jsx)(F.default,{label:"Account Number",type:"number",value:eo.bankAccountNumber,onChange:e=>{let a=e.replace(/\D/g,"");em({...eo,bankAccountNumber:a})},pattern:"[0-9]*",inputMode:"numeric"}),(0,a.jsx)(F.default,{label:"IFSC Code",type:"text",value:eo.ifscCode,onChange:e=>em({...eo,ifscCode:e})}),(0,a.jsx)(F.default,{label:"Bonus",type:"number",value:eo.bonus,onChange:e=>em({...eo,bonus:Number(e)})})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(u.Building2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Bank Name"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.bankName||"N/A"})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,a.jsx)(N,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Account Number"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white font-mono truncate",children:R.bankAccountNumber||"N/A"})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,a.jsx)(f,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"IFSC Code"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white font-mono truncate",children:R.ifscCode||"N/A"})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,a.jsx)(k,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Bonus Amount"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:["₹",R.bonus]})]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(j,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Additional Information"]}),Q?(0,a.jsx)(E.default,{label:P.farmerManagement.notes,value:eo.notes,onChange:e=>em({...eo,notes:e}),rows:4,placeholder:P.farmerManagement.addAdditionalNotes}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(j,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:P.farmerManagement.notes}),(0,a.jsx)("p",{className:"text-sm text-gray-900 dark:text-white whitespace-pre-line",children:R.notes||P.farmerManagement.noNotesAvailable})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,a.jsx)(A.Calendar,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Created At"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:new Date(R.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})}),R.updatedAt&&(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,a.jsx)(A.Calendar,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Last Updated"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:new Date(R.updatedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})})]})]})]})]})]}),X&&(0,a.jsx)(D.LoadingOverlay,{isLoading:!0}),(0,a.jsx)(O.ConfirmDeleteModal,{isOpen:ed,onClose:()=>ei(!1),onConfirm:eu,title:"Delete Farmer",message:R?`Are you sure you want to delete farmer "${R.farmerName}" (${R.farmerId})? This action cannot be undone.`:"Are you sure you want to delete this farmer? This action cannot be undone.",itemName:R?.farmerName||"this farmer"})]}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Farmer Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The requested farmer could not be found."}),(0,a.jsx)("button",{onClick:()=>M.push("/admin/farmer"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Back to Farmers"})]})})}],833035)}]);