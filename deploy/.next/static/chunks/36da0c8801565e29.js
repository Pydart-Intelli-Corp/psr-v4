(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,839374,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(618566),s=e.i(846932),l=e.i(88653),n=e.i(833277),i=e.i(111110),d=e.i(931194),c=e.i(871689),o=e.i(239616),x=e.i(346897),m=e.i(343432),h=e.i(284614),g=e.i(87316),p=e.i(21218),y=e.i(283627),u=e.i(727612),b=e.i(607486),f=e.i(25652),k=e.i(217923),j=e.i(63209),N=e.i(269638),v=e.i(503116),w=e.i(37727),_=e.i(195116),S=e.i(514306);let C=(0,e.i(475254).default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var T=e.i(39312),A=e.i(817646),I=e.i(440160),F=e.i(16715),D=e.i(323585);e.i(633999);var $=e.i(344803),M=e.i(199083),E=e.i(948168),P=e.i(462201),L=e.i(998253),z=e.i(545292),O=e.i(506296),B=e.i(504767),U=e.i(154041),R=e.i(948828),H=e.i(783398);function W(){let e,W,X,q,J,Z,G=(0,r.useRouter)(),Q=(0,r.useParams)().id,{user:K}=(0,n.useUser)(),{t:Y}=(0,i.useLanguage)(),[V,ee]=(0,a.useState)(null),[et,ea]=(0,a.useState)(!0),[er,es]=(0,a.useState)(""),[el,en]=(0,a.useState)(""),[ei,ed]=(0,a.useState)(!1),[ec,eo]=(0,a.useState)("overview"),[ex,em]=(0,a.useState)(!1),[eh,eg]=(0,a.useState)(!1),[ep,ey]=(0,a.useState)(!1),[eu,eb]=(0,a.useState)(!1),[ef,ek]=(0,a.useState)([]),[ej,eN]=(0,a.useState)(!1),[ev,ew]=(0,a.useState)([]),[e_,eS]=(0,a.useState)(!1),[eC,eT]=(0,a.useState)(!1),[eA,eI]=(0,a.useState)([]),[eF,eD]=(0,a.useState)([]),[e$,eM]=(0,a.useState)(!1),[eE,eP]=(0,a.useState)([]),[eL,ez]=(0,a.useState)({}),[eO,eB]=(0,a.useState)({machineId:"",machineType:"",societyId:"",location:"",installationDate:"",operatorName:"",contactPhone:"",status:"active",notes:""}),[eU,eR]=(0,a.useState)({channel1_fat:"",channel1_snf:"",channel1_clr:"",channel1_temp:"",channel1_water:"",channel1_protein:"",channel2_fat:"",channel2_snf:"",channel2_clr:"",channel2_temp:"",channel2_water:"",channel2_protein:"",channel3_fat:"",channel3_snf:"",channel3_clr:"",channel3_temp:"",channel3_water:"",channel3_protein:""}),[eH,eW]=(0,a.useState)(null),[eX,eq]=(0,a.useState)(!1),[eJ,eZ]=(0,a.useState)(!1),[eG,eQ]=(0,a.useState)(!1),[eK,eY]=(0,a.useState)([]),[eV,e0]=(0,a.useState)(!1),[e1,e2]=(0,a.useState)(!1),[e3,e4]=(0,a.useState)([]),[e5,e9]=(0,a.useState)(!1),[e6,e7]=(0,a.useState)(!1),[e8,te]=(0,a.useState)(!1),[tt,ta]=(0,a.useState)(!1),[tr,ts]=(0,a.useState)(!1),[tl,tn]=(0,a.useState)(!1),[ti,td]=(0,a.useState)(new Set),[tc,to]=(0,a.useState)(!1),[tx,tm]=(0,a.useState)([]),[th,tg]=(0,a.useState)(!1),tp=(0,a.useCallback)(async()=>{try{ea(!0);let e=localStorage.getItem("authToken");if(!e)return void G.push("/login");let t=await fetch(`/api/user/machine?id=${Q}`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch machine details");let a=await t.json();if(a.success&&a.data&&a.data.length>0){let t=a.data[0],r=t.machineId,s=await fetch(`/api/user/machine/statistics?machineId=${Q}`,{headers:{Authorization:`Bearer ${e}`}}),l={totalOperations:0,operationHours:0,averageEfficiency:0,maintenanceCount:0,lastActivity:t.createdAt};if(s.ok){let e=await s.json();if(e.success&&Array.isArray(e.data)&&e.data.length>0){let t=e.data;l.totalOperations=t.reduce((e,t)=>e+(t.total_test||0),0),l.operationHours=Math.round(5*l.totalOperations/60),l.maintenanceCount=t.reduce((e,t)=>e+(t.daily_cleaning||0)+(t.weekly_cleaning||0),0);let a=t.reduce((e,t)=>e+(t.total_test||0),0),r=t.reduce((e,t)=>e+(t.cleaning_skip||0),0);if(a>0?l.averageEfficiency=Math.round(Math.max(0,Math.min(100,100-r/a*100))):l.averageEfficiency=0,t.length>0){let e=[...t].sort((e,t)=>{let a=new Date(e.statistics_date+" "+e.statistics_time).getTime();return new Date(t.statistics_date+" "+t.statistics_time).getTime()-a})[0];l.lastActivity=e.statistics_date+" "+e.statistics_time}}}let n=0,i=0,d=0,c=new Date(l.lastActivity);try{let t=await fetch("/api/user/reports/collections",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();if(e.success&&Array.isArray(e.data)){console.log("ðŸ“¦ Total collections fetched:",e.data.length),console.log("ðŸ” Filtering for machine ID:",r);let t=e.data.filter(e=>e.machine_id===r);if(n=t.length,console.log("âœ… Filtered collections for this machine:",n),eP(t),t.length>0){let e=[...t].sort((e,t)=>{let a=new Date(e.collection_date+" "+(e.collection_time||"00:00:00")).getTime();return new Date(t.collection_date+" "+(t.collection_time||"00:00:00")).getTime()-a})[0];l.lastActivity=(c=new Date(e.collection_date+" "+(e.collection_time||"00:00:00"))).toISOString()}}}}catch(e){console.log("Collections data not available:",e)}try{let t=await fetch(`/api/user/reports/dispatches?machineId=${Q}`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();e.success&&Array.isArray(e.data)&&(i=e.data.length)}}catch(e){console.log("Dispatches data not available:",e)}try{let t=await fetch(`/api/user/reports/sales?machineId=${Q}`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();e.success&&Array.isArray(e.data)&&(d=e.data.length)}}catch(e){console.log("Sales data not available:",e)}let o=n+i+d;o>0&&(l.totalOperations=Math.max(l.totalOperations,o),l.operationHours=Math.round(5*l.totalOperations/60)),n>0&&(l.lastActivity=c.toISOString());let x={...t,operationHours:l.operationHours,maintenanceCount:l.maintenanceCount,efficiency:l.averageEfficiency,totalOperations:l.totalOperations,averageEfficiency:l.averageEfficiency,lastActivity:l.lastActivity,lastOperationDate:l.lastActivity};ee(x)}else es("Machine not found"),ee(null)}catch(e){console.error("Error fetching machine details:",e),es("Failed to load machine details")}finally{ea(!1)}},[Q,G]),ty=(0,a.useCallback)(async()=>{try{eN(!0);let e=localStorage.getItem("authToken"),t=await fetch("/api/user/society",{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();a.success&&Array.isArray(a.data)&&ek(a.data)}catch(e){console.error("Error fetching societies:",e)}finally{eN(!1)}},[]),tu=(0,a.useCallback)(async()=>{try{eS(!0);let e=localStorage.getItem("authToken"),t=await fetch("/api/superadmin/machines",{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();a.success&&ew(a.data.machines||[])}catch(e){console.error("Error fetching machine types:",e)}finally{eS(!1)}},[]),tb=(0,a.useCallback)(async()=>{if(Q)try{eM(!0);let e=localStorage.getItem("authToken"),t=await fetch(`/api/user/machine/statistics?machineId=${Q}`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();eD(e.data||[])}}catch(e){console.error("Error fetching statistics:",e)}finally{eM(!1)}},[Q]);(0,a.useEffect)(()=>{tp(),ty(),tu()},[tp,ty,tu]),(0,a.useEffect)(()=>{"statistics"===ec&&tb()},[ec,tb]);let tf=()=>{em(!1),ez({}),es("")},tk=async e=>{if(e.preventDefault(),V){ey(!0),es("");try{let e=localStorage.getItem("authToken"),t=await fetch("/api/user/machine",{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:V.id,...eO,societyId:parseInt(eO.societyId)})});if(t.ok)en("Machine updated successfully!"),em(!1),await tp(),setTimeout(()=>en(""),3e3);else{let e=await t.json();es(e.error||"Failed to update machine")}}catch(e){console.error("Error updating machine:",e),es("Failed to update machine")}finally{ey(!1)}}},tj=async()=>{if(V)try{let e=localStorage.getItem("authToken"),t=await fetch(`/api/user/machine?id=${V.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(t.ok)en("Machine deleted successfully!"),eg(!1),setTimeout(()=>{G.push("/admin/machine")},1e3);else{let e=await t.json();es(e.error||"Failed to delete machine")}}catch(e){console.error("Error deleting machine:",e),es("Failed to delete machine")}},tN=(0,a.useCallback)(async()=>{if(V)try{let e=localStorage.getItem("authToken"),t=await fetch(`/api/user/machine-correction?machineId=${V.id}&societyId=${V.societyId}`,{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();if(t.ok&&a.success&&a.data){let e=a.data;a.history&&eI(a.history),eR({channel1_fat:e.channel1_fat?String(e.channel1_fat):"",channel1_snf:e.channel1_snf?String(e.channel1_snf):"",channel1_clr:e.channel1_clr?String(e.channel1_clr):"",channel1_temp:e.channel1_temp?String(e.channel1_temp):"",channel1_water:e.channel1_water?String(e.channel1_water):"",channel1_protein:e.channel1_protein?String(e.channel1_protein):"",channel2_fat:e.channel2_fat?String(e.channel2_fat):"",channel2_snf:e.channel2_snf?String(e.channel2_snf):"",channel2_clr:e.channel2_clr?String(e.channel2_clr):"",channel2_temp:e.channel2_temp?String(e.channel2_temp):"",channel2_water:e.channel2_water?String(e.channel2_water):"",channel2_protein:e.channel2_protein?String(e.channel2_protein):"",channel3_fat:e.channel3_fat?String(e.channel3_fat):"",channel3_snf:e.channel3_snf?String(e.channel3_snf):"",channel3_clr:e.channel3_clr?String(e.channel3_clr):"",channel3_temp:e.channel3_temp?String(e.channel3_temp):"",channel3_water:e.channel3_water?String(e.channel3_water):"",channel3_protein:e.channel3_protein?String(e.channel3_protein):""})}}catch(e){console.error("Error fetching correction data:",e)}},[V]),tv=async()=>{if(V)try{eZ(!0);let e=localStorage.getItem("authToken"),t=await fetch(`/api/user/machine/correction/${V.id}`,{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();t.ok&&a.success?a.data&&Array.isArray(a.data)&&a.data.length>0?(eW(a.data),eq(!0),en(`Loaded ${a.data.length} correction records from machine`)):(eR({channel1_fat:"0.00",channel1_snf:"0.00",channel1_clr:"0.00",channel1_temp:"0.00",channel1_water:"0.00",channel1_protein:"0.00",channel2_fat:"0.00",channel2_snf:"0.00",channel2_clr:"0.00",channel2_temp:"0.00",channel2_water:"0.00",channel2_protein:"0.00",channel3_fat:"0.00",channel3_snf:"0.00",channel3_clr:"0.00",channel3_temp:"0.00",channel3_water:"0.00",channel3_protein:"0.00"}),eW(null),eq(!1),en("No correction data found - all values set to 0.00")):es(a.error||"Failed to fetch machine correction data")}catch(e){console.error("Error fetching machine correction:",e),es("Failed to fetch machine correction data")}finally{eZ(!1)}},tw=async()=>{if(V&&0!==eK.length)try{e0(!0);let e=localStorage.getItem("authToken"),t=`/api/user/machine/correction/${V.id}`,a=new URLSearchParams;a.append("ids",eK.join(","));let r=await fetch(`${t}?${a.toString()}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),s=await r.json();r.ok&&s.success?(en(s.message||`${eK.length} correction record(s) deleted successfully`),eQ(!1),eY([]),await tv()):es(s.error||"Failed to delete correction data")}catch(e){console.error("Error deleting correction data:",e),es("Failed to delete correction data")}finally{e0(!1)}},t_=()=>{e3.length===eF.length?e4([]):e4(eF.map(e=>e.id))},tS=async()=>{if(V&&0!==e3.length)try{e9(!0);let e=localStorage.getItem("authToken"),t=new URLSearchParams;t.append("machineId",V.id.toString()),t.append("ids",e3.join(","));let a=await fetch(`/api/user/machine/statistics?${t.toString()}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),r=await a.json();a.ok&&r.success?(en(r.message||`${e3.length} statistics record(s) deleted successfully`),e2(!1),e4([]),await tb()):es(r.error||"Failed to delete statistics data")}catch(e){console.error("Error deleting statistics data:",e),es("Failed to delete statistics data")}finally{e9(!1)}},tC=(e,t)=>{(""===t||/^-?\d*\.?\d{0,2}$/.test(t))&&eR(a=>({...a,[e]:t}))},tT=async()=>{if(V)try{let e=localStorage.getItem("authToken"),t=await fetch(`/api/user/machine/by-society?societyId=${V.societyId}`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();if(e.success&&Array.isArray(e.data)){let t=e.data.filter(e=>e.id!==V.id);tm(t.map(e=>({id:e.id,machineId:e.machineId})))}}}catch(e){console.error("Error fetching other machines:",e)}},tA=async e=>{e.preventDefault(),V&&(es(""),en(""),V.isMasterMachine?(await tT(),tn(!1),td(new Set),to(!1),ts(!0)):await tI(!1))},tI=async e=>{if(V){tg(!0),es(""),en("");try{let t=localStorage.getItem("authToken"),a={machineId:V.id,societyId:V.societyId,channel1_fat:eU.channel1_fat||"0",channel1_snf:eU.channel1_snf||"0",channel1_clr:eU.channel1_clr||"0",channel1_temp:eU.channel1_temp||"0",channel1_water:eU.channel1_water||"0",channel1_protein:eU.channel1_protein||"0",channel2_fat:eU.channel2_fat||"0",channel2_snf:eU.channel2_snf||"0",channel2_clr:eU.channel2_clr||"0",channel2_temp:eU.channel2_temp||"0",channel2_water:eU.channel2_water||"0",channel2_protein:eU.channel2_protein||"0",channel3_fat:eU.channel3_fat||"0",channel3_snf:eU.channel3_snf||"0",channel3_clr:eU.channel3_clr||"0",channel3_temp:eU.channel3_temp||"0",channel3_water:eU.channel3_water||"0",channel3_protein:eU.channel3_protein||"0"},r=await fetch("/api/user/machine-correction",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(a)}),s=await r.json();if(r.ok&&s.success){let r="Correction data saved successfully!",s=0;if(e&&ti.size>0){let e=Array.from(ti).map(async e=>{try{(await fetch("/api/user/machine-correction",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({...a,machineId:e})})).ok&&s++}catch(t){console.error(`Error updating machine ${e}:`,t)}});await Promise.all(e),r=`Correction data saved successfully! Applied to ${s} additional machine(s).`}en(r),ts(!1),await tN(),setTimeout(()=>en(""),5e3)}else es(s.error||"Failed to save correction data")}catch(e){console.error("Error saving correction data:",e),es("Failed to save correction data")}finally{tg(!1)}}},tF=async()=>{tl&&0===ti.size?es("Please select at least one machine to apply corrections"):await tI(tl)},tD=async()=>{if(V){ta(!0),es(""),en("");try{let e=localStorage.getItem("authToken"),t=await fetch(`/api/user/machine/${V.id}/set-master`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({setForAll:e8})}),a=await t.json();t.ok&&a.success?(en(e8?"Master machine set and all machines in society updated successfully!":"Master machine set successfully!"),e7(!1),await tp(),setTimeout(()=>en(""),3e3)):es(a.error||"Failed to set master machine")}catch(e){console.error("Error setting master machine:",e),es("Failed to set master machine")}finally{ta(!1)}}};return((0,a.useEffect)(()=>{tp(),ty(),tu()},[Q,tp,ty,tu]),(0,a.useEffect)(()=>{V&&tN()},[V,tN]),(0,a.useEffect)(()=>{K||G.push("/login")},[K,G]),(0,a.useEffect)(()=>{if(el){let e=setTimeout(()=>{en("")},5e3);return()=>clearTimeout(e)}},[el]),(0,a.useEffect)(()=>{if(er){let e=setTimeout(()=>{es("")},5e3);return()=>clearTimeout(e)}},[er]),K)?et?(0,t.jsx)($.LoadingSpinner,{}):er||!V?(0,t.jsx)(E.EmptyState,{icon:(0,t.jsx)(j.AlertCircle,{className:"w-10 h-10"}),title:`Machine Details ${Y.common?.noDataAvailable||"Not Available"}`,message:er||"Machine not found",actionText:`${Y.common?.back||"Back"} to Machines`,onAction:()=>G.push("/admin/machine"),showAction:!0}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 lg:pb-8",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>G.push("/admin/machine"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center",children:(0,t.jsx)(c.ArrowLeft,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-green-600 to-emerald-600 rounded-lg sm:rounded-xl flex-shrink-0",children:(0,t.jsx)(o.Settings,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100",children:V.machineId}),V.isMasterMachine&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-yellow-400 to-amber-500 text-gray-900 rounded-full border border-yellow-600 shadow-sm",children:"Master Machine"})]}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:V.machineType})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>ed(!ei),className:"flex items-center justify-center p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px]",children:(0,t.jsx)(D.MoreVertical,{className:"w-5 h-5"})}),ei&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>ed(!1)}),(0,t.jsx)(s.motion.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl overflow-hidden z-20",children:(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsxs)("button",{onClick:()=>{V&&(eB({machineId:V.machineId,machineType:V.machineType,societyId:V.societyId.toString(),location:V.location||"",installationDate:V.installationDate||"",operatorName:V.operatorName||"",contactPhone:V.contactPhone||"",status:V.status,notes:V.notes||""}),ez({}),es(""),em(!0)),ed(!1)},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-green-900/20 hover:text-green-700 dark:hover:text-green-400 transition-all duration-150",children:[(0,t.jsx)(y.Edit3,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium",children:Y.common?.edit||"Edit"})]}),(0,t.jsx)("div",{className:"h-px bg-gray-100 dark:bg-gray-700 mx-2"}),(0,t.jsxs)("button",{onClick:()=>{eg(!0),ed(!1)},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-all duration-150",children:[(0,t.jsx)(u.Trash2,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium",children:Y.common?.delete||"Delete"})]})]})})]})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between gap-3",children:(0,t.jsx)("span",{className:`px-3 py-1 text-xs sm:text-sm font-medium rounded-full border ${(e=>{switch(e){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 border-green-200 dark:border-green-800";case"inactive":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 border-red-200 dark:border-red-800";case"maintenance":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800";case"suspended":return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-800";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600"}})(V.status)}`,children:V.status})})]})}),(0,t.jsx)("div",{className:"px-4 sm:px-6 overflow-x-auto scrollbar-hide",children:(0,t.jsx)("div",{className:"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0",children:[{id:"overview",label:Y.dashboard?.overview||"Overview",icon:b.Building2},{id:"statistics",label:"Statistics",icon:A.PieChart},{id:"correction",label:"Correction",icon:o.Settings}].map(e=>(0,t.jsxs)("button",{onClick:()=>eo(e.id),className:`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${ec===e.id?"text-blue-600 dark:text-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,t.jsx)(e.icon,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,t.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:e.label}),ec===e.id&&(0,t.jsx)(s.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},e.id))})})]}),(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:["overview"===ec&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Machine Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(S.Cog,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Machine ID"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:V.machineId})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(_.Wrench,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Machine Type"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:V.machineType})]})]}),V.societyName&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(b.Building2,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Society"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:V.societyName})]})]}),V.location&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(x.MapPin,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Location"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:V.location})]})]}),V.operatorName&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(h.User,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Operator"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:V.operatorName})]})]}),V.contactPhone&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(m.Phone,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Contact"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-all",children:V.contactPhone})]})]}),V.installationDate&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.Calendar,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Installation Date"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100",children:new Date(V.installationDate).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.Calendar,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:Y.common?.createdAt||"Created At"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100",children:new Date(V.createdAt).toLocaleDateString()})]})]})]}),V.notes&&(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Notes"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:V.notes})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg sm:rounded-xl border border-blue-200 dark:border-blue-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm font-medium text-blue-700 dark:text-blue-400",children:"Operation Hours"}),(0,t.jsxs)("p",{className:"text-2xl sm:text-3xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:[V.operationHours||0,(0,t.jsx)("span",{className:"text-lg sm:text-xl ml-1",children:"hrs"})]}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-blue-600 dark:text-blue-400 mt-1",children:V.operationHours?`${Math.round(V.operationHours/24)} days of operation`:"No operation data yet"})]}),(0,t.jsx)("div",{className:"bg-blue-100 dark:bg-blue-800/50 p-3 rounded-xl",children:(0,t.jsx)(C,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600 dark:text-blue-400 flex-shrink-0"})})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg sm:rounded-xl border border-yellow-200 dark:border-yellow-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm font-medium text-yellow-700 dark:text-yellow-400",children:"Maintenance Count"}),(0,t.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-yellow-900 dark:text-yellow-100 mt-1",children:V.maintenanceCount||0}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-400 mt-1",children:V.maintenanceCount?"Cleaning cycles completed":"No maintenance data"})]}),(0,t.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-800/50 p-3 rounded-xl",children:(0,t.jsx)(_.Wrench,{className:"w-7 h-7 sm:w-8 sm:h-8 text-yellow-600 dark:text-yellow-400 flex-shrink-0"})})]})}),(0,t.jsx)("div",{className:`bg-gradient-to-br rounded-lg sm:rounded-xl border shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow ${(V.efficiency??0)>=90?"from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-green-200 dark:border-green-800":(V.efficiency??0)>=75?"from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-yellow-200 dark:border-yellow-800":"from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-red-200 dark:border-red-800"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:`text-xs sm:text-sm font-medium ${(V.efficiency??0)>=90?"text-green-700 dark:text-green-400":(V.efficiency??0)>=75?"text-yellow-700 dark:text-yellow-400":"text-red-700 dark:text-red-400"}`,children:"Performance Efficiency"}),(0,t.jsxs)("p",{className:`text-2xl sm:text-3xl font-bold mt-1 ${(V.efficiency??0)>=90?"text-green-900 dark:text-green-100":(V.efficiency??0)>=75?"text-yellow-900 dark:text-yellow-100":"text-red-900 dark:text-red-100"}`,children:[V.efficiency??0,"%"]}),(0,t.jsx)("p",{className:`text-xs sm:text-sm mt-1 ${(V.efficiency??0)>=90?"text-green-600 dark:text-green-400":(V.efficiency??0)>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:(V.efficiency??0)>=90?"Excellent performance":(V.efficiency??0)>=75?"Good performance":(V.efficiency??0)>0?"Needs attention":"No efficiency data"})]}),(0,t.jsx)("div",{className:`p-3 rounded-xl ${(V.efficiency??0)>=90?"bg-green-100 dark:bg-green-800/50":(V.efficiency??0)>=75?"bg-yellow-100 dark:bg-yellow-800/50":"bg-red-100 dark:bg-red-800/50"}`,children:(0,t.jsx)(T.Zap,{className:`w-7 h-7 sm:w-8 sm:h-8 flex-shrink-0 ${(V.efficiency??0)>=90?"text-green-600 dark:text-green-400":(V.efficiency??0)>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`})})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/20 dark:to-violet-900/20 rounded-lg sm:rounded-xl border border-purple-200 dark:border-purple-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm font-medium text-purple-700 dark:text-purple-400",children:"Total Operations"}),(0,t.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-purple-900 dark:text-purple-100 mt-1",children:V.totalOperations?.toLocaleString()||0}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-purple-600 dark:text-purple-400 mt-1",children:V.totalOperations?"Tests & collections processed":"No operations recorded"})]}),(0,t.jsx)("div",{className:"bg-purple-100 dark:bg-purple-800/50 p-3 rounded-xl",children:(0,t.jsx)(f.TrendingUp,{className:"w-7 h-7 sm:w-8 sm:h-8 text-purple-600 dark:text-purple-400 flex-shrink-0"})})]})})]}),eE.length>0&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6 mt-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg",children:(0,t.jsx)(p.Activity,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100",children:"Collection Reports"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Milk collection data and metrics"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800 p-4 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-cyan-700 dark:text-cyan-400 mb-1",children:"Total Collections"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-100",children:eE.length.toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-cyan-600 dark:text-cyan-400 mt-1",children:"All time"})]}),(0,t.jsx)("div",{className:"bg-cyan-100 dark:bg-cyan-900/40 p-2 rounded-lg",children:(0,t.jsx)(k.BarChart3,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400"})})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-800 p-4 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-blue-700 dark:text-blue-400 mb-1",children:"Total Quantity"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:eE.reduce((e,t)=>e+(parseFloat(t.quantity)||0),0).toFixed(2)}),(0,t.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Liters"})]}),(0,t.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2 rounded-lg",children:(0,t.jsx)(f.TrendingUp,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-200 dark:border-indigo-800 p-4 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-400 mb-1",children:"Avg per Collection"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-100",children:eE.length>0?(eE.reduce((e,t)=>e+(parseFloat(t.quantity)||0),0)/eE.length).toFixed(2):"0.00"}),(0,t.jsx)("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1",children:"Liters"})]}),(0,t.jsx)("div",{className:"bg-indigo-100 dark:bg-indigo-900/40 p-2 rounded-lg",children:(0,t.jsx)(A.PieChart,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-200 dark:border-purple-800 p-4 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-purple-700 dark:text-purple-400 mb-1",children:"Last 7 Days"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:((e=new Date).setDate(e.getDate()-7),eE.filter(t=>new Date(t.collection_date)>=e).length.toLocaleString())}),(0,t.jsx)("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Collections"})]}),(0,t.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/40 p-2 rounded-lg",children:(0,t.jsx)(v.Clock,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})]})})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Recent Collections"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Time"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Farmer ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Quantity"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"FAT"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"SNF"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Shift"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[...eE].sort((e,t)=>{let a=new Date(e.collection_date+" "+(e.collection_time||"00:00:00")).getTime();return new Date(t.collection_date+" "+(t.collection_time||"00:00:00")).getTime()-a}).slice(0,10).map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:new Date(e.collection_date).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:e.collection_time||"N/A"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:e.farmer_id||"N/A"}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm font-medium text-blue-600 dark:text-blue-400",children:[parseFloat(e.quantity||0).toFixed(2)," L"]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:[parseFloat(e.fat||0).toFixed(2),"%"]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:[parseFloat(e.snf||0).toFixed(2),"%"]}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"Morning"===e.shift_type?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300":"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300"}`,children:e.shift_type||"N/A"})})]},a))})]})})]})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"sticky top-4 space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>G.push(`/admin/reports?machineFilter=${V.machineId}`),className:"w-full flex items-center px-3 sm:px-4 py-2.5 sm:py-3 text-left text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/20 dark:hover:to-indigo-900/20 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700 rounded-lg transition-all duration-200 min-h-[44px] group",children:[(0,t.jsx)("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded group-hover:bg-blue-200 dark:group-hover:bg-blue-800/40 transition-colors",children:(0,t.jsx)(k.BarChart3,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"})}),(0,t.jsx)("span",{className:"ml-3 truncate",children:"Reports"})]}),(0,t.jsxs)("button",{onClick:()=>G.push(`/admin/analytics?machineFilter=${V.machineId}`),className:"w-full flex items-center px-3 sm:px-4 py-2.5 sm:py-3 text-left text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 hover:bg-gradient-to-r hover:from-purple-50 hover:to-violet-50 dark:hover:from-purple-900/20 dark:hover:to-violet-900/20 border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700 rounded-lg transition-all duration-200 min-h-[44px] group",children:[(0,t.jsx)("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded group-hover:bg-purple-200 dark:group-hover:bg-purple-800/40 transition-colors",children:(0,t.jsx)(f.TrendingUp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 dark:text-purple-400 flex-shrink-0"})}),(0,t.jsx)("span",{className:"ml-3 truncate",children:"Analytics"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Machine Health"}),(0,t.jsxs)("div",{className:"space-y-3",children:[V.lastActivity&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)(p.Activity,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Last Activity"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 dark:text-gray-100 break-words",children:new Date(V.lastActivity).toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(W=new Date(V.lastActivity),q=Math.round((X=new Date().getTime()-W.getTime())/6e4),J=Math.round(X/36e5),Z=Math.round(X/864e5),q<60?`${q} minutes ago`:J<24?`${J} hours ago`:`${Z} days ago`)})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,t.jsx)("div",{className:`w-4 h-4 rounded-full flex-shrink-0 mt-0.5 ${"active"===V.status?"bg-green-500 animate-pulse":"maintenance"===V.status?"bg-yellow-500":"bg-gray-400"}`}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Status"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 capitalize",children:V.status}),"active"===V.status&&(0,t.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Machine is operational"}),"maintenance"===V.status&&(0,t.jsx)("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:"Under maintenance"})]})]})]})]})]})})]}),"correction"===ec&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Machine Correction Data"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure correction values for all three channels"})]}),(0,t.jsxs)("form",{onSubmit:tA,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-2 border-emerald-200 dark:border-emerald-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,t.jsx)("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg",children:(0,t.jsx)(T.Zap,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),(0,t.jsx)("h4",{className:"text-base sm:text-lg font-bold text-emerald-900 dark:text-emerald-100",children:"Channel 1"}),(0,t.jsx)("span",{className:"ml-auto px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 text-xs font-semibold rounded-full",children:"Primary"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsx)(z.FormInput,{label:"Fat (%)",type:"number",value:eU.channel1_fat,onChange:e=>tC("channel1_fat",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"SNF (%)",type:"number",value:eU.channel1_snf,onChange:e=>tC("channel1_snf",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"CLR",type:"number",value:eU.channel1_clr,onChange:e=>tC("channel1_clr",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Temp (Â°C)",type:"number",value:eU.channel1_temp,onChange:e=>tC("channel1_temp",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Water (%)",type:"number",value:eU.channel1_water,onChange:e=>tC("channel1_water",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Protein (%)",type:"number",value:eU.channel1_protein,onChange:e=>tC("channel1_protein",e),placeholder:"0.00",step:"0.01"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-2 border-emerald-200 dark:border-emerald-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,t.jsx)("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg",children:(0,t.jsx)(T.Zap,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),(0,t.jsx)("h4",{className:"text-base sm:text-lg font-bold text-emerald-900 dark:text-emerald-100",children:"Channel 2"}),(0,t.jsx)("span",{className:"ml-auto px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 text-xs font-semibold rounded-full",children:"Secondary"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsx)(z.FormInput,{label:"Fat (%)",type:"number",value:eU.channel2_fat,onChange:e=>tC("channel2_fat",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"SNF (%)",type:"number",value:eU.channel2_snf,onChange:e=>tC("channel2_snf",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"CLR",type:"number",value:eU.channel2_clr,onChange:e=>tC("channel2_clr",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Temp (Â°C)",type:"number",value:eU.channel2_temp,onChange:e=>tC("channel2_temp",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Water (%)",type:"number",value:eU.channel2_water,onChange:e=>tC("channel2_water",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Protein (%)",type:"number",value:eU.channel2_protein,onChange:e=>tC("channel2_protein",e),placeholder:"0.00",step:"0.01"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg",children:(0,t.jsx)(T.Zap,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsx)("h4",{className:"text-base sm:text-lg font-bold text-green-900 dark:text-green-100",children:"Channel 3"}),(0,t.jsx)("span",{className:"ml-auto px-3 py-1 bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 text-xs font-semibold rounded-full",children:"Tertiary"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsx)(z.FormInput,{label:"Fat (%)",type:"number",value:eU.channel3_fat,onChange:e=>tC("channel3_fat",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"SNF (%)",type:"number",value:eU.channel3_snf,onChange:e=>tC("channel3_snf",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"CLR",type:"number",value:eU.channel3_clr,onChange:e=>tC("channel3_clr",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Temp (Â°C)",type:"number",value:eU.channel3_temp,onChange:e=>tC("channel3_temp",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Water (%)",type:"number",value:eU.channel3_water,onChange:e=>tC("channel3_water",e),placeholder:"0.00",step:"0.01"}),(0,t.jsx)(z.FormInput,{label:"Protein (%)",type:"number",value:eU.channel3_protein,onChange:e=>tC("channel3_protein",e),placeholder:"0.00",step:"0.01"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-end pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)(H.default,{type:"button",variant:"outline",size:"medium",isLoading:eJ,onClick:tv,className:"min-h-[44px]",children:[(0,t.jsx)(I.Download,{className:"w-4 h-4 mr-2"}),"From Machine"]}),(0,t.jsxs)(H.default,{type:"button",variant:"outline",size:"medium",isLoading:!1,onClick:()=>eT(!0),disabled:0===eA.length,className:"min-h-[44px]",children:[(0,t.jsx)(v.Clock,{className:"w-4 h-4 mr-2"}),"History (",eA.length,")"]}),(0,t.jsxs)(H.default,{type:"button",variant:"outline",size:"medium",isLoading:!1,onClick:()=>eR({channel1_fat:"",channel1_snf:"",channel1_clr:"",channel1_temp:"",channel1_water:"",channel1_protein:"",channel2_fat:"",channel2_snf:"",channel2_clr:"",channel2_temp:"",channel2_water:"",channel2_protein:"",channel3_fat:"",channel3_snf:"",channel3_clr:"",channel3_temp:"",channel3_water:"",channel3_protein:""}),className:"min-h-[44px]",children:[(0,t.jsx)(w.X,{className:"w-4 h-4 mr-2"}),"Clear All"]}),(0,t.jsxs)(H.default,{type:"submit",variant:"primary",size:"medium",isLoading:eu,loadingText:"Saving Corrections...",className:"min-h-[44px]",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 mr-2"}),"Save Correction Data"]})]})]}),eX&&eH&&Array.isArray(eH)&&V&&(0,t.jsxs)("div",{className:"mt-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/10 dark:to-teal-900/10 rounded-lg sm:rounded-xl border border-emerald-200 dark:border-emerald-800 p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-emerald-900 dark:text-emerald-100",children:"Daily Corrections from Machine"}),(0,t.jsxs)("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mt-1",children:["Machine: ",V.machineId," (ID: ",V.id,") â€¢ Society: ",V.societyName," â€¢ ",eH.length," ",1===eH.length?"day":"days"," of data",eK.length>0&&` â€¢ ${eK.length} selected`]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{eK.length===eH.length?eY([]):eY(eH.map(e=>e.id))},className:"px-3 py-1.5 text-xs font-medium text-emerald-700 dark:text-emerald-300 bg-emerald-100 dark:bg-emerald-900/30 hover:bg-emerald-200 dark:hover:bg-emerald-900/50 rounded-lg transition-colors",title:eK.length===eH.length?"Deselect all":"Select all",children:eK.length===eH.length?"Deselect All":"Select All"}),eK.length>0&&(0,t.jsxs)("button",{onClick:()=>{eK.length>0&&eQ(!0)},className:"px-3 py-1.5 text-xs font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 rounded-lg transition-colors flex items-center gap-1",title:"Delete selected records",children:[(0,t.jsx)(u.Trash2,{className:"w-3.5 h-3.5"}),"Delete (",eK.length,")"]}),(0,t.jsx)("button",{onClick:()=>eq(!1),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200",children:(0,t.jsx)(w.X,{className:"w-5 h-5"})})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:eH.map((e,a)=>(0,t.jsxs)("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-4 border transition-colors ${eK.includes(e.id)?"border-emerald-500 dark:border-emerald-400 ring-2 ring-emerald-200 dark:ring-emerald-800":"border-emerald-200 dark:border-emerald-700"}`,children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:eK.includes(e.id),onChange:()=>{var t;return t=e.id,void eY(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-emerald-500 focus:ring-2 cursor-pointer"}),(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${0===a?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:0===a?"ðŸ”´ Today":e.date}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date(e.lastUpdated).toLocaleString()]})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-emerald-200 dark:border-emerald-700",children:[(0,t.jsx)("th",{className:"text-left py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100",children:"Parameter"}),(0,t.jsx)("th",{className:"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100",children:"Channel 1 (COW)"}),(0,t.jsx)("th",{className:"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100",children:"Channel 2 (BUF)"}),(0,t.jsx)("th",{className:"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100",children:"Channel 3 (MIX)"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-emerald-100 dark:divide-emerald-800",children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"Fat (%)"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel1.fat||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel2.fat||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel3.fat||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"SNF (%)"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel1.snf||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel2.snf||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel3.snf||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"CLR"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel1.clr||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel2.clr||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel3.clr||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"Temp (Â°C)"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel1.temp||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel2.temp||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel3.temp||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"Water (%)"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel1.water||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel2.water||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel3.water||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"Protein (%)"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel1.protein||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel2.protein||"-"}),(0,t.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:e.channel3.protein||"-"})]})]})]})})]},e.id))})]})]}),"statistics"===ec&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Machine Statistics"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Operational statistics and performance metrics",e3.length>0&&` â€¢ ${e3.length} selected`]})]}),eF.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:t_,className:"px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 rounded-lg transition-colors",title:e3.length===eF.length?"Deselect all":"Select all",children:e3.length===eF.length?"Deselect All":"Select All"}),(0,t.jsx)("button",{onClick:tb,disabled:e$,className:"px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",title:"Refresh statistics",children:(0,t.jsx)(F.RefreshCw,{className:`w-3.5 h-3.5 ${e$?"animate-spin":""}`})}),e3.length>0&&(0,t.jsxs)("button",{onClick:()=>{e3.length>0&&e2(!0)},className:"px-3 py-1.5 text-xs font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 rounded-lg transition-colors flex items-center gap-1",title:"Delete selected records",children:[(0,t.jsx)(u.Trash2,{className:"w-3.5 h-3.5"}),"Delete (",e3.length,")"]})]})]}),e$?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)($.LoadingSpinner,{size:"large"})}):0===eF.length?(0,t.jsx)(E.EmptyState,{icon:(0,t.jsx)(A.PieChart,{className:"w-10 h-10"}),title:"No Statistics Available",message:"No statistical data has been recorded for this machine yet.",showAction:!1}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100 w-12",children:(0,t.jsx)("input",{type:"checkbox",checked:e3.length===eF.length&&eF.length>0,onChange:t_,className:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Date"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Time"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Total Tests"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Daily Clean"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Weekly Clean"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Skip Clean"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Gain"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Auto Channel"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:eF.map(e=>(0,t.jsxs)("tr",{className:`transition-colors ${e3.includes(e.id)?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(0,t.jsx)("input",{type:"checkbox",checked:e3.includes(e.id),onChange:()=>{var t;return t=e.id,void e4(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),(0,t.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-gray-100",children:new Date(e.statistics_date).toLocaleDateString()}),(0,t.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-gray-100",children:e.statistics_time}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:e.total_test})}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:e.daily_cleaning})}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:e.weekly_cleaning})}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300",children:e.cleaning_skip})}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300",children:e.gain})}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${"ENABLE"===e.auto_channel?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:e.auto_channel})})]},e.id))})]})})]})]}),(0,t.jsx)("div",{className:"fixed bottom-6 right-6 z-[9999] w-full max-w-md px-4 sm:px-0",children:(0,t.jsx)(M.StatusMessage,{success:el,error:er,onClose:el?()=>en(""):er?()=>es(""):void 0})}),(0,t.jsx)(L.FormModal,{isOpen:ex,onClose:tf,title:"Edit Machine",maxWidth:"lg",children:(0,t.jsxs)("form",{onSubmit:tk,className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)(U.FormGrid,{children:[(0,t.jsx)(z.FormInput,{label:"Machine ID",value:eO.machineId,onChange:e=>eB({...eO,machineId:e}),placeholder:"e.g., M2232, S3232",required:!0,error:eL.machineId,colSpan:2}),(0,t.jsx)(O.FormSelect,{label:"Machine Type",value:eO.machineType,onChange:e=>eB({...eO,machineType:e}),options:ev.map(e=>({value:e.machineType,label:e.machineType})),placeholder:"Select Machine Type",required:!0,disabled:e_,error:eL.machineType}),(0,t.jsx)(O.FormSelect,{label:"Society",value:eO.societyId,onChange:e=>eB({...eO,societyId:e}),options:ef.map(e=>({value:e.id,label:`${e.name} (${e.society_id})`})),placeholder:"Select Society",required:!0,disabled:ej,error:eL.societyId}),(0,t.jsx)(z.FormInput,{label:"Location",value:eO.location,onChange:e=>eB({...eO,location:e}),placeholder:"Installation location"}),(0,t.jsx)(z.FormInput,{label:"Installation Date",type:"date",value:eO.installationDate,onChange:e=>eB({...eO,installationDate:e})}),(0,t.jsx)(z.FormInput,{label:"Operator Name",value:eO.operatorName,onChange:e=>eB({...eO,operatorName:e}),placeholder:"Machine operator name"}),(0,t.jsx)(z.FormInput,{label:"Contact Phone",type:"tel",value:eO.contactPhone,onChange:e=>{let t=(0,d.formatPhoneInput)(e);eB({...eO,contactPhone:t})},onBlur:()=>{let e=(0,d.validatePhoneOnBlur)(eO.contactPhone);if(e)ez(t=>({...t,contactPhone:e}));else{let{contactPhone:e,...t}=eL;ez(t)}},placeholder:"Operator contact number",error:eL.contactPhone}),(0,t.jsx)(O.FormSelect,{label:"Status",value:eO.status,onChange:e=>eB({...eO,status:e}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Under Maintenance"},{value:"suspended",label:"Suspended"}]}),(0,t.jsx)(z.FormInput,{label:"Notes",type:"text",value:eO.notes,onChange:e=>eB({...eO,notes:e}),placeholder:"Additional notes or comments...",colSpan:2})]}),(0,t.jsx)(R.FormError,{error:er}),(0,t.jsx)(B.FormActions,{onCancel:tf,submitText:"Update Machine",isLoading:ep,isSubmitDisabled:!eO.machineId||!eO.machineType||!eO.societyId})]})}),(0,t.jsx)(P.ConfirmDeleteModal,{isOpen:eh,onClose:()=>eg(!1),onConfirm:tj,itemName:V?.machineId||"this machine",itemType:"Machine"}),(0,t.jsx)(l.AnimatePresence,{children:eC&&(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-[9999] p-4",onClick:()=>eT(!1),children:(0,t.jsxs)(s.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg",children:(0,t.jsx)(v.Clock,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Correction History"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Last ",eA.length," changes"]})]})]}),(0,t.jsx)("button",{onClick:()=>eT(!1),className:"p-2 hover:bg-green-100 dark:hover:bg-green-900/40 rounded-lg transition-colors",children:(0,t.jsx)(w.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:0===eA.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(v.Clock,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No history available"})]}):(0,t.jsx)("div",{className:"space-y-3",children:eA.map((e,a)=>(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},onClick:()=>{eR({channel1_fat:e.channel1_fat?String(e.channel1_fat):"",channel1_snf:e.channel1_snf?String(e.channel1_snf):"",channel1_clr:e.channel1_clr?String(e.channel1_clr):"",channel1_temp:e.channel1_temp?String(e.channel1_temp):"",channel1_water:e.channel1_water?String(e.channel1_water):"",channel1_protein:e.channel1_protein?String(e.channel1_protein):"",channel2_fat:e.channel2_fat?String(e.channel2_fat):"",channel2_snf:e.channel2_snf?String(e.channel2_snf):"",channel2_clr:e.channel2_clr?String(e.channel2_clr):"",channel2_temp:e.channel2_temp?String(e.channel2_temp):"",channel2_water:e.channel2_water?String(e.channel2_water):"",channel2_protein:e.channel2_protein?String(e.channel2_protein):"",channel3_fat:e.channel3_fat?String(e.channel3_fat):"",channel3_snf:e.channel3_snf?String(e.channel3_snf):"",channel3_clr:e.channel3_clr?String(e.channel3_clr):"",channel3_temp:e.channel3_temp?String(e.channel3_temp):"",channel3_water:e.channel3_water?String(e.channel3_water):"",channel3_protein:e.channel3_protein?String(e.channel3_protein):""}),eT(!1),en("History data loaded into form")},className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${1===e.status?"border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 shadow-md shadow-green-500/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 hover:border-green-300 dark:hover:border-green-700 hover:shadow-md"}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Calendar,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:new Date(e.created_at).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})})]}),1===e.status&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 text-xs font-semibold rounded-full",children:"Active"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Channel 1"}),(0,t.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Fat: ",String(e.channel1_fat||"0")," | SNF: ",String(e.channel1_snf||"0")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Channel 2"}),(0,t.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Fat: ",String(e.channel2_fat||"0")," | SNF: ",String(e.channel2_snf||"0")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Channel 3"}),(0,t.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Fat: ",String(e.channel3_fat||"0")," | SNF: ",String(e.channel3_snf||"0")]})]})]})]},e.id))})})]})})}),(0,t.jsx)(l.AnimatePresence,{children:e1&&(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!e5&&e2(!1),children:(0,t.jsxs)(s.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Delete Selected Statistics"}),(0,t.jsx)("button",{onClick:()=>!e5&&e2(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:e5,children:(0,t.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Are you sure you want to delete ",(0,t.jsx)("strong",{children:e3.length})," selected statistics ",1===e3.length?"record":"records","? This action cannot be undone."]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>e2(!1),disabled:e5,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsxs)(H.default,{onClick:tS,isLoading:e5,loadingText:"Deleting...",variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,t.jsx)(u.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})}),(0,t.jsx)(l.AnimatePresence,{children:tr&&(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!th&&ts(!1),children:(0,t.jsxs)(s.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Save Correction Data"}),(0,t.jsx)("button",{onClick:()=>!th&&ts(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:th,children:(0,t.jsx)(w.X,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(_.Wrench,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"Master Machine Correction"}),(0,t.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["You are saving correction data for the master machine ",(0,t.jsx)("strong",{children:V?.machineId}),". You can optionally apply these corrections to other machines in this society."]})]})]})}),tx.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,t.jsx)("input",{type:"checkbox",id:"applyCorrectionsToOthers",checked:tl,onChange:e=>{tn(e.target.checked),e.target.checked||(td(new Set),to(!1))},disabled:th,className:"mt-1 w-4 h-4 text-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 focus:ring-2"}),(0,t.jsxs)("label",{htmlFor:"applyCorrectionsToOthers",className:"flex-1 cursor-pointer",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Apply these corrections to other machines"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Select which machines in this society should receive these correction values"})]})]}),tl&&(0,t.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex-shrink-0",children:["Select Machines (",ti.size," selected)"]}),(0,t.jsx)("button",{onClick:()=>{tc?(td(new Set),to(!1)):(td(new Set(tx.map(e=>e.id))),to(!0))},disabled:th,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium disabled:opacity-50 whitespace-nowrap px-3 py-1 bg-primary-50 dark:bg-primary-900/20 rounded-md hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors",children:tc?"Deselect All":"Select All"})]})}),(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto",children:tx.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[(0,t.jsx)("input",{type:"checkbox",id:`machine-correction-${e.id}`,checked:ti.has(e.id),onChange:()=>{var t;let a;return t=e.id,void((a=new Set(ti)).has(t)?(a.delete(t),to(!1)):(a.add(t),a.size===tx.length&&to(!0)),td(a))},disabled:th,className:"w-4 h-4 text-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 focus:ring-2"}),(0,t.jsx)("label",{htmlFor:`machine-correction-${e.id}`,className:"flex-1 cursor-pointer text-sm text-gray-900 dark:text-gray-100",children:e.machineId})]},e.id))})]})]}),0===tx.length&&(0,t.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center py-4",children:"No other machines found in this society"})]}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6",children:(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>ts(!1),disabled:th,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsxs)(H.default,{onClick:tF,isLoading:th,loadingText:"Saving...",variant:"primary",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",children:[(0,t.jsx)(_.Wrench,{className:"w-4 h-4 mr-2"}),"Save Correction Data"]})]})})]})})}),(0,t.jsx)(l.AnimatePresence,{children:e6&&(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!tt&&e7(!1),children:(0,t.jsxs)(s.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Set as Master Machine"}),(0,t.jsx)("button",{onClick:()=>!tt&&e7(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:tt,children:(0,t.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["This will set ",(0,t.jsx)("strong",{children:V?.machineId})," as the master machine for its society. The current master machine will be changed."]}),(0,t.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"setForAll",checked:e8,onChange:e=>te(e.target.checked),className:"mt-1 w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{htmlFor:"setForAll",className:"text-sm font-medium text-gray-900 dark:text-gray-100 cursor-pointer",children:"Set passwords for all machines in society"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Update all machines in this society with the master machine's current passwords (user and supervisor passwords)"})]})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>e7(!1),disabled:tt,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)(H.default,{onClick:tD,isLoading:tt,loadingText:"Setting...",variant:"primary",className:"bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white",children:"Set as Master"})]})]})})}),(0,t.jsx)(l.AnimatePresence,{children:eG&&(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!eV&&eQ(!1),children:(0,t.jsxs)(s.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Delete Selected Corrections"}),(0,t.jsx)("button",{onClick:()=>!eV&&eQ(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:eV,children:(0,t.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Are you sure you want to delete ",(0,t.jsx)("strong",{children:eK.length})," selected correction ",1===eK.length?"record":"records","? This action cannot be undone."]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>eQ(!1),disabled:eV,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsxs)(H.default,{onClick:tw,isLoading:eV,loadingText:"Deleting...",variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,t.jsx)(u.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})})]}):null}e.s(["default",()=>W],839374)}]);