(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,313340,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(931194),s=e.i(906516),o=e.i(618566),l=e.i(833277),i=e.i(111110),n=e.i(129228),d=e.i(555706),c=e.i(785183),u=e.i(93230),m=e.i(872526),g=e.i(234239),h=e.i(731195),x=e.i(761911),p=e.i(283627),y=e.i(346897),b=e.i(343432),f=e.i(284614),w=e.i(87316),j=e.i(607486),v=e.i(286536),k=e.i(77705),N=e.i(727612),S=e.i(25652),C=e.i(842009),I=e.i(939544),F=e.i(107233),P=e.i(217923),T=e.i(37727);e.i(633999);var $=e.i(269111),E=e.i(344803),L=e.i(998253),A=e.i(545292),B=e.i(506296),D=e.i(504767),z=e.i(154041),M=e.i(935281),_=e.i(199083),O=e.i(688462),q=e.i(425091),U=e.i(948168),W=e.i(583560),Q=e.i(833472),R=e.i(765586),V=e.i(598522),J=e.i(540274),G=e.i(792484);let K={name:"",societyId:"",password:"",location:"",presidentName:"",contactPhone:"",email:"",bmcId:"",status:"active"},H=(e,a)=>{if(!e&&0!==e)return e||"";if(!a)return e;let r=e.toString(),s=RegExp(`(${a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return r.split(s).map((e,a)=>s.test(e)?(0,t.jsx)("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-0.5 rounded",children:e},a):e)};function X(){let e,X,Y,Z,ee,et,ea,er,es,eo,el=(0,o.useRouter)(),ei=(0,o.useSearchParams)(),{user:en}=(0,l.useUser)(),{t:ed}=(0,i.useLanguage)(),[ec,eu]=(0,a.useState)([]),[em,eg]=(0,a.useState)([]),[eh,ex]=(0,a.useState)([]),[ep,ey]=(0,a.useState)(!0),[eb,ef]=(0,a.useState)(!1),[ew,ej]=(0,a.useState)(!1),[ev,ek]=(0,a.useState)(!1),[eN,eS]=(0,a.useState)(!1),[eC,eI]=(0,a.useState)(null),[eF,eP]=(0,a.useState)(!1),[eT,e$]=(0,a.useState)(K),[eE,eL]=(0,a.useState)(!1),[eA,eB]=(0,a.useState)(""),[eD,ez]=(0,a.useState)("all"),[eM,e_]=(0,a.useState)([]),[eO,eq]=(0,a.useState)([]),[eU,eW]=(0,a.useState)(""),[eQ,eR]=(0,a.useState)(""),[eV,eJ]=(0,a.useState)({}),[eG,eK]=(0,a.useState)(null),[eH,eX]=(0,a.useState)(new Set),[eY,eZ]=(0,a.useState)("active"),[e0,e3]=(0,a.useState)(!1),[e2,e1]=(0,a.useState)(!1),[e4,e5]=(0,a.useState)("quantity"),[e6,e9]=(0,a.useState)(!1),[e8,e7]=(0,a.useState)(!1),[te,tt]=(0,a.useState)(""),[ta,tr]=(0,a.useState)(!1),[ts,to]=(0,a.useState)(null),tl=(0,a.useCallback)(async()=>{try{ey(!0);let e=localStorage.getItem("authToken");if(!e)return void el.push("/login");let t=await fetch("/api/user/society",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){if(401===t.status||403===t.status){localStorage.removeItem("authToken"),el.push("/login");return}throw Error("Failed to fetch societies")}let a=((await t.json()).data||[]).map(e=>({id:e.id,name:e.name,societyId:e.society_id,location:e.location,presidentName:e.president_name,contactPhone:e.contact_phone,email:e.email||"",bmcId:e.bmc_id,bmcName:e.bmc_name,status:e.status,createdAt:e.created_at,updatedAt:e.updated_at,totalCollections30d:Number(e.total_collections_30d)||0,totalQuantity30d:Number(e.total_quantity_30d)||0,totalAmount30d:Number(e.total_amount_30d)||0,weightedFat30d:Number(e.weighted_fat_30d)||0,weightedSnf30d:Number(e.weighted_snf_30d)||0,weightedClr30d:Number(e.weighted_clr_30d)||0,weightedWater30d:Number(e.weighted_water_30d)||0}));eu(a)}catch(e){console.error("Error fetching societies:",e),eW("Failed to load society data")}finally{ey(!1)}},[el]),ti=(0,a.useCallback)(async()=>{try{let e=localStorage.getItem("authToken");if(!e)return;let t=await fetch("/api/user/dairy",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();ex(e.data||[])}}catch(e){console.error("Error fetching dairies:",e)}},[]),tn=(0,a.useCallback)(async()=>{try{ef(!0);let e=localStorage.getItem("authToken");if(!e)return;let t=await fetch("/api/user/bmc",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){let e=await t.json();eg(e.data||[])}}catch(e){console.error("Error fetching BMCs:",e)}finally{ef(!1)}},[]),td=(0,a.useCallback)(async()=>{try{let e=localStorage.getItem("authToken");if(!e)return;let t=await fetch("/api/user/pulse",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json","x-user-id":en?.id?.toString()||""}});if(t.ok){let e=await t.json();to(e.data||null)}}catch(e){console.error("Error fetching pulse data:",e)}},[en?.id]);(0,a.useEffect)(()=>{let e=e=>{null!==eG&&(e.target.closest(".relative")||eK(null))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[eG]);let tc=async e=>{if(0===eH.size)return;let t=e||eY;try{ey(!0);let e=localStorage.getItem("authToken"),a=Array.from(eH);console.log(`ðŸ”„ Bulk updating ${a.length} societies to status: ${t}`);let r=a.map(a=>{let r=ec.find(e=>e.id===a);return r?fetch("/api/user/society",{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({id:r.id,name:r.name,societyId:r.societyId,location:r.location||"",presidentName:r.presidentName||"",contactPhone:r.contactPhone||"",bmcId:r.bmcId,status:t})}):Promise.resolve()});await Promise.all(r),console.log(`âœ… Successfully updated ${a.length} societies to ${t}`),eR(`Updated ${a.length} ${1===a.length?"society":"societies"} to ${t}!`),await tl(),eX(new Set),setTimeout(()=>eR(""),3e3)}catch(e){console.error("Bulk update error:",e),eW("Failed to update societies"),setTimeout(()=>eW(""),5e3)}finally{ey(!1)}},tu=async e=>{e3(!1),e9(!0);try{let t=localStorage.getItem("authToken"),a=Array.from(eH);console.log(`ðŸ—‘ï¸ Bulk deleting ${a.length} societies with password verification:`,a);let r=a.map(a=>fetch("/api/user/society/delete",{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({id:a,password:e})}).then(async e=>{if(!e.ok){let t=await e.json();throw Error(t.error||"Delete failed")}return e.json()})),s=await Promise.allSettled(r),o=s.filter(e=>"fulfilled"===e.status).length,l=s.filter(e=>"rejected"===e.status).length;o>0?(console.log(`âœ… Successfully deleted ${o} societies`),eR(`Successfully deleted ${o} ${1===o?"society":"societies"}${l>0?`. ${l} failed.`:""}`),await tl(),eX(new Set),setTimeout(()=>eR(""),5e3)):(console.error(`âŒ Failed to delete all ${a.length} societies`),eW("Failed to delete societies. Please check your password and try again."),setTimeout(()=>eW(""),5e3))}catch(e){console.error("Bulk delete error:",e),eW(e instanceof Error?e.message:"Failed to delete societies"),setTimeout(()=>eW(""),5e3)}finally{e9(!1)}},tm=async e=>{if(e.preventDefault(),eL(!0),eW(""),!eT.bmcId){eW("Please select a BMC"),eL(!1);return}try{let e=localStorage.getItem("authToken"),t=await fetch("/api/user/society",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...eT,bmcId:parseInt(eT.bmcId)})});if(t.ok)eR("Society added successfully!"),ej(!1),e$(K),await tl(),setTimeout(()=>eR(""),3e3);else{let e=(await t.json()).error||"Failed to add society";eJ({}),e.toLowerCase().includes("society id")&&e.toLowerCase().includes("already exists")?eJ({societyId:"This Society ID already exists"}):e.toLowerCase().includes("society name")&&e.toLowerCase().includes("already exists")?eJ({name:"This Society name already exists"}):eW(e)}}catch(e){console.error("Error adding society:",e),eW("Failed to add society")}finally{eL(!1)}},tg=async e=>{if(e.preventDefault(),eC){if(eL(!0),eW(""),!eT.bmcId){eW("Please select a BMC"),eL(!1);return}try{let e=localStorage.getItem("authToken"),t={id:eC.id,name:eT.name,location:eT.location,presidentName:eT.presidentName,contactPhone:eT.contactPhone,email:eT.email,bmcId:parseInt(eT.bmcId),status:eT.status};eT.password&&eT.password!==te&&(t.password=eT.password);let a=await fetch("/api/user/society",{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(a.ok)eR("Society updated successfully!"),ek(!1),eI(null),e$(K),await tl(),setTimeout(()=>eR(""),3e3);else{let e=(await a.json()).error||"Failed to update society";eJ({}),e.toLowerCase().includes("society id")&&e.toLowerCase().includes("already exists")?eJ({societyId:"This Society ID already exists"}):e.toLowerCase().includes("society name")&&e.toLowerCase().includes("already exists")?eJ({name:"This Society name already exists"}):eW(e)}}catch(e){console.error("Error updating society:",e),eW("Failed to update society")}finally{eL(!1)}}},th=async e=>{if(eC){eP(!0);try{let t=localStorage.getItem("authToken"),a=await fetch(`/api/user/society/delete?id=${eC.id}&otp=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),r=await a.json();if(!a.ok)throw Error(r.error||"Failed to delete society");eR("Society and all related data deleted successfully!"),eS(!1),eI(null),await tl(),setTimeout(()=>eR(""),3e3)}catch(e){console.error("Error deleting society:",e),eW(e instanceof Error?e.message:"Failed to delete society"),setTimeout(()=>eW(""),5e3)}finally{eP(!1)}}},tx=(e,t)=>{"societyId"===e&&ew&&!t.startsWith("S-")&&t.length>0&&(t=`S-${t.replace(/^S-/,"")}`),e$(a=>({...a,[e]:t})),eV[e]&&eJ(t=>({...t,[e]:void 0}))},tp=async e=>{eI(e),eJ({}),eW(""),e7(!1),tn();try{let t=localStorage.getItem("authToken"),a=await fetch(`/api/user/society/password?id=${e.id}`,{headers:{Authorization:`Bearer ${t}`}});if(console.log("Password fetch response status:",a.status),a.ok){let t=await a.json();console.log("Password fetch result:",t);let r=t.data?.password||t.password||"";console.log("Fetched password:",r),tt(r),e$({name:e.name,societyId:e.societyId,password:r,location:e.location||"",presidentName:e.presidentName||"",contactPhone:e.contactPhone||"",email:e.email||"",bmcId:e.bmcId?.toString()||"",status:e.status})}else{let t=await a.json();console.error("Password fetch failed:",t),tt(""),e$({name:e.name,societyId:e.societyId,password:"",location:e.location||"",presidentName:e.presidentName||"",contactPhone:e.contactPhone||"",email:e.email||"",bmcId:e.bmcId?.toString()||"",status:e.status})}}catch(t){console.error("Error fetching password:",t),tt(""),e$({name:e.name,societyId:e.societyId,password:"",location:e.location||"",presidentName:e.presidentName||"",contactPhone:e.contactPhone||"",email:e.email||"",bmcId:e.bmcId?.toString()||"",status:e.status})}ek(!0)},ty=async(e,t)=>{console.log("Status change triggered:",{societyId:e.id,currentStatus:e.status,newStatus:t});try{ey(!0);let a=localStorage.getItem("authToken"),r={id:e.id,name:e.name,societyId:e.societyId,location:e.location||"",presidentName:e.presidentName||"",contactPhone:e.contactPhone||"",bmcId:e.bmcId,status:t};console.log("Sending update request:",r);let s=await fetch("/api/user/society",{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(r)}),o=await s.json();if(console.log("API response:",{status:s.status,data:o}),s.ok)eR(`Status updated to ${t}!`),await tl(),setTimeout(()=>eR(""),3e3);else{let e=o.error||"Failed to update status";console.error("Update failed:",e),eW(e),setTimeout(()=>eW(""),5e3)}}catch(e){console.error("Error updating status:",e),eW("Failed to update status"),setTimeout(()=>eW(""),5e3)}finally{ey(!1)}},tb=ec.filter(e=>{let t=""===eA||e.name.toLowerCase().includes(eA.toLowerCase())||e.societyId.toLowerCase().includes(eA.toLowerCase())||e.presidentName?.toLowerCase().includes(eA.toLowerCase())||e.location?.toLowerCase().includes(eA.toLowerCase())||e.contactPhone?.toLowerCase().includes(eA.toLowerCase())||e.bmcName?.toLowerCase().includes(eA.toLowerCase()),a="all"===eD||e.status===eD,r=em.find(t=>t.id===e.bmcId),s=0===eO.length||eO.includes(r?.id.toString()||""),o=0===eM.length||!!r?.dairyFarmId&&eM.includes(r.dairyFarmId.toString());return t&&a&&s&&o});return((0,a.useEffect)(()=>{tl(),ti(),tn(),td();let e=ei.get("bmcFilter");e&&eq([e]);let t=ei.get("dairyFilter");t&&e_([t]);let a=setInterval(()=>{td()},3e4);return()=>clearInterval(a)},[tl,ti,tn,td,ei]),(0,a.useEffect)(()=>{let e=e=>{eB(e.detail?.query||"")};return window.addEventListener("globalSearch",e),()=>window.removeEventListener("globalSearch",e)},[]),en)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6 lg:pb-8",children:[(0,t.jsx)(M.PageHeader,{title:"Society Management",subtitle:"Manage societies and their operations",icon:(0,t.jsx)(x.Users,{className:"w-5 h-5 sm:w-6 sm:h-6"}),onRefresh:tl}),(0,t.jsx)(_.StatusMessage,{success:eQ,error:eU}),ec.length>0&&(X=[...e=ec.filter(e=>e.totalQuantity30d&&e.totalQuantity30d>0)].sort((e,t)=>(t.totalQuantity30d||0)-(e.totalQuantity30d||0))[0],Y=[...e].sort((e,t)=>(t.totalAmount30d||0)-(e.totalAmount30d||0))[0],Z=[...e].sort((e,t)=>(t.weightedFat30d||0)-(e.weightedFat30d||0))[0],ee=[...e].sort((e,t)=>(t.weightedSnf30d||0)-(e.weightedSnf30d||0))[0],et=[...e].sort((e,t)=>(t.totalCollections30d||0)-(e.totalCollections30d||0))[0],ea=[...e].sort((e,t)=>(t.weightedWater30d||0)-(e.weightedWater30d||0))[0],(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4",children:[X&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-4 rounded-lg border border-green-200 dark:border-green-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{e5("quantity"),e1(!0)},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:"Top Collection (30d)"}),(0,t.jsx)(x.Users,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-green-800 dark:text-green-200",children:X.name}),(0,t.jsxs)("p",{className:"text-sm text-green-600 dark:text-green-400",children:[X.totalQuantity30d?.toFixed(2)," L"]})]}),Y&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{e5("revenue"),e1(!0)},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:"Top Revenue (30d)"}),(0,t.jsx)(j.Building2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-blue-800 dark:text-blue-200",children:Y.name}),(0,t.jsxs)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["â‚¹",Y.totalAmount30d?.toFixed(2)]})]}),Z&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-4 rounded-lg border border-purple-200 dark:border-purple-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{e5("fat"),e1(!0)},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:"Best Quality (30d)"}),(0,t.jsx)(v.Eye,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-purple-800 dark:text-purple-200",children:Z.name}),(0,t.jsxs)("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:[Z.weightedFat30d?.toFixed(2),"% Fat"]})]}),ee&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 p-4 rounded-lg border border-orange-200 dark:border-orange-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{e5("snf"),e1(!0)},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:"Best SNF (30d)"}),(0,t.jsx)(S.TrendingUp,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-orange-800 dark:text-orange-200",children:ee.name}),(0,t.jsxs)("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:[ee.weightedSnf30d?.toFixed(2),"% SNF"]})]}),et&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 p-4 rounded-lg border border-pink-200 dark:border-pink-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{e5("collections"),e1(!0)},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-pink-900 dark:text-pink-100",children:"Most Active (30d)"}),(0,t.jsx)(C.Award,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-pink-800 dark:text-pink-200",children:et.name}),(0,t.jsxs)("p",{className:"text-sm text-pink-600 dark:text-pink-400",children:[et.totalCollections30d," Collections"]})]}),ea&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-4 rounded-lg border border-red-200 dark:border-red-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{e5("water"),e1(!0)},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-red-900 dark:text-red-100",children:"Most Water (30d)"}),(0,t.jsx)(I.Droplets,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-red-800 dark:text-red-200",children:ea.name}),(0,t.jsxs)("p",{className:"text-sm text-red-600 dark:text-red-400",children:[ea.weightedWater30d?.toFixed(2),"% Water"]})]})]})),(0,t.jsx)(q.FilterDropdown,{statusFilter:eD,onStatusChange:e=>ez(e),dairyFilter:eM,onDairyChange:e=>e_(Array.isArray(e)?e:[e]),bmcFilter:eO,onBmcChange:e=>eq(Array.isArray(e)?e:[e]),societyFilter:[],onSocietyChange:()=>{},machineFilter:[],onMachineChange:()=>{},dairies:eh,bmcs:em,societies:ec.map(e=>({...e,bmc_id:e.bmcId,society_id:e.societyId})),machines:[],filteredCount:tb.length,totalCount:ec.length,searchQuery:eA,hideMainFilterButton:!0,hideSocietyFilter:!0}),(0,t.jsx)(O.FilterControls,{icon:(0,t.jsx)(x.Users,{className:"w-4 h-4"}),showingText:`Showing ${tb.length} of ${ec.length} societies`,filterValue:eD,filterOptions:[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"},{value:"suspended",label:"Suspended"}],onFilterChange:e=>ez(e)}),ep?(0,t.jsx)(E.LoadingSpinner,{}):tb.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:tb.map(e=>{let a,r,s,o,l,i,n;return(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-lg transition-all duration-200 overflow-visible border border-gray-200 dark:border-gray-700 hover:border-green-200 dark:hover:border-green-700 relative z-10 hover:z-20",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 border-b border-gray-200 dark:border-gray-700 rounded-t-lg",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,t.jsx)("input",{type:"checkbox",checked:eH.has(e.id),onChange:()=>{var t;return t=e.id,void eX(e=>{let a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a})},onClick:e=>e.stopPropagation(),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 flex-shrink-0"}),(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg flex-shrink-0",children:(0,t.jsx)(j.Building2,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:H(e.name,eA)}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:H(e.societyId,eA)})]})]}),(0,t.jsx)(W.StatusDropdown,{currentStatus:e.status,onStatusChange:t=>ty(e,t),options:[{status:"active",label:"Active",color:"bg-green-500",bgColor:"hover:bg-green-50 dark:hover:bg-green-900/30"},{status:"inactive",label:"Inactive",color:"bg-red-500",bgColor:"hover:bg-red-50 dark:hover:bg-red-900/30"},{status:"maintenance",label:"Maintenance",color:"bg-yellow-500",bgColor:"hover:bg-yellow-50 dark:hover:bg-yellow-900/30"},{status:"suspended",label:"Suspended",color:"bg-orange-500",bgColor:"hover:bg-orange-50 dark:hover:bg-orange-900/30"}],compact:!0})]})}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.User,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:H(e.presidentName||"No President",eA)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Phone,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:H(e.contactPhone||"No Phone",eA)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.MapPin,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:H(e.location||"No Location",eA)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Building2,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium truncate",children:H(e.bmcName||"No BMC",eA)})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Last 30 Days"}),(0,t.jsx)(w.Calendar,{className:"w-4 h-4 text-gray-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Collections"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:e.totalCollections30d||0}),(0,t.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(e.totalQuantity30d||0).toFixed(2)," Liters"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-2 text-center",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Fat"}),(0,t.jsxs)("div",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400",children:[(e.weightedFat30d||0).toFixed(2),"%"]})]}),(0,t.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-2 text-center",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"SNF"}),(0,t.jsxs)("div",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:[(e.weightedSnf30d||0).toFixed(2),"%"]})]}),(0,t.jsxs)("div",{className:"bg-pink-50 dark:bg-pink-900/20 rounded-lg p-2 text-center",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"CLR"}),(0,t.jsx)("div",{className:"text-sm font-bold text-pink-600 dark:text-pink-400",children:(e.weightedClr30d||0).toFixed(1)})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Revenue"})]}),(0,t.jsxs)("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["â‚¹",(e.totalAmount30d||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between gap-2 rounded-b-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>tp(e),className:"p-2 text-gray-400 dark:text-gray-500 hover:text-green-600 dark:hover:text-green-400 transition-colors rounded-lg hover:bg-green-50 dark:hover:bg-green-900/30",title:"Edit",children:(0,t.jsx)(p.Edit3,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{eI(e),window.selectedSocietyId=e.id,eS(!0)},className:"p-2 text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30",title:"Delete",children:(0,t.jsx)(N.Trash2,{className:"w-4 h-4"})}),(a=ts?.pulses?.find(t=>t.societyId===e.id),r=a?.pulseStatus==="active",s=a?.pulseStatus==="paused",o=a?.pulseStatus==="ended",l=a?.pulseStatus==="inactive",i=()=>r?"text-green-500":s?"text-orange-500":o?"text-red-500":l?"text-gray-400":"text-gray-300",n=()=>r?"Active":s?"Paused":o?"Ended":l?`${a.inactiveDays}d`:"No Pulse",(0,t.jsxs)("div",{className:"flex items-center gap-1.5 ml-2 pl-2 border-l border-gray-200 dark:border-gray-700",title:(()=>{if(!a)return"No Pulse";let e=(e,t=!1)=>{if(!e)return"N/A";let a=e.toString(),r=a.match(/(\d{4})-(\d{2})-(\d{2})/),s=a.match(/(\d{2}):(\d{2}):(\d{2})/);if(r&&s){let e=parseInt(s[1]),a=parseInt(s[2]),o=s[3];t&&(e+=5,(a+=30)>=60&&(e+=1,a-=60),e>=24&&(e-=24));let l=e.toString().padStart(2,"0"),i=a.toString().padStart(2,"0");return`${r[1]}-${r[2]}-${r[3]} ${l}:${i}:${o}`}return"N/A"},t=e(a.createdAt),r=e(a.lastCollectionTime,!0),s=e(a.sectionEndTime);return"active"===a.pulseStatus?`Section Start: ${t}`:"paused"===a.pulseStatus?`Start: ${t}
Paused: ${r}`:"ended"===a.pulseStatus?`Start: ${t}
End: ${s}`:a.createdAt?`Section Start: ${t}`:a.statusMessage||n()})(),children:[(0,t.jsx)("svg",{className:`w-6 h-4 ${i()}`,viewBox:"0 0 24 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r?(0,t.jsx)("path",{d:"M0 8 L5 8 L6 3 L7 13 L8 8 L10 8 L11 5 L12 11 L13 8 L24 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-pulse"}):(0,t.jsx)("path",{d:"M0 8 L24 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})}),(0,t.jsx)("span",{className:`text-xs ${i()}`,children:n()})]}))]}),(0,t.jsxs)("button",{onClick:()=>el.push(`/admin/society/${e.id}`),className:"flex items-center px-3 py-1.5 text-sm text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",children:[(0,t.jsx)(v.Eye,{className:"w-4 h-4 mr-1"}),(0,t.jsx)("span",{children:"View"})]})]})]},e.id)})}):(0,t.jsx)(U.EmptyState,{icon:(0,t.jsx)(x.Users,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400"}),title:0===ec.length?"No societies found":"No matching societies",message:0===ec.length?"Get started by adding your first society to the system.":"Try changing your search or filter criteria.",actionText:0===ec.length?"Add First Society":void 0,onAction:0===ec.length?()=>{eJ({}),eW(""),ej(!0),tn()}:void 0,showAction:0===ec.length})]}),(0,t.jsx)(R.default,{selectedCount:eH.size,totalCount:tb.length,onBulkDelete:()=>{0!==eH.size&&e3(!0)},onBulkStatusUpdate:tc,onSelectAll:()=>{eX(new Set(tb.map(e=>e.id)))},onClearSelection:()=>{eX(new Set)},itemType:"society",showStatusUpdate:!0,currentBulkStatus:eY,onBulkStatusChange:e=>eZ(e)}),(0,t.jsx)(V.default,{actions:[{icon:(0,t.jsx)(F.Plus,{className:"w-6 h-6 text-white"}),label:"Add Society",onClick:()=>{eJ({}),eW(""),ej(!0),tn()},color:"bg-gradient-to-br from-blue-500 to-blue-600"}],directClick:!0}),(0,t.jsx)(L.FormModal,{isOpen:ew,onClose:()=>ej(!1),title:"Add New Society",maxWidth:"lg",children:(0,t.jsxs)("form",{onSubmit:tm,className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)(z.FormGrid,{children:[(0,t.jsx)(A.FormInput,{label:"Society Name",value:eT.name,onChange:e=>tx("name",e),placeholder:"Enter society name",required:!0,error:eV.name,colSpan:1}),(0,t.jsx)(A.FormInput,{label:"Society ID",value:eT.societyId,onChange:e=>tx("societyId",e),placeholder:"S-001",required:!0,error:eV.societyId,colSpan:1}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Password ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:ta?"text":"password",value:eT.password,onChange:e=>tx("password",e.target.value),placeholder:"Enter password",required:!0,className:"form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none"}),(0,t.jsx)("button",{type:"button",onClick:()=>tr(!ta),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:ta?"Hide password":"Show password",children:ta?(0,t.jsx)(k.EyeOff,{className:"w-5 h-5"}):(0,t.jsx)(v.Eye,{className:"w-5 h-5"})})]})]}),(0,t.jsx)(B.FormSelect,{label:"Associated BMC",value:eT.bmcId,onChange:e=>tx("bmcId",e),options:em.map(e=>({value:e.id,label:`${e.name} (${e.bmcId})`})),placeholder:"Select BMC",required:!0,disabled:eb,colSpan:1}),(0,t.jsx)(A.FormInput,{label:"President Name",value:eT.presidentName,onChange:e=>tx("presidentName",e),placeholder:"Enter president name",colSpan:1}),(0,t.jsx)(A.FormInput,{label:"Location",value:eT.location,onChange:e=>tx("location",e),placeholder:"Enter location",colSpan:1}),(0,t.jsx)(A.FormInput,{label:"Contact Phone",type:"tel",value:eT.contactPhone,onChange:e=>{tx("contactPhone",(0,r.formatPhoneInput)(e))},onBlur:()=>{let e=(0,r.validatePhoneOnBlur)(eT.contactPhone);e?eJ(t=>({...t,contactPhone:e})):eJ(e=>({...e,contactPhone:void 0}))},placeholder:"Enter phone number",error:eV.contactPhone,colSpan:1}),(0,t.jsx)(A.FormInput,{label:"Email Address",type:"email",value:eT.email,onChange:e=>{tx("email",(0,s.formatEmailInput)(e))},onBlur:()=>{let e=(0,s.validateEmailOnBlur)(eT.email);e?eJ(t=>({...t,email:e})):eJ(e=>({...e,email:void 0}))},placeholder:"Enter email address",error:eV.email,required:!0,colSpan:1}),(0,t.jsx)(B.FormSelect,{label:"Status",value:eT.status,onChange:e=>tx("status",e),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"},{value:"suspended",label:"Suspended"}],colSpan:1})]}),(0,t.jsx)(D.FormActions,{onCancel:()=>ej(!1),submitText:"Add Society",isLoading:eE})]})}),(0,t.jsx)(L.FormModal,{isOpen:ev&&!!eC,onClose:()=>{ek(!1),eI(null),e$(K)},title:eC?`${ed.common?.edit||"Edit"} ${eC.name}`:ed.common?.edit||"Edit",maxWidth:"lg",children:(0,t.jsxs)("form",{onSubmit:tg,className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)(z.FormGrid,{children:[(0,t.jsx)(A.FormInput,{label:"Society Name",value:eT.name,onChange:e=>tx("name",e),placeholder:"Enter society name",required:!0,error:eV.name,colSpan:1}),(0,t.jsx)(A.FormInput,{label:"Society ID",value:eT.societyId,onChange:()=>{},readOnly:!0,disabled:!0,colSpan:1}),(0,t.jsx)(B.FormSelect,{label:"Associated BMC",value:eT.bmcId,onChange:e=>tx("bmcId",e),options:em.map(e=>({value:e.id,label:`${e.name} (${e.bmcId})`})),placeholder:"Select BMC",required:!0,disabled:!0,colSpan:2}),(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:e8?"text":"password",value:eT.password,onChange:e=>tx("password",e.target.value),placeholder:"Enter password",className:"form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none"}),(0,t.jsx)("button",{type:"button",onClick:()=>e7(!e8),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:e8?"Hide password":"Show password",children:e8?(0,t.jsx)(k.EyeOff,{className:"w-5 h-5"}):(0,t.jsx)(v.Eye,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Current password is pre-filled. Click eye icon to view or edit to change."})]}),(0,t.jsx)(A.FormInput,{label:"President Name",value:eT.presidentName,onChange:e=>tx("presidentName",e),placeholder:"Enter president name",colSpan:1}),(0,t.jsx)(A.FormInput,{label:"Location",value:eT.location,onChange:e=>tx("location",e),placeholder:"Enter location",colSpan:1}),(0,t.jsx)(A.FormInput,{label:"Contact Phone",type:"tel",value:eT.contactPhone,onChange:e=>{tx("contactPhone",(0,r.formatPhoneInput)(e))},onBlur:()=>{let e=(0,r.validatePhoneOnBlur)(eT.contactPhone);e?eJ(t=>({...t,contactPhone:e})):eJ(e=>({...e,contactPhone:void 0}))},placeholder:"Enter contact phone",error:eV.contactPhone,colSpan:1}),(0,t.jsx)(A.FormInput,{label:"Email Address",type:"email",value:eT.email,onChange:e=>{tx("email",(0,s.formatEmailInput)(e))},onBlur:()=>{let e=(0,s.validateEmailOnBlur)(eT.email);e?eJ(t=>({...t,email:e})):eJ(e=>({...e,email:void 0}))},placeholder:eC?.email?`Current: ${eC.email}`:"Enter email address",error:eV.email,required:!0,colSpan:1,helperText:"Current email address is pre-filled. Edit to change."}),(0,t.jsx)(B.FormSelect,{label:"Status",value:eT.status,onChange:e=>tx("status",e),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"},{value:"suspended",label:"Suspended"}],colSpan:1})]}),(0,t.jsx)(D.FormActions,{onCancel:()=>{ek(!1),eI(null),e$(K)},submitText:"Update Society",isLoading:eE,cancelText:"Cancel",loadingText:"Updating...",submitIcon:(0,t.jsx)(p.Edit3,{className:"w-4 h-4"})})]})}),(0,t.jsx)(G.default,{isOpen:eN&&!!eC,onClose:()=>{eS(!1),eI(null)},onConfirm:th,societyName:eC?.name||"",loading:eF}),(0,t.jsx)(J.default,{isOpen:e0,onClose:()=>e3(!1),onConfirm:tu,title:`Delete ${eH.size} ${1===eH.size?"Society":"Societies"}`,message:`Enter your admin password to confirm deletion of ${eH.size} selected ${1===eH.size?"society":"societies"}. This action cannot be undone and will be logged for security purposes.`}),(0,t.jsx)(Q.LoadingSnackbar,{isVisible:ep||e6||eF,message:e6?`Deleting ${eH.size} ${1===eH.size?"Society":"Societies"}`:eF?"Deleting Society":"Processing",submessage:e6||eF?"Verifying credentials and removing data...":"Please wait...",showProgress:!1}),e2&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(P.BarChart3,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["quantity"===e4&&"Collection Volume - Last 30 Days","revenue"===e4&&"Revenue - Last 30 Days","fat"===e4&&"Average Fat % - Last 30 Days","snf"===e4&&"Average SNF % - Last 30 Days","collections"===e4&&"Number of Collections - Last 30 Days","water"===e4&&"Average Water % - Last 30 Days"]})]}),(0,t.jsx)("button",{onClick:()=>e1(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(T.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(er=ec.filter(e=>e.totalQuantity30d&&e.totalQuantity30d>0).map(e=>({name:e.name,societyId:e.societyId,value:"quantity"===e4?e.totalQuantity30d||0:"revenue"===e4?e.totalAmount30d||0:"fat"===e4?e.weightedFat30d||0:"snf"===e4?e.weightedSnf30d||0:"collections"===e4?e.totalCollections30d||0:e.weightedWater30d||0})).sort((e,t)=>t.value-e.value),es=()=>{switch(e4){case"quantity":return"#10b981";case"revenue":return"#3b82f6";case"fat":return"#8b5cf6";case"snf":return"#f59e0b";case"collections":return"#ec4899";case"water":return"#ef4444";default:return"#6b7280"}},eo=()=>{switch(e4){case"quantity":return"Quantity (L)";case"revenue":return"Revenue (â‚¹)";case"fat":return"Fat %";case"snf":return"SNF %";case"collections":return"Collections";case"water":return"Water %";default:return"Value"}},er.length>0?(0,t.jsx)("div",{className:"w-full h-[500px]",children:(0,t.jsx)(h.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(n.LineChart,{data:er,margin:{top:5,right:30,left:20,bottom:80},children:[(0,t.jsx)(m.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),(0,t.jsx)(c.XAxis,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,tick:{fontSize:11},stroke:"#6b7280",label:{value:"Society Name",position:"insideBottom",offset:-5,style:{fontSize:13,fontWeight:500,fill:"#9ca3af"}}}),(0,t.jsx)(u.YAxis,{label:{value:eo(),angle:-90,position:"insideLeft",style:{fontSize:14,fontWeight:600}},tick:{fontSize:12},stroke:"#6b7280"}),(0,t.jsx)(g.Tooltip,{content:(0,t.jsx)(({active:e,payload:a})=>{if(e&&a&&a.length){let e=a[0].payload;return(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("p",{className:"font-bold text-gray-900 dark:text-white mb-1",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["(",e.societyId,")"]}),(0,t.jsxs)("p",{className:"font-semibold",style:{color:es()},children:["revenue"===e4&&"â‚¹",e.value.toFixed(2),"fat"===e4||"snf"===e4||"water"===e4?"%":"","quantity"===e4?" L":""]})]})}return null},{})}),(0,t.jsx)(d.Line,{type:"monotone",dataKey:"value",stroke:es(),strokeWidth:3,dot:{fill:es(),r:5},activeDot:{r:7},name:eo()})]})})}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(P.BarChart3,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available for the last 30 days"})]}))})]})})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,t.jsx)($.FlowerSpinner,{size:48})})}e.s(["default",()=>X])}]);