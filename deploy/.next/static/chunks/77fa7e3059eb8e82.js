(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21218,e=>{"use strict";let t=(0,e.i(475254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},896390,e=>{"use strict";let t=(0,e.i(475254).default)("droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);e.s(["Droplet",()=>t],896390)},545292,e=>{"use strict";var t=e.i(785187);e.s(["FormInput",()=>t.default])},199083,e=>{"use strict";var t=e.i(216940);e.s(["StatusMessage",()=>t.default])},948168,e=>{"use strict";var t=e.i(524420);e.s(["EmptyState",()=>t.default])},506296,e=>{"use strict";var t=e.i(197238);e.s(["FormSelect",()=>t.default])},931194,e=>{"use strict";function t(e){if(!e||""===e.trim())return{isValid:!1,error:"Phone number is required"};let t=e.replace(/\D/g,"");return 10!==t.length?{isValid:!1,error:"Phone number must be exactly 10 digits"}:/^[6-9]/.test(t)?{isValid:!0,formatted:t}:{isValid:!1,error:"Phone number must start with 6, 7, 8, or 9"}}function r(e){return e.replace(/\D/g,"").slice(0,10)}function a(e){return e&&""!==e.trim()&&t(e).error||""}e.s(["formatPhoneInput",()=>r,"validateIndianPhone",()=>t,"validatePhoneOnBlur",()=>a])},892892,e=>{"use strict";var t=e.i(843476),r=e.i(846932),a=e.i(88653);let s=(0,e.i(475254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function l({isOpen:e,onClose:l,onConfirm:i,title:d,message:n,confirmText:o="Continue",cancelText:c="Cancel"}){return e?(0,t.jsx)(a.AnimatePresence,{children:e&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:l,children:(0,t.jsxs)(r.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,t.jsx)(s,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:d}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:n})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:l,className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c}),(0,t.jsx)("button",{onClick:i,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:o})]})]})})}):null}e.s(["default",()=>l],892892)},514764,e=>{"use strict";let t=(0,e.i(475254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],514764)},581418,e=>{"use strict";let t=(0,e.i(475254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],581418)},952733,e=>{"use strict";let t={"gmial.com":"gmail.com","gmai.com":"gmail.com","gmail.co":"gmail.com","yahooo.com":"yahoo.com","yaho.com":"yahoo.com","hotmial.com":"hotmail.com","hotmai.com":"hotmail.com","outlok.com":"outlook.com","outloo.com":"outlook.com"};function r(e){if(!e||""===e.trim())return"Email is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return"Invalid email format";let r=t[e.toLowerCase().split("@")[1].toLowerCase()];if(r)return`Did you mean ${e.split("@")[0]}@${r}?`}e.s(["validateEmailQuick",()=>r])},806536,27808,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(846932),s=e.i(88653),l=e.i(37727),i=e.i(878894),d=e.i(607486),n=e.i(972520),o=e.i(761911),c=e.i(269638),x=e.i(263488),m=e.i(16715);function g({isOpen:e,onClose:g,onConfirm:h,bmcName:u,bmcId:b,societies:y,availableBMCs:f}){let[p,j]=(0,r.useState)(null),[k,N]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[P,S]=(0,r.useState)(["","","","","",""]),[A,D]=(0,r.useState)(!1),[M,B]=(0,r.useState)(""),[O,F]=(0,r.useState)(!1),I=(0,r.useRef)([]);(0,r.useEffect)(()=>{e&&(j(null),w(!1),T(!1),S(["","","","","",""]),D(!1),B(""))},[e]);let $=async()=>{F(!0),B("");try{let e=localStorage.getItem("authToken"),t=await fetch("/api/user/bmc/send-delete-otp",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({bmcId:b,bmcName:u})}),r=await t.json();t.ok?(D(!0),T(!0),setTimeout(()=>I.current[0]?.focus(),100)):B(r.error||"Failed to send OTP")}catch(e){console.error("Error sending OTP:",e),B("Failed to send OTP. Please try again.")}finally{F(!1)}},E=e=>{e.preventDefault();let t=e.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);6===t.length&&S(t.split(""))},z=async()=>{if(!v&&!p)return;if(!A)return void await $();let e=P.join("");if(6!==e.length)return void B("Please enter the 6-digit OTP");N(!0);try{await h(p,v,e)}catch{B("Invalid OTP. Please try again."),S(["","","","","",""]),I.current[0]?.focus()}finally{N(!1)}},R=f.find(e=>e.id===p);return(0,t.jsx)(s.AnimatePresence,{children:e&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:g,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 to-red-500 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,t.jsx)(i.AlertTriangle,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Transfer Societies Required"}),(0,t.jsx)("p",{className:"text-sm text-white/90 mt-1",children:"Cannot delete BMC with active societies"})]})]}),(0,t.jsx)("button",{onClick:g,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,t.jsx)(l.X,{className:"w-5 h-5 text-white"})})]})}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[(0,t.jsx)("div",{className:"mb-6 p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(i.AlertTriangle,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-orange-900 dark:text-orange-100",children:[y.length," ",1===y.length?"Society":"Societies"," Under This BMC"]}),(0,t.jsxs)("p",{className:"text-sm text-orange-800 dark:text-orange-200 mt-1",children:["Before deleting ",(0,t.jsx)("strong",{children:u}),", you must either transfer all societies to another BMC or delete everything."]})]})]})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("label",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-lg cursor-pointer hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:v,onChange:e=>{w(e.target.checked),e.target.checked&&j(null)},className:"mt-0.5 w-5 h-5 text-red-600 bg-white dark:bg-gray-700 border-red-300 dark:border-red-700 rounded focus:ring-2 focus:ring-red-500 cursor-pointer"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.AlertTriangle,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),(0,t.jsx)("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Delete All Data (Permanent)"})]}),(0,t.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200 mt-1",children:["Delete all societies, farmers, machines, machine statistics, machine corrections, rate charts, collections, sales, dispatches, and section pulse data under this BMC.",(0,t.jsx)("strong",{className:"block mt-1",children:"This action cannot be undone!"})]})]})]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[(0,t.jsx)(o.Users,{className:"w-4 h-4"}),"Societies to Transfer (",y.length,")"]}),(0,t.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-200 dark:border-gray-700",children:y.map(e=>(0,t.jsx)("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",e.society_id]})]})},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:["Select Target BMC ",!v&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),v&&(0,t.jsx)("div",{className:"mb-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[(0,t.jsx)("strong",{children:"Delete All"})," is enabled. BMC selection is disabled."]})}),(0,t.jsx)("div",{className:`space-y-2 ${v?"opacity-50 pointer-events-none":""}`,children:0===f.length?(0,t.jsx)("div",{className:"p-4 text-center bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["No other BMCs available. ",!v&&"Please create a new BMC first or use Delete All option."]})}):f.map(e=>(0,t.jsx)("button",{onClick:()=>j(e.id),disabled:v,className:`w-full p-4 rounded-lg border-2 transition-all text-left ${p===e.id?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 bg-white dark:bg-gray-800"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${p===e.id?"bg-green-500":"bg-gray-100 dark:bg-gray-700"}`,children:(0,t.jsx)(d.Building2,{className:`w-5 h-5 ${p===e.id?"text-white":"text-gray-600 dark:text-gray-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",e.bmcId]})]})]}),p===e.id&&(0,t.jsx)(c.CheckCircle,{className:"w-5 h-5 text-green-500"})]})},e.id))})]}),R&&!v&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:u}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Current BMC"})]}),(0,t.jsx)(n.ArrowRight,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:R.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"New BMC"})]})]}),(0,t.jsxs)("p",{className:"text-xs text-center text-blue-800 dark:text-blue-200 mt-2",children:["All ",y.length," ",1===y.length?"society":"societies"," will be transferred"]})]}),v&&(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i.AlertTriangle,{className:"w-8 h-8 text-red-600 dark:text-red-400 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h5",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:"Complete Data Deletion"}),(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:"The following will be permanently deleted:"}),(0,t.jsxs)("ul",{className:"text-sm text-red-800 dark:text-red-200 mt-2 space-y-1 list-disc list-inside",children:[(0,t.jsxs)("li",{children:[y.length," ",1===y.length?"Society":"Societies"]}),(0,t.jsx)("li",{children:"All farmers under these societies"}),(0,t.jsx)("li",{children:"All machines linked to these societies"}),(0,t.jsx)("li",{children:"All machine statistics"}),(0,t.jsx)("li",{children:"All machine corrections (admin & device saved)"}),(0,t.jsx)("li",{children:"All rate charts and rate chart data"}),(0,t.jsx)("li",{children:"All milk collection records"}),(0,t.jsx)("li",{children:"All milk sales records"}),(0,t.jsx)("li",{children:"All milk dispatch records"}),(0,t.jsx)("li",{children:"All section pulse tracking data"}),(0,t.jsxs)("li",{children:["BMC: ",(0,t.jsx)("strong",{children:u})]})]})]})]})}),A&&C&&(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-orange-50 dark:bg-orange-900/20 border-2 border-orange-300 dark:border-orange-700 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("h4",{className:"font-semibold text-orange-900 dark:text-orange-100 mb-2 flex items-center justify-center gap-2",children:[(0,t.jsx)(x.Mail,{className:"w-5 h-5"}),"OTP Verification Required"]}),(0,t.jsxs)("p",{className:"text-sm text-orange-800 dark:text-orange-200 mb-4",children:["We've sent a 6-digit OTP to your registered email. Please enter it below to confirm ",v?"deletion":"transfer","."]}),(0,t.jsx)("div",{className:"flex justify-center gap-2 mb-4",children:P.map((e,r)=>(0,t.jsx)("input",{ref:e=>{I.current[r]=e},type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,t)=>{if(t.length>1||!/^\d*$/.test(t))return;let r=[...P];r[e]=t,S(r),t&&e<5&&I.current[e+1]?.focus()})(r,e.target.value),onKeyDown:e=>{"Backspace"===e.key&&!P[r]&&r>0&&I.current[r-1]?.focus()},onPaste:E,className:"w-12 h-14 text-center text-2xl font-bold border-2 border-orange-300 dark:border-orange-700 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",disabled:k},r))}),M&&(0,t.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:M}),(0,t.jsxs)("button",{onClick:$,disabled:O,className:"text-sm text-orange-700 dark:text-orange-300 hover:text-orange-900 dark:hover:text-orange-100 flex items-center justify-center gap-1 mx-auto transition-colors disabled:opacity-50",children:[(0,t.jsx)(m.RefreshCw,{className:"w-4 h-4"}),"Resend OTP"]})]})})]}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-gray-50 dark:bg-gray-900/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:g,disabled:k,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,t.jsx)("button",{onClick:z,disabled:!p&&!v||k||A&&6!==P.join("").length,className:`flex-1 px-4 py-2.5 text-sm font-medium text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${v?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600"}`,children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v?"Deleting All...":"Transferring..."]}):A?(0,t.jsxs)(t.Fragment,{children:[v?(0,t.jsx)(i.AlertTriangle,{className:"w-4 h-4"}):(0,t.jsx)(n.ArrowRight,{className:"w-4 h-4"}),"Verify OTP & ",v?"Delete All":"Transfer"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Mail,{className:"w-4 h-4"}),"Send OTP to Confirm"]})})]})})]})]})})}e.s(["default",()=>g],806536);var h=e.i(727612),u=e.i(514764),b=e.i(581418);function y({isOpen:e,onClose:a,onConfirm:s,bmcName:d,loading:n=!1,societyCount:o=0,farmerCount:c=0,collectionCount:x=0,machineCount:m=0}){let[g,y]=(0,r.useState)("confirm"),[f,p]=(0,r.useState)(["","","","","",""]),[j,k]=(0,r.useState)(!1),[N,v]=(0,r.useState)(""),w=(0,r.useRef)([]),C=async()=>{try{k(!0),v("");let e=window.selectedBmcIdForDelete;if(!e)return void v("BMC ID not found. Please try again.");let t=await fetch("/api/user/bmc/send-delete-otp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({bmcId:e})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to send OTP");y("otp"),setTimeout(()=>w.current[0]?.focus(),100)}catch(e){v(e instanceof Error?e.message:"Failed to send OTP")}finally{k(!1)}},T=e=>{e.preventDefault();let t=e.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(t))return;let r=[...f];t.split("").forEach((e,t)=>{t<6&&(r[t]=e)}),p(r);let a=r.findIndex(e=>!e);-1!==a?w.current[a]?.focus():w.current[5]?.focus()},P=async()=>{let e=f.join("");if(6!==e.length)return void v("Please enter the complete 6-digit OTP");try{await s(e),S()}catch(e){v(e instanceof Error?e.message:"Invalid or expired OTP"),p(["","","","","",""]),w.current[0]?.focus()}},S=()=>{y("confirm"),p(["","","","","",""]),v(""),a()};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,t.jsx)(h.Trash2,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"confirm"===g?"Delete BMC":"Verify OTP"})]}),(0,t.jsx)("button",{onClick:S,disabled:n||j,className:"text-white/80 hover:text-white transition-colors disabled:opacity-50",children:(0,t.jsx)(l.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"p-6",children:"confirm"===g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(i.AlertTriangle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-red-900 dark:text-red-100 mb-1",children:"Warning: This action cannot be undone"}),(0,t.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Deleting this BMC will permanently remove:"})]})]})}),(0,t.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"BMC Name"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:d})]}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"The following data will be deleted:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[o>0&&(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),o," societ",o>1?"ies":"y"]}),c>0&&(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),c," farmer",c>1?"s":""," and their data"]}),x>0&&(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),x," collection record",x>1?"s":""]}),m>0&&(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),m," machine",m>1?"s":""," and settings"]}),0===o&&0===c&&0===x&&0===m&&(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"The BMC details only"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:S,disabled:n||j,className:"flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:C,disabled:n||j,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-red-500 to-red-600 rounded-lg font-medium text-white hover:from-red-600 hover:to-red-700 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending OTP..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Send,{className:"w-4 h-4"}),"Send OTP"]})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(b.ShieldCheck,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"OTP Sent to Your Email"}),(0,t.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Please enter the 6-digit OTP to confirm deletion. The code will expire in 10 minutes."})]})]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Enter OTP Code"}),(0,t.jsx)("div",{className:"flex gap-2 justify-center",children:f.map((e,r)=>(0,t.jsx)("input",{ref:e=>{w.current[r]=e},type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,t)=>{if(t.length>1&&(t=t[0]),!/^\d*$/.test(t))return;let r=[...f];r[e]=t,p(r),t&&e<5&&w.current[e+1]?.focus()})(r,e.target.value),onKeyDown:e=>{"Backspace"===e.key&&!f[r]&&r>0&&w.current[r-1]?.focus()},onPaste:0===r?T:void 0,className:"w-12 h-14 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-red-500 focus:ring-2 focus:ring-red-500/20 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:n},r))}),N&&(0,t.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2 text-center",children:N})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{y("confirm"),p(["","","","","",""]),v("")},disabled:n,className:"flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Back"}),(0,t.jsx)("button",{onClick:P,disabled:n||f.some(e=>!e),className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-red-500 to-red-600 rounded-lg font-medium text-white hover:from-red-600 hover:to-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Deleting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Trash2,{className:"w-4 h-4"}),"Delete BMC"]})})]})]})})]})}):null}e.s(["default",()=>y],27808)}]);