(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21218,e=>{"use strict";let r=(0,e.i(475254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>r],21218)},545292,e=>{"use strict";var r=e.i(785187);e.s(["FormInput",()=>r.default])},199083,e=>{"use strict";var r=e.i(216940);e.s(["StatusMessage",()=>r.default])},948168,e=>{"use strict";var r=e.i(524420);e.s(["EmptyState",()=>r.default])},506296,e=>{"use strict";var r=e.i(197238);e.s(["FormSelect",()=>r.default])},931194,e=>{"use strict";function r(e){if(!e||""===e.trim())return{isValid:!1,error:"Phone number is required"};let r=e.replace(/\D/g,"");return 10!==r.length?{isValid:!1,error:"Phone number must be exactly 10 digits"}:/^[6-9]/.test(r)?{isValid:!0,formatted:r}:{isValid:!1,error:"Phone number must start with 6, 7, 8, or 9"}}function t(e){return e.replace(/\D/g,"").slice(0,10)}function s(e){return e&&""!==e.trim()&&r(e).error||""}e.s(["formatPhoneInput",()=>t,"validateIndianPhone",()=>r,"validatePhoneOnBlur",()=>s])},892892,e=>{"use strict";var r=e.i(843476),t=e.i(846932),s=e.i(88653);let a=(0,e.i(475254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function l({isOpen:e,onClose:l,onConfirm:i,title:d,message:n,confirmText:c="Continue",cancelText:o="Cancel"}){return e?(0,r.jsx)(s.AnimatePresence,{children:e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:l,children:(0,r.jsxs)(t.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,r.jsx)(a,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})}),(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:d}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:n})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:l,className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:o}),(0,r.jsx)("button",{onClick:i,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:c})]})]})})}):null}e.s(["default",()=>l],892892)},514764,e=>{"use strict";let r=(0,e.i(475254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>r],514764)},581418,e=>{"use strict";let r=(0,e.i(475254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>r],581418)},952733,e=>{"use strict";let r={"gmial.com":"gmail.com","gmai.com":"gmail.com","gmail.co":"gmail.com","yahooo.com":"yahoo.com","yaho.com":"yahoo.com","hotmial.com":"hotmail.com","hotmai.com":"hotmail.com","outlok.com":"outlook.com","outloo.com":"outlook.com"};function t(e){if(!e||""===e.trim())return"Email is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return"Invalid email format";let t=r[e.toLowerCase().split("@")[1].toLowerCase()];if(t)return`Did you mean ${e.split("@")[0]}@${t}?`}e.s(["validateEmailQuick",()=>t])},145858,784623,e=>{"use strict";var r=e.i(843476),t=e.i(271645),s=e.i(37727),a=e.i(878894),l=e.i(727612),i=e.i(514764),d=e.i(581418);function n({isOpen:e,onClose:n,onConfirm:c,dairyName:o,loading:x=!1,bmcCount:m=0,societyCount:h=0,farmerCount:g=0,collectionCount:u=0,machineCount:b=0}){let[f,y]=(0,t.useState)("confirm"),[p,j]=(0,t.useState)(["","","","","",""]),[k,N]=(0,t.useState)(!1),[v,w]=(0,t.useState)(""),T=(0,t.useRef)([]),P=async()=>{try{N(!0),w("");let e=window.selectedDairyIdForDelete;if(!e)return void w("Dairy ID not found. Please try again.");let r=await fetch("/api/user/dairy/send-delete-otp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({dairyId:e})}),t=await r.json();if(!r.ok)throw Error(t.error||"Failed to send OTP");y("otp"),setTimeout(()=>T.current[0]?.focus(),100)}catch(e){w(e instanceof Error?e.message:"Failed to send OTP")}finally{N(!1)}},C=e=>{e.preventDefault();let r=e.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(r))return;let t=[...p];r.split("").forEach((e,r)=>{r<6&&(t[r]=e)}),j(t);let s=t.findIndex(e=>!e);-1!==s?T.current[s]?.focus():T.current[5]?.focus()},S=async()=>{let e=p.join("");if(6!==e.length)return void w("Please enter the complete 6-digit OTP");try{await c(e),D()}catch(e){w(e instanceof Error?e.message:"Invalid or expired OTP"),j(["","","","","",""]),T.current[0]?.focus()}},D=()=>{y("confirm"),j(["","","","","",""]),w(""),n()};return e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,r.jsx)(l.Trash2,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:"confirm"===f?"Delete Dairy":"Verify OTP"})]}),(0,r.jsx)("button",{onClick:D,disabled:x||k,className:"text-white/80 hover:text-white transition-colors disabled:opacity-50",children:(0,r.jsx)(s.X,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"p-6",children:"confirm"===f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(a.AlertTriangle,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-red-900 dark:text-red-100 mb-1",children:"Warning: This action cannot be undone"}),(0,r.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Deleting this dairy will permanently remove:"})]})]})}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Dairy Name"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:o})]}),(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"The following data will be deleted:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[m>0&&(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),m," BMC",m>1?"s":""]}),h>0&&(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),h," societ",h>1?"ies":"y"]}),g>0&&(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),g," farmer",g>1?"s":""," and their data"]}),u>0&&(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),u," collection record",u>1?"s":""]}),b>0&&(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),b," machine",b>1?"s":""," and settings"]}),0===m&&0===h&&0===g&&0===u&&0===b&&(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"The dairy details only"]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:D,disabled:x||k,className:"flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Cancel"}),(0,r.jsx)("button",{onClick:P,disabled:x||k,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-red-500 to-red-600 rounded-lg font-medium text-white hover:from-red-600 hover:to-red-700 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending OTP..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Send,{className:"w-4 h-4"}),"Send OTP"]})})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(d.ShieldCheck,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"OTP Sent to Your Email"}),(0,r.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Please enter the 6-digit OTP to confirm deletion. The code will expire in 10 minutes."})]})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Enter OTP Code"}),(0,r.jsx)("div",{className:"flex gap-2 justify-center",children:p.map((e,t)=>(0,r.jsx)("input",{ref:e=>{T.current[t]=e},type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,r)=>{if(r.length>1&&(r=r[0]),!/^\d*$/.test(r))return;let t=[...p];t[e]=r,j(t),r&&e<5&&T.current[e+1]?.focus()})(t,e.target.value),onKeyDown:e=>{"Backspace"===e.key&&!p[t]&&t>0&&T.current[t-1]?.focus()},onPaste:0===t?C:void 0,className:"w-12 h-14 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-red-500 focus:ring-2 focus:ring-red-500/20 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:x},t))}),v&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2 text-center",children:v})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>{y("confirm"),j(["","","","","",""]),w("")},disabled:x,className:"flex-1 px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Back"}),(0,r.jsx)("button",{onClick:S,disabled:x||p.some(e=>!e),className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-red-500 to-red-600 rounded-lg font-medium text-white hover:from-red-600 hover:to-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Deleting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Trash2,{className:"w-4 h-4"}),"Delete Dairy"]})})]})]})})]})}):null}e.s(["default",()=>n],145858);var c=e.i(607486),o=e.i(263488);function x({isOpen:e,onClose:l,onConfirm:i,bmcs:d,dairies:n,dairyName:x,currentDairyId:m,adminEmail:h=""}){let[g,u]=(0,t.useState)(null),[b,f]=(0,t.useState)(!1),[y,p]=(0,t.useState)(["","","","","",""]),[j,k]=(0,t.useState)(!1),[N,v]=(0,t.useState)(""),[w,T]=(0,t.useState)(!1),[P,C]=(0,t.useState)(!1),S=(0,t.useRef)([]),D=n.filter(e=>e.id!==m);(0,t.useEffect)(()=>{e||(u(null),f(!1),p(["","","","","",""]),k(!1),v(""),T(!1),C(!1))},[e]),(0,t.useEffect)(()=>{w&&S.current[0]&&S.current[0]?.focus()},[w]);let O=async()=>{C(!0),v("");try{let e=localStorage.getItem("authToken"),r=await fetch("/api/user/dairy/send-delete-otp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({dairyId:m})}),t=await r.json();t.success?(k(!0),T(!0),v("")):v(t.message||"Failed to send OTP")}catch(e){console.error("Error sending OTP:",e),v("Failed to send OTP. Please try again.")}finally{C(!1)}},A=()=>{if(b)if(j){let e=y.join("");if(6!==e.length)return void v("Please enter complete 6-digit OTP");i(null,!0,e)}else O();else{if(!g)return;if(j){let e=y.join("");if(6!==e.length)return void v("Please enter complete 6-digit OTP");i(g,!1,e)}else O()}},M=y.every(e=>""!==e);return e?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,r.jsx)(a.AlertTriangle,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Dairy - Action Required"})]}),(0,r.jsx)("button",{onClick:l,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,r.jsx)(s.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,r.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[(0,r.jsx)("strong",{children:"Warning:"})," This dairy has ",(0,r.jsx)("strong",{children:d.length})," BMC",1!==d.length?"s":""," under it."]}),(0,r.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2",children:"You must either transfer these BMCs to another dairy or delete everything."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["BMCs under ",(0,r.jsx)("strong",{children:x}),":"]}),(0,r.jsx)("div",{className:"max-h-32 overflow-y-auto bg-gray-50 dark:bg-gray-900/50 rounded-lg p-3 space-y-1",children:d.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,r.jsx)(c.Building2,{className:"w-4 h-4 text-blue-500"}),(0,r.jsxs)("span",{children:[e.name," (",e.bmcId,")"]})]},e.id))})]}),(0,r.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,r.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer group",children:[(0,r.jsx)("input",{type:"checkbox",checked:b,onChange:e=>{var r;f(r=e.target.checked),r&&u(null),p(["","","","","",""]),k(!1),v(""),T(!1),C(!1)},className:"mt-0.5 w-4 h-4 text-red-600 border-red-300 rounded focus:ring-red-500 focus:ring-2 cursor-pointer"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-red-700 dark:text-red-300",children:"Delete All Data (Permanent)"}),(0,r.jsx)("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs font-bold rounded-full",children:"DANGER"})]}),(0,r.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200 mt-1",children:["Delete all BMCs, societies, farmers, machines, machine statistics, machine corrections, rate charts, collections, sales, dispatches, and section pulse data under this dairy.",(0,r.jsx)("strong",{className:"block mt-1",children:"This action cannot be undone!"})]}),b&&(0,r.jsxs)("div",{className:"mt-3 p-3 bg-red-100 dark:bg-red-900/40 rounded-lg",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-red-900 dark:text-red-100 mb-2",children:"âš ï¸ The following will be permanently deleted:"}),(0,r.jsxs)("ul",{className:"text-sm text-red-800 dark:text-red-200 mt-2 space-y-1 list-disc list-inside",children:[(0,r.jsxs)("li",{children:[d.length," BMC",1!==d.length?"s":""]}),(0,r.jsx)("li",{children:"All societies under these BMCs"}),(0,r.jsx)("li",{children:"All farmers under these societies"}),(0,r.jsx)("li",{children:"All machines linked to these societies"}),(0,r.jsx)("li",{children:"All machine statistics"}),(0,r.jsx)("li",{children:"All machine corrections (admin & device saved)"}),(0,r.jsx)("li",{children:"All rate charts and rate chart data"}),(0,r.jsx)("li",{children:"All milk collection records"}),(0,r.jsx)("li",{children:"All milk sales records"}),(0,r.jsx)("li",{children:"All milk dispatch records"}),(0,r.jsx)("li",{children:"All section pulse tracking data"}),(0,r.jsxs)("li",{children:["Dairy: ",(0,r.jsx)("strong",{children:x})]})]})]})]})]})}),!b&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Select New Dairy for BMC Transfer:"}),(0,r.jsxs)("select",{value:g||"",onChange:e=>u(Number(e.target.value)),className:"w-full px-4 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"-- Select a dairy --"}),D.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),0===D.length&&(0,r.jsx)("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:"No other dairies available. You must delete all data instead."})]}),j&&(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Mail,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,r.jsxs)("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:["OTP sent to: ",h]})]}),(0,r.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Please enter the 6-digit verification code to confirm ",b?"deletion":"transfer and deletion",":"]}),(0,r.jsx)("div",{className:"flex gap-2 justify-center",onPaste:e=>{e.preventDefault();let r=e.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(r))return;let t=[...y];r.split("").forEach((e,r)=>{r<6&&(t[r]=e)}),p(t);let s=Math.min(r.length,5);S.current[s]?.focus()},children:y.map((e,t)=>(0,r.jsx)("input",{ref:e=>{S.current[t]=e},type:"text",maxLength:1,value:e,onChange:e=>((e,r)=>{if(r&&!/^\d$/.test(r))return;let t=[...y];t[e]=r,p(t),v(""),r&&e<5&&S.current[e+1]?.focus()})(t,e.target.value),onKeyDown:e=>{"Backspace"===e.key&&!y[t]&&t>0&&S.current[t-1]?.focus()},className:"w-12 h-12 text-center text-xl font-bold bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-gray-100"},t))}),N&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[(0,r.jsx)(a.AlertTriangle,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:N})]}),(0,r.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"OTP is valid for 10 minutes. Didn't receive it? Close and try again."})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 bg-gray-50 dark:bg-gray-900/50 flex flex-col sm:flex-row gap-3 justify-end",children:[(0,r.jsx)("button",{onClick:l,className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg font-medium transition-colors",children:"Cancel"}),b?(0,r.jsx)("button",{onClick:A,disabled:P||j&&!M,className:"px-6 py-2.5 bg-red-600 hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending OTP..."]}):j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.AlertTriangle,{className:"w-4 h-4"}),"Verify OTP & Delete All"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Mail,{className:"w-4 h-4"}),"Send OTP & Confirm Delete"]})}):(0,r.jsx)("button",{onClick:A,disabled:!g||P||j&&!M,className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending OTP..."]}):j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.AlertTriangle,{className:"w-4 h-4"}),"Verify OTP & Transfer"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Mail,{className:"w-4 h-4"}),"Send OTP & Confirm Transfer"]})})]})]})}):null}e.s(["default",()=>x],784623)}]);