{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/EntityManager.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Plus, Search, Edit, Trash2, Eye } from 'lucide-react';\r\nimport EntityForm from '@/components/forms/EntityForm';\r\nimport { FlowerSpinner } from '@/components';\r\n\r\ninterface Entity {\r\n  id: number;\r\n  name: string;\r\n  dairy_id?: string;\r\n  bmc_id?: string;\r\n  society_id?: string;\r\n  dairyId?: string;\r\n  bmcId?: string;\r\n  societyId?: string;\r\n  location?: string;\r\n  capacity?: number;\r\n  contact_person?: string;\r\n  president_name?: string;\r\n}\r\n\r\ninterface EntityManagerProps {\r\n  entityType: 'dairy' | 'bmc' | 'society';\r\n  title: string;\r\n  icon: React.ReactNode;\r\n  apiEndpoint: string;\r\n}\r\n\r\nconst entityConfigs = {\r\n  dairy: {\r\n    fields: [\r\n      { name: 'name', label: 'Dairy Name', type: 'text' as const, required: true, placeholder: 'Enter dairy name' },\r\n      { name: 'dairyId', label: 'Dairy ID', type: 'text' as const, required: true, placeholder: 'Enter unique dairy ID' },\r\n      { name: 'password', label: 'Password', type: 'password' as const, required: true, placeholder: 'Enter secure password' },\r\n      { name: 'location', label: 'Location', type: 'text' as const, placeholder: 'Enter location (optional)' },\r\n      { name: 'contactPerson', label: 'Contact Person', type: 'text' as const, placeholder: 'Enter contact person name' },\r\n      { name: 'phone', label: 'Phone', type: 'tel' as const, placeholder: 'Enter phone number' },\r\n      { name: 'email', label: 'Email', type: 'email' as const, placeholder: 'Enter email address' }\r\n    ]\r\n  },\r\n  bmc: {\r\n    fields: [\r\n      { name: 'name', label: 'BMC Name', type: 'text' as const, required: true, placeholder: 'Enter BMC name' },\r\n      { name: 'bmcId', label: 'BMC ID', type: 'text' as const, required: true, placeholder: 'Enter unique BMC ID' },\r\n      { name: 'password', label: 'Password', type: 'password' as const, required: true, placeholder: 'Enter secure password' },\r\n      { name: 'location', label: 'Location', type: 'text' as const, placeholder: 'Enter location (optional)' },\r\n      { name: 'capacity', label: 'Capacity (Liters)', type: 'number' as const, placeholder: 'Enter capacity in liters' },\r\n      { name: 'dairyFarmId', label: 'Dairy Farm', type: 'select' as const, options: [] }\r\n    ]\r\n  },\r\n  society: {\r\n    fields: [\r\n      { name: 'name', label: 'Society Name', type: 'text' as const, required: true, placeholder: 'Enter society name' },\r\n      { name: 'societyId', label: 'Society ID', type: 'text' as const, required: true, placeholder: 'Enter unique society ID' },\r\n      { name: 'password', label: 'Password', type: 'password' as const, required: true, placeholder: 'Enter secure password' },\r\n      { name: 'location', label: 'Location', type: 'text' as const, placeholder: 'Enter location (optional)' },\r\n      { name: 'presidentName', label: 'President Name', type: 'text' as const, placeholder: 'Enter president name' },\r\n      { name: 'contactPhone', label: 'Contact Phone', type: 'tel' as const, placeholder: 'Enter contact phone' },\r\n      { name: 'bmcId', label: 'BMC', type: 'select' as const, options: [] }\r\n    ]\r\n  }\r\n};\r\n\r\nexport default function EntityManager({ entityType, title, icon, apiEndpoint }: EntityManagerProps) {\r\n  const [entities, setEntities] = useState<Entity[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [dairyFarms, setDairyFarms] = useState([]);\r\n  const [bmcs, setBmcs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      await fetchEntities();\r\n      if (entityType === 'bmc') {\r\n        await fetchDairyFarms();\r\n      } else if (entityType === 'society') {\r\n        await fetchBmcs();\r\n      }\r\n    };\r\n    loadData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [entityType, apiEndpoint]);\r\n\r\n  const fetchEntities = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/user/${apiEndpoint}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setEntities(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error fetching ${entityType}s:`, error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchDairyFarms = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/user/dairy', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setDairyFarms(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching dairy farms:', error);\r\n    }\r\n  };\r\n\r\n  const fetchBmcs = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/user/bmc', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setBmcs(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching BMCs:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (formData: Record<string, string | number>) => {\r\n    try {\r\n      setFormLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      const response = await fetch(`/api/user/${apiEndpoint}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        setShowForm(false);\r\n        await fetchEntities();\r\n        // Show success message\r\n        alert(`${title} added successfully!`);\r\n      } else {\r\n        const error = await response.json();\r\n        alert(error.error || `Failed to add ${entityType}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error adding ${entityType}:`, error);\r\n      alert(`Failed to add ${entityType}`);\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredEntities = entities.filter(entity =>\r\n    entity.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Prepare form fields with options\r\n  const formConfig = { ...entityConfigs[entityType] };\r\n  if (entityType === 'bmc') {\r\n    const dairyField = formConfig.fields.find(f => f.name === 'dairyFarmId');\r\n    if (dairyField) {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      (dairyField as any).options = dairyFarms.map((dairy: Entity) => ({\r\n        value: dairy.id,\r\n        label: dairy.name\r\n      }));\r\n    }\r\n  } else if (entityType === 'society') {\r\n    const bmcField = formConfig.fields.find(f => f.name === 'bmcId');\r\n    if (bmcField) {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      (bmcField as any).options = bmcs.map((bmc: Entity) => ({\r\n        value: bmc.id,\r\n        label: bmc.name\r\n      }));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          {icon}\r\n          <h2 className=\"text-2xl font-bold text-gray-800\">{title}</h2>\r\n          <span className=\"px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full text-sm font-medium\">\r\n            {entities.length}\r\n          </span>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowForm(true)}\r\n          className=\"px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors flex items-center gap-2\"\r\n        >\r\n          <Plus size={18} />\r\n          Add {title}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <div className=\"relative mb-6\">\r\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\r\n        <input\r\n          type=\"text\"\r\n          placeholder={`Search ${title.toLowerCase()}s...`}\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200\"\r\n          style={{ \r\n            color: '#111827',\r\n            backgroundColor: '#ffffff',\r\n            WebkitTextFillColor: '#111827'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Loading State */}\r\n      {loading ? (\r\n        <div className=\"flex items-center justify-center py-12\">\r\n          <FlowerSpinner size={32} />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Entities Grid */}\r\n          {filteredEntities.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {filteredEntities.map((entity) => (\r\n                <motion.div\r\n                  key={entity.id}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  className=\"p-4 border border-gray-200 rounded-xl hover:border-emerald-300 transition-colors group\"\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <h3 className=\"font-semibold text-gray-800 truncate\">{entity.name}</h3>\r\n                    <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                      <button className=\"p-1 text-gray-400 hover:text-emerald-600 transition-colors\">\r\n                        <Eye size={16} />\r\n                      </button>\r\n                      <button className=\"p-1 text-gray-400 hover:text-green-600 transition-colors\">\r\n                        <Edit size={16} />\r\n                      </button>\r\n                      <button className=\"p-1 text-gray-400 hover:text-red-600 transition-colors\">\r\n                        <Trash2 size={16} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-2 text-sm text-gray-600\">\r\n                    <p><span className=\"font-medium\">ID:</span> {entity[`${entityType}_id`] || entity[`${entityType}Id`]}</p>\r\n                    {entity.location && <p><span className=\"font-medium\">Location:</span> {entity.location}</p>}\r\n                    {entity.capacity && <p><span className=\"font-medium\">Capacity:</span> {entity.capacity}L</p>}\r\n                    {entity.contact_person && <p><span className=\"font-medium\">Contact:</span> {entity.contact_person}</p>}\r\n                    {entity.president_name && <p><span className=\"font-medium\">President:</span> {entity.president_name}</p>}\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"text-gray-400 mb-2\">{icon}</div>\r\n              <h3 className=\"text-lg font-medium text-gray-600 mb-2\">No {title}s Found</h3>\r\n              <p className=\"text-gray-500 mb-4\">\r\n                {searchTerm \r\n                  ? `No ${title.toLowerCase()}s match your search.` \r\n                  : `Start by adding your first ${title.toLowerCase()}.`\r\n                }\r\n              </p>\r\n              {!searchTerm && (\r\n                <button\r\n                  onClick={() => setShowForm(true)}\r\n                  className=\"px-6 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors\"\r\n                >\r\n                  Add {title}\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Add Form Modal */}\r\n      <AnimatePresence>\r\n        {showForm && (\r\n          <EntityForm\r\n            title={`Add New ${title}`}\r\n            fields={formConfig.fields}\r\n            onSubmit={handleSubmit}\r\n            onCancel={() => setShowForm(false)}\r\n            loading={formLoading}\r\n            submitText={`Add ${title}`}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 683, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/MachineManager.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n  Plus,\r\n  Upload,\r\n  Search,\r\n  Edit,\r\n  Trash2,\r\n  Settings,\r\n  FileText,\r\n  Check,\r\n  X,\r\n  AlertCircle,\r\n  RefreshCw\r\n} from 'lucide-react';\r\nimport { FlowerSpinner } from '@/components';\r\n\r\ninterface Machine {\r\n  id: number;\r\n  machineType: string;\r\n  description?: string;\r\n  isActive: boolean;\r\n  status?: 'active' | 'inactive' | 'maintenance' | 'suspended';\r\n}\r\n\r\ninterface MachineManagerProps {\r\n  onClose?: () => void;\r\n}\r\n\r\nconst MachineManager: React.FC<MachineManagerProps> = () => {\r\n  const [machines, setMachines] = useState<Machine[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [editingMachine, setEditingMachine] = useState<Machine | null>(null);\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [uploadLoading, setUploadLoading] = useState(false);\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n  const [openStatusDropdown, setOpenStatusDropdown] = useState<number | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    machineType: '',\r\n    description: '',\r\n    isActive: true,\r\n    status: 'active' as 'active' | 'inactive' | 'maintenance' | 'suspended'\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchMachines();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (openStatusDropdown !== null) {\r\n        const target = event.target as Element;\r\n        if (!target.closest('.status-dropdown')) {\r\n          setOpenStatusDropdown(null);\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [openStatusDropdown]);\r\n\r\n  const fetchMachines = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch('/api/superadmin/machines');\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setMachines(result.data.machines || []);\r\n      } else {\r\n        alert('Failed to fetch machines: ' + result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching machines:', error);\r\n      alert('Error fetching machines. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.machineType.trim()) {\r\n      alert('Machine type is required');\r\n      return;\r\n    }\r\n\r\n    setFormLoading(true);\r\n    \r\n    try {\r\n      const url = editingMachine ? '/api/superadmin/machines' : '/api/superadmin/machines';\r\n      const method = editingMachine ? 'PUT' : 'POST';\r\n      \r\n      const payload = editingMachine \r\n        ? { id: editingMachine.id, ...formData }\r\n        : formData;\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        await fetchMachines();\r\n        setShowAddForm(false);\r\n        setEditingMachine(null);\r\n        setFormData({ machineType: '', description: '', isActive: true, status: 'active' as 'active' | 'inactive' | 'maintenance' | 'suspended' });\r\n        alert(editingMachine ? 'Machine updated successfully!' : 'Machine created successfully!');\r\n      } else {\r\n        alert(`Failed to ${editingMachine ? 'update' : 'create'} machine: ` + result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving machine:', error);\r\n      alert('Error saving machine. Please try again.');\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Are you sure you want to permanently delete this machine? This action cannot be undone and will remove all associated data.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`/api/superadmin/machines?id=${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        await fetchMachines();\r\n        alert('Machine deleted successfully!');\r\n      } else {\r\n        alert('Failed to delete machine: ' + result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting machine:', error);\r\n      alert('Error deleting machine. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploadLoading(true);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n\r\n      const response = await fetch('/api/superadmin/machines/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        await fetchMachines();\r\n        setShowUploadModal(false);\r\n        alert(`Upload completed: ${result.data.success} created, ${result.data.duplicates} duplicates, ${result.data.failed} failed`);\r\n        \r\n        if (result.data.errors.length > 0) {\r\n          console.log('Upload errors:', result.data.errors);\r\n        }\r\n      } else {\r\n        alert('Failed to upload CSV: ' + result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading CSV:', error);\r\n      alert('Error uploading CSV. Please try again.');\r\n    } finally {\r\n      setUploadLoading(false);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (type: 'template' | 'export') => {\r\n    try {\r\n      const response = await fetch(`/api/superadmin/machines/download?type=${type}`);\r\n      \r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.style.display = 'none';\r\n        a.href = url;\r\n        a.download = type === 'template' ? 'machine_types_template.csv' : 'machine_types_export.csv';\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        alert('Failed to download file');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error downloading file:', error);\r\n      alert('Error downloading file. Please try again.');\r\n    }\r\n  };\r\n\r\n  const startEdit = (machine: Machine) => {\r\n    setEditingMachine(machine);\r\n    setFormData({\r\n      machineType: machine.machineType,\r\n      description: machine.description || '',\r\n      isActive: machine.isActive,\r\n      status: machine.status || (machine.isActive ? 'active' : 'inactive')\r\n    });\r\n    setShowAddForm(true);\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setEditingMachine(null);\r\n    setShowAddForm(false);\r\n    setFormData({ machineType: '', description: '', isActive: true, status: 'active' as 'active' | 'inactive' | 'maintenance' | 'suspended' });\r\n  };\r\n\r\n  const getStatusInfo = (machine: Machine) => {\r\n    const status = machine.status || (machine.isActive ? 'active' : 'inactive');\r\n    switch (status) {\r\n      case 'active':\r\n        return { label: 'Active', bgColor: 'bg-green-100', textColor: 'text-green-800' };\r\n      case 'inactive':\r\n        return { label: 'Inactive', bgColor: 'bg-red-100', textColor: 'text-red-800' };\r\n      case 'maintenance':\r\n        return { label: 'Maintenance', bgColor: 'bg-yellow-100', textColor: 'text-yellow-800' };\r\n      case 'suspended':\r\n        return { label: 'Suspended', bgColor: 'bg-orange-100', textColor: 'text-orange-800' };\r\n      default:\r\n        return { label: 'Unknown', bgColor: 'bg-gray-100', textColor: 'text-gray-800' };\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (machineId: number, newStatus: 'active' | 'inactive' | 'maintenance' | 'suspended') => {\r\n    try {\r\n      const isActive = newStatus === 'active';\r\n      const response = await fetch('/api/superadmin/machines', {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          id: machineId,\r\n          isActive,\r\n          status: newStatus\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMachines(machines.map(machine =>\r\n          machine.id === machineId\r\n            ? { ...machine, isActive, status: newStatus }\r\n            : machine\r\n        ));\r\n        setOpenStatusDropdown(null);\r\n      } else {\r\n        alert('Failed to update machine status');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating status:', error);\r\n      alert('Error updating machine status. Please try again.');\r\n    }\r\n  };\r\n\r\n  const filteredMachines = machines.filter(machine =>\r\n    machine.machineType.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    (machine.description && machine.description.toLowerCase().includes(searchTerm.toLowerCase()))\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"text-center\">\r\n          <FlowerSpinner size={48} />\r\n          <p className=\"mt-4 text-gray-600\">Loading machines...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n        <div>\r\n          <h3 className=\"text-2xl font-bold text-gray-900\">Machine Types</h3>\r\n          <p className=\"text-gray-600\">Manage dairy equipment machine types and models</p>\r\n        </div>\r\n        \r\n        <div className=\"flex flex-wrap gap-3\">\r\n          <button\r\n            onClick={() => setShowAddForm(true)}\r\n            className=\"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n          >\r\n            <Plus className=\"h-4 w-4\" />\r\n            <span>Add Machine</span>\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => setShowUploadModal(true)}\r\n            className=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            <Upload className=\"h-4 w-4\" />\r\n            <span>Bulk Upload</span>\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => handleDownload('export')}\r\n            className=\"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\r\n          >\r\n            <FileText className=\"h-4 w-4\" />\r\n            <span>Export</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <div className=\"relative\">\r\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search machine types...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n        />\r\n      </div>\r\n\r\n      {/* Machine List */}\r\n      <div className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Machine Type\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Description\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {filteredMachines.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={4} className=\"px-6 py-12 text-center\">\r\n                    <Settings className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\r\n                    <p className=\"text-gray-500\">No machines found</p>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredMachines.map((machine) => (\r\n                  <motion.tr\r\n                    key={machine.id}\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"hover:bg-gray-50\"\r\n                  >\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"font-medium text-gray-900\">{machine.machineType}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"text-sm text-gray-600\">{machine.description || '-'}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"relative status-dropdown\">\r\n                        {(() => {\r\n                          const statusInfo = getStatusInfo(machine);\r\n                          return (\r\n                            <button\r\n                              onClick={() => setOpenStatusDropdown(\r\n                                openStatusDropdown === machine.id ? null : machine.id\r\n                              )}\r\n                              className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer hover:opacity-80 transition-opacity ${statusInfo.bgColor} ${statusInfo.textColor}`}\r\n                            >\r\n                              {statusInfo.label}\r\n                              <svg className=\"ml-1 h-3 w-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                <path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                              </svg>\r\n                            </button>\r\n                          );\r\n                        })()}\r\n                        \r\n                        {openStatusDropdown === machine.id && (\r\n                          <motion.div \r\n                            initial={{ opacity: 0, y: -10 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -10 }}\r\n                            className=\"absolute top-full left-0 mt-1 w-32 bg-white border border-gray-200 rounded-lg shadow-lg z-50\">\r\n                            {['active', 'inactive', 'maintenance', 'suspended'].map((status) => {\r\n                              const statusInfo = getStatusInfo({ ...machine, status: status as 'active' | 'inactive' | 'maintenance' | 'suspended' });\r\n                              return (\r\n                                <button\r\n                                  key={status}\r\n                                  onClick={() => handleStatusChange(machine.id, status as 'active' | 'inactive' | 'maintenance' | 'suspended')}\r\n                                  className={`w-full text-left px-3 py-2 text-xs font-medium hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg ${statusInfo.textColor}`}\r\n                                >\r\n                                  <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs ${statusInfo.bgColor} ${statusInfo.textColor}`}>\r\n                                    {statusInfo.label}\r\n                                  </span>\r\n                                </button>\r\n                              );\r\n                            })}\r\n                          </motion.div>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-right\">\r\n                      <div className=\"flex items-center justify-end space-x-2\">\r\n                        <button\r\n                          onClick={() => startEdit(machine)}\r\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                        >\r\n                          <Edit className=\"h-4 w-4\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(machine.id)}\r\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </motion.tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add/Edit Form Modal */}\r\n      <AnimatePresence>\r\n        {showAddForm && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95, y: 50 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: 50 }}\r\n              className=\"bg-white rounded-2xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">\r\n                  {editingMachine ? 'Edit Machine' : 'Add New Machine'}\r\n                </h2>\r\n                <button\r\n                  onClick={cancelEdit}\r\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Machine Type\r\n                    <span className=\"text-red-500 ml-1\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.machineType}\r\n                    onChange={(e) => setFormData({ ...formData, machineType: e.target.value })}\r\n                    placeholder=\"e.g., ECOD, LSE-V3\"\r\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                    placeholder=\"Optional description...\"\r\n                    rows={3}\r\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all resize-none\"\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Status\r\n                  </label>\r\n                  <select\r\n                    value={formData.status}\r\n                    onChange={(e) => {\r\n                      const status = e.target.value as 'active' | 'inactive' | 'maintenance' | 'suspended';\r\n                      setFormData({ \r\n                        ...formData, \r\n                        status,\r\n                        isActive: status === 'active' \r\n                      });\r\n                    }}\r\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all\"\r\n                  >\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"inactive\">Inactive</option>\r\n                    <option value=\"maintenance\">Maintenance</option>\r\n                    <option value=\"suspended\">Suspended</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-3 pt-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={cancelEdit}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors\"\r\n                    disabled={formLoading}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={formLoading}\r\n                    className=\"flex-1 px-4 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                  >\r\n                    {formLoading ? (\r\n                      <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n                    ) : (\r\n                      <Check className=\"h-4 w-4\" />\r\n                    )}\r\n                    {formLoading ? 'Saving...' : (editingMachine ? 'Update' : 'Create')}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </motion.div>\r\n          </div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Upload Modal */}\r\n      <AnimatePresence>\r\n        {showUploadModal && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95, y: 50 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: 50 }}\r\n              className=\"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">Bulk Upload Machines</h2>\r\n                <button\r\n                  onClick={() => setShowUploadModal(false)}\r\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\r\n                  <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n                  <p className=\"text-sm text-gray-600 mb-2\">\r\n                    Upload a CSV file with machine types\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500 mb-4\">\r\n                    Format: One machine type per line or comma-separated\r\n                  </p>\r\n                  \r\n                  <input\r\n                    ref={fileInputRef}\r\n                    type=\"file\"\r\n                    accept=\".csv\"\r\n                    onChange={handleFileUpload}\r\n                    disabled={uploadLoading}\r\n                    className=\"hidden\"\r\n                  />\r\n                  \r\n                  <button\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    disabled={uploadLoading}\r\n                    className=\"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n                  >\r\n                    {uploadLoading ? (\r\n                      <>\r\n                        <RefreshCw className=\"h-4 w-4 animate-spin inline mr-2\" />\r\n                        Uploading...\r\n                      </>\r\n                    ) : (\r\n                      'Choose CSV File'\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"flex items-start space-x-2 text-sm text-amber-600 bg-amber-50 p-3 rounded-lg\">\r\n                  <AlertCircle className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\r\n                  <div>\r\n                    <p className=\"font-medium\">CSV Format:</p>\r\n                    <p className=\"text-xs mt-1\">\r\n                      First column should contain machine types. Header row is optional.\r\n                      Duplicate entries will be skipped.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    onClick={() => setShowUploadModal(false)}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleDownload('template')}\r\n                    className=\"flex-1 px-4 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors\"\r\n                  >\r\n                    Download Template\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MachineManager;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1934, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/LoadingSnackbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { FlowerSpinner } from '@/components';\r\n\r\ninterface LoadingSnackbarProps {\r\n  isVisible: boolean;\r\n  message: string;\r\n  submessage?: string;\r\n  progress?: number; // 0-100\r\n  showProgress?: boolean;\r\n}\r\n\r\n/**\r\n * Reusable loading snackbar with progress indicator\r\n * Appears in top-right corner\r\n */\r\nconst LoadingSnackbar: React.FC<LoadingSnackbarProps> = ({\r\n  isVisible,\r\n  message,\r\n  submessage = 'Please wait',\r\n  progress = 0,\r\n  showProgress = true\r\n}) => {\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div className=\"fixed top-6 right-6 z-[99999] bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 p-4 min-w-[320px] max-w-sm animate-slide-down\">\r\n      <div className=\"flex items-start space-x-3\">\r\n        <div className=\"flex-shrink-0\">\r\n          <FlowerSpinner size={24} />\r\n        </div>\r\n        <div className=\"flex-1 min-w-0\">\r\n          <p className=\"text-sm font-medium text-gray-900 dark:text-white mb-1\">\r\n            {message}\r\n          </p>\r\n          <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2\">\r\n            {submessage}\r\n          </p>\r\n          {showProgress && (\r\n            <>\r\n              {/* Progress Bar */}\r\n              <div className=\"relative w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\r\n                <div \r\n                  className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-300 ease-out rounded-full\"\r\n                  style={{ width: `${progress}%` }}\r\n                />\r\n              </div>\r\n              {/* Progress Percentage */}\r\n              <div className=\"flex justify-between items-center mt-1\">\r\n                <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                  Progress\r\n                </span>\r\n                <span className=\"text-xs font-semibold text-green-600 dark:text-green-400\">\r\n                  {Math.round(progress)}%\r\n                </span>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSnackbar;\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAaA;;;CAGC,GACD,MAAM,kBAAkD,CAAC,EACvD,SAAS,EACT,OAAO,EACP,aAAa,aAAa,EAC1B,WAAW,CAAC,EACZ,eAAe,IAAI,EACpB;IACC,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,8MAAa;wBAAC,MAAM;;;;;;;;;;;8BAEvB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;sCACV;;;;;;sCAEH,6LAAC;4BAAE,WAAU;sCACV;;;;;;wBAEF,8BACC;;8CAEE,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCACC,WAAU;wCACV,OAAO;4CAAE,OAAO,GAAG,SAAS,CAAC,CAAC;wCAAC;;;;;;;;;;;8CAInC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAA2C;;;;;;sDAG3D,6LAAC;4CAAK,WAAU;;gDACb,KAAK,KAAK,CAAC;gDAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASxC;KA9CM;uCAgDS","debugId":null}},
    {"offset": {"line": 2065, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/PageHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { RefreshCw, Plus } from 'lucide-react';\r\n\r\ninterface PageHeaderProps {\r\n  title: string;\r\n  subtitle: string;\r\n  icon: React.ReactNode;\r\n  refreshText?: string;\r\n  addButtonText?: string;\r\n  onRefresh?: () => void;\r\n  onAdd?: () => void;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable page header component with icon, title, subtitle and action buttons\r\n * Used across dairy, BMC, society, and machine management pages\r\n */\r\nconst PageHeader: React.FC<PageHeaderProps> = ({\r\n  title,\r\n  subtitle,\r\n  icon,\r\n  refreshText = 'Refresh',\r\n  addButtonText = 'Add',\r\n  onRefresh,\r\n  onAdd,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-4 sm:gap-0 sm:items-center sm:justify-between ${className}`}>\r\n      <div className=\"flex items-center space-x-2 sm:space-x-3\">\r\n        <div className=\"p-2 sm:p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg sm:rounded-xl\">\r\n          {icon}\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100\">\r\n            {title}\r\n          </h1>\r\n          <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-0.5 sm:mt-1\">\r\n            {subtitle}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto\">\r\n        {onRefresh && (\r\n          <button\r\n            onClick={onRefresh}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 py-2.5 text-sm sm:text-base text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\r\n          >\r\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n            {refreshText}\r\n          </button>\r\n        )}\r\n        {onAdd && (\r\n          <button\r\n            onClick={onAdd}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 sm:px-6 py-2.5 text-sm sm:text-base bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n          >\r\n            <Plus className=\"w-4 h-4 mr-2\" />\r\n            {addButtonText}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageHeader;"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAgBA;;;CAGC,GACD,MAAM,aAAwC,CAAC,EAC7C,KAAK,EACL,QAAQ,EACR,IAAI,EACJ,cAAc,SAAS,EACvB,gBAAgB,KAAK,EACrB,SAAS,EACT,KAAK,EACL,YAAY,EAAE,EACf;IACC,qBACE,6LAAC;QAAI,WAAW,CAAC,4EAA4E,EAAE,WAAW;;0BACxG,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACZ;;;;;;kCAEH,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CACX;;;;;;0CAEH,6LAAC;gCAAE,WAAU;0CACV;;;;;;;;;;;;;;;;;;0BAKP,6LAAC;gBAAI,WAAU;;oBACZ,2BACC,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC,gOAAS;gCAAC,WAAU;;;;;;4BACpB;;;;;;;oBAGJ,uBACC,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BACf;;;;;;;;;;;;;;;;;;;AAMb;KAhDM;uCAkDS","debugId":null}},
    {"offset": {"line": 2186, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/StatusMessage.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { CheckCircle, X, AlertCircle } from 'lucide-react';\r\n\r\ninterface StatusMessageProps {\r\n  success?: string;\r\n  error?: string;\r\n  className?: string;\r\n  onClose?: () => void;\r\n}\r\n\r\n/**\r\n * Reusable status message component for success and error notifications\r\n * Used across all management pages for consistent feedback\r\n * Styled as a modern snackbar with Material Design 3 principles\r\n */\r\nconst StatusMessage: React.FC<StatusMessageProps> = ({\r\n  success,\r\n  error,\r\n  className = '',\r\n  onClose\r\n}) => {\r\n  return (\r\n    <AnimatePresence>\r\n      {success && (\r\n        <motion.div\r\n          key=\"success-message\"\r\n          initial={{ opacity: 0, x: 400 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          exit={{ opacity: 0, x: 400 }}\r\n          transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n          className={`fixed top-6 right-6 z-[99999] flex items-center gap-3 p-4 pr-12 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 border-l-4 border-green-600 dark:border-green-500 text-green-800 dark:text-green-200 rounded-lg shadow-lg shadow-green-500/20 dark:shadow-green-500/10 backdrop-blur-sm max-w-md ${className}`}\r\n        >\r\n          <div className=\"flex-shrink-0 p-1 bg-green-100 dark:bg-green-900/50 rounded-full\">\r\n            <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n          </div>\r\n          <p className=\"flex-1 font-medium text-sm\">{success}</p>\r\n          {onClose && (\r\n            <button\r\n              onClick={onClose}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-green-100 dark:hover:bg-green-900/50 rounded-full transition-colors\"\r\n              aria-label=\"Close notification\"\r\n            >\r\n              <X className=\"w-4 h-4 text-green-600 dark:text-green-400\" />\r\n            </button>\r\n          )}\r\n        </motion.div>\r\n      )}\r\n      {error && (\r\n        <motion.div\r\n          key=\"error-message\"\r\n          initial={{ opacity: 0, x: 400 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          exit={{ opacity: 0, x: 400 }}\r\n          transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n          className={`fixed top-6 right-6 z-[99999] flex items-center gap-3 p-4 pr-12 bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/30 border-l-4 border-red-600 dark:border-red-500 text-red-800 dark:text-red-200 rounded-lg shadow-lg shadow-red-500/20 dark:shadow-red-500/10 backdrop-blur-sm max-w-md ${className}`}\r\n        >\r\n          <div className=\"flex-shrink-0 p-1 bg-red-100 dark:bg-red-900/50 rounded-full\">\r\n            <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400\" />\r\n          </div>\r\n          <p className=\"flex-1 font-medium text-sm\">{error}</p>\r\n          {onClose && (\r\n            <button\r\n              onClick={onClose}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full transition-colors\"\r\n              aria-label=\"Close notification\"\r\n            >\r\n              <X className=\"w-4 h-4 text-red-600 dark:text-red-400\" />\r\n            </button>\r\n          )}\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default StatusMessage;"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAAA;AAAA;AAJA;;;;AAaA;;;;CAIC,GACD,MAAM,gBAA8C,CAAC,EACnD,OAAO,EACP,KAAK,EACL,YAAY,EAAE,EACd,OAAO,EACR;IACC,qBACE,6LAAC,+MAAe;;YACb,yBACC,6LAAC,uMAAM,CAAC,GAAG;gBAET,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAI;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG;gBAAI;gBAC3B,YAAY;oBAAE,MAAM;oBAAU,WAAW;oBAAK,SAAS;gBAAG;gBAC1D,WAAW,CAAC,4UAA4U,EAAE,WAAW;;kCAErW,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,6OAAW;4BAAC,WAAU;;;;;;;;;;;kCAEzB,6LAAC;wBAAE,WAAU;kCAA8B;;;;;;oBAC1C,yBACC,6LAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,6LAAC,oMAAC;4BAAC,WAAU;;;;;;;;;;;;eAjBb;;;;;YAsBP,uBACC,6LAAC,uMAAM,CAAC,GAAG;gBAET,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAI;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG;gBAAI;gBAC3B,YAAY;oBAAE,MAAM;oBAAU,WAAW;oBAAK,SAAS;gBAAG;gBAC1D,WAAW,CAAC,sTAAsT,EAAE,WAAW;;kCAE/U,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,sOAAW;4BAAC,WAAU;;;;;;;;;;;kCAEzB,6LAAC;wBAAE,WAAU;kCAA8B;;;;;;oBAC1C,yBACC,6LAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,6LAAC,oMAAC;4BAAC,WAAU;;;;;;;;;;;;eAjBb;;;;;;;;;;;AAwBd;KA1DM;uCA4DS","debugId":null}},
    {"offset": {"line": 2353, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/StatsCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface StatsCardProps {\r\n  title: string;\r\n  value: number | string;\r\n  icon: React.ReactNode;\r\n  color?: 'green' | 'red' | 'yellow' | 'blue' | 'gray';\r\n  className?: string;\r\n  onClick?: () => void;\r\n  clickable?: boolean;\r\n  isActive?: boolean;\r\n}\r\n\r\n/**\r\n * Reusable statistics card component\r\n * Used across all management pages for displaying key metrics\r\n */\r\nconst StatsCard: React.FC<StatsCardProps> = ({\r\n  title,\r\n  value,\r\n  icon,\r\n  color = 'green',\r\n  className = '',\r\n  onClick,\r\n  clickable = false,\r\n  isActive = false\r\n}) => {\r\n  const getColorClasses = (color: string) => {\r\n    switch (color) {\r\n      case 'green':\r\n        return {\r\n          bg: 'bg-green-100 dark:bg-green-900/30',\r\n          text: 'text-green-600 dark:text-green-400',\r\n          valueText: 'text-green-600 dark:text-green-400'\r\n        };\r\n      case 'red':\r\n        return {\r\n          bg: 'bg-red-100 dark:bg-red-900/30',\r\n          text: 'text-red-600 dark:text-red-400',\r\n          valueText: 'text-red-600 dark:text-red-400'\r\n        };\r\n      case 'yellow':\r\n        return {\r\n          bg: 'bg-yellow-100 dark:bg-yellow-900/30',\r\n          text: 'text-yellow-600 dark:text-yellow-400',\r\n          valueText: 'text-yellow-600 dark:text-yellow-400'\r\n        };\r\n      case 'blue':\r\n        return {\r\n          bg: 'bg-blue-100 dark:bg-blue-900/30',\r\n          text: 'text-blue-600 dark:text-blue-400',\r\n          valueText: 'text-blue-600 dark:text-blue-400'\r\n        };\r\n      default:\r\n        return {\r\n          bg: 'bg-gray-100 dark:bg-gray-900/30',\r\n          text: 'text-gray-600 dark:text-gray-400',\r\n          valueText: 'text-gray-900 dark:text-gray-100'\r\n        };\r\n    }\r\n  };\r\n\r\n  const colorClasses = getColorClasses(color);\r\n\r\n  const getActiveClasses = () => {\r\n    if (!isActive) return '';\r\n    \r\n    switch (color) {\r\n      case 'green':\r\n        return 'ring-2 ring-green-500 bg-green-50 dark:bg-green-900/20';\r\n      case 'red':\r\n        return 'ring-2 ring-red-500 bg-red-50 dark:bg-red-900/20';\r\n      case 'yellow':\r\n        return 'ring-2 ring-yellow-500 bg-yellow-50 dark:bg-yellow-900/20';\r\n      case 'blue':\r\n        return 'ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20';\r\n      default:\r\n        return 'ring-2 ring-gray-500 bg-gray-50 dark:bg-gray-900/20';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`bg-white dark:bg-gray-800 p-4 sm:p-5 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm transition-all ${\r\n        clickable ? 'cursor-pointer hover:shadow-lg hover:scale-105' : ''\r\n      } ${getActiveClasses()} ${className}`}\r\n      onClick={onClick}\r\n      role={clickable ? 'button' : undefined}\r\n      tabIndex={clickable ? 0 : undefined}\r\n      onKeyDown={clickable ? (e) => e.key === 'Enter' && onClick?.() : undefined}\r\n    >\r\n      <div className=\"flex flex-col gap-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className={`p-1 rounded-lg ${colorClasses.bg} flex-shrink-0`}>\r\n            <div className={`w-3 h-3 ${colorClasses.text}`}>\r\n              {icon}\r\n            </div>\r\n          </div>\r\n          <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 whitespace-nowrap overflow-hidden text-ellipsis\">\r\n            {title}\r\n          </p>\r\n        </div>\r\n        <p className={`text-xl sm:text-2xl font-bold ${colorClasses.valueText} leading-none overflow-hidden text-ellipsis`}>\r\n          {value}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatsCard;"],"names":[],"mappings":";;;;;AAAA;;AAeA;;;CAGC,GACD,MAAM,YAAsC,CAAC,EAC3C,KAAK,EACL,KAAK,EACL,IAAI,EACJ,QAAQ,OAAO,EACf,YAAY,EAAE,EACd,OAAO,EACP,YAAY,KAAK,EACjB,WAAW,KAAK,EACjB;IACC,MAAM,kBAAkB,CAAC;QACvB,OAAQ;YACN,KAAK;gBACH,OAAO;oBACL,IAAI;oBACJ,MAAM;oBACN,WAAW;gBACb;YACF,KAAK;gBACH,OAAO;oBACL,IAAI;oBACJ,MAAM;oBACN,WAAW;gBACb;YACF,KAAK;gBACH,OAAO;oBACL,IAAI;oBACJ,MAAM;oBACN,WAAW;gBACb;YACF,KAAK;gBACH,OAAO;oBACL,IAAI;oBACJ,MAAM;oBACN,WAAW;gBACb;YACF;gBACE,OAAO;oBACL,IAAI;oBACJ,MAAM;oBACN,WAAW;gBACb;QACJ;IACF;IAEA,MAAM,eAAe,gBAAgB;IAErC,MAAM,mBAAmB;QACvB,IAAI,CAAC,UAAU,OAAO;QAEtB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QACC,WAAW,CAAC,qHAAqH,EAC/H,YAAY,mDAAmD,GAChE,CAAC,EAAE,mBAAmB,CAAC,EAAE,WAAW;QACrC,SAAS;QACT,MAAM,YAAY,WAAW;QAC7B,UAAU,YAAY,IAAI;QAC1B,WAAW,YAAY,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW,cAAc;kBAEjE,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAW,CAAC,eAAe,EAAE,aAAa,EAAE,CAAC,cAAc,CAAC;sCAC/D,cAAA,6LAAC;gCAAI,WAAW,CAAC,QAAQ,EAAE,aAAa,IAAI,EAAE;0CAC3C;;;;;;;;;;;sCAGL,6LAAC;4BAAE,WAAU;sCACV;;;;;;;;;;;;8BAGL,6LAAC;oBAAE,WAAW,CAAC,8BAA8B,EAAE,aAAa,SAAS,CAAC,2CAA2C,CAAC;8BAC/G;;;;;;;;;;;;;;;;;AAKX;KA3FM;uCA6FS","debugId":null}},
    {"offset": {"line": 2486, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/FilterControls.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Building2 } from 'lucide-react';\r\n\r\ninterface FilterOption {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\ninterface FilterControlsProps {\r\n  icon?: React.ReactNode;\r\n  showingText: string;\r\n  filterLabel?: string;\r\n  filterValue: string;\r\n  filterOptions: FilterOption[];\r\n  onFilterChange: (value: string) => void;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable filter controls component\r\n * Used across all management pages for consistent filtering interface\r\n */\r\nconst FilterControls: React.FC<FilterControlsProps> = ({\r\n  icon = <Building2 className=\"w-4 h-4 flex-shrink-0\" />,\r\n  showingText,\r\n  filterLabel = 'Filter:',\r\n  filterValue,\r\n  filterOptions,\r\n  onFilterChange,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-3 sm:gap-0 sm:items-center sm:justify-between bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 ${className}`}>\r\n      <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n        {icon}\r\n        <span className=\"font-medium\">{showingText}</span>\r\n      </div>\r\n      \r\n      <div className=\"flex items-center space-x-2 sm:space-x-3\">\r\n        <label className=\"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex-shrink-0\">\r\n          {filterLabel}\r\n        </label>\r\n        <select\r\n          value={filterValue}\r\n          onChange={(e) => onFilterChange(e.target.value)}\r\n          className=\"flex-1 sm:flex-initial px-3 sm:px-4 py-2 !bg-white dark:!bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-xs sm:text-sm !text-gray-900 dark:!text-gray-100 focus:ring-2 focus:!ring-emerald-500 focus:!border-emerald-500 outline-none transition-all\"\r\n          style={{ \r\n            color: 'inherit',\r\n            outlineColor: '#059669 !important',\r\n            boxShadow: 'none'\r\n          }}\r\n        >\r\n          {filterOptions.map((option) => (\r\n            <option \r\n              key={option.value} \r\n              value={option.value}\r\n              className=\"!bg-white dark:!bg-gray-900 !text-gray-900 dark:!text-gray-100\" \r\n              style={{ color: '#1f2937' }}\r\n            >\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterControls;"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAoBA;;;CAGC,GACD,MAAM,iBAAgD,CAAC,EACrD,qBAAO,6LAAC,gOAAS;IAAC,WAAU;;;;;4CAA0B,EACtD,WAAW,EACX,cAAc,SAAS,EACvB,WAAW,EACX,aAAa,EACb,cAAc,EACd,YAAY,EAAE,EACf;IACC,qBACE,6LAAC;QAAI,WAAW,CAAC,sLAAsL,EAAE,WAAW;;0BAClN,6LAAC;gBAAI,WAAU;;oBACZ;kCACD,6LAAC;wBAAK,WAAU;kCAAe;;;;;;;;;;;;0BAGjC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,WAAU;kCACd;;;;;;kCAEH,6LAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,WAAU;wBACV,OAAO;4BACL,OAAO;4BACP,cAAc;4BACd,WAAW;wBACb;kCAEC,cAAc,GAAG,CAAC,CAAC,uBAClB,6LAAC;gCAEC,OAAO,OAAO,KAAK;gCACnB,WAAU;gCACV,OAAO;oCAAE,OAAO;gCAAU;0CAEzB,OAAO,KAAK;+BALR,OAAO,KAAK;;;;;;;;;;;;;;;;;;;;;;AAY/B;KA5CM;uCA8CS","debugId":null}},
    {"offset": {"line": 2587, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/StatusDropdown.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface StatusOption {\r\n  status: string;\r\n  label: string;\r\n  color: string;\r\n  bgColor: string;\r\n}\r\n\r\ninterface StatusDropdownProps {\r\n  currentStatus: string;\r\n  onStatusChange: (status: string) => void;\r\n  options?: StatusOption[];\r\n  className?: string;\r\n  compact?: boolean;\r\n}\r\n\r\nconst defaultStatusOptions: StatusOption[] = [\r\n  {\r\n    status: 'active',\r\n    label: 'Active',\r\n    color: 'bg-green-500',\r\n    bgColor: 'hover:bg-green-50 dark:hover:bg-green-900/30'\r\n  },\r\n  {\r\n    status: 'inactive',\r\n    label: 'Inactive',\r\n    color: 'bg-red-500',\r\n    bgColor: 'hover:bg-red-50 dark:hover:bg-red-900/30'\r\n  },\r\n  {\r\n    status: 'suspended',\r\n    label: 'Suspended',\r\n    color: 'bg-yellow-500',\r\n    bgColor: 'hover:bg-yellow-50 dark:hover:bg-yellow-900/30'\r\n  },\r\n  {\r\n    status: 'maintenance',\r\n    label: 'Maintenance',\r\n    color: 'bg-blue-500',\r\n    bgColor: 'hover:bg-blue-50 dark:hover:bg-blue-900/30'\r\n  }\r\n];\r\n\r\n/**\r\n * Reusable status dropdown component\r\n * Used across all management pages for changing item status\r\n */\r\nconst StatusDropdown: React.FC<StatusDropdownProps> = ({\r\n  currentStatus,\r\n  onStatusChange,\r\n  options = defaultStatusOptions,\r\n  className = '',\r\n  compact = false\r\n}) => {\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'active': \r\n        return 'bg-green-600 hover:bg-green-700 text-white';\r\n      case 'inactive': \r\n        return 'bg-red-600 hover:bg-red-700 text-white';\r\n      case 'maintenance': \r\n        return 'bg-yellow-600 hover:bg-yellow-700 text-white';\r\n      case 'suspended': \r\n        return 'bg-orange-600 hover:bg-orange-700 text-white';\r\n      default: \r\n        return 'bg-gray-600 hover:bg-gray-700 text-white';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`relative group ${className}`}>\r\n      <button\r\n        className={`${compact ? 'px-3 py-1.5' : 'px-3 py-1.5'} text-xs font-medium rounded-lg transition-colors flex items-center space-x-1 ${getStatusColor(currentStatus)}`}\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          const btn = e.currentTarget;\r\n          const dropdown = btn.nextElementSibling as HTMLElement;\r\n          if (dropdown) {\r\n            dropdown.classList.toggle('hidden');\r\n          }\r\n        }}\r\n      >\r\n        <span>{currentStatus.charAt(0).toUpperCase() + currentStatus.slice(1)}</span>\r\n        <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n        </svg>\r\n      </button>\r\n      <div className=\"hidden absolute right-0 bottom-full mb-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 min-w-[140px]\">\r\n        {options.map((option, index) => (\r\n          <button\r\n            key={option.status}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onStatusChange(option.status);\r\n              (e.currentTarget.parentElement as HTMLElement).classList.add('hidden');\r\n            }}\r\n            className={`w-full px-3 py-2 text-left text-sm ${option.bgColor} text-gray-700 dark:text-gray-300 flex items-center space-x-2 ${\r\n              index === 0 ? 'rounded-t-lg' : ''\r\n            } ${index === options.length - 1 ? 'rounded-b-lg' : ''}`}\r\n          >\r\n            <span className={`w-2 h-2 rounded-full ${option.color}`}></span>\r\n            <span>{option.label}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusDropdown;"],"names":[],"mappings":";;;;;AAAA;;AAmBA,MAAM,uBAAuC;IAC3C;QACE,QAAQ;QACR,OAAO;QACP,OAAO;QACP,SAAS;IACX;IACA;QACE,QAAQ;QACR,OAAO;QACP,OAAO;QACP,SAAS;IACX;IACA;QACE,QAAQ;QACR,OAAO;QACP,OAAO;QACP,SAAS;IACX;IACA;QACE,QAAQ;QACR,OAAO;QACP,OAAO;QACP,SAAS;IACX;CACD;AAED;;;CAGC,GACD,MAAM,iBAAgD,CAAC,EACrD,aAAa,EACb,cAAc,EACd,UAAU,oBAAoB,EAC9B,YAAY,EAAE,EACd,UAAU,KAAK,EAChB;IACC,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAC,eAAe,EAAE,WAAW;;0BAC3C,6LAAC;gBACC,WAAW,GAAG,UAAU,gBAAgB,cAAc,8EAA8E,EAAE,eAAe,gBAAgB;gBACrK,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB,MAAM,MAAM,EAAE,aAAa;oBAC3B,MAAM,WAAW,IAAI,kBAAkB;oBACvC,IAAI,UAAU;wBACZ,SAAS,SAAS,CAAC,MAAM,CAAC;oBAC5B;gBACF;;kCAEA,6LAAC;kCAAM,cAAc,MAAM,CAAC,GAAG,WAAW,KAAK,cAAc,KAAK,CAAC;;;;;;kCACnE,6LAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCACjE,cAAA,6LAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;;0BAGzE,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,6LAAC;wBAEC,SAAS,CAAC;4BACR,EAAE,eAAe;4BACjB,eAAe,OAAO,MAAM;4BAC3B,EAAE,aAAa,CAAC,aAAa,CAAiB,SAAS,CAAC,GAAG,CAAC;wBAC/D;wBACA,WAAW,CAAC,mCAAmC,EAAE,OAAO,OAAO,CAAC,8DAA8D,EAC5H,UAAU,IAAI,iBAAiB,GAChC,CAAC,EAAE,UAAU,QAAQ,MAAM,GAAG,IAAI,iBAAiB,IAAI;;0CAExD,6LAAC;gCAAK,WAAW,CAAC,qBAAqB,EAAE,OAAO,KAAK,EAAE;;;;;;0CACvD,6LAAC;0CAAM,OAAO,KAAK;;;;;;;uBAXd,OAAO,MAAM;;;;;;;;;;;;;;;;AAiB9B;KA5DM;uCA8DS","debugId":null}},
    {"offset": {"line": 2738, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/ItemCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Edit3, Trash2, Eye, Lock } from 'lucide-react';\r\nimport StatusDropdown from './StatusDropdown';\r\n\r\ninterface DetailItem {\r\n  icon: React.ReactNode;\r\n  text: string | React.ReactNode;\r\n  show?: boolean;\r\n  highlight?: boolean; // New property for highlighting\r\n  className?: string; // Custom className for styling\r\n}\r\n\r\n// Helper function to highlight matching text\r\nconst highlightText = (text: string, searchQuery: string) => {\r\n  if (!searchQuery) return text;\r\n  \r\n  const regex = new RegExp(`(${searchQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\r\n  const parts = text.split(regex);\r\n  \r\n  return parts.map((part, index) => \r\n    regex.test(part) ? (\r\n      <span key={index} className=\"bg-yellow-200 dark:bg-yellow-800 px-0.5 rounded\">\r\n        {part}\r\n      </span>\r\n    ) : (\r\n      part\r\n    )\r\n  );\r\n};\r\n\r\ninterface ItemCardProps {\r\n  id: string | number;\r\n  name: string;\r\n  identifier: string;\r\n  status: string;\r\n  icon: React.ReactNode;\r\n  details: DetailItem[];\r\n  onEdit: () => void;\r\n  onDelete: () => void;\r\n  onView: () => void;\r\n  onStatusChange?: (status: string) => void;\r\n  onPasswordSettings?: () => void;\r\n  editTitle?: string;\r\n  deleteTitle?: string;\r\n  viewText?: string;\r\n  passwordTitle?: string;\r\n  className?: string;\r\n  // Badge support (e.g., for master machine)\r\n  badge?: {\r\n    text: string;\r\n    color: string;\r\n    onClick?: () => void; // Make badge clickable\r\n  };\r\n  // Selection support\r\n  selectable?: boolean;\r\n  selected?: boolean;\r\n  onSelect?: () => void;\r\n  // Search highlighting\r\n  searchQuery?: string;\r\n  // Display options\r\n  showStatus?: boolean;\r\n}\r\n\r\n/**\r\n * Reusable item card component for displaying management items\r\n * Used across dairy, BMC, society, and machine management\r\n */\r\nconst ItemCard: React.FC<ItemCardProps> = ({\r\n  id,\r\n  name,\r\n  identifier,\r\n  status,\r\n  icon,\r\n  details,\r\n  onEdit,\r\n  onDelete,\r\n  onView,\r\n  onStatusChange,\r\n  onPasswordSettings,\r\n  editTitle = 'Edit',\r\n  deleteTitle = 'Delete',\r\n  viewText = 'View Details',\r\n  passwordTitle = 'Password Settings',\r\n  className = '',\r\n  badge,\r\n  selectable = false,\r\n  selected = false,\r\n  onSelect,\r\n  searchQuery = '',\r\n  showStatus = true\r\n}) => {\r\n  return (\r\n    <motion.div\r\n      key={id}\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className={`relative bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-lg transition-all duration-200 hover:border-green-200 dark:hover:border-green-700 flex flex-col ${selected ? 'ring-2 ring-green-500 border-green-500' : ''} ${className}`}\r\n    >\r\n      <div className=\"p-4 sm:p-6 flex flex-col flex-1\">\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between mb-3 sm:mb-4\">\r\n          <div className=\"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1\">\r\n            {selectable && (\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={selected}\r\n                onChange={onSelect}\r\n                className=\"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n            )}\r\n            <div className=\"p-1.5 sm:p-2 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg flex-shrink-0\">\r\n              <div className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-400\">\r\n                {icon}\r\n              </div>\r\n            </div>\r\n            <div className=\"min-w-0 flex-1\">\r\n              <div className=\"flex items-center gap-2 flex-wrap\">\r\n                <h3 className=\"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100 truncate\">\r\n                  {highlightText(name, searchQuery)}\r\n                </h3>\r\n                {badge && (\r\n                  <span \r\n                    className={`px-2 py-0.5 text-xs font-semibold rounded-full border shadow-sm ${badge.color} ${badge.onClick ? 'cursor-pointer hover:opacity-80 transition-opacity' : ''}`}\r\n                    onClick={(e) => {\r\n                      if (badge.onClick) {\r\n                        e.stopPropagation();\r\n                        badge.onClick();\r\n                      }\r\n                    }}\r\n                    title={badge.onClick ? 'Click to change master machine' : undefined}\r\n                  >\r\n                    {badge.text}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n                {highlightText(identifier, searchQuery)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {showStatus && onStatusChange && (\r\n            <StatusDropdown\r\n              currentStatus={status}\r\n              onStatusChange={onStatusChange}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Details */}\r\n        <div className=\"space-y-2 sm:space-y-3 mb-3 sm:mb-4 flex-1\">\r\n          {details.map((detail, index) => (\r\n            detail.show !== false && (\r\n              <div key={index} className={`flex items-center text-xs sm:text-sm ${\r\n                detail.highlight \r\n                  ? 'text-green-600 dark:text-green-400 font-medium' \r\n                  : detail.className || 'text-gray-600 dark:text-gray-400'\r\n              }`}>\r\n                <div className={`w-3.5 h-3.5 sm:w-4 sm:h-4 mr-2 flex-shrink-0 ${\r\n                  detail.highlight ? 'text-green-600 dark:text-green-400' : ''\r\n                }`}>\r\n                  {detail.icon}\r\n                </div>\r\n                <span className={typeof detail.text === 'string' && (detail.text.includes('@') || detail.text.length > 30) ? 'truncate' : ''}>\r\n                  {typeof detail.text === 'string' ? highlightText(detail.text, searchQuery) : detail.text}\r\n                </span>\r\n              </div>\r\n            )\r\n          ))}\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center justify-between pt-3 sm:pt-4 border-t border-gray-100 dark:border-gray-700 mt-auto\">\r\n          <div className=\"flex space-x-1 sm:space-x-2\">\r\n            <button\r\n              onClick={onEdit}\r\n              className=\"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-green-600 dark:hover:text-green-400 transition-colors rounded-lg hover:bg-green-50 dark:hover:bg-green-900/30 touch-target sm:min-h-0 sm:min-w-0 flex items-center justify-center\"\r\n              title={editTitle}\r\n            >\r\n              <Edit3 className=\"w-4 h-4\" />\r\n            </button>\r\n            {onPasswordSettings && (\r\n              <button\r\n                onClick={onPasswordSettings}\r\n                className=\"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 touch-target sm:min-h-0 sm:min-w-0 flex items-center justify-center\"\r\n                title={passwordTitle}\r\n              >\r\n                <Lock className=\"w-4 h-4\" />\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={onDelete}\r\n              className=\"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30 touch-target sm:min-h-0 sm:min-w-0 flex items-center justify-center\"\r\n              title={deleteTitle}\r\n            >\r\n              <Trash2 className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n          <button\r\n            onClick={onView}\r\n            className=\"flex items-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors touch-target sm:min-h-0\"\r\n          >\r\n            <Eye className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1\" />\r\n            <span className=\"hidden sm:inline\">{viewText}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default ItemCard;"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AALA;;;;;AAeA,6CAA6C;AAC7C,MAAM,gBAAgB,CAAC,MAAc;IACnC,IAAI,CAAC,aAAa,OAAO;IAEzB,MAAM,QAAQ,IAAI,OAAO,CAAC,CAAC,EAAE,YAAY,OAAO,CAAC,uBAAuB,QAAQ,CAAC,CAAC,EAAE;IACpF,MAAM,QAAQ,KAAK,KAAK,CAAC;IAEzB,OAAO,MAAM,GAAG,CAAC,CAAC,MAAM,QACtB,MAAM,IAAI,CAAC,sBACT,6LAAC;YAAiB,WAAU;sBACzB;WADQ;;;;uDAIX;AAGN;AAmCA;;;CAGC,GACD,MAAM,WAAoC,CAAC,EACzC,EAAE,EACF,IAAI,EACJ,UAAU,EACV,MAAM,EACN,IAAI,EACJ,OAAO,EACP,MAAM,EACN,QAAQ,EACR,MAAM,EACN,cAAc,EACd,kBAAkB,EAClB,YAAY,MAAM,EAClB,cAAc,QAAQ,EACtB,WAAW,cAAc,EACzB,gBAAgB,mBAAmB,EACnC,YAAY,EAAE,EACd,KAAK,EACL,aAAa,KAAK,EAClB,WAAW,KAAK,EAChB,QAAQ,EACR,cAAc,EAAE,EAChB,aAAa,IAAI,EAClB;IACC,qBACE,6LAAC,uMAAM,CAAC,GAAG;QAET,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,WAAW,CAAC,+NAA+N,EAAE,WAAW,2CAA2C,GAAG,CAAC,EAAE,WAAW;kBAEpT,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;gCACZ,4BACC,6LAAC;oCACC,MAAK;oCACL,SAAS;oCACT,UAAU;oCACV,WAAU;;;;;;8CAGd,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;kDACZ;;;;;;;;;;;8CAGL,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;8DACX,cAAc,MAAM;;;;;;gDAEtB,uBACC,6LAAC;oDACC,WAAW,CAAC,gEAAgE,EAAE,MAAM,KAAK,CAAC,CAAC,EAAE,MAAM,OAAO,GAAG,uDAAuD,IAAI;oDACxK,SAAS,CAAC;wDACR,IAAI,MAAM,OAAO,EAAE;4DACjB,EAAE,eAAe;4DACjB,MAAM,OAAO;wDACf;oDACF;oDACA,OAAO,MAAM,OAAO,GAAG,mCAAmC;8DAEzD,MAAM,IAAI;;;;;;;;;;;;sDAIjB,6LAAC;4CAAE,WAAU;sDACV,cAAc,YAAY;;;;;;;;;;;;;;;;;;wBAIhC,cAAc,gCACb,6LAAC,gKAAc;4BACb,eAAe;4BACf,gBAAgB;;;;;;;;;;;;8BAMtB,6LAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,QACpB,OAAO,IAAI,KAAK,uBACd,6LAAC;4BAAgB,WAAW,CAAC,qCAAqC,EAChE,OAAO,SAAS,GACZ,mDACA,OAAO,SAAS,IAAI,oCACxB;;8CACA,6LAAC;oCAAI,WAAW,CAAC,6CAA6C,EAC5D,OAAO,SAAS,GAAG,uCAAuC,IAC1D;8CACC,OAAO,IAAI;;;;;;8CAEd,6LAAC;oCAAK,WAAW,OAAO,OAAO,IAAI,KAAK,YAAY,CAAC,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,OAAO,IAAI,CAAC,MAAM,GAAG,EAAE,IAAI,aAAa;8CACvH,OAAO,OAAO,IAAI,KAAK,WAAW,cAAc,OAAO,IAAI,EAAE,eAAe,OAAO,IAAI;;;;;;;2BAXlF;;;;;;;;;;8BAmBhB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS;oCACT,WAAU;oCACV,OAAO;8CAEP,cAAA,6LAAC,sNAAK;wCAAC,WAAU;;;;;;;;;;;gCAElB,oCACC,6LAAC;oCACC,SAAS;oCACT,WAAU;oCACV,OAAO;8CAEP,cAAA,6LAAC,6MAAI;wCAAC,WAAU;;;;;;;;;;;8CAGpB,6LAAC;oCACC,SAAS;oCACT,WAAU;oCACV,OAAO;8CAEP,cAAA,6LAAC,uNAAM;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAGtB,6LAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,6LAAC,0MAAG;oCAAC,WAAU;;;;;;8CACf,6LAAC;oCAAK,WAAU;8CAAoB;;;;;;;;;;;;;;;;;;;;;;;;OA7GrC;;;;;AAmHX;KA7IM;uCA+IS","debugId":null}},
    {"offset": {"line": 3031, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/EmptyState.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Plus } from 'lucide-react';\r\n\r\ninterface EmptyStateProps {\r\n  icon: React.ReactNode;\r\n  title: string;\r\n  message: string;\r\n  actionText?: string;\r\n  onAction?: () => void;\r\n  showAction?: boolean;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable empty state component\r\n * Used across all management pages when no items are found\r\n */\r\nconst EmptyState: React.FC<EmptyStateProps> = ({\r\n  icon,\r\n  title,\r\n  message,\r\n  actionText = 'Add Item',\r\n  onAction,\r\n  showAction = true,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 ${className}`}>\r\n      <div className=\"p-4 bg-gray-100 dark:bg-gray-700 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center\">\r\n        <div className=\"w-10 h-10 text-gray-400 dark:text-gray-500\">\r\n          {icon}\r\n        </div>\r\n      </div>\r\n      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2\">\r\n        {title}\r\n      </h3>\r\n      <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n        {message}\r\n      </p>\r\n      {showAction && onAction && (\r\n        <button\r\n          onClick={onAction}\r\n          className=\"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n        >\r\n          <Plus className=\"w-5 h-5 mr-2\" />\r\n          {actionText}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmptyState;"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAeA;;;CAGC,GACD,MAAM,aAAwC,CAAC,EAC7C,IAAI,EACJ,KAAK,EACL,OAAO,EACP,aAAa,UAAU,EACvB,QAAQ,EACR,aAAa,IAAI,EACjB,YAAY,EAAE,EACf;IACC,qBACE,6LAAC;QAAI,WAAW,CAAC,mGAAmG,EAAE,WAAW;;0BAC/H,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;0BAGL,6LAAC;gBAAG,WAAU;0BACX;;;;;;0BAEH,6LAAC;gBAAE,WAAU;0BACV;;;;;;YAEF,cAAc,0BACb,6LAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,6LAAC,6MAAI;wBAAC,WAAU;;;;;;oBACf;;;;;;;;;;;;;AAKX;KAjCM;uCAmCS","debugId":null}},
    {"offset": {"line": 3114, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/ConfirmDeleteModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Trash2 } from 'lucide-react';\r\n\r\ninterface ConfirmDeleteModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  itemName: string;\r\n  itemType?: string;\r\n  title?: string;\r\n  message?: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable confirmation delete modal component\r\n * Used across all management pages for consistent delete confirmation\r\n */\r\nconst ConfirmDeleteModal: React.FC<ConfirmDeleteModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  itemName,\r\n  itemType = 'item',\r\n  title,\r\n  message,\r\n  confirmText,\r\n  cancelText = 'Cancel',\r\n  className = ''\r\n}) => {\r\n  const defaultTitle = `Delete ${itemType.charAt(0).toUpperCase() + itemType.slice(1)}`;\r\n  const defaultMessage = `Are you sure you want to delete`;\r\n  const defaultConfirmText = `Delete ${itemType.charAt(0).toUpperCase() + itemType.slice(1)}`;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          className={`fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-[9999] p-4 ${className}`}\r\n          style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }}\r\n          onClick={(e) => {\r\n            if (e.target === e.currentTarget) {\r\n              onClose();\r\n            }\r\n          }}\r\n        >\r\n          <motion.div\r\n            initial={{ scale: 0.9, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            exit={{ scale: 0.9, opacity: 0 }}\r\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n            className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"p-6\">\r\n              <div className=\"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900/30 rounded-full\">\r\n                <Trash2 className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\r\n              </div>\r\n              \r\n              <h3 className=\"text-lg font-semibold text-center text-gray-900 dark:text-gray-100 mb-2\">\r\n                {title || defaultTitle}\r\n              </h3>\r\n              \r\n              <p className=\"text-sm text-center text-gray-600 dark:text-gray-400 mb-6\">\r\n                {message || defaultMessage}{' '}\r\n                <span className=\"font-semibold text-gray-900 dark:text-gray-100\">{itemName}</span>? \r\n                This action cannot be undone.\r\n              </p>\r\n\r\n              <div className=\"flex flex-col-reverse sm:flex-row gap-3 sm:gap-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onClose}\r\n                  className=\"w-full px-4 py-2.5 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n                >\r\n                  {cancelText}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onConfirm}\r\n                  className=\"w-full flex items-center justify-center px-4 py-2.5 bg-red-600 dark:bg-red-700 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                  {confirmText || defaultConfirmText}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default ConfirmDeleteModal;"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAJA;;;;AAmBA;;;CAGC,GACD,MAAM,qBAAwD,CAAC,EAC7D,MAAM,EACN,OAAO,EACP,SAAS,EACT,QAAQ,EACR,WAAW,MAAM,EACjB,KAAK,EACL,OAAO,EACP,WAAW,EACX,aAAa,QAAQ,EACrB,YAAY,EAAE,EACf;IACC,MAAM,eAAe,CAAC,OAAO,EAAE,SAAS,MAAM,CAAC,GAAG,WAAW,KAAK,SAAS,KAAK,CAAC,IAAI;IACrF,MAAM,iBAAiB,CAAC,+BAA+B,CAAC;IACxD,MAAM,qBAAqB,CAAC,OAAO,EAAE,SAAS,MAAM,CAAC,GAAG,WAAW,KAAK,SAAS,KAAK,CAAC,IAAI;IAE3F,qBACE,6LAAC,+MAAe;kBACb,wBACC,6LAAC,uMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;YAAE;YACtB,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS;YAAE;YACnB,WAAW,CAAC,yFAAyF,EAAE,WAAW;YAClH,OAAO;gBAAE,UAAU;gBAAS,KAAK;gBAAG,MAAM;gBAAG,OAAO;gBAAG,QAAQ;YAAE;YACjE,SAAS,CAAC;gBACR,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;oBAChC;gBACF;YACF;sBAEA,cAAA,6LAAC,uMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,OAAO;oBAAK,SAAS;gBAAE;gBAClC,SAAS;oBAAE,OAAO;oBAAG,SAAS;gBAAE;gBAChC,MAAM;oBAAE,OAAO;oBAAK,SAAS;gBAAE;gBAC/B,YAAY;oBAAE,MAAM;oBAAU,SAAS;oBAAI,WAAW;gBAAI;gBAC1D,WAAU;gBACV,SAAS,CAAC,IAAM,EAAE,eAAe;0BAEjC,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,uNAAM;gCAAC,WAAU;;;;;;;;;;;sCAGpB,6LAAC;4BAAG,WAAU;sCACX,SAAS;;;;;;sCAGZ,6LAAC;4BAAE,WAAU;;gCACV,WAAW;gCAAgB;8CAC5B,6LAAC;oCAAK,WAAU;8CAAkD;;;;;;gCAAgB;;;;;;;sCAIpF,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;8CAET;;;;;;8CAEH,6LAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;;sDAEV,6LAAC,uNAAM;4CAAC,WAAU;;;;;;wCACjB,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlC;KA7EM;uCA+ES","debugId":null}},
    {"offset": {"line": 3293, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/ActionButtons.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface Action {\r\n  label: string;\r\n  onClick: () => void;\r\n  icon?: React.ReactNode;\r\n  variant?: 'primary' | 'secondary' | 'danger';\r\n}\r\n\r\ninterface ActionButtonsProps {\r\n  actions: Action[];\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable action buttons component for page headers\r\n * Supports multiple actions with different variants\r\n */\r\nconst ActionButtons: React.FC<ActionButtonsProps> = ({\r\n  actions,\r\n  className = ''\r\n}) => {\r\n  const getButtonStyles = (variant: Action['variant'] = 'primary') => {\r\n    switch (variant) {\r\n      case 'primary':\r\n        return 'bg-blue-600 hover:bg-blue-700 text-white';\r\n      case 'secondary':\r\n        return 'bg-green-600 hover:bg-green-700 text-white';\r\n      case 'danger':\r\n        return 'bg-red-600 hover:bg-red-700 text-white';\r\n      default:\r\n        return 'bg-blue-600 hover:bg-blue-700 text-white';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-3 ${className}`}>\r\n      {actions.map((action, index) => (\r\n        <button\r\n          key={index}\r\n          onClick={action.onClick}\r\n          className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${getButtonStyles(action.variant)}`}\r\n        >\r\n          {action.icon}\r\n          {action.label}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActionButtons;"],"names":[],"mappings":";;;;;AAAA;;AAgBA;;;CAGC,GACD,MAAM,gBAA8C,CAAC,EACnD,OAAO,EACP,YAAY,EAAE,EACf;IACC,MAAM,kBAAkB,CAAC,UAA6B,SAAS;QAC7D,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAC,gCAAgC,EAAE,WAAW;kBAC3D,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,6LAAC;gBAEC,SAAS,OAAO,OAAO;gBACvB,WAAW,CAAC,+DAA+D,EAAE,gBAAgB,OAAO,OAAO,GAAG;;oBAE7G,OAAO,IAAI;oBACX,OAAO,KAAK;;eALR;;;;;;;;;;AAUf;KA/BM;uCAiCS","debugId":null}},
    {"offset": {"line": 3347, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/SearchAndFilter.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Search } from 'lucide-react';\r\n\r\ninterface FilterOption {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\ninterface SearchAndFilterProps {\r\n  searchValue: string;\r\n  onSearchChange: (value: string) => void;\r\n  searchPlaceholder?: string;\r\n  statusValue: string;\r\n  onStatusChange: (value: string) => void;\r\n  statusOptions: FilterOption[];\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable search and filter component\r\n * Combines search input and status filter dropdown\r\n */\r\nconst SearchAndFilter: React.FC<SearchAndFilterProps> = ({\r\n  searchValue,\r\n  onSearchChange,\r\n  searchPlaceholder = \"Search...\",\r\n  statusValue,\r\n  onStatusChange,\r\n  statusOptions,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-4 ${className}`}>\r\n      <div className=\"flex-1 relative\">\r\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder={searchPlaceholder}\r\n          value={searchValue}\r\n          onChange={(e) => onSearchChange(e.target.value)}\r\n          className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n        />\r\n      </div>\r\n      <select\r\n        value={statusValue}\r\n        onChange={(e) => onStatusChange(e.target.value)}\r\n        className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n      >\r\n        {statusOptions.map(option => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchAndFilter;"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAoBA;;;CAGC,GACD,MAAM,kBAAkD,CAAC,EACvD,WAAW,EACX,cAAc,EACd,oBAAoB,WAAW,EAC/B,WAAW,EACX,cAAc,EACd,aAAa,EACb,YAAY,EAAE,EACf;IACC,qBACE,6LAAC;QAAI,WAAW,CAAC,gCAAgC,EAAE,WAAW;;0BAC5D,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,mNAAM;wBAAC,WAAU;;;;;;kCAClB,6LAAC;wBACC,MAAK;wBACL,aAAa;wBACb,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,WAAU;;;;;;;;;;;;0BAGd,6LAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gBAC9C,WAAU;0BAET,cAAc,GAAG,CAAC,CAAA,uBACjB,6LAAC;wBAA0B,OAAO,OAAO,KAAK;kCAC3C,OAAO,KAAK;uBADF,OAAO,KAAK;;;;;;;;;;;;;;;;AAOnC;KAlCM;uCAoCS","debugId":null}},
    {"offset": {"line": 3425, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/BulkDeleteConfirmModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { AlertTriangle } from 'lucide-react';\r\n\r\ninterface BulkDeleteConfirmModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  itemCount: number;\r\n  itemType: string; // e.g., 'farmer', 'BMC', 'society'\r\n  hasFilters?: boolean;\r\n  additionalInfo?: string; // Optional additional information to display\r\n}\r\n\r\n/**\r\n * Reusable bulk delete confirmation modal\r\n * Used across all entity management pages\r\n * Note: Loading state is handled by LoadingSnackbar in parent component\r\n */\r\nconst BulkDeleteConfirmModal: React.FC<BulkDeleteConfirmModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  itemCount,\r\n  itemType,\r\n  hasFilters = false,\r\n  additionalInfo\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center\">\r\n            <AlertTriangle className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\r\n          </div>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2\">\r\n            Delete Selected {itemType.charAt(0).toUpperCase() + itemType.slice(1)}s\r\n          </h3>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mb-2\">\r\n            Are you sure you want to delete {itemCount} selected {itemType}(s)\r\n            {hasFilters ? ' from the filtered results' : ''}? \r\n            This action cannot be undone.\r\n          </p>\r\n          {additionalInfo && (\r\n            <p className=\"text-sm text-blue-600 dark:text-blue-400 mb-4 font-medium break-words\">\r\n              {additionalInfo}\r\n            </p>\r\n          )}\r\n          <div className=\"flex space-x-4 justify-center mt-6\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={onConfirm}\r\n              className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkDeleteConfirmModal;\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAeA;;;;CAIC,GACD,MAAM,yBAAgE,CAAC,EACrE,MAAM,EACN,OAAO,EACP,SAAS,EACT,SAAS,EACT,QAAQ,EACR,aAAa,KAAK,EAClB,cAAc,EACf;IACC,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,4OAAa;4BAAC,WAAU;;;;;;;;;;;kCAE3B,6LAAC;wBAAG,WAAU;;4BAA8D;4BACzD,SAAS,MAAM,CAAC,GAAG,WAAW,KAAK,SAAS,KAAK,CAAC;4BAAG;;;;;;;kCAExE,6LAAC;wBAAE,WAAU;;4BAAwC;4BAClB;4BAAU;4BAAW;4BAAS;4BAC9D,aAAa,+BAA+B;4BAAG;;;;;;;oBAGjD,gCACC,6LAAC;wBAAE,WAAU;kCACV;;;;;;kCAGL,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;0CAGD,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;KAjDM;uCAmDS","debugId":null}},
    {"offset": {"line": 3552, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/BulkActionsToolbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Trash2, Download } from 'lucide-react';\r\nimport StatusDropdown from './StatusDropdown';\r\n\r\ninterface BulkActionsToolbarProps {\r\n  selectedCount: number;\r\n  totalCount: number;\r\n  onBulkDelete: () => void;\r\n  onBulkDownload?: (format: 'csv' | 'pdf') => void;\r\n  onBulkStatusUpdate?: (status: string) => void;\r\n  onClearSelection?: () => void;\r\n  onSelectAll?: () => void;\r\n  itemType: string; // e.g., 'farmer', 'BMC'\r\n  showStatusUpdate?: boolean;\r\n  currentBulkStatus?: string;\r\n  onBulkStatusChange?: (status: string) => void;\r\n  statusOptions?: Array<{\r\n    status: string;\r\n    label: string;\r\n    color: string;\r\n    bgColor: string;\r\n  }>;\r\n}\r\n\r\n/**\r\n * Reusable bulk actions toolbar\r\n * Appears when items are selected\r\n */\r\nconst BulkActionsToolbar: React.FC<BulkActionsToolbarProps> = ({\r\n  selectedCount,\r\n  totalCount,\r\n  onBulkDelete,\r\n  onBulkDownload,\r\n  onBulkStatusUpdate,\r\n  onClearSelection,\r\n  onSelectAll,\r\n  itemType,\r\n  showStatusUpdate = true,\r\n  currentBulkStatus = 'active',\r\n  onBulkStatusChange,\r\n  statusOptions\r\n}) => {\r\n  const isAllSelected = selectedCount === totalCount && totalCount > 0;\r\n  if (selectedCount === 0) return null;\r\n\r\n  return (\r\n    <div className=\"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 px-6 py-4\">\r\n      <div className=\"flex items-center space-x-4\">\r\n        {/* Selection Count */}\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center\">\r\n            <span className=\"text-sm font-semibold text-green-600 dark:text-green-400\">\r\n              {selectedCount}\r\n            </span>\r\n          </div>\r\n          <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            {selectedCount} {itemType}{selectedCount !== 1 ? 's' : ''} selected\r\n          </span>\r\n        </div>\r\n\r\n        {/* Divider */}\r\n        <div className=\"h-8 w-px bg-gray-300 dark:bg-gray-600\" />\r\n\r\n        {/* Bulk Actions */}\r\n        <div className=\"flex items-center space-x-2\">\r\n          {/* Select All Checkbox */}\r\n          {onSelectAll && onClearSelection && (\r\n            <label className=\"flex items-center gap-2 cursor-pointer px-3 py-1.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={isAllSelected}\r\n                onChange={() => {\r\n                  if (isAllSelected && onClearSelection) {\r\n                    onClearSelection();\r\n                  } else if (onSelectAll) {\r\n                    onSelectAll();\r\n                  }\r\n                }}\r\n                className=\"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n              <span className=\"text-xs font-medium text-gray-700 dark:text-gray-300\">\r\n                Select All\r\n              </span>\r\n            </label>\r\n          )}\r\n\r\n          {/* Bulk Status Update */}\r\n          {showStatusUpdate && onBulkStatusChange && (\r\n            <div className=\"flex items-center space-x-2\">\r\n              <span className=\"text-xs text-gray-600 dark:text-gray-400\">Status:</span>\r\n              <StatusDropdown\r\n                currentStatus={currentBulkStatus}\r\n                onStatusChange={(status) => {\r\n                  onBulkStatusChange(status);\r\n                  if (onBulkStatusUpdate) {\r\n                    onBulkStatusUpdate(status);\r\n                  }\r\n                }}\r\n                options={statusOptions}\r\n                compact\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Download */}\r\n          {onBulkDownload && (\r\n            <button\r\n              onClick={() => onBulkDownload('csv')}\r\n              className=\"px-3 py-1.5 text-xs font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-1\"\r\n              title={`Download selected ${itemType}s`}\r\n            >\r\n              <Download className=\"w-3.5 h-3.5\" />\r\n              <span className=\"hidden sm:inline\">Download</span>\r\n            </button>\r\n          )}\r\n\r\n          {/* Delete */}\r\n          <button\r\n            onClick={onBulkDelete}\r\n            className=\"px-3 py-1.5 text-xs font-medium bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-1\"\r\n            title={`Delete selected ${itemType}s`}\r\n          >\r\n            <Trash2 className=\"w-3.5 h-3.5\" />\r\n            <span className=\"hidden sm:inline\">Delete</span>\r\n          </button>\r\n\r\n          {/* Clear Selection */}\r\n          {onClearSelection && (\r\n            <button\r\n              onClick={onClearSelection}\r\n              className=\"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n              title=\"Clear selection\"\r\n            >\r\n              Clear\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkActionsToolbar;\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAJA;;;;AA0BA;;;CAGC,GACD,MAAM,qBAAwD,CAAC,EAC7D,aAAa,EACb,UAAU,EACV,YAAY,EACZ,cAAc,EACd,kBAAkB,EAClB,gBAAgB,EAChB,WAAW,EACX,QAAQ,EACR,mBAAmB,IAAI,EACvB,oBAAoB,QAAQ,EAC5B,kBAAkB,EAClB,aAAa,EACd;IACC,MAAM,gBAAgB,kBAAkB,cAAc,aAAa;IACnE,IAAI,kBAAkB,GAAG,OAAO;IAEhC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAK,WAAU;0CACb;;;;;;;;;;;sCAGL,6LAAC;4BAAK,WAAU;;gCACb;gCAAc;gCAAE;gCAAU,kBAAkB,IAAI,MAAM;gCAAG;;;;;;;;;;;;;8BAK9D,6LAAC;oBAAI,WAAU;;;;;;8BAGf,6LAAC;oBAAI,WAAU;;wBAEZ,eAAe,kCACd,6LAAC;4BAAM,WAAU;;8CACf,6LAAC;oCACC,MAAK;oCACL,SAAS;oCACT,UAAU;wCACR,IAAI,iBAAiB,kBAAkB;4CACrC;wCACF,OAAO,IAAI,aAAa;4CACtB;wCACF;oCACF;oCACA,WAAU;;;;;;8CAEZ,6LAAC;oCAAK,WAAU;8CAAuD;;;;;;;;;;;;wBAO1E,oBAAoB,oCACnB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CAA2C;;;;;;8CAC3D,6LAAC,gKAAc;oCACb,eAAe;oCACf,gBAAgB,CAAC;wCACf,mBAAmB;wCACnB,IAAI,oBAAoB;4CACtB,mBAAmB;wCACrB;oCACF;oCACA,SAAS;oCACT,OAAO;;;;;;;;;;;;wBAMZ,gCACC,6LAAC;4BACC,SAAS,IAAM,eAAe;4BAC9B,WAAU;4BACV,OAAO,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC;;8CAEvC,6LAAC,yNAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC;oCAAK,WAAU;8CAAmB;;;;;;;;;;;;sCAKvC,6LAAC;4BACC,SAAS;4BACT,WAAU;4BACV,OAAO,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC;;8CAErC,6LAAC,uNAAM;oCAAC,WAAU;;;;;;8CAClB,6LAAC;oCAAK,WAAU;8CAAmB;;;;;;;;;;;;wBAIpC,kCACC,6LAAC;4BACC,SAAS;4BACT,WAAU;4BACV,OAAM;sCACP;;;;;;;;;;;;;;;;;;;;;;;AAQb;KAhHM;uCAkHS","debugId":null}},
    {"offset": {"line": 3779, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/ViewModeToggle.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Folder, Grid3x3 } from 'lucide-react';\r\n\r\ninterface ViewModeToggleProps {\r\n  viewMode: 'folder' | 'list';\r\n  onViewModeChange: (mode: 'folder' | 'list') => void;\r\n  folderLabel?: string;\r\n  listLabel?: string;\r\n}\r\n\r\n/**\r\n * Reusable view mode toggle component\r\n * Switches between folder/grouped and list/flat views\r\n */\r\nconst ViewModeToggle: React.FC<ViewModeToggleProps> = ({\r\n  viewMode,\r\n  onViewModeChange,\r\n  folderLabel = 'Folder View',\r\n  listLabel = 'List View'\r\n}) => {\r\n  return (\r\n    <div className=\"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1\">\r\n      <button\r\n        onClick={() => onViewModeChange('folder')}\r\n        className={`flex items-center space-x-2 px-3 py-2 rounded-md transition-all ${\r\n          viewMode === 'folder'\r\n            ? 'bg-white dark:bg-gray-700 text-green-600 dark:text-green-400 shadow-sm'\r\n            : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n        }`}\r\n        title={folderLabel}\r\n      >\r\n        <Folder className=\"w-4 h-4\" />\r\n        <span className=\"hidden sm:inline text-sm font-medium\">{folderLabel}</span>\r\n      </button>\r\n      <button\r\n        onClick={() => onViewModeChange('list')}\r\n        className={`flex items-center space-x-2 px-3 py-2 rounded-md transition-all ${\r\n          viewMode === 'list'\r\n            ? 'bg-white dark:bg-gray-700 text-green-600 dark:text-green-400 shadow-sm'\r\n            : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n        }`}\r\n        title={listLabel}\r\n      >\r\n        <Grid3x3 className=\"w-4 h-4\" />\r\n        <span className=\"hidden sm:inline text-sm font-medium\">{listLabel}</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewModeToggle;\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAYA;;;CAGC,GACD,MAAM,iBAAgD,CAAC,EACrD,QAAQ,EACR,gBAAgB,EAChB,cAAc,aAAa,EAC3B,YAAY,WAAW,EACxB;IACC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS,IAAM,iBAAiB;gBAChC,WAAW,CAAC,gEAAgE,EAC1E,aAAa,WACT,2EACA,iFACJ;gBACF,OAAO;;kCAEP,6LAAC,mNAAM;wBAAC,WAAU;;;;;;kCAClB,6LAAC;wBAAK,WAAU;kCAAwC;;;;;;;;;;;;0BAE1D,6LAAC;gBACC,SAAS,IAAM,iBAAiB;gBAChC,WAAW,CAAC,gEAAgE,EAC1E,aAAa,SACT,2EACA,iFACJ;gBACF,OAAO;;kCAEP,6LAAC,0NAAO;wBAAC,WAAU;;;;;;kCACnB,6LAAC;wBAAK,WAAU;kCAAwC;;;;;;;;;;;;;;;;;;AAIhE;KAlCM;uCAoCS","debugId":null}},
    {"offset": {"line": 3866, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/FolderView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Folder, FolderOpen, ChevronRight, ChevronDown } from 'lucide-react';\r\n\r\ninterface FolderViewProps<T> {\r\n  items: T[];\r\n  groupByKey: keyof T;\r\n  groupByLabel: string;\r\n  groups: Array<{\r\n    id: number;\r\n    name: string;\r\n    identifier?: string;\r\n  }>;\r\n  expandedGroups: Set<number>;\r\n  selectedGroups: Set<number>;\r\n  onToggleExpand: (groupId: number) => void;\r\n  onToggleGroupSelection: (groupId: number, itemIds: number[]) => void;\r\n  renderItem: (item: T) => React.ReactNode;\r\n  getItemId: (item: T) => number;\r\n  getGroupStats?: (groupId: number, items: T[]) => {\r\n    activeCount: number;\r\n    inactiveCount: number;\r\n    totalCount: number;\r\n  };\r\n  emptyMessage?: string;\r\n}\r\n\r\n/**\r\n * Reusable folder/grouped view component\r\n * Groups items by a specified key and displays in expandable folders\r\n */\r\nfunction FolderView<T extends Record<string, unknown>>({\r\n  items,\r\n  groupByKey,\r\n  groups,\r\n  expandedGroups,\r\n  selectedGroups,\r\n  onToggleExpand,\r\n  onToggleGroupSelection,\r\n  renderItem,\r\n  getItemId,\r\n  getGroupStats,\r\n  emptyMessage = 'No items in this group'\r\n}: FolderViewProps<T>) {\r\n  // Group items by the specified key\r\n  const itemsByGroup = items.reduce((acc, item) => {\r\n    const groupId = (item[groupByKey] as number) || 0;\r\n    if (!acc[groupId]) {\r\n      acc[groupId] = [];\r\n    }\r\n    acc[groupId].push(item);\r\n    return acc;\r\n  }, {} as Record<number, T[]>);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {groups.map(group => {\r\n        const groupItems = itemsByGroup[group.id] || [];\r\n        const isExpanded = expandedGroups.has(group.id);\r\n        const isGroupSelected = selectedGroups.has(group.id);\r\n        const itemIds = groupItems.map(getItemId);\r\n\r\n        // Get stats if available\r\n        const stats = getGroupStats?.(group.id, groupItems);\r\n\r\n        return (\r\n          <div\r\n            key={group.id}\r\n            className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all hover:shadow-md\"\r\n          >\r\n            {/* Folder Header */}\r\n            <div className=\"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/30\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                {/* Group Checkbox */}\r\n                <div\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    onToggleGroupSelection(group.id, itemIds);\r\n                  }}\r\n                  className=\"flex items-center mr-3 cursor-pointer\"\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={isGroupSelected}\r\n                    onChange={() => {}} // Handled by parent div\r\n                    className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Expandable Header */}\r\n                <button\r\n                  onClick={() => onToggleExpand(group.id)}\r\n                  className=\"flex-1 flex items-center justify-between\"\r\n                >\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    {isExpanded ? (\r\n                      <ChevronDown className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                    ) : (\r\n                      <ChevronRight className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                    )}\r\n                    {isExpanded ? (\r\n                      <FolderOpen className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                    ) : (\r\n                      <Folder className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                    )}\r\n                    <div className=\"text-left\">\r\n                      <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-white\">\r\n                        {group.name}\r\n                      </h3>\r\n                      {group.identifier && (\r\n                        <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400\">\r\n                          ID: {group.identifier}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    {stats && (\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <div className=\"text-right\">\r\n                          <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n                            <span className=\"flex items-center space-x-1\">\r\n                              <div className=\"w-2 h-2 rounded-full bg-green-500\"></div>\r\n                              <span>{stats.activeCount}</span>\r\n                            </span>\r\n                            <span className=\"flex items-center space-x-1\">\r\n                              <div className=\"w-2 h-2 rounded-full bg-red-500\"></div>\r\n                              <span>{stats.inactiveCount}</span>\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            {stats.totalCount} {stats.totalCount === 1 ? 'item' : 'items'}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Items Grid - Shown when expanded */}\r\n            {isExpanded && (\r\n              <div className=\"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/30\">\r\n                {groupItems.length > 0 ? (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {groupItems.map(item => renderItem(item))}\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-center text-gray-500 dark:text-gray-400 py-8\">\r\n                    {emptyMessage}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FolderView;\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAHA;;;AA4BA;;;CAGC,GACD,SAAS,WAA8C,EACrD,KAAK,EACL,UAAU,EACV,MAAM,EACN,cAAc,EACd,cAAc,EACd,cAAc,EACd,sBAAsB,EACtB,UAAU,EACV,SAAS,EACT,aAAa,EACb,eAAe,wBAAwB,EACpB;IACnB,mCAAmC;IACnC,MAAM,eAAe,MAAM,MAAM,CAAC,CAAC,KAAK;QACtC,MAAM,UAAU,AAAC,IAAI,CAAC,WAAW,IAAe;QAChD,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;YACjB,GAAG,CAAC,QAAQ,GAAG,EAAE;QACnB;QACA,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC;QAClB,OAAO;IACT,GAAG,CAAC;IAEJ,qBACE,6LAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAA;YACV,MAAM,aAAa,YAAY,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;YAC/C,MAAM,aAAa,eAAe,GAAG,CAAC,MAAM,EAAE;YAC9C,MAAM,kBAAkB,eAAe,GAAG,CAAC,MAAM,EAAE;YACnD,MAAM,UAAU,WAAW,GAAG,CAAC;YAE/B,yBAAyB;YACzB,MAAM,QAAQ,gBAAgB,MAAM,EAAE,EAAE;YAExC,qBACE,6LAAC;gBAEC,WAAU;;kCAGV,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;oCACC,SAAS,CAAC;wCACR,EAAE,eAAe;wCACjB,uBAAuB,MAAM,EAAE,EAAE;oCACnC;oCACA,WAAU;8CAEV,cAAA,6LAAC;wCACC,MAAK;wCACL,SAAS;wCACT,UAAU,KAAO;wCACjB,WAAU;;;;;;;;;;;8CAKd,6LAAC;oCACC,SAAS,IAAM,eAAe,MAAM,EAAE;oCACtC,WAAU;;sDAEV,6LAAC;4CAAI,WAAU;;gDACZ,2BACC,6LAAC,sOAAW;oDAAC,WAAU;;;;;yEAEvB,6LAAC,yOAAY;oDAAC,WAAU;;;;;;gDAEzB,2BACC,6LAAC,mOAAU;oDAAC,WAAU;;;;;yEAEtB,6LAAC,mNAAM;oDAAC,WAAU;;;;;;8DAEpB,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAG,WAAU;sEACX,MAAM,IAAI;;;;;;wDAEZ,MAAM,UAAU,kBACf,6LAAC;4DAAE,WAAU;;gEAAsD;gEAC5D,MAAM,UAAU;;;;;;;;;;;;;;;;;;;sDAK7B,6LAAC;4CAAI,WAAU;sDACZ,uBACC,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAK,WAAU;;sFACd,6LAAC;4EAAI,WAAU;;;;;;sFACf,6LAAC;sFAAM,MAAM,WAAW;;;;;;;;;;;;8EAE1B,6LAAC;oEAAK,WAAU;;sFACd,6LAAC;4EAAI,WAAU;;;;;;sFACf,6LAAC;sFAAM,MAAM,aAAa;;;;;;;;;;;;;;;;;;sEAG9B,6LAAC;4DAAE,WAAU;;gEACV,MAAM,UAAU;gEAAC;gEAAE,MAAM,UAAU,KAAK,IAAI,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAWrE,4BACC,6LAAC;wBAAI,WAAU;kCACZ,WAAW,MAAM,GAAG,kBACnB,6LAAC;4BAAI,WAAU;sCACZ,WAAW,GAAG,CAAC,CAAA,OAAQ,WAAW;;;;;iDAGrC,6LAAC;4BAAE,WAAU;sCACV;;;;;;;;;;;;eAnFJ,MAAM,EAAE;;;;;QA0FnB;;;;;;AAGN;KAjIS;uCAmIM","debugId":null}},
    {"offset": {"line": 4149, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/FolderControls.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { ChevronDown, ChevronRight } from 'lucide-react';\r\n\r\ninterface FolderControlsProps {\r\n  onExpandAll: () => void;\r\n  onCollapseAll: () => void;\r\n  expandedCount?: number;\r\n  totalCount?: number;\r\n}\r\n\r\n/**\r\n * Reusable folder expand/collapse controls\r\n */\r\nconst FolderControls: React.FC<FolderControlsProps> = ({\r\n  onExpandAll,\r\n  onCollapseAll,\r\n  expandedCount,\r\n  totalCount\r\n}) => {\r\n  return (\r\n    <div className=\"flex items-center space-x-2\">\r\n      <button\r\n        onClick={onExpandAll}\r\n        className=\"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center space-x-1\"\r\n        title=\"Expand all folders\"\r\n      >\r\n        <ChevronDown className=\"w-3.5 h-3.5\" />\r\n        <span>Expand All</span>\r\n      </button>\r\n      <button\r\n        onClick={onCollapseAll}\r\n        className=\"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center space-x-1\"\r\n        title=\"Collapse all folders\"\r\n      >\r\n        <ChevronRight className=\"w-3.5 h-3.5\" />\r\n        <span>Collapse All</span>\r\n      </button>\r\n      {expandedCount !== undefined && totalCount !== undefined && (\r\n        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n          ({expandedCount}/{totalCount} expanded)\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FolderControls;\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAYA;;CAEC,GACD,MAAM,iBAAgD,CAAC,EACrD,WAAW,EACX,aAAa,EACb,aAAa,EACb,UAAU,EACX;IACC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS;gBACT,WAAU;gBACV,OAAM;;kCAEN,6LAAC,sOAAW;wBAAC,WAAU;;;;;;kCACvB,6LAAC;kCAAK;;;;;;;;;;;;0BAER,6LAAC;gBACC,SAAS;gBACT,WAAU;gBACV,OAAM;;kCAEN,6LAAC,yOAAY;wBAAC,WAAU;;;;;;kCACxB,6LAAC;kCAAK;;;;;;;;;;;;YAEP,kBAAkB,aAAa,eAAe,2BAC7C,6LAAC;gBAAK,WAAU;;oBAA2C;oBACvD;oBAAc;oBAAE;oBAAW;;;;;;;;;;;;;AAKvC;KA/BM;uCAiCS","debugId":null}},
    {"offset": {"line": 4247, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/FilterSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface FilterSectionProps {\r\n  statusFilter: string;\r\n  onStatusChange: (value: string) => void;\r\n  societyFilter: string;\r\n  onSocietyChange: (value: string) => void;\r\n  machineFilter: string;\r\n  onMachineChange: (value: string) => void;\r\n  societies: Array<{ id: number; name: string; society_id: string }>;\r\n  machines: Array<{ id: number; machineId: string; machineType: string; societyId?: number }>;\r\n  filteredCount: number;\r\n  totalCount: number;\r\n  searchQuery?: string;\r\n  icon?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Reusable filter section for management pages\r\n * Includes status, society, and machine filters\r\n */\r\nconst FilterSection: React.FC<FilterSectionProps> = ({\r\n  statusFilter,\r\n  onStatusChange,\r\n  societyFilter,\r\n  onSocietyChange,\r\n  machineFilter,\r\n  onMachineChange,\r\n  societies,\r\n  machines,\r\n  filteredCount,\r\n  totalCount,\r\n  searchQuery,\r\n  icon\r\n}) => {\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg border border-gray-200 dark:border-gray-700 space-y-3\">\r\n      {/* Header Info */}\r\n      <div className=\"flex flex-col xs:flex-row xs:items-center justify-between gap-2\">\r\n        <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n          {icon}\r\n          <span className=\"font-medium text-xs sm:text-sm\">\r\n            {filteredCount}/{totalCount} items\r\n          </span>\r\n        </div>\r\n        {searchQuery && (\r\n          <div className=\"flex items-center space-x-1 px-2 py-1 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-700 dark:text-blue-300 text-xs font-medium\">\r\n            <span>&ldquo;{searchQuery}&rdquo;</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Filters Grid - Mobile First */}\r\n      <div className=\"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3\">\r\n        {/* Status Filter */}\r\n        <div className=\"space-y-1\">\r\n          <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n            Status\r\n          </label>\r\n          <select\r\n            value={statusFilter}\r\n            onChange={(e) => onStatusChange(e.target.value)}\r\n            className=\"w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md text-xs sm:text-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none\"\r\n          >\r\n            <option value=\"all\">All Status</option>\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n            <option value=\"suspended\">Suspended</option>\r\n            <option value=\"maintenance\">Maintenance</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Society Filter */}\r\n        <div className=\"space-y-1\">\r\n          <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n            Society\r\n          </label>\r\n          <select\r\n            value={societyFilter}\r\n            onChange={(e) => onSocietyChange(e.target.value)}\r\n            className=\"w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md text-xs sm:text-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none\"\r\n          >\r\n            <option value=\"all\">All Societies</option>\r\n            {societies.map(society => (\r\n              <option key={society.id} value={society.id.toString()}>\r\n                {society.name} ({society.society_id})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Machine Filter */}\r\n        <div className=\"space-y-1\">\r\n          <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n            Machine\r\n          </label>\r\n          <select\r\n            value={machineFilter}\r\n            onChange={(e) => onMachineChange(e.target.value)}\r\n            className=\"w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md text-xs sm:text-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none\"\r\n          >\r\n            <option value=\"all\">All Machines</option>\r\n            <option value=\"unassigned\">Unassigned</option>\r\n            {machines\r\n              .filter(machine => \r\n                societyFilter === 'all' || \r\n                machine.societyId?.toString() === societyFilter\r\n              )\r\n              .map(machine => (\r\n                <option key={machine.id} value={machine.id.toString()}>\r\n                  {machine.machineId} ({machine.machineType})\r\n                </option>\r\n              ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Clear Filters Button */}\r\n        <div className=\"space-y-1\">\r\n          <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block invisible\">\r\n            Actions\r\n          </label>\r\n          <button\r\n            onClick={() => {\r\n              onStatusChange('all');\r\n              onSocietyChange('all');\r\n              onMachineChange('all');\r\n            }}\r\n            disabled={statusFilter === 'all' && societyFilter === 'all' && machineFilter === 'all'}\r\n            className=\"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Clear Filters\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterSection;\r\n"],"names":[],"mappings":";;;;;AAAA;;AAmBA;;;CAGC,GACD,MAAM,gBAA8C,CAAC,EACnD,YAAY,EACZ,cAAc,EACd,aAAa,EACb,eAAe,EACf,aAAa,EACb,eAAe,EACf,SAAS,EACT,QAAQ,EACR,aAAa,EACb,UAAU,EACV,WAAW,EACX,IAAI,EACL;IACC,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;4BACZ;0CACD,6LAAC;gCAAK,WAAU;;oCACb;oCAAc;oCAAE;oCAAW;;;;;;;;;;;;;oBAG/B,6BACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;;gCAAK;gCAAQ;gCAAY;;;;;;;;;;;;;;;;;;0BAMhC,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAA6D;;;;;;0CAG9E,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,WAAU;;kDAEV,6LAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,6LAAC;wCAAO,OAAM;kDAAS;;;;;;kDACvB,6LAAC;wCAAO,OAAM;kDAAW;;;;;;kDACzB,6LAAC;wCAAO,OAAM;kDAAY;;;;;;kDAC1B,6LAAC;wCAAO,OAAM;kDAAc;;;;;;;;;;;;;;;;;;kCAKhC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAA6D;;;;;;0CAG9E,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gCAC/C,WAAU;;kDAEV,6LAAC;wCAAO,OAAM;kDAAM;;;;;;oCACnB,UAAU,GAAG,CAAC,CAAA,wBACb,6LAAC;4CAAwB,OAAO,QAAQ,EAAE,CAAC,QAAQ;;gDAChD,QAAQ,IAAI;gDAAC;gDAAG,QAAQ,UAAU;gDAAC;;2CADzB,QAAQ,EAAE;;;;;;;;;;;;;;;;;kCAQ7B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAA6D;;;;;;0CAG9E,6LAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gCAC/C,WAAU;;kDAEV,6LAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,6LAAC;wCAAO,OAAM;kDAAa;;;;;;oCAC1B,SACE,MAAM,CAAC,CAAA,UACN,kBAAkB,SAClB,QAAQ,SAAS,EAAE,eAAe,eAEnC,GAAG,CAAC,CAAA,wBACH,6LAAC;4CAAwB,OAAO,QAAQ,EAAE,CAAC,QAAQ;;gDAChD,QAAQ,SAAS;gDAAC;gDAAG,QAAQ,WAAW;gDAAC;;2CAD/B,QAAQ,EAAE;;;;;;;;;;;;;;;;;kCAQ/B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAuE;;;;;;0CAGxF,6LAAC;gCACC,SAAS;oCACP,eAAe;oCACf,gBAAgB;oCAChB,gBAAgB;gCAClB;gCACA,UAAU,iBAAiB,SAAS,kBAAkB,SAAS,kBAAkB;gCACjF,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAOX;KAnHM;uCAqHS","debugId":null}},
    {"offset": {"line": 4543, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/FilterDropdown.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useRef, useEffect, useMemo } from 'react';\r\nimport { Filter, X, ChevronDown, Calendar } from 'lucide-react';\r\n\r\ninterface FilterDropdownProps {\r\n  statusFilter: string;\r\n  onStatusChange: (value: string) => void;\r\n  dairyFilter?: string | string[];\r\n  onDairyChange?: (value: string | string[]) => void;\r\n  bmcFilter?: string | string[];\r\n  onBmcChange?: (value: string | string[]) => void;\r\n  societyFilter: string | string[];\r\n  onSocietyChange: (value: string | string[]) => void;\r\n  machineFilter: string | string[];\r\n  onMachineChange: (value: string | string[]) => void;\r\n  farmerFilter?: string | string[];\r\n  onFarmerChange?: (value: string | string[]) => void;\r\n  dairies?: Array<{ id: number; name: string; dairyId: string }>;\r\n  bmcs?: Array<{ id: number; name: string; bmcId: string; dairyFarmId?: number }>;\r\n  societies: Array<{ id: number; name: string; society_id: string; bmc_id?: number }>;\r\n  machines: Array<{ id: number; machineId: string; machineType: string; societyId?: number; societyName?: string; societyIdentifier?: string; collectionCount?: number }>;\r\n  farmers?: Array<{ id: number; farmerId: string; farmerName: string; societyId?: number }>;\r\n  filteredCount: number;\r\n  totalCount: number;\r\n  searchQuery?: string;\r\n  onSearchChange?: (value: string) => void;\r\n  icon?: React.ReactNode;\r\n  // Optional additional filters\r\n  dateFilter?: string;\r\n  onDateChange?: (value: string) => void;\r\n  dateFromFilter?: string;\r\n  onDateFromChange?: (value: string) => void;\r\n  dateToFilter?: string;\r\n  onDateToChange?: (value: string) => void;\r\n  channelFilter?: string;\r\n  onChannelChange?: (value: string) => void;\r\n  showDateFilter?: boolean;\r\n  showChannelFilter?: boolean;\r\n  showShiftFilter?: boolean;\r\n  showMachineFilter?: boolean;\r\n  hideMainFilterButton?: boolean;\r\n  hideSocietyFilter?: boolean;\r\n}\r\n\r\n/**\r\n * Compact filter dropdown for management pages\r\n * Space-saving design with dropdown panel\r\n */\r\nconst FilterDropdown: React.FC<FilterDropdownProps> = ({\r\n  statusFilter,\r\n  onStatusChange,\r\n  dairyFilter,\r\n  onDairyChange,\r\n  bmcFilter,\r\n  onBmcChange,\r\n  societyFilter,\r\n  onSocietyChange,\r\n  machineFilter,\r\n  onMachineChange,\r\n  farmerFilter,\r\n  onFarmerChange,\r\n  dairies = [],\r\n  bmcs = [],\r\n  societies,\r\n  machines,\r\n  farmers = [],\r\n  filteredCount,\r\n  totalCount,\r\n  searchQuery,\r\n  onSearchChange,\r\n  icon,\r\n  dateFilter,\r\n  onDateChange,\r\n  dateFromFilter,\r\n  onDateFromChange,\r\n  dateToFilter,\r\n  onDateToChange,\r\n  channelFilter,\r\n  onChannelChange,\r\n  showDateFilter = false,\r\n  showChannelFilter = false,\r\n  showShiftFilter = false,\r\n  showMachineFilter = false,\r\n  hideMainFilterButton = false,\r\n  hideSocietyFilter = false\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [dateRangeOpen, setDateRangeOpen] = useState(false);\r\n  const [societyDropdownOpen, setSocietyDropdownOpen] = useState(false);\r\n  const [channelDropdownOpen, setChannelDropdownOpen] = useState(false);\r\n  const [machineDropdownOpen, setMachineDropdownOpen] = useState(false);\r\n  const [dairyDropdownOpen, setDairyDropdownOpen] = useState(false);\r\n  const [bmcDropdownOpen, setBmcDropdownOpen] = useState(false);\r\n  const [shiftDropdownOpen, setShiftDropdownOpen] = useState(false);\r\n  const [farmerDropdownOpen, setFarmerDropdownOpen] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n  const dateRangeRef = useRef<HTMLDivElement>(null);\r\n  const societyDropdownRef = useRef<HTMLDivElement>(null);\r\n  const channelDropdownRef = useRef<HTMLDivElement>(null);\r\n  const machineDropdownRef = useRef<HTMLDivElement>(null);\r\n  const dairyDropdownRef = useRef<HTMLDivElement>(null);\r\n  const bmcDropdownRef = useRef<HTMLDivElement>(null);\r\n  const shiftDropdownRef = useRef<HTMLDivElement>(null);\r\n  const farmerDropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Deduplicate and filter machines by society selection\r\n  const uniqueMachines = useMemo(() => {\r\n    // First filter by selected societies\r\n    let filteredMachines = machines;\r\n    if (Array.isArray(societyFilter) && societyFilter.length > 0) {\r\n      filteredMachines = machines.filter(machine => \r\n        machine.societyId && societyFilter.includes(machine.societyId.toString())\r\n      );\r\n    }\r\n    \r\n    // Then deduplicate by machineId, machineType, AND societyId\r\n    const seen = new Map<string, typeof machines[0]>();\r\n    filteredMachines.forEach(machine => {\r\n      const key = `${machine.machineId}-${machine.machineType}-${machine.societyId}`;\r\n      if (!seen.has(key)) {\r\n        seen.set(key, machine);\r\n      }\r\n    });\r\n    return Array.from(seen.values());\r\n  }, [machines, societyFilter]);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n      if (dateRangeRef.current && !dateRangeRef.current.contains(event.target as Node)) {\r\n        setDateRangeOpen(false);\r\n      }\r\n      if (societyDropdownRef.current && !societyDropdownRef.current.contains(event.target as Node)) {\r\n        setSocietyDropdownOpen(false);\r\n      }\r\n      if (channelDropdownRef.current && !channelDropdownRef.current.contains(event.target as Node)) {\r\n        setChannelDropdownOpen(false);\r\n      }\r\n      if (machineDropdownRef.current && !machineDropdownRef.current.contains(event.target as Node)) {\r\n        setMachineDropdownOpen(false);\r\n      }\r\n      if (dairyDropdownRef.current && !dairyDropdownRef.current.contains(event.target as Node)) {\r\n        setDairyDropdownOpen(false);\r\n      }\r\n      if (bmcDropdownRef.current && !bmcDropdownRef.current.contains(event.target as Node)) {\r\n        setBmcDropdownOpen(false);\r\n      }\r\n      if (shiftDropdownRef.current && !shiftDropdownRef.current.contains(event.target as Node)) {\r\n        setShiftDropdownOpen(false);\r\n      }\r\n      if (farmerDropdownRef.current && !farmerDropdownRef.current.contains(event.target as Node)) {\r\n        setFarmerDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const hasActiveFilters = statusFilter !== 'all' || \r\n    (Array.isArray(dairyFilter) ? dairyFilter.length > 0 : (dairyFilter !== undefined && dairyFilter !== 'all')) || \r\n    (Array.isArray(bmcFilter) ? bmcFilter.length > 0 : (bmcFilter !== undefined && bmcFilter !== 'all')) || \r\n    (Array.isArray(societyFilter) ? societyFilter.length > 0 : societyFilter !== 'all') || \r\n    (Array.isArray(machineFilter) ? machineFilter.length > 0 : machineFilter !== 'all') || \r\n    (Array.isArray(farmerFilter) ? farmerFilter.length > 0 : (farmerFilter !== undefined && farmerFilter !== 'all')) || \r\n    (dateFilter && dateFilter !== '') || \r\n    (dateFromFilter && dateFromFilter !== '') || \r\n    (dateToFilter && dateToFilter !== '') || \r\n    (channelFilter && channelFilter !== 'all');\r\n  const activeFilterCount = [\r\n    statusFilter !== 'all',\r\n    Array.isArray(dairyFilter) ? dairyFilter.length > 0 : (dairyFilter !== undefined && dairyFilter !== 'all'),\r\n    Array.isArray(bmcFilter) ? bmcFilter.length > 0 : (bmcFilter !== undefined && bmcFilter !== 'all'),\r\n    Array.isArray(societyFilter) ? societyFilter.length > 0 : societyFilter !== 'all',\r\n    Array.isArray(machineFilter) ? machineFilter.length > 0 : machineFilter !== 'all',\r\n    dateFilter && dateFilter !== '',\r\n    dateFromFilter && dateFromFilter !== '',\r\n    dateToFilter && dateToFilter !== '',\r\n    channelFilter && channelFilter !== 'all'\r\n  ].filter(Boolean).length;\r\n\r\n  const handleClearFilters = () => {\r\n    onStatusChange('all');\r\n    if (onDairyChange) onDairyChange([]);\r\n    if (onBmcChange) onBmcChange([]);\r\n    onSocietyChange([]);\r\n    onMachineChange([]);\r\n    if (onDateChange) onDateChange('');\r\n    if (onDateFromChange) onDateFromChange('');\r\n    if (onDateToChange) onDateToChange('');\r\n    if (onChannelChange) onChannelChange('all');\r\n    if (onSearchChange) onSearchChange('');\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      {/* Compact Filter Bar */}\r\n      <div className=\"flex items-center gap-2 sm:gap-3 flex-wrap\">\r\n        {/* Filter Dropdown Button */}\r\n        {!hideMainFilterButton && (\r\n        <button\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n            hasActiveFilters\r\n              ? 'bg-psr-green-50 dark:bg-psr-green-900/20 border-psr-green-500 dark:border-psr-green-400 text-psr-green-700 dark:text-psr-green-300'\r\n              : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n          }`}\r\n        >\r\n          <Filter className=\"w-4 h-4\" />\r\n          <span className=\"text-sm font-medium\">\r\n            Filters\r\n            {activeFilterCount > 0 && (\r\n              <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-green-600 dark:bg-psr-green-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                {activeFilterCount}\r\n              </span>\r\n            )}\r\n          </span>\r\n          <ChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\r\n        </button>\r\n        )}\r\n\r\n        {/* Dairy Filter Button */}\r\n        {dairies && dairies.length > 0 && onDairyChange && (\r\n        <div className=\"relative\" ref={dairyDropdownRef}>\r\n          <button\r\n            onClick={() => setDairyDropdownOpen(!dairyDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              (Array.isArray(dairyFilter) && dairyFilter.length > 0) || (typeof dairyFilter === 'string' && dairyFilter !== 'all')\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Dairy\r\n              {Array.isArray(dairyFilter) && dairyFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {dairyFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${dairyDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Dairy Dropdown Popup */}\r\n          {dairyDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Dairies\r\n                    {Array.isArray(dairyFilter) && dairyFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({dairyFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setDairyDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {dairies.map((dairy) => {\r\n                      const dairyIdStr = dairy.id.toString();\r\n                      const isChecked = Array.isArray(dairyFilter) && dairyFilter.includes(dairyIdStr);\r\n                      return (\r\n                        <label\r\n                          key={dairy.id}\r\n                          className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                        >\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={isChecked}\r\n                            onChange={(e) => {\r\n                              const currentFilters = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                              if (e.target.checked) {\r\n                                onDairyChange([...currentFilters, dairyIdStr]);\r\n                              } else {\r\n                                const newDairyFilters = currentFilters.filter(id => id !== dairyIdStr);\r\n                                onDairyChange(newDairyFilters);\r\n                                // Clear BMCs that belong to this dairy\r\n                                if (onBmcChange && Array.isArray(bmcFilter)) {\r\n                                  const bmcsToRemove = bmcs\r\n                                    .filter(b => b.dairyFarmId?.toString() === dairyIdStr)\r\n                                    .map(b => b.id.toString());\r\n                                  const newBmcFilters = bmcFilter.filter(id => !bmcsToRemove.includes(id));\r\n                                  onBmcChange(newBmcFilters);\r\n                                }\r\n                              }\r\n                              onSocietyChange([]);\r\n                            }}\r\n                            className=\"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 cursor-pointer\"\r\n                          />\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"text-sm text-gray-900 dark:text-gray-100\">\r\n                              {dairy.name}\r\n                            </div>\r\n                          </div>\r\n                          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            ({dairy.dairyId})\r\n                          </span>\r\n                        </label>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onDairyChange([]);\r\n                      if (onBmcChange) onBmcChange([]);\r\n                      onSocietyChange([]);\r\n                      setDairyDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setDairyDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* BMC Filter Button */}\r\n        {bmcs && bmcs.length > 0 && onBmcChange && (\r\n        <div className=\"relative\" ref={bmcDropdownRef}>\r\n          <button\r\n            onClick={() => setBmcDropdownOpen(!bmcDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              (Array.isArray(bmcFilter) && bmcFilter.length > 0) || (typeof bmcFilter === 'string' && bmcFilter !== 'all')\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              BMC\r\n              {Array.isArray(bmcFilter) && bmcFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {bmcFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${bmcDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* BMC Dropdown Popup */}\r\n          {bmcDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select BMCs\r\n                    {Array.isArray(bmcFilter) && bmcFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({bmcFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setBmcDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {(() => {\r\n                      // Get BMC IDs that have societies with data\r\n                      const bmcIdsWithSocieties = new Set(\r\n                        societies\r\n                          .filter(s => s.bmc_id)\r\n                          .map(s => s.bmc_id)\r\n                      );\r\n\r\n                      // Filter BMCs: only those with dairy filter match AND have societies\r\n                      const filteredBmcs = bmcs.filter(bmc => {\r\n                        const dairyFilterArray = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                        const matchesDairy = dairyFilterArray.length === 0 || \r\n                          dairyFilterArray.includes(bmc.dairyFarmId?.toString() || '');\r\n                        const hasSocieties = bmcIdsWithSocieties.has(bmc.id);\r\n                        return matchesDairy && hasSocieties;\r\n                      });\r\n\r\n                      if (filteredBmcs.length === 0) {\r\n                        const dairyFilterArray = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                        const message = dairyFilterArray.length > 0\r\n                          ? 'No BMCs available for selected dairies'\r\n                          : 'No BMCs with societies available';\r\n                        return (\r\n                          <div className=\"text-center py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                            {message}\r\n                          </div>\r\n                        );\r\n                      }\r\n\r\n                      // Group BMCs by dairy if no specific dairy is selected\r\n                      const dairyFilterArray = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                      if (dairyFilterArray.length === 0) {\r\n                        const bmcsByDairy = filteredBmcs.reduce((acc, bmc) => {\r\n                          const dairyId = bmc.dairyFarmId || 'unassigned';\r\n                          if (!acc[dairyId]) acc[dairyId] = [];\r\n                          acc[dairyId].push(bmc);\r\n                          return acc;\r\n                        }, {} as Record<string | number, typeof filteredBmcs>);\r\n\r\n                        return Object.entries(bmcsByDairy).map(([dairyId, dairyBmcs]) => {\r\n                          const dairy = dairies.find(d => d.id.toString() === dairyId);\r\n                          \r\n                          return (\r\n                            <div key={dairyId} className=\"mb-3\">\r\n                              {/* Dairy Header */}\r\n                              {dairy && (\r\n                                <div className=\"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 rounded text-xs font-semibold text-blue-600 dark:text-blue-400 mb-1\">\r\n                                  {dairy.name} ({dairy.dairyId})\r\n                                </div>\r\n                              )}\r\n                              \r\n                              {/* BMCs under this dairy */}\r\n                              {dairyBmcs.map((bmc) => {\r\n                                const bmcIdStr = bmc.id.toString();\r\n                                const isChecked = Array.isArray(bmcFilter) && bmcFilter.includes(bmcIdStr);\r\n                                return (\r\n                                  <label\r\n                                    key={bmc.id}\r\n                                    className=\"flex items-center gap-3 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                                  >\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={isChecked}\r\n                                      onChange={(e) => {\r\n                                        const currentFilters = Array.isArray(bmcFilter) ? bmcFilter : [];\r\n                                        if (e.target.checked) {\r\n                                          onBmcChange([...currentFilters, bmcIdStr]);\r\n                                        } else {\r\n                                          onBmcChange(currentFilters.filter(id => id !== bmcIdStr));\r\n                                        }\r\n                                        onSocietyChange([]);\r\n                                      }}\r\n                                      className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                                      {bmc.name}\r\n                                    </span>\r\n                                    <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                      ({bmc.bmcId})\r\n                                    </span>\r\n                                  </label>\r\n                                );\r\n                              })}\r\n                            </div>\r\n                          );\r\n                        });\r\n                      }\r\n\r\n                      // If specific dairy is selected, show flat list\r\n                      return filteredBmcs.map((bmc) => {\r\n                        const bmcIdStr = bmc.id.toString();\r\n                        const isChecked = Array.isArray(bmcFilter) && bmcFilter.includes(bmcIdStr);\r\n                        return (\r\n                          <label\r\n                            key={bmc.id}\r\n                            className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                          >\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={isChecked}\r\n                              onChange={(e) => {\r\n                                const currentFilters = Array.isArray(bmcFilter) ? bmcFilter : [];\r\n                                if (e.target.checked) {\r\n                                  onBmcChange([...currentFilters, bmcIdStr]);\r\n                                } else {\r\n                                  onBmcChange(currentFilters.filter(id => id !== bmcIdStr));\r\n                                }\r\n                                onSocietyChange([]);\r\n                              }}\r\n                              className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                            />\r\n                            <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                              {bmc.name}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                              ({bmc.bmcId})\r\n                            </span>\r\n                          </label>\r\n                        );\r\n                      });\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onBmcChange([]);\r\n                      onSocietyChange([]);\r\n                      setBmcDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setBmcDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Society Filter Button */}\r\n        {!hideSocietyFilter && societies && societies.length > 0 && (\r\n        <div className=\"relative\" ref={societyDropdownRef}>\r\n          <button\r\n            onClick={() => setSocietyDropdownOpen(!societyDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              Array.isArray(societyFilter) && societyFilter.length > 0\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Society\r\n              {Array.isArray(societyFilter) && societyFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {societyFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${societyDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Society Dropdown Popup */}\r\n          {societyDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Societies\r\n                    {Array.isArray(societyFilter) && societyFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({societyFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setSocietyDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {societies.length === 0 ? (\r\n                      <div className=\"text-center py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                        No societies available\r\n                      </div>\r\n                    ) : (\r\n                      (() => {\r\n                        // Filter societies based on selected dairy/BMC\r\n                        let filteredSocieties = societies;\r\n                        \r\n                        const dairyFilterArray = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                        const bmcFilterArray = Array.isArray(bmcFilter) ? bmcFilter : [];\r\n                        \r\n                        // If dairy filter is active, get BMCs under those dairies\r\n                        if (dairyFilterArray.length > 0) {\r\n                          const dairyBmcIds = bmcs\r\n                            .filter(b => dairyFilterArray.includes(b.dairyFarmId?.toString() || ''))\r\n                            .map(b => b.id);\r\n                          filteredSocieties = societies.filter(s => \r\n                            s.bmc_id && dairyBmcIds.includes(s.bmc_id)\r\n                          );\r\n                        }\r\n                        // If BMC filter is active, show only societies under those BMCs\r\n                        else if (bmcFilterArray.length > 0) {\r\n                          filteredSocieties = societies.filter(s => \r\n                            s.bmc_id && bmcFilterArray.includes(s.bmc_id.toString())\r\n                          );\r\n                        }\r\n\r\n                        // Group societies by BMC\r\n                        const societiesByBmc = filteredSocieties.reduce((acc, society) => {\r\n                          const bmcId = society.bmc_id || 'unassigned';\r\n                          if (!acc[bmcId]) acc[bmcId] = [];\r\n                          acc[bmcId].push(society);\r\n                          return acc;\r\n                        }, {} as Record<string | number, typeof societies>);\r\n\r\n                        return Object.entries(societiesByBmc).map(([bmcId, bmcSocieties]) => {\r\n                          const bmc = bmcs.find(b => b.id.toString() === bmcId);\r\n                          const dairy = bmc ? dairies.find(d => d.id === bmc.dairyFarmId) : null;\r\n                          \r\n                          return (\r\n                            <div key={bmcId} className=\"mb-3\">\r\n                              {/* BMC/Dairy Header */}\r\n                              <div className=\"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1\">\r\n                                {bmcId === 'unassigned' ? (\r\n                                  'Unassigned Societies'\r\n                                ) : (\r\n                                  <>\r\n                                    {dairy && <span className=\"text-blue-600 dark:text-blue-400\">{dairy.name}  </span>}\r\n                                    <span className=\"text-emerald-600 dark:text-emerald-400\">{bmc?.name || `BMC ${bmcId}`}</span>\r\n                                  </>\r\n                                )}\r\n                              </div>\r\n                              \r\n                              {/* Societies under this BMC */}\r\n                              {bmcSocieties.map(society => {\r\n                                const isChecked = Array.isArray(societyFilter) && societyFilter.includes(society.id.toString());\r\n                                return (\r\n                                  <label\r\n                                    key={society.id}\r\n                                    className=\"flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded cursor-pointer transition-colors\"\r\n                                  >\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={isChecked}\r\n                                      onChange={(e) => {\r\n                                        const currentFilters = Array.isArray(societyFilter) ? societyFilter : [];\r\n                                        const societyId = society.id.toString();\r\n                                        if (e.target.checked) {\r\n                                          onSocietyChange([...currentFilters, societyId]);\r\n                                        } else {\r\n                                          onSocietyChange(currentFilters.filter(id => id !== societyId));\r\n                                        }\r\n                                      }}\r\n                                      className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                                      {society.name}\r\n                                    </span>\r\n                                    <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                      ({society.society_id})\r\n                                    </span>\r\n                                  </label>\r\n                                );\r\n                              })}\r\n                            </div>\r\n                          );\r\n                        });\r\n                      })()\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onSocietyChange([]);\r\n                      setSocietyDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setSocietyDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Machine Filter Button */}\r\n        {showMachineFilter && (\r\n        <div className=\"relative\" ref={machineDropdownRef}>\r\n          <button\r\n            onClick={() => setMachineDropdownOpen(!machineDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              Array.isArray(machineFilter) && machineFilter.length > 0\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Machine\r\n              {Array.isArray(machineFilter) && machineFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {machineFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${machineDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Machine Dropdown Popup */}\r\n          {machineDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Machines\r\n                    {Array.isArray(machineFilter) && machineFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({machineFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setMachineDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {uniqueMachines.length === 0 ? (\r\n                      <div className=\"text-center py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                        No machines available\r\n                      </div>\r\n                    ) : (\r\n                      (() => {\r\n                        // Group machines by society\r\n                        const machinesBySociety = uniqueMachines.reduce((acc, machine) => {\r\n                          const societyId = machine.societyId || 'unassigned';\r\n                          if (!acc[societyId]) acc[societyId] = [];\r\n                          acc[societyId].push(machine);\r\n                          return acc;\r\n                        }, {} as Record<string | number, typeof uniqueMachines>);\r\n\r\n                        return Object.entries(machinesBySociety).map(([societyId, societyMachines]) => {\r\n                          const society = societies.find(s => s.id.toString() === societyId);\r\n                          const bmc = society?.bmc_id ? bmcs.find(b => b.id === society.bmc_id) : null;\r\n                          const dairy = bmc?.dairyFarmId ? dairies.find(d => d.id === bmc.dairyFarmId) : null;\r\n                          \r\n                          return (\r\n                            <div key={societyId} className=\"mb-3\">\r\n                              {/* Hierarchy Header: Dairy  BMC  Society */}\r\n                              <div className=\"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1\">\r\n                                {societyId === 'unassigned' ? (\r\n                                  'Unassigned Machines'\r\n                                ) : (\r\n                                  <>\r\n                                    {dairy && <span className=\"text-blue-600 dark:text-blue-400\">{dairy.name}  </span>}\r\n                                    {bmc && <span className=\"text-emerald-600 dark:text-emerald-400\">{bmc.name}  </span>}\r\n                                    <span className=\"text-purple-600 dark:text-purple-400\">{society?.name || `Society ${societyId}`}</span>\r\n                                  </>\r\n                                )}\r\n                              </div>\r\n                              \r\n                              {/* Machines under this society */}\r\n                              {societyMachines.map((machine) => (\r\n                                <label\r\n                                  key={machine.id}\r\n                                  className=\"flex items-center gap-3 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                                >\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    checked={Array.isArray(machineFilter) && machineFilter.includes(machine.id.toString())}\r\n                                    onChange={(e) => {\r\n                                      const currentFilter = Array.isArray(machineFilter) ? machineFilter : [];\r\n                                      if (e.target.checked) {\r\n                                        onMachineChange([...currentFilter, machine.id.toString()]);\r\n                                      } else {\r\n                                        onMachineChange(currentFilter.filter(id => id !== machine.id.toString()));\r\n                                      }\r\n                                    }}\r\n                                    className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                                  />\r\n                                  <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                                    {machine.machineType}\r\n                                  </span>\r\n                                  <div className=\"flex items-center gap-2\">\r\n                                    {machine.collectionCount !== undefined && (\r\n                                      <span className=\"px-2 py-0.5 text-xs font-semibold bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full\">\r\n                                        {machine.collectionCount}\r\n                                      </span>\r\n                                    )}\r\n                                    <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                      ({machine.machineId})\r\n                                    </span>\r\n                                  </div>\r\n                                </label>\r\n                              ))}\r\n                            </div>\r\n                          );\r\n                        });\r\n                      })()\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onMachineChange([]);\r\n                      setMachineDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setMachineDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Farmer Filter Button */}\r\n        {farmers && farmers.length > 0 && onFarmerChange && (\r\n        <div className=\"relative\" ref={farmerDropdownRef}>\r\n          <button\r\n            onClick={() => setFarmerDropdownOpen(!farmerDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              Array.isArray(farmerFilter) && farmerFilter.length > 0\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Farmer\r\n              {Array.isArray(farmerFilter) && farmerFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {farmerFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${farmerDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Farmer Dropdown Popup */}\r\n          {farmerDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Farmers\r\n                    {Array.isArray(farmerFilter) && farmerFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({farmerFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setFarmerDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {farmers.length === 0 ? (\r\n                      <div className=\"text-center py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                        No farmers available\r\n                      </div>\r\n                    ) : (\r\n                      farmers.map((farmer) => (\r\n                        <label\r\n                          key={farmer.id}\r\n                          className=\"flex items-center gap-3 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                        >\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={Array.isArray(farmerFilter) && farmerFilter.includes(farmer.id.toString())}\r\n                            onChange={(e) => {\r\n                              const currentFilter = Array.isArray(farmerFilter) ? farmerFilter : [];\r\n                              if (e.target.checked) {\r\n                                onFarmerChange([...currentFilter, farmer.id.toString()]);\r\n                              } else {\r\n                                onFarmerChange(currentFilter.filter(id => id !== farmer.id.toString()));\r\n                              }\r\n                            }}\r\n                            className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                          />\r\n                          <div className=\"flex-1\">\r\n                            <span className=\"text-sm text-gray-900 dark:text-gray-100 block\">\r\n                              {farmer.farmerName}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                              {farmer.farmerId}\r\n                            </span>\r\n                          </div>\r\n                        </label>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onFarmerChange([]);\r\n                      setFarmerDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFarmerDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Channel Filter Button */}\r\n        {showChannelFilter && (\r\n        <div className=\"relative\" ref={channelDropdownRef}>\r\n          <button\r\n            onClick={() => setChannelDropdownOpen(!channelDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              channelFilter && channelFilter !== 'all'\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Channel\r\n              {channelFilter && channelFilter !== 'all' && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  1\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${channelDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Channel Dropdown Popup */}\r\n          {channelDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Channel\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setChannelDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  {[\r\n                    { value: 'all', label: 'All Channels' },\r\n                    { value: 'COW', label: 'Cow' },\r\n                    { value: 'BUFFALO', label: 'Buffalo' },\r\n                    { value: 'MIXED', label: 'Mixed' }\r\n                  ].map((option) => (\r\n                    <label\r\n                      key={option.value}\r\n                      className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                    >\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"channel\"\r\n                        checked={channelFilter === option.value}\r\n                        onChange={() => {\r\n                          if (onChannelChange) {\r\n                            onChannelChange(option.value);\r\n                          }\r\n                        }}\r\n                        className=\"w-4 h-4 text-psr-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-psr-primary-500 cursor-pointer\"\r\n                      />\r\n                      <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                        {option.label}\r\n                      </span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      if (onChannelChange) onChannelChange('all');\r\n                      setChannelDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setChannelDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Shift Filter Button */}\r\n        {showShiftFilter && (\r\n        <div className=\"relative\" ref={shiftDropdownRef}>\r\n          <button\r\n            onClick={() => setShiftDropdownOpen(!shiftDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              statusFilter !== 'all'\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Shift\r\n              {statusFilter !== 'all' && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  1\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${shiftDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Shift Dropdown Popup */}\r\n          {shiftDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Shift\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setShiftDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"shift\"\r\n                      value=\"all\"\r\n                      checked={statusFilter === 'all'}\r\n                      onChange={() => onStatusChange('all')}\r\n                      className=\"w-4 h-4 text-amber-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-amber-500 dark:focus:ring-amber-400 cursor-pointer\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-900 dark:text-gray-100\">All Shifts</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"shift\"\r\n                      value=\"morning\"\r\n                      checked={statusFilter === 'morning'}\r\n                      onChange={() => onStatusChange('morning')}\r\n                      className=\"w-4 h-4 text-amber-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-amber-500 dark:focus:ring-amber-400 cursor-pointer\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-900 dark:text-gray-100\">Morning</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"shift\"\r\n                      value=\"evening\"\r\n                      checked={statusFilter === 'evening'}\r\n                      onChange={() => onStatusChange('evening')}\r\n                      className=\"w-4 h-4 text-indigo-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 cursor-pointer\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-900 dark:text-gray-100\">Evening</span>\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onStatusChange('all');\r\n                      setShiftDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setShiftDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Date Range Filter Button */}\r\n        {showDateFilter && (\r\n          <div className=\"relative\" ref={dateRangeRef}>\r\n            <button\r\n              onClick={() => setDateRangeOpen(!dateRangeOpen)}\r\n              className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n                (dateFromFilter && dateFromFilter !== '') || (dateToFilter && dateToFilter !== '')\r\n                  ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                  : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n              }`}\r\n            >\r\n              <Calendar className=\"w-4 h-4\" />\r\n              <span className=\"text-sm font-medium\">Date Range</span>\r\n              <ChevronDown className={`w-4 h-4 transition-transform ${dateRangeOpen ? 'rotate-180' : ''}`} />\r\n            </button>\r\n\r\n            {/* Date Range Popup */}\r\n            {dateRangeOpen && (\r\n              <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Select Date Range</h3>\r\n                    <button\r\n                      onClick={() => setDateRangeOpen(false)}\r\n                      className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block mb-2\">\r\n                        From Date\r\n                      </label>\r\n                      <div className=\"relative\">\r\n                        <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                        <input\r\n                          type=\"date\"\r\n                          value={dateFromFilter || ''}\r\n                          onChange={(e) => onDateFromChange && onDateFromChange(e.target.value)}\r\n                          className=\"w-full pl-10 pr-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-primary-500 dark:focus:ring-psr-primary-400 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block mb-2\">\r\n                        To Date\r\n                      </label>\r\n                      <div className=\"relative\">\r\n                        <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                        <input\r\n                          type=\"date\"\r\n                          value={dateToFilter || ''}\r\n                          onChange={(e) => onDateToChange && onDateToChange(e.target.value)}\r\n                          className=\"w-full pl-10 pr-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-primary-500 dark:focus:ring-psr-primary-400 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                    <button\r\n                      onClick={() => {\r\n                        if (onDateFromChange) onDateFromChange('');\r\n                        if (onDateToChange) onDateToChange('');\r\n                        setDateRangeOpen(false);\r\n                      }}\r\n                      className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                    >\r\n                      Clear All\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setDateRangeOpen(false)}\r\n                      className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                    >\r\n                      Apply\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Item Count */}\r\n        {(filteredCount > 0 || totalCount > 0) && (\r\n          <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n            {icon}\r\n            <span className=\"font-medium\">\r\n              {filteredCount}/{totalCount} items\r\n            </span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Active Search Query Badge */}\r\n        {searchQuery && (\r\n          <div className=\"flex items-center gap-1.5 px-2.5 py-1.5 bg-psr-green-50 dark:bg-psr-green-900/20 border border-psr-green-200 dark:border-psr-green-700 rounded-md text-psr-green-700 dark:text-psr-green-300 text-xs font-medium\">\r\n            <span>&ldquo;{searchQuery}&rdquo;</span>\r\n            {onSearchChange && (\r\n              <button\r\n                onClick={() => {\r\n                  onSearchChange('');\r\n                  // Clear header search as well\r\n                  const event = new CustomEvent('globalSearch', {\r\n                    detail: { query: '' }\r\n                  });\r\n                  window.dispatchEvent(event);\r\n                }}\r\n                className=\"hover:bg-psr-green-100 dark:hover:bg-psr-green-800 rounded p-0.5 transition-colors\"\r\n                title=\"Clear search\"\r\n              >\r\n                <X className=\"w-3 h-3\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Clear All Filters Button */}\r\n        {hasActiveFilters && (\r\n          <button\r\n            onClick={handleClearFilters}\r\n            className=\"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-md hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n          >\r\n            <X className=\"w-3.5 h-3.5\" />\r\n            <span className=\"hidden sm:inline\">Clear</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Dropdown Panel */}\r\n      {isOpen && (\r\n        <div className=\"absolute top-full left-0 mt-2 w-full sm:w-auto sm:min-w-[600px] sm:max-w-4xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n              <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Filter Options</h3>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* All Filters in Single Row */}\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n              {/* Status/Shift Filter */}\r\n              {showShiftFilter ? (\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                    Shift\r\n                  </label>\r\n                  <select\r\n                    value={statusFilter}\r\n                    onChange={(e) => onStatusChange(e.target.value)}\r\n                    className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"all\">All Shifts</option>\r\n                    <option value=\"morning\">Morning</option>\r\n                    <option value=\"evening\">Evening</option>\r\n                  </select>\r\n                </div>\r\n              ) : statusFilter !== 'all' && statusFilter !== '' ? (\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                    Status\r\n                  </label>\r\n                  <select\r\n                    value={statusFilter}\r\n                    onChange={(e) => onStatusChange(e.target.value)}\r\n                    className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"all\">All Status</option>\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"inactive\">Inactive</option>\r\n                    <option value=\"suspended\">Suspended</option>\r\n                    <option value=\"maintenance\">Maintenance</option>\r\n                  </select>\r\n                </div>\r\n              ) : null}\r\n\r\n              {/* Dairy Filter */}\r\n              {dairies && dairies.length > 0 && onDairyChange && (\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                    Dairy Farm\r\n                  </label>\r\n                  <select\r\n                    value={dairyFilter || 'all'}\r\n                    onChange={(e) => {\r\n                      onDairyChange(e.target.value);\r\n                      if (onBmcChange) onBmcChange('all');\r\n                      onSocietyChange([]);\r\n                    }}\r\n                    className=\"w-full min-w-[150px] px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"all\">All Dairies</option>\r\n                    {dairies.map(dairy => (\r\n                      <option key={dairy.id} value={dairy.id.toString()}>\r\n                        {dairy.name} ({dairy.dairyId})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              {/* BMC Filter */}\r\n              {bmcs && bmcs.length > 0 && onBmcChange && (\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                    BMC\r\n                  </label>\r\n                  <select\r\n                    value={bmcFilter || 'all'}\r\n                    onChange={(e) => {\r\n                      onBmcChange(e.target.value);\r\n                      onSocietyChange([]);\r\n                    }}\r\n                    className=\"w-full min-w-[150px] px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"all\">All BMCs</option>\r\n                    {bmcs\r\n                      .filter(bmc => \r\n                        !dairyFilter || dairyFilter === 'all' || \r\n                        bmc.dairyFarmId?.toString() === dairyFilter\r\n                      )\r\n                      .map(bmc => (\r\n                        <option key={bmc.id} value={bmc.id.toString()}>\r\n                          {bmc.name} ({bmc.bmcId})\r\n                        </option>\r\n                      ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              {/* Machine Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Machine\r\n                </label>\r\n                <select\r\n                  value={machineFilter}\r\n                  onChange={(e) => onMachineChange(e.target.value)}\r\n                  className=\"w-full min-w-[150px] px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  <option value=\"all\">All Machines</option>\r\n                  {machines\r\n                    .filter(machine => {\r\n                      if (Array.isArray(societyFilter) && societyFilter.length > 0) {\r\n                        return societyFilter.includes(machine.societyId?.toString() || '');\r\n                      }\r\n                      return true;\r\n                    })\r\n                    .map(machine => (\r\n                      <option key={machine.id} value={machine.id.toString()}>\r\n                        {machine.machineId} ({machine.machineType})\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            {/* Active Filters Summary */}\r\n            {hasActiveFilters && (\r\n              <div className=\"pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400\">Active filters:</span>\r\n                  {statusFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-green-100 dark:bg-psr-green-900/30 text-psr-green-700 dark:text-psr-green-300 text-xs rounded\">\r\n                      {showShiftFilter ? 'Shift' : 'Status'}: {statusFilter}\r\n                      <button onClick={() => onStatusChange('all')} className=\"hover:text-psr-green-900 dark:hover:text-psr-green-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {Array.isArray(societyFilter) && societyFilter.length > 0 && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-primary-100 dark:bg-psr-primary-900/30 text-psr-primary-700 dark:text-psr-primary-300 text-xs rounded\">\r\n                      Society: {societyFilter.length} selected\r\n                      <button onClick={() => onSocietyChange([])} className=\"hover:text-psr-primary-900 dark:hover:text-psr-primary-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {machineFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-emerald-100 dark:bg-psr-emerald-900/30 text-psr-emerald-700 dark:text-psr-emerald-300 text-xs rounded\">\r\n                      Machine: {machines.find(m => m.id.toString() === machineFilter)?.machineId}\r\n                      <button onClick={() => onMachineChange('all')} className=\"hover:text-psr-emerald-900 dark:hover:text-psr-emerald-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {dateFilter && dateFilter !== '' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs rounded\">\r\n                      Date: {dateFilter}\r\n                      <button onClick={() => onDateChange && onDateChange('')} className=\"hover:text-orange-900 dark:hover:text-orange-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {dateFromFilter && dateFromFilter !== '' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-primary-100 dark:bg-psr-primary-900/30 text-psr-primary-700 dark:text-psr-primary-300 text-xs rounded\">\r\n                      From: {dateFromFilter}\r\n                      <button onClick={() => onDateFromChange && onDateFromChange('')} className=\"hover:text-psr-primary-900 dark:hover:text-psr-primary-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {dateToFilter && dateToFilter !== '' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-primary-100 dark:bg-psr-primary-900/30 text-psr-primary-700 dark:text-psr-primary-300 text-xs rounded\">\r\n                      To: {dateToFilter}\r\n                      <button onClick={() => onDateToChange && onDateToChange('')} className=\"hover:text-psr-primary-900 dark:hover:text-psr-primary-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {channelFilter && channelFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 text-xs rounded\">\r\n                      Channel: {channelFilter}\r\n                      <button onClick={() => onChannelChange && onChannelChange('all')} className=\"hover:text-yellow-900 dark:hover:text-yellow-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterDropdown;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7357, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/StatisticsFilterDropdown.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Filter, X, ChevronDown } from 'lucide-react';\r\n\r\ninterface StatisticsFilterDropdownProps {\r\n  societyFilter: string;\r\n  onSocietyChange: (value: string) => void;\r\n  machineTypeFilter: string;\r\n  onMachineTypeChange: (value: string) => void;\r\n  dateFilter: string;\r\n  onDateChange: (value: string) => void;\r\n  autoChannelFilter: string;\r\n  onAutoChannelChange: (value: string) => void;\r\n  societies: string[];\r\n  machineTypes: string[];\r\n  dates: string[];\r\n  filteredCount: number;\r\n  totalCount: number;\r\n  searchQuery?: string;\r\n  onSearchChange?: (value: string) => void;\r\n  icon?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Custom filter dropdown for machine statistics page\r\n * Handles society, machine type, date, and auto-channel filters\r\n */\r\nconst StatisticsFilterDropdown: React.FC<StatisticsFilterDropdownProps> = ({\r\n  societyFilter,\r\n  onSocietyChange,\r\n  machineTypeFilter,\r\n  onMachineTypeChange,\r\n  dateFilter,\r\n  onDateChange,\r\n  autoChannelFilter,\r\n  onAutoChannelChange,\r\n  societies,\r\n  machineTypes,\r\n  dates,\r\n  filteredCount,\r\n  totalCount,\r\n  searchQuery,\r\n  onSearchChange,\r\n  icon\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const hasActiveFilters = \r\n    societyFilter !== 'all' || \r\n    machineTypeFilter !== 'all' || \r\n    dateFilter !== 'all' || \r\n    autoChannelFilter !== 'all';\r\n    \r\n  const activeFilterCount = [\r\n    societyFilter !== 'all',\r\n    machineTypeFilter !== 'all',\r\n    dateFilter !== 'all',\r\n    autoChannelFilter !== 'all'\r\n  ].filter(Boolean).length;\r\n\r\n  const handleClearFilters = () => {\r\n    onSocietyChange('all');\r\n    onMachineTypeChange('all');\r\n    onDateChange('all');\r\n    onAutoChannelChange('all');\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      {/* Compact Filter Bar */}\r\n      <div className=\"flex items-center gap-2 sm:gap-3 flex-wrap\">\r\n        {/* Filter Dropdown Button */}\r\n        <button\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n            hasActiveFilters\r\n              ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-500 dark:border-blue-400 text-blue-700 dark:text-blue-300'\r\n              : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n          }`}\r\n        >\r\n          <Filter className=\"w-4 h-4\" />\r\n          <span className=\"text-sm font-medium\">\r\n            Filters\r\n            {activeFilterCount > 0 && (\r\n              <span className=\"ml-1.5 px-1.5 py-0.5 bg-blue-600 dark:bg-blue-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                {activeFilterCount}\r\n              </span>\r\n            )}\r\n          </span>\r\n          <ChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\r\n        </button>\r\n\r\n        {/* Item Count */}\r\n        <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n          {icon}\r\n          <span className=\"font-medium\">\r\n            {filteredCount}/{totalCount} items\r\n          </span>\r\n        </div>\r\n\r\n        {/* Active Search Query Badge */}\r\n        {searchQuery && (\r\n          <div className=\"flex items-center gap-1.5 px-2.5 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-md text-blue-700 dark:text-blue-300 text-xs font-medium\">\r\n            <span>&ldquo;{searchQuery}&rdquo;</span>\r\n            {onSearchChange && (\r\n              <button\r\n                onClick={() => onSearchChange('')}\r\n                className=\"hover:bg-blue-100 dark:hover:bg-blue-800 rounded p-0.5 transition-colors\"\r\n                title=\"Clear search\"\r\n              >\r\n                <X className=\"w-3 h-3\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Clear All Filters Button */}\r\n        {hasActiveFilters && (\r\n          <button\r\n            onClick={handleClearFilters}\r\n            className=\"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-md hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n          >\r\n            <X className=\"w-3.5 h-3.5\" />\r\n            <span className=\"hidden sm:inline\">Clear</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Dropdown Panel */}\r\n      {isOpen && (\r\n        <div className=\"absolute top-full left-0 mt-2 w-full sm:w-[700px] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n              <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Filter Options</h3>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Filters Grid */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n              {/* Society Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Society\r\n                </label>\r\n                <select\r\n                  value={societyFilter}\r\n                  onChange={(e) => onSocietyChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-transparent\"\r\n                >\r\n                  <option value=\"all\">All Societies</option>\r\n                  {societies.map(society => (\r\n                    <option key={society} value={society}>\r\n                      {society}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Machine Type Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Machine Type\r\n                </label>\r\n                <select\r\n                  value={machineTypeFilter}\r\n                  onChange={(e) => onMachineTypeChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-transparent\"\r\n                >\r\n                  <option value=\"all\">All Types</option>\r\n                  {machineTypes.map(type => (\r\n                    <option key={type} value={type}>\r\n                      {type}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Date Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Date\r\n                </label>\r\n                <select\r\n                  value={dateFilter}\r\n                  onChange={(e) => onDateChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-transparent\"\r\n                >\r\n                  <option value=\"all\">All Dates</option>\r\n                  {dates.map(date => (\r\n                    <option key={date} value={date}>\r\n                      {date}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Auto Channel Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Auto Channel\r\n                </label>\r\n                <select\r\n                  value={autoChannelFilter}\r\n                  onChange={(e) => onAutoChannelChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-transparent\"\r\n                >\r\n                  <option value=\"all\">All Status</option>\r\n                  <option value=\"ENABLE\">Enabled</option>\r\n                  <option value=\"DISABLE\">Disabled</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Active Filters Summary */}\r\n            {hasActiveFilters && (\r\n              <div className=\"pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400\">Active filters:</span>\r\n                  {societyFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded\">\r\n                      Society: {societyFilter}\r\n                      <button onClick={() => onSocietyChange('all')} className=\"hover:text-blue-900 dark:hover:text-blue-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {machineTypeFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded\">\r\n                      Type: {machineTypeFilter}\r\n                      <button onClick={() => onMachineTypeChange('all')} className=\"hover:text-purple-900 dark:hover:text-purple-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {dateFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded\">\r\n                      Date: {dateFilter}\r\n                      <button onClick={() => onDateChange('all')} className=\"hover:text-green-900 dark:hover:text-green-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {autoChannelFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs rounded\">\r\n                      Auto Channel: {autoChannelFilter}\r\n                      <button onClick={() => onAutoChannelChange('all')} className=\"hover:text-orange-900 dark:hover:text-orange-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticsFilterDropdown;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7943, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/StatsGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { StatsCard } from '@/components';\r\nimport { Users, UserCheck, UserX, AlertTriangle } from 'lucide-react';\r\n\r\ninterface ItemWithStatus {\r\n  status: string;\r\n}\r\n\r\ninterface StatsGridProps<T extends ItemWithStatus> {\r\n  allItems: T[];\r\n  filteredItems: T[];\r\n  hasFilters: boolean;\r\n  onStatusFilterChange?: (status: 'all' | 'active' | 'inactive' | 'suspended' | 'maintenance') => void;\r\n  currentStatusFilter?: string;\r\n}\r\n\r\n/**\r\n * Reusable stats grid for management pages\r\n * Displays total, active, inactive, suspended, and maintenance counts\r\n */\r\nconst StatsGrid = <T extends ItemWithStatus>({\r\n  allItems,\r\n  filteredItems,\r\n  hasFilters,\r\n  onStatusFilterChange,\r\n  currentStatusFilter = 'all'\r\n}: StatsGridProps<T>) => {\r\n  const getStatusCount = (items: T[], status: string) => {\r\n    return items.filter(item => item.status === status).length;\r\n  };\r\n\r\n  // Always use allItems for constant display values\r\n  const totalCount = allItems.length;\r\n  const activeCount = getStatusCount(allItems, 'active');\r\n  const inactiveCount = getStatusCount(allItems, 'inactive');\r\n  const suspendedCount = getStatusCount(allItems, 'suspended');\r\n  const maintenanceCount = getStatusCount(allItems, 'maintenance');\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-2 xs:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3\">\r\n      <StatsCard\r\n        title=\"Total\"\r\n        value={totalCount}\r\n        icon={<Users className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"green\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('all') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'all'}\r\n      />\r\n      \r\n      <StatsCard\r\n        title=\"Active\"\r\n        value={activeCount}\r\n        icon={<UserCheck className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"green\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('active') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'active'}\r\n      />\r\n\r\n      <StatsCard\r\n        title=\"Inactive\"\r\n        value={inactiveCount}\r\n        icon={<UserX className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"red\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('inactive') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'inactive'}\r\n      />\r\n\r\n      <StatsCard\r\n        title=\"Suspended\"\r\n        value={suspendedCount}\r\n        icon={<AlertTriangle className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"yellow\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('suspended') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'suspended'}\r\n      />\r\n\r\n      <StatsCard\r\n        title=\"Maintenance\"\r\n        value={maintenanceCount}\r\n        icon={<AlertTriangle className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"blue\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('maintenance') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'maintenance'}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatsGrid;\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAJA;;;;AAkBA;;;CAGC,GACD,MAAM,YAAY,CAA2B,EAC3C,QAAQ,EACR,aAAa,EACb,UAAU,EACV,oBAAoB,EACpB,sBAAsB,KAAK,EACT;IAClB,MAAM,iBAAiB,CAAC,OAAY;QAClC,OAAO,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,MAAM,KAAK,QAAQ,MAAM;IAC5D;IAEA,kDAAkD;IAClD,MAAM,aAAa,SAAS,MAAM;IAClC,MAAM,cAAc,eAAe,UAAU;IAC7C,MAAM,gBAAgB,eAAe,UAAU;IAC/C,MAAM,iBAAiB,eAAe,UAAU;IAChD,MAAM,mBAAmB,eAAe,UAAU;IAElD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,qMAAS;gBACR,OAAM;gBACN,OAAO;gBACP,oBAAM,6LAAC,gNAAK;oBAAC,WAAU;;;;;;gBACvB,OAAM;gBACN,WAAU;gBACV,SAAS,uBAAuB,IAAM,qBAAqB,SAAS;gBACpE,WAAW,CAAC,CAAC;gBACb,UAAU,wBAAwB;;;;;;0BAGpC,6LAAC,qMAAS;gBACR,OAAM;gBACN,OAAO;gBACP,oBAAM,6LAAC,gOAAS;oBAAC,WAAU;;;;;;gBAC3B,OAAM;gBACN,WAAU;gBACV,SAAS,uBAAuB,IAAM,qBAAqB,YAAY;gBACvE,WAAW,CAAC,CAAC;gBACb,UAAU,wBAAwB;;;;;;0BAGpC,6LAAC,qMAAS;gBACR,OAAM;gBACN,OAAO;gBACP,oBAAM,6LAAC,oNAAK;oBAAC,WAAU;;;;;;gBACvB,OAAM;gBACN,WAAU;gBACV,SAAS,uBAAuB,IAAM,qBAAqB,cAAc;gBACzE,WAAW,CAAC,CAAC;gBACb,UAAU,wBAAwB;;;;;;0BAGpC,6LAAC,qMAAS;gBACR,OAAM;gBACN,OAAO;gBACP,oBAAM,6LAAC,4OAAa;oBAAC,WAAU;;;;;;gBAC/B,OAAM;gBACN,WAAU;gBACV,SAAS,uBAAuB,IAAM,qBAAqB,eAAe;gBAC1E,WAAW,CAAC,CAAC;gBACb,UAAU,wBAAwB;;;;;;0BAGpC,6LAAC,qMAAS;gBACR,OAAM;gBACN,OAAO;gBACP,oBAAM,6LAAC,4OAAa;oBAAC,WAAU;;;;;;gBAC/B,OAAM;gBACN,WAAU;gBACV,SAAS,uBAAuB,IAAM,qBAAqB,iBAAiB;gBAC5E,WAAW,CAAC,CAAC;gBACb,UAAU,wBAAwB;;;;;;;;;;;;AAI1C;KA5EM;uCA8ES","debugId":null}},
    {"offset": {"line": 8101, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/BulkSelectionBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Trash2 } from 'lucide-react';\r\nimport { StatusDropdown } from '@/components/management';\r\n\r\ninterface BulkSelectionBarProps {\r\n  // Selection state\r\n  selectAll: boolean;\r\n  onSelectAll: (checked: boolean) => void;\r\n  selectedCount: number;\r\n  totalCount: number;\r\n  onDeselectAll: () => void;\r\n  \r\n  // Filters state\r\n  hasFilters: boolean;\r\n  \r\n  // Bulk actions\r\n  bulkStatus: 'active' | 'inactive' | 'suspended' | 'maintenance';\r\n  onBulkStatusChange: (status: string) => void;\r\n  onBulkDelete: () => void;\r\n}\r\n\r\n/**\r\n * Reusable bulk selection bar for management pages\r\n * Shows select all, selected count, and bulk actions\r\n */\r\nconst BulkSelectionBar: React.FC<BulkSelectionBarProps> = ({\r\n  selectAll,\r\n  onSelectAll,\r\n  selectedCount,\r\n  totalCount,\r\n  onDeselectAll,\r\n  hasFilters,\r\n  bulkStatus,\r\n  onBulkStatusChange,\r\n  onBulkDelete\r\n}) => {\r\n  if (totalCount === 0) return null;\r\n\r\n  return (\r\n    <div className={`rounded-lg border p-3 sm:p-4 space-y-3 sm:space-y-0 sm:flex sm:items-center sm:justify-between ${\r\n      hasFilters \r\n        ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700' \r\n        : 'bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700'\r\n    }`}>\r\n      {/* Top Row - Selection Controls */}\r\n      <div className=\"flex flex-col xs:flex-row xs:items-center gap-2 xs:gap-3\">\r\n        {hasFilters && (\r\n          <div className=\"flex items-center space-x-1 px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded text-xs font-medium\">\r\n            <span>Filtered View</span>\r\n          </div>\r\n        )}\r\n        \r\n        <label className=\"flex items-center space-x-2\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={selectAll}\r\n            onChange={(e) => onSelectAll(e.target.checked)}\r\n            className=\"w-3 h-3 sm:w-4 sm:h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n          />\r\n          <span className=\"text-xs sm:text-sm text-gray-700 dark:text-gray-300\">\r\n            Select All ({totalCount})\r\n          </span>\r\n        </label>\r\n        \r\n        {selectedCount > 0 && (\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span className=\"text-xs sm:text-sm text-green-600 dark:text-green-400 font-medium\">\r\n              {selectedCount} selected\r\n            </span>\r\n            <button\r\n              onClick={onDeselectAll}\r\n              className=\"px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n            >\r\n              Deselect All\r\n            </button>\r\n            <span className=\"hidden xs:inline text-xs text-gray-500 dark:text-gray-400\">\r\n               Ready for bulk operations\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Bulk Actions */}\r\n      {selectedCount > 0 && (\r\n        <div className=\"flex flex-col xs:flex-row gap-2 xs:gap-3 pt-3 sm:pt-0 border-t sm:border-t-0 sm:border-l border-gray-200 dark:border-gray-600 sm:pl-4\">\r\n          <StatusDropdown\r\n            currentStatus={bulkStatus}\r\n            onStatusChange={onBulkStatusChange}\r\n          />\r\n          <button\r\n            onClick={onBulkDelete}\r\n            className=\"flex items-center justify-center space-x-2 px-3 py-2 text-xs sm:text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 rounded-lg transition-colors\"\r\n          >\r\n            <Trash2 className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n            <span className=\"hidden xs:inline\">Delete Selected</span>\r\n            <span className=\"xs:hidden\">Delete ({selectedCount})</span>\r\n            <span className=\"hidden xs:inline\">({selectedCount})</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkSelectionBar;\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAJA;;;;AAuBA;;;CAGC,GACD,MAAM,mBAAoD,CAAC,EACzD,SAAS,EACT,WAAW,EACX,aAAa,EACb,UAAU,EACV,aAAa,EACb,UAAU,EACV,UAAU,EACV,kBAAkB,EAClB,YAAY,EACb;IACC,IAAI,eAAe,GAAG,OAAO;IAE7B,qBACE,6LAAC;QAAI,WAAW,CAAC,+FAA+F,EAC9G,aACI,wEACA,kEACJ;;0BAEA,6LAAC;gBAAI,WAAU;;oBACZ,4BACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;sCAAK;;;;;;;;;;;kCAIV,6LAAC;wBAAM,WAAU;;0CACf,6LAAC;gCACC,MAAK;gCACL,SAAS;gCACT,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,OAAO;gCAC7C,WAAU;;;;;;0CAEZ,6LAAC;gCAAK,WAAU;;oCAAsD;oCACvD;oCAAW;;;;;;;;;;;;;oBAI3B,gBAAgB,mBACf,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;;oCACb;oCAAc;;;;;;;0CAEjB,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;0CAGD,6LAAC;gCAAK,WAAU;0CAA4D;;;;;;;;;;;;;;;;;;YAQjF,gBAAgB,mBACf,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oNAAc;wBACb,eAAe;wBACf,gBAAgB;;;;;;kCAElB,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC,uNAAM;gCAAC,WAAU;;;;;;0CAClB,6LAAC;gCAAK,WAAU;0CAAmB;;;;;;0CACnC,6LAAC;gCAAK,WAAU;;oCAAY;oCAAS;oCAAc;;;;;;;0CACnD,6LAAC;gCAAK,WAAU;;oCAAmB;oCAAE;oCAAc;;;;;;;;;;;;;;;;;;;;;;;;;AAM/D;KA7EM;uCA+ES","debugId":null}},
    {"offset": {"line": 8296, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/ManagementPageHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Download, Upload, Plus, RefreshCw, BarChart3 } from 'lucide-react';\r\n\r\ninterface ManagementPageHeaderProps {\r\n  title: string;\r\n  subtitle?: string;\r\n  icon?: React.ReactNode;\r\n  onRefresh: () => void;\r\n  onDownload?: () => void;\r\n  onUpload?: () => void;\r\n  onAdd?: () => void;\r\n  onStatistics?: () => void;\r\n  isDownloading?: boolean;\r\n  hasData?: boolean;\r\n  addButtonText?: string;\r\n}\r\n\r\n/**\r\n * Reusable page header for farmer/user management pages\r\n * Includes title, refresh, download, upload CSV, and add new item buttons\r\n */\r\nconst ManagementPageHeader: React.FC<ManagementPageHeaderProps> = ({\r\n  title,\r\n  subtitle = '',\r\n  icon,\r\n  onRefresh,\r\n  onDownload,\r\n  onUpload,\r\n  onAdd,\r\n  onStatistics,\r\n  isDownloading = false,\r\n  hasData = true,\r\n  addButtonText = 'Add Farmer'\r\n}) => {\r\n  return (\r\n    <div className=\"flex flex-col sm:flex-row gap-4 sm:gap-0 sm:items-center sm:justify-between\">\r\n      <div className=\"flex items-center space-x-2 sm:space-x-3\">\r\n        <div className=\"p-2 sm:p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg sm:rounded-xl\">\r\n          {icon}\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100\">\r\n            {title}\r\n          </h1>\r\n          {subtitle && (\r\n            <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-0.5 sm:mt-1\">\r\n              {subtitle}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto\">\r\n        <button\r\n          onClick={onRefresh}\r\n          className=\"flex items-center justify-center w-full sm:w-auto px-4 py-2.5 text-sm sm:text-base text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\r\n        >\r\n          <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n          Refresh\r\n        </button>\r\n        \r\n        {onStatistics && (\r\n          <button\r\n            onClick={onStatistics}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 sm:px-6 py-2.5 text-sm sm:text-base bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n          >\r\n            <BarChart3 className=\"w-4 h-4 mr-2\" />\r\n            Statistics\r\n          </button>\r\n        )}\r\n        \r\n        {onDownload && (\r\n          <button\r\n            onClick={onDownload}\r\n            disabled={!hasData || isDownloading}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 py-2.5 text-sm sm:text-base text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-600 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {isDownloading ? (\r\n              <>\r\n                <div className=\"w-4 h-4 mr-2 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\" />\r\n                Downloading...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Download className=\"w-4 h-4 mr-2\" />\r\n                Download\r\n              </>\r\n            )}\r\n          </button>\r\n        )}\r\n        \r\n        {onUpload && (\r\n          <button\r\n            onClick={onUpload}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 py-2.5 text-sm sm:text-base text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-600 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors shadow-sm\"\r\n          >\r\n            <Upload className=\"w-4 h-4 mr-2\" />\r\n            Upload CSV\r\n          </button>\r\n        )}\r\n        \r\n        {onAdd && (\r\n          <button\r\n            onClick={onAdd}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 sm:px-6 py-2.5 text-sm sm:text-base bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n          >\r\n            <Plus className=\"w-4 h-4 mr-2\" />\r\n            {addButtonText}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPageHeader;\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAHA;;;AAmBA;;;CAGC,GACD,MAAM,uBAA4D,CAAC,EACjE,KAAK,EACL,WAAW,EAAE,EACb,IAAI,EACJ,SAAS,EACT,UAAU,EACV,QAAQ,EACR,KAAK,EACL,YAAY,EACZ,gBAAgB,KAAK,EACrB,UAAU,IAAI,EACd,gBAAgB,YAAY,EAC7B;IACC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACZ;;;;;;kCAEH,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CACX;;;;;;4BAEF,0BACC,6LAAC;gCAAE,WAAU;0CACV;;;;;;;;;;;;;;;;;;0BAMT,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC,gOAAS;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;oBAIvC,8BACC,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC,kOAAS;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;oBAKzC,4BACC,6LAAC;wBACC,SAAS;wBACT,UAAU,CAAC,WAAW;wBACtB,WAAU;kCAET,8BACC;;8CACE,6LAAC;oCAAI,WAAU;;;;;;gCAAyF;;yDAI1G;;8CACE,6LAAC,yNAAQ;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;oBAO5C,0BACC,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC,mNAAM;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;oBAKtC,uBACC,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BACf;;;;;;;;;;;;;;;;;;;AAMb;KA5FM;uCA8FS","debugId":null}},
    {"offset": {"line": 8488, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/FloatingActionButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\n\r\ninterface FloatingAction {\r\n  icon: React.ReactNode;\r\n  label: string;\r\n  onClick: () => void;\r\n  color: string;\r\n}\r\n\r\ninterface FloatingActionButtonProps {\r\n  actions: FloatingAction[];\r\n  directClick?: boolean; // If true and only 1 action, trigger action directly without expanding\r\n}\r\n\r\n/**\r\n * Floating Action Button (FAB) with expandable menu\r\n * Shows a flower icon that expands upward to reveal action buttons\r\n * If directClick is true and there's only one action, clicking FAB triggers that action directly\r\n */\r\nconst FloatingActionButton: React.FC<FloatingActionButtonProps> = ({ actions, directClick = false }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const fabRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close menu when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (fabRef.current && !fabRef.current.contains(event.target as Node)) {\r\n        setIsExpanded(false);\r\n      }\r\n    };\r\n\r\n    if (isExpanded) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [isExpanded]);\r\n\r\n  const handleActionClick = (action: FloatingAction) => {\r\n    action.onClick();\r\n    setIsExpanded(false);\r\n  };\r\n\r\n  const handleMainButtonClick = () => {\r\n    // If directClick is enabled and there's only one action, trigger it directly\r\n    if (directClick && actions.length === 1) {\r\n      actions[0].onClick();\r\n    } else {\r\n      setIsExpanded(!isExpanded);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div ref={fabRef} className=\"fixed bottom-8 right-8 z-50\">\r\n      {/* Action Menu - Professional Layout */}\r\n      <div className={`absolute bottom-20 right-0 flex flex-col-reverse gap-3 transition-all duration-300 ease-out ${\r\n        isExpanded ? 'opacity-100 translate-y-0 scale-100' : 'opacity-0 translate-y-4 scale-95 pointer-events-none'\r\n      }`}>\r\n        {actions.map((action, index) => (\r\n          <div\r\n            key={index}\r\n            className={`flex items-center gap-3 group transition-all duration-300 ease-out ${\r\n              isExpanded ? 'opacity-100' : 'opacity-0'\r\n            }`}\r\n            style={{\r\n              animationDelay: isExpanded ? `${index * 50}ms` : '0ms'\r\n            }}\r\n          >\r\n            {/* Label - Professional Typography - Only show on hover */}\r\n            {isExpanded && (\r\n              <div className=\"bg-white dark:bg-gray-900 text-gray-900 dark:text-white px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none\">\r\n                {action.label}\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Button - Clean & Professional */}\r\n            <button\r\n              onClick={() => handleActionClick(action)}\r\n              className={`relative w-14 h-14 ${action.color} rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center`}\r\n            >\r\n              <div className=\"transform group-hover:scale-110 transition-transform duration-200\">\r\n                {action.icon}\r\n              </div>\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Main FAB - Professional Design */}\r\n      <button\r\n        onClick={handleMainButtonClick}\r\n        className=\"relative w-16 h-16 bg-gradient-to-br from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 rounded-2xl shadow-xl hover:shadow-2xl transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center group\"\r\n        aria-label=\"Quick actions menu\"\r\n        style={{\r\n          boxShadow: '0 8px 24px rgba(5, 150, 105, 0.4), 0 2px 8px rgba(0, 0, 0, 0.1)'\r\n        }}\r\n      >\r\n        {/* Background overlay on hover */}\r\n        <div className=\"absolute inset-0 bg-white/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n        \r\n        {/* Icon with smooth rotation */}\r\n        <div className={`relative z-10 transform transition-transform duration-300 ${isExpanded ? 'rotate-45' : 'rotate-0'}`}>\r\n          {/* Plus/Close icon */}\r\n          <svg \r\n            width=\"28\" \r\n            height=\"28\" \r\n            viewBox=\"0 0 24 24\" \r\n            fill=\"none\" \r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"text-white\"\r\n          >\r\n            <path \r\n              d=\"M12 5V19M5 12H19\" \r\n              stroke=\"currentColor\" \r\n              strokeWidth=\"2.5\" \r\n              strokeLinecap=\"round\" \r\n              strokeLinejoin=\"round\"\r\n            />\r\n          </svg>\r\n        </div>\r\n\r\n        {/* Notification badge (optional) */}\r\n        <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-md opacity-0 group-hover:opacity-0\">\r\n          3\r\n        </div>\r\n      </button>\r\n\r\n      {/* Backdrop - Subtle professional overlay */}\r\n      {isExpanded && (\r\n        <div \r\n          className=\"fixed inset-0 bg-black/5 backdrop-blur-[2px] -z-10 transition-opacity duration-300\"\r\n          onClick={() => setIsExpanded(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FloatingActionButton;\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAgBA;;;;CAIC,GACD,MAAM,uBAA4D,CAAC,EAAE,OAAO,EAAE,cAAc,KAAK,EAAE;;IACjG,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,SAAS,IAAA,uKAAM,EAAiB;IAEtC,mCAAmC;IACnC,IAAA,0KAAS;0CAAC;YACR,MAAM;qEAAqB,CAAC;oBAC1B,IAAI,OAAO,OAAO,IAAI,CAAC,OAAO,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;wBACpE,cAAc;oBAChB;gBACF;;YAEA,IAAI,YAAY;gBACd,SAAS,gBAAgB,CAAC,aAAa;YACzC;YAEA;kDAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;yCAAG;QAAC;KAAW;IAEf,MAAM,oBAAoB,CAAC;QACzB,OAAO,OAAO;QACd,cAAc;IAChB;IAEA,MAAM,wBAAwB;QAC5B,6EAA6E;QAC7E,IAAI,eAAe,QAAQ,MAAM,KAAK,GAAG;YACvC,OAAO,CAAC,EAAE,CAAC,OAAO;QACpB,OAAO;YACL,cAAc,CAAC;QACjB;IACF;IAEA,qBACE,6LAAC;QAAI,KAAK;QAAQ,WAAU;;0BAE1B,6LAAC;gBAAI,WAAW,CAAC,4FAA4F,EAC3G,aAAa,wCAAwC,wDACrD;0BACC,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,6LAAC;wBAEC,WAAW,CAAC,mEAAmE,EAC7E,aAAa,gBAAgB,aAC7B;wBACF,OAAO;4BACL,gBAAgB,aAAa,GAAG,QAAQ,GAAG,EAAE,CAAC,GAAG;wBACnD;;4BAGC,4BACC,6LAAC;gCAAI,WAAU;0CACZ,OAAO,KAAK;;;;;;0CAKjB,6LAAC;gCACC,SAAS,IAAM,kBAAkB;gCACjC,WAAW,CAAC,mBAAmB,EAAE,OAAO,KAAK,CAAC,4HAA4H,CAAC;0CAE3K,cAAA,6LAAC;oCAAI,WAAU;8CACZ,OAAO,IAAI;;;;;;;;;;;;uBArBX;;;;;;;;;;0BA6BX,6LAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;gBACX,OAAO;oBACL,WAAW;gBACb;;kCAGA,6LAAC;wBAAI,WAAU;;;;;;kCAGf,6LAAC;wBAAI,WAAW,CAAC,0DAA0D,EAAE,aAAa,cAAc,YAAY;kCAElH,cAAA,6LAAC;4BACC,OAAM;4BACN,QAAO;4BACP,SAAQ;4BACR,MAAK;4BACL,OAAM;4BACN,WAAU;sCAEV,cAAA,6LAAC;gCACC,GAAE;gCACF,QAAO;gCACP,aAAY;gCACZ,eAAc;gCACd,gBAAe;;;;;;;;;;;;;;;;kCAMrB,6LAAC;wBAAI,WAAU;kCAAmK;;;;;;;;;;;;YAMnL,4BACC,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,cAAc;;;;;;;;;;;;AAKvC;GAvHM;KAAA;uCAyHS","debugId":null}},
    {"offset": {"line": 8673, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/management/index.ts"],"sourcesContent":["// Management Components - Reusable components for all management pages\r\nexport { default as PageHeader } from './PageHeader';\r\nexport { default as StatusMessage } from './StatusMessage';\r\nexport { default as StatsCard } from './StatsCard';\r\nexport { default as FilterControls } from './FilterControls';\r\nexport { default as StatusDropdown } from './StatusDropdown';\r\nexport { default as ItemCard } from './ItemCard';\r\nexport { default as EmptyState } from './EmptyState';\r\nexport { default as ConfirmDeleteModal } from './ConfirmDeleteModal';\r\nexport { default as ActionButtons } from './ActionButtons';\r\nexport { default as SearchAndFilter } from './SearchAndFilter';\r\n\r\n// Bulk Operations & Advanced Components\r\nexport { default as BulkDeleteConfirmModal } from './BulkDeleteConfirmModal';\r\nexport { default as BulkActionsToolbar } from './BulkActionsToolbar';\r\nexport { default as LoadingSnackbar } from './LoadingSnackbar';\r\nexport { default as ViewModeToggle } from './ViewModeToggle';\r\nexport { default as FolderView } from './FolderView';\r\nexport { default as FolderControls } from './FolderControls';\r\nexport { default as FilterSection } from './FilterSection';\r\nexport { default as FilterDropdown } from './FilterDropdown';\r\nexport { default as StatisticsFilterDropdown } from './StatisticsFilterDropdown';\r\nexport { default as StatsGrid } from './StatsGrid';\r\nexport { default as BulkSelectionBar } from './BulkSelectionBar';\r\nexport { default as ManagementPageHeader } from './ManagementPageHeader';\r\nexport { default as FloatingActionButton } from './FloatingActionButton';"],"names":[],"mappings":"AAAA,uEAAuE;;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","debugId":null}}]
}