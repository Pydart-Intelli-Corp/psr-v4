{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/lib/validation/phoneValidation.ts"],"sourcesContent":["/**\r\n * Mobile Number Validation Utilities\r\n * \r\n * Validates and formats Indian mobile numbers\r\n * Indian mobile numbers: 10 digits starting with 6-9\r\n */\r\n\r\nexport interface PhoneValidationResult {\r\n  isValid: boolean;\r\n  error?: string;\r\n  formatted?: string;\r\n}\r\n\r\n/**\r\n * Validates Indian mobile number\r\n * @param phone - Phone number to validate\r\n * @returns Validation result with error message if invalid\r\n */\r\nexport function validateIndianPhone(phone: string): PhoneValidationResult {\r\n  if (!phone || phone.trim() === '') {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number is required'\r\n    };\r\n  }\r\n\r\n  // Remove all non-digit characters\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n\r\n  // Check length\r\n  if (cleaned.length !== 10) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number must be exactly 10 digits'\r\n    };\r\n  }\r\n\r\n  // Check if starts with valid digit (6-9)\r\n  if (!/^[6-9]/.test(cleaned)) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number must start with 6, 7, 8, or 9'\r\n    };\r\n  }\r\n\r\n  return {\r\n    isValid: true,\r\n    formatted: cleaned\r\n  };\r\n}\r\n\r\n/**\r\n * Formats phone number input - allows only digits and limits to 10\r\n * @param value - Input value\r\n * @returns Formatted phone number (digits only, max 10)\r\n */\r\nexport function formatPhoneInput(value: string): string {\r\n  // Remove all non-digit characters\r\n  const cleaned = value.replace(/\\D/g, '');\r\n  \r\n  // Limit to 10 digits\r\n  return cleaned.slice(0, 10);\r\n}\r\n\r\n/**\r\n * Checks if phone number is complete (10 digits)\r\n * @param phone - Phone number to check\r\n * @returns True if phone has 10 digits\r\n */\r\nexport function isPhoneComplete(phone: string): boolean {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return cleaned.length === 10;\r\n}\r\n\r\n/**\r\n * Display formatted phone number with spacing\r\n * @param phone - Phone number to format\r\n * @returns Formatted as: XXXXX XXXXX\r\n */\r\nexport function displayPhoneNumber(phone: string): string {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  \r\n  if (cleaned.length <= 5) {\r\n    return cleaned;\r\n  }\r\n  \r\n  return `${cleaned.slice(0, 5)} ${cleaned.slice(5)}`;\r\n}\r\n\r\n/**\r\n * Validates phone on blur - provides detailed error\r\n * @param phone - Phone number to validate\r\n * @returns Error message or empty string if valid\r\n */\r\nexport function validatePhoneOnBlur(phone: string): string {\r\n  if (!phone || phone.trim() === '') {\r\n    return ''; // Don't show error for empty field (let required handle it)\r\n  }\r\n\r\n  const result = validateIndianPhone(phone);\r\n  return result.error || '';\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;AAaM,SAAS,oBAAoB,KAAa;IAC/C,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;QACjC,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,kCAAkC;IAClC,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IAErC,eAAe;IACf,IAAI,QAAQ,MAAM,KAAK,IAAI;QACzB,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,yCAAyC;IACzC,IAAI,CAAC,SAAS,IAAI,CAAC,UAAU;QAC3B,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,OAAO;QACL,SAAS;QACT,WAAW;IACb;AACF;AAOO,SAAS,iBAAiB,KAAa;IAC5C,kCAAkC;IAClC,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IAErC,qBAAqB;IACrB,OAAO,QAAQ,KAAK,CAAC,GAAG;AAC1B;AAOO,SAAS,gBAAgB,KAAa;IAC3C,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IACrC,OAAO,QAAQ,MAAM,KAAK;AAC5B;AAOO,SAAS,mBAAmB,KAAa;IAC9C,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IAErC,IAAI,QAAQ,MAAM,IAAI,GAAG;QACvB,OAAO;IACT;IAEA,OAAO,GAAG,QAAQ,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,QAAQ,KAAK,CAAC,IAAI;AACrD;AAOO,SAAS,oBAAoB,KAAa;IAC/C,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;QACjC,OAAO,IAAI,4DAA4D;IACzE;IAEA,MAAM,SAAS,oBAAoB;IACnC,OAAO,OAAO,KAAK,IAAI;AACzB","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/lib/validation/emailValidation.ts"],"sourcesContent":["/**\r\n * Email validation utilities for farmer email fields\r\n */\r\n\r\nexport interface EmailValidationResult {\r\n  isValid: boolean;\r\n  error?: string;\r\n  formatted?: string;\r\n}\r\n\r\n/**\r\n * Validates an email address format\r\n * Returns validation result with isValid flag and optional error message\r\n */\r\nexport function validateEmail(email: string): EmailValidationResult {\r\n  // Empty email is valid (optional field)\r\n  if (!email || email.trim() === '') {\r\n    return { isValid: true, formatted: '' };\r\n  }\r\n\r\n  const trimmedEmail = email.trim();\r\n\r\n  // Basic email format validation\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  \r\n  if (!emailRegex.test(trimmedEmail)) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Please enter a valid email address (e.g., farmer@example.com)'\r\n    };\r\n  }\r\n\r\n  // Check email length\r\n  if (trimmedEmail.length > 255) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Email address is too long (max 255 characters)'\r\n    };\r\n  }\r\n\r\n  // Valid email\r\n  return {\r\n    isValid: true,\r\n    formatted: trimmedEmail\r\n  };\r\n}\r\n\r\n/**\r\n * Validates email on blur event for form fields\r\n * Returns error message string (empty if valid)\r\n */\r\nexport function validateEmailOnBlur(email: string): string {\r\n  const result = validateEmail(email);\r\n  return result.error || '';\r\n}\r\n\r\n/**\r\n * Formats email input by trimming whitespace\r\n * Use this on input change to clean the value\r\n */\r\nexport function formatEmailInput(value: string): string {\r\n  // Remove leading/trailing spaces and convert to lowercase for consistency\r\n  return value.trim().toLowerCase();\r\n}\r\n\r\n/**\r\n * Checks if email is required and validates accordingly\r\n * Use this when email is a required field\r\n */\r\nexport function validateRequiredEmail(email: string): EmailValidationResult {\r\n  if (!email || email.trim() === '') {\r\n    return {\r\n      isValid: false,\r\n      error: 'Email address is required'\r\n    };\r\n  }\r\n\r\n  return validateEmail(email);\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;AAYM,SAAS,cAAc,KAAa;IACzC,wCAAwC;IACxC,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;QACjC,OAAO;YAAE,SAAS;YAAM,WAAW;QAAG;IACxC;IAEA,MAAM,eAAe,MAAM,IAAI;IAE/B,gCAAgC;IAChC,MAAM,aAAa;IAEnB,IAAI,CAAC,WAAW,IAAI,CAAC,eAAe;QAClC,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,qBAAqB;IACrB,IAAI,aAAa,MAAM,GAAG,KAAK;QAC7B,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,cAAc;IACd,OAAO;QACL,SAAS;QACT,WAAW;IACb;AACF;AAMO,SAAS,oBAAoB,KAAa;IAC/C,MAAM,SAAS,cAAc;IAC7B,OAAO,OAAO,KAAK,IAAI;AACzB;AAMO,SAAS,iBAAiB,KAAa;IAC5C,0EAA0E;IAC1E,OAAO,MAAM,IAAI,GAAG,WAAW;AACjC;AAMO,SAAS,sBAAsB,KAAa;IACjD,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;QACjC,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,OAAO,cAAc;AACvB","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/lib/utils/downloadUtils.ts"],"sourcesContent":["import jsPDF from 'jspdf';\r\n\r\n// jsPDF and autoTable will be imported as needed\r\n\r\n// Types for farmer download functions\r\ninterface FarmerDownloadData {\r\n  farmerId: string;\r\n  rfId?: string;\r\n  farmerName: string;\r\n  contactNumber?: string;\r\n  email?: string;\r\n  societyId?: string | number;\r\n  status: string;\r\n  smsEnabled: boolean;\r\n  bonus?: number;\r\n  address?: string;\r\n  bankName?: string;\r\n  bankAccountNumber?: string;\r\n  ifscCode?: string;\r\n  notes?: string;\r\n}\r\n\r\ninterface SocietyDownloadData {\r\n  id: number;\r\n  name: string;\r\n  society_id: string;\r\n}\r\n\r\ninterface SocietyInfo {\r\n  name: string;\r\n  id: string;\r\n}\r\n\r\nexport interface DownloadableData {\r\n  [key: string]: unknown;\r\n}\r\n\r\nexport interface ColumnConfig {\r\n  key: string;\r\n  header: string;\r\n  width?: number;\r\n  formatter?: (value: unknown) => string;\r\n}\r\n\r\n/**\r\n * Download data as CSV file\r\n */\r\nexport const downloadAsCSV = (\r\n  data: DownloadableData[],\r\n  columns: ColumnConfig[],\r\n  filename: string\r\n) => {\r\n  if (data.length === 0) {\r\n    alert('No data to download');\r\n    return;\r\n  }\r\n\r\n  // Create CSV headers\r\n  const headers = columns.map(col => col.header);\r\n  \r\n  // Create CSV rows\r\n  const csvRows = data.map(item => {\r\n    return columns.map(col => {\r\n      const value = item[col.key];\r\n      const formattedValue = col.formatter ? col.formatter(value) : value;\r\n      // Escape CSV values that contain commas or quotes\r\n      const stringValue = String(formattedValue || '');\r\n      return stringValue.includes(',') || stringValue.includes('\"') \r\n        ? `\"${stringValue.replace(/\"/g, '\"\"')}\"` \r\n        : stringValue;\r\n    });\r\n  });\r\n\r\n  // Combine headers and rows\r\n  const csvContent = [headers, ...csvRows]\r\n    .map(row => row.join(','))\r\n    .join('\\n');\r\n\r\n  // Create and download file\r\n  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n  const url = window.URL.createObjectURL(blob);\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.download = `${filename}.csv`;\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  window.URL.revokeObjectURL(url);\r\n};\r\n\r\n/**\r\n * Download data as PDF file in landscape orientation\r\n */\r\nexport const downloadAsPDF = async (\r\n  data: DownloadableData[],\r\n  columns: ColumnConfig[],\r\n  filename: string,\r\n  title?: string,\r\n  additionalInfo?: string[]\r\n) => {\r\n  if (data.length === 0) {\r\n    alert('No data to download');\r\n    return;\r\n  }\r\n\r\n  // Dynamically import jspdf-autotable and get the autoTable function\r\n  const { default: autoTable } = await import('jspdf-autotable');\r\n\r\n  // Create new PDF document in landscape orientation\r\n  const doc = new jsPDF('landscape', 'pt', 'a4');\r\n  \r\n  // Modern color palette\r\n  const colors = {\r\n    primary: [41, 128, 185] as [number, number, number],      // Professional blue\r\n    secondary: [52, 73, 94] as [number, number, number],      // Dark blue-gray\r\n    accent: [231, 76, 60] as [number, number, number],        // Red accent\r\n    light: [236, 240, 241] as [number, number, number],       // Light gray\r\n    text: [44, 62, 80] as [number, number, number],           // Dark text\r\n    border: [189, 195, 199] as [number, number, number]       // Light border\r\n  };\r\n\r\n  // Page dimensions and margins\r\n  const pdfPageWidth = 842;\r\n  const pdfPageHeight = 595;\r\n  const margin = 50;\r\n  const headerHeight = 130; // Increased for centered layout\r\n\r\n  // Modern header background\r\n  doc.setFillColor(...colors.light);\r\n  doc.rect(0, 0, pdfPageWidth, headerHeight, 'F');\r\n  \r\n  // Header accent bar\r\n  doc.setFillColor(...colors.primary);\r\n  doc.rect(0, 0, pdfPageWidth, 8, 'F');\r\n\r\n  // Add logo in left top corner with proper aspect ratio\r\n  try {\r\n    const logoResponse = await fetch('/fulllogo.png');\r\n    const logoBlob = await logoResponse.blob();\r\n    const logoBase64 = await new Promise<string>((resolve) => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => resolve(reader.result as string);\r\n      reader.readAsDataURL(logoBlob);\r\n    });\r\n    \r\n    // Logo positioned in left top corner with proper aspect ratio (don't stretch)\r\n    const logoWidth = 120;\r\n    const logoHeight = 40;\r\n    doc.addImage(logoBase64, 'PNG', margin, 25, logoWidth, logoHeight);\r\n  } catch (error) {\r\n    console.warn('Could not load logo:', error);\r\n  }\r\n\r\n  // Modern title design with center alignment\r\n  if (title) {\r\n    doc.setTextColor(...colors.secondary);\r\n    doc.setFontSize(24);\r\n    doc.setFont('helvetica', 'bold');\r\n    \r\n    // Title centered below logo\r\n    const titleY = 80;\r\n    const titleWidth = doc.getTextWidth(title);\r\n    const titleX = (pdfPageWidth - titleWidth) / 2;\r\n    doc.text(title, titleX, titleY);\r\n    \r\n    // Subtitle/tagline area - also centered\r\n    doc.setTextColor(...colors.text);\r\n    doc.setFontSize(11);\r\n    doc.setFont('helvetica', 'normal');\r\n    const subtitle = 'Comprehensive Farmer Management Report';\r\n    const subtitleWidth = doc.getTextWidth(subtitle);\r\n    const subtitleX = (pdfPageWidth - subtitleWidth) / 2;\r\n    doc.text(subtitle, subtitleX, titleY + 20);\r\n  }\r\n\r\n  // Document metadata section with modern card-like design\r\n  let yOffset = headerHeight + 30;\r\n  \r\n  if (additionalInfo && additionalInfo.length > 0) {\r\n    // Info card background\r\n    const cardHeight = additionalInfo.length * 18 + 25;\r\n    doc.setFillColor(...colors.light);\r\n    doc.setDrawColor(...colors.border);\r\n    doc.setLineWidth(0.5);\r\n    doc.roundedRect(margin, yOffset - 15, pdfPageWidth - (margin * 2), cardHeight, 5, 5, 'FD');\r\n    \r\n    // Info header - centered\r\n    doc.setTextColor(...colors.primary);\r\n    doc.setFontSize(12);\r\n    doc.setFont('helvetica', 'bold');\r\n    const headerText = 'Report Information';\r\n    const headerWidth = doc.getTextWidth(headerText);\r\n    const headerX = (pdfPageWidth - headerWidth) / 2;\r\n    doc.text(headerText, headerX, yOffset + 5);\r\n    \r\n    // Info content with centered alignment\r\n    doc.setTextColor(...colors.text);\r\n    doc.setFontSize(10);\r\n    doc.setFont('helvetica', 'normal');\r\n    \r\n    additionalInfo.forEach((info, index) => {\r\n      const infoY = yOffset + 25 + (index * 18);\r\n      \r\n      // Center each info line\r\n      const infoWidth = doc.getTextWidth(info);\r\n      const infoX = (pdfPageWidth - infoWidth) / 2;\r\n      \r\n      // Add bullet point before centered text\r\n      doc.setFillColor(...colors.primary);\r\n      doc.circle(infoX - 15, infoY - 3, 2, 'F');\r\n      \r\n      // Add centered info text\r\n      doc.text(info, infoX, infoY);\r\n    });\r\n    \r\n    yOffset += cardHeight + 20;\r\n  }\r\n\r\n  // Prepare table data\r\n  const tableHeaders = columns.map(col => col.header);\r\n  const tableData = data.map(item => {\r\n    return columns.map(col => {\r\n      const value = item[col.key];\r\n      const formattedValue = col.formatter ? col.formatter(value) : value;\r\n      return String(formattedValue || '');\r\n    });\r\n  });\r\n\r\n  // Calculate column widths\r\n  const tableMargins = 100; // Left + right margins for table\r\n  const availableWidth = pdfPageWidth - tableMargins;\r\n  \r\n  const columnWidths = columns.map(col => {\r\n    if (col.width) return col.width;\r\n    // Auto-calculate width based on header length and content\r\n    const headerLength = col.header.length;\r\n    const maxContentLength = Math.max(\r\n      ...tableData.map(row => {\r\n        const cellIndex = columns.indexOf(col);\r\n        return String(row[cellIndex] || '').length;\r\n      })\r\n    );\r\n    const maxLength = Math.max(headerLength, maxContentLength);\r\n    return Math.max(60, Math.min(150, maxLength * 6)); // 6 points per character\r\n  });\r\n\r\n  // Adjust widths to fit page\r\n  const totalWidth = columnWidths.reduce((sum, width) => sum + width, 0);\r\n  if (totalWidth > availableWidth) {\r\n    const scale = availableWidth / totalWidth;\r\n    columnWidths.forEach((width, index) => {\r\n      columnWidths[index] = width * scale;\r\n    });\r\n  }\r\n\r\n  // Modern table design\r\n  autoTable(doc, {\r\n    head: [tableHeaders],\r\n    body: tableData,\r\n    startY: yOffset,\r\n    margin: { left: margin, right: margin },\r\n    columnStyles: columns.reduce((styles: { [key: number]: { cellWidth?: number } }, col, index) => {\r\n      styles[index] = { cellWidth: columnWidths[index] };\r\n      return styles;\r\n    }, {}),\r\n    styles: {\r\n      fontSize: 9,\r\n      cellPadding: { top: 8, right: 6, bottom: 8, left: 6 },\r\n      lineColor: colors.border,\r\n      lineWidth: 0.5,\r\n      textColor: colors.text,\r\n      font: 'helvetica',\r\n      overflow: 'linebreak',\r\n      valign: 'middle',\r\n      halign: 'center'\r\n    },\r\n    headStyles: {\r\n      fillColor: colors.primary,\r\n      textColor: [255, 255, 255],\r\n      fontStyle: 'bold',\r\n      fontSize: 10,\r\n      cellPadding: { top: 12, right: 8, bottom: 12, left: 8 },\r\n      halign: 'center',\r\n      valign: 'middle'\r\n    },\r\n    alternateRowStyles: {\r\n      fillColor: [249, 250, 251] as [number, number, number], // Light gray\r\n    },\r\n    tableLineColor: colors.border,\r\n    tableLineWidth: 0.5\r\n  });\r\n\r\n  // Modern footer design\r\n  const footerY = pdfPageHeight - 40;\r\n  \r\n  // Footer background bar\r\n  doc.setFillColor(...colors.light);\r\n  doc.rect(0, footerY - 10, pdfPageWidth, 50, 'F');\r\n  \r\n  // Footer accent line\r\n  doc.setDrawColor(...colors.primary);\r\n  doc.setLineWidth(2);\r\n  doc.line(margin, footerY - 5, pdfPageWidth - margin, footerY - 5);\r\n  \r\n  // Footer content - all centered\r\n  doc.setTextColor(...colors.text);\r\n  doc.setFontSize(8);\r\n  doc.setFont('helvetica', 'normal');\r\n  \r\n  // Generation info - centered\r\n  const currentDate = new Date().toLocaleString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n    hour12: true\r\n  });\r\n  const dateText = `Generated on: ${currentDate}`;\r\n  const dateWidth = doc.getTextWidth(dateText);\r\n  doc.text(dateText, (pdfPageWidth - dateWidth) / 2, footerY + 10);\r\n  \r\n  // Company info - centered\r\n  doc.setFont('helvetica', 'bold');\r\n  const companyText = 'Poornasree Equipments Cloud â€¢ Page 1';\r\n  const companyWidth = doc.getTextWidth(companyText);\r\n  doc.text(companyText, (pdfPageWidth - companyWidth) / 2, footerY + 22);\r\n  \r\n  // Confidentiality notice - centered\r\n  doc.setFont('helvetica', 'italic');\r\n  doc.setFontSize(7);\r\n  const confidentialText = 'This document contains confidential information';\r\n  const confidentialWidth = doc.getTextWidth(confidentialText);\r\n  doc.text(confidentialText, (pdfPageWidth - confidentialWidth) / 2, footerY + 32);\r\n\r\n  // Save the PDF\r\n  doc.save(`${filename}.pdf`);\r\n};\r\n\r\n/**\r\n * Format date for display\r\n */\r\nexport const formatDate = (dateString: string | null | undefined): string => {\r\n  if (!dateString) return '';\r\n  try {\r\n    return new Date(dateString).toLocaleDateString('en-IN');\r\n  } catch {\r\n    return '';\r\n  }\r\n};\r\n\r\n/**\r\n * Format currency for display\r\n */\r\nexport const formatCurrency = (amount: number | null | undefined): string => {\r\n  if (amount === null || amount === undefined) return '0';\r\n  return amount.toLocaleString('en-IN');\r\n};\r\n\r\n/**\r\n * Format status for display\r\n */\r\nexport const formatStatus = (status: string): string => {\r\n  return status.charAt(0).toUpperCase() + status.slice(1);\r\n}\r\n\r\n/**\r\n * Farmer-specific download functions\r\n */\r\n\r\n// Import types at the top if not already imported\r\n// import { Farmer, Society } from '@/types';\r\n\r\n// Get all available farmer columns\r\nexport const getFarmerColumns = (): ColumnConfig[] => [\r\n  { key: 'farmerId', header: 'Farmer ID' },\r\n  { key: 'rfId', header: 'RF-ID' },\r\n  { key: 'farmerName', header: 'Farmer Name' },\r\n  { key: 'contactNumber', header: 'Contact Number' },\r\n  { key: 'email', header: 'Email' },\r\n  { key: 'societyInfo', header: 'Society', formatter: (society: unknown) => {\r\n    const s = society as SocietyInfo;\r\n    return s ? `${s.name} (${s.id})` : '';\r\n  }},\r\n  { key: 'status', header: 'Status', formatter: (status: unknown) => formatStatus(status as string) },\r\n  { key: 'smsEnabled', header: 'SMS Enabled', formatter: (value: unknown) => (value as boolean) ? 'ON' : 'OFF' },\r\n  { key: 'bonus', header: 'Bonus', formatter: (amount: unknown) => formatCurrency(amount as number | null | undefined) },\r\n  { key: 'address', header: 'Address' },\r\n  { key: 'bankName', header: 'Bank Name' },\r\n  { key: 'bankAccountNumber', header: 'Account Number' },\r\n  { key: 'ifscCode', header: 'IFSC Code' },\r\n  { key: 'notes', header: 'Notes' }\r\n];\r\n\r\nexport const downloadFarmersAsCSV = (\r\n  farmers: FarmerDownloadData[],\r\n  societies: SocietyDownloadData[],\r\n  filters: { status?: string; society?: string } = {},\r\n  selectedColumns?: string[]\r\n) => {\r\n  const getSocietyInfo = (societyId: string | number | undefined): SocietyInfo => {\r\n    if (!societyId) return { name: '', id: '' };\r\n    const society = societies.find(s => s.id.toString() === societyId.toString());\r\n    return society ? { name: society.name, id: society.society_id } : { name: '', id: '' };\r\n  };\r\n\r\n  // Get all available columns\r\n  const allColumns = getFarmerColumns();\r\n  \r\n  // Use selected columns or default to all columns\r\n  const columns = selectedColumns && selectedColumns.length > 0 \r\n    ? allColumns.filter(col => selectedColumns.includes(col.key))\r\n    : allColumns;\r\n\r\n  const processedData = farmers.map(farmer => ({\r\n    farmerId: farmer.farmerId || '',\r\n    rfId: farmer.rfId || '', // Add RF-ID field\r\n    farmerName: farmer.farmerName || '',\r\n    contactNumber: farmer.contactNumber || '',\r\n    email: farmer.email || '',\r\n    societyInfo: getSocietyInfo(farmer.societyId),\r\n    status: farmer.status || 'active',\r\n    smsEnabled: farmer.smsEnabled,\r\n    bonus: farmer.bonus || 0,\r\n    address: farmer.address || '',\r\n    bankName: farmer.bankName || '',\r\n    bankAccountNumber: farmer.bankAccountNumber || '',\r\n    ifscCode: farmer.ifscCode || '',\r\n    notes: farmer.notes || ''\r\n  }));\r\n\r\n  const filterSuffix = getFilterSuffix(filters);\r\n  const filename = `farmers_export${filterSuffix}_${new Date().toISOString().split('T')[0]}`;\r\n\r\n  downloadAsCSV(processedData, columns, filename);\r\n};\r\n\r\nexport const downloadFarmersAsPDF = async (\r\n  farmers: FarmerDownloadData[],\r\n  societies: SocietyDownloadData[],\r\n  filters: { status?: string; society?: string; selection?: string } = {},\r\n  selectedColumns?: string[]\r\n) => {\r\n  const getSocietyInfo = (societyId: string | number | undefined): SocietyInfo => {\r\n    if (!societyId) return { name: '', id: '' };\r\n    const society = societies.find(s => s.id.toString() === societyId.toString());\r\n    return society ? { name: society.name, id: society.society_id } : { name: '', id: '' };\r\n  };\r\n\r\n  // Define all columns with PDF-specific configurations (widths optimized for landscape)\r\n  const allColumns: ColumnConfig[] = [\r\n    { key: 'farmerId', header: 'ID', width: 60 },\r\n    { key: 'rfId', header: 'RF-ID', width: 60 },\r\n    { key: 'farmerName', header: 'Name', width: 120 },\r\n    { key: 'contactNumber', header: 'Contact', width: 80 },\r\n    { key: 'email', header: 'Email', width: 80 },\r\n    { key: 'societyInfo', header: 'Society', width: 120, formatter: (society: unknown) => {\r\n      const s = society as SocietyInfo;\r\n      return s ? `${s.name}` : '';\r\n    }},\r\n    { key: 'status', header: 'Status', width: 60, formatter: (status: unknown) => formatStatus(status as string) },\r\n    { key: 'smsEnabled', header: 'SMS', width: 40, formatter: (value: unknown) => (value as boolean) ? 'ON' : 'OFF' },\r\n    { key: 'bonus', header: 'Bonus', width: 60, formatter: (amount: unknown) => formatCurrency(amount as number | null | undefined) },\r\n    { key: 'address', header: 'Address', width: 100 },\r\n    { key: 'bankName', header: 'Bank', width: 80 },\r\n    { key: 'bankAccountNumber', header: 'Account', width: 80 },\r\n    { key: 'ifscCode', header: 'IFSC', width: 60 },\r\n    { key: 'notes', header: 'Notes', width: 80 }\r\n  ];\r\n\r\n  // Use selected columns or default to essential columns for PDF\r\n  const defaultPDFColumns = ['farmerId', 'rfId', 'farmerName', 'contactNumber', 'societyInfo', 'status', 'smsEnabled', 'bonus'];\r\n  const columns = selectedColumns && selectedColumns.length > 0 \r\n    ? allColumns.filter(col => selectedColumns.includes(col.key))\r\n    : allColumns.filter(col => defaultPDFColumns.includes(col.key));\r\n\r\n  const processedData = farmers.map(farmer => ({\r\n    farmerId: farmer.farmerId || '',\r\n    rfId: farmer.rfId || '',\r\n    farmerName: farmer.farmerName || '',\r\n    contactNumber: farmer.contactNumber || '',\r\n    email: farmer.email || '',\r\n    societyInfo: getSocietyInfo(farmer.societyId),\r\n    status: farmer.status || 'active',\r\n    smsEnabled: farmer.smsEnabled,\r\n    bonus: farmer.bonus || 0,\r\n    address: farmer.address || '',\r\n    bankName: farmer.bankName || '',\r\n    bankAccountNumber: farmer.bankAccountNumber || '',\r\n    ifscCode: farmer.ifscCode || '',\r\n    notes: farmer.notes || ''\r\n  }));\r\n\r\n  const filterSuffix = getFilterSuffix(filters);\r\n  const filterText = getFilterText(filters, societies);\r\n  \r\n  const title = 'Farmers Report';\r\n  const additionalInfo = [\r\n    `Generated on: ${new Date().toLocaleString()}`,\r\n    `Total Records: ${farmers.length}`,\r\n    ...(filterText ? [filterText] : [])\r\n  ];\r\n  \r\n  const filename = `farmers_report${filterSuffix}_${new Date().toISOString().split('T')[0]}`;\r\n\r\n  await downloadAsPDF(processedData, columns, filename, title, additionalInfo);\r\n};\r\n\r\n// Helper functions for filters\r\nconst getFilterSuffix = (filters: { status?: string; society?: string; selection?: string }): string => {\r\n  const parts: string[] = [];\r\n  \r\n  if (filters.status && filters.status !== 'all') {\r\n    parts.push(filters.status);\r\n  }\r\n  \r\n  if (filters.society && filters.society !== 'all') {\r\n    parts.push('society_filtered');\r\n  }\r\n  \r\n  if (filters.selection) {\r\n    parts.push(filters.selection);\r\n  }\r\n  \r\n  return parts.length > 0 ? `_${parts.join('_')}` : '';\r\n};\r\n\r\nconst getFilterText = (filters: { status?: string; society?: string; selection?: string }, societies: SocietyDownloadData[]): string => {\r\n  const parts: string[] = [];\r\n  \r\n  if (filters.status && filters.status !== 'all') {\r\n    parts.push(`Status: ${formatStatus(filters.status)}`);\r\n  }\r\n  \r\n  if (filters.society && filters.society !== 'all') {\r\n    const society = societies.find(s => s.id.toString() === filters.society);\r\n    if (society) {\r\n      parts.push(`Society: ${society.name} (${society.society_id})`);\r\n    }\r\n  }\r\n  \r\n  if (filters.selection) {\r\n    parts.push(`Selection: ${filters.selection.replace('-', ' ')}`);\r\n  }\r\n  \r\n  return parts.length > 0 ? `Filters Applied: ${parts.join(', ')}` : '';\r\n};;"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AA+CO,MAAM,gBAAgB,CAC3B,MACA,SACA;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,MAAM;QACN;IACF;IAEA,qBAAqB;IACrB,MAAM,UAAU,QAAQ,GAAG,CAAC,CAAA,MAAO,IAAI,MAAM;IAE7C,kBAAkB;IAClB,MAAM,UAAU,KAAK,GAAG,CAAC,CAAA;QACvB,OAAO,QAAQ,GAAG,CAAC,CAAA;YACjB,MAAM,QAAQ,IAAI,CAAC,IAAI,GAAG,CAAC;YAC3B,MAAM,iBAAiB,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,SAAS;YAC9D,kDAAkD;YAClD,MAAM,cAAc,OAAO,kBAAkB;YAC7C,OAAO,YAAY,QAAQ,CAAC,QAAQ,YAAY,QAAQ,CAAC,OACrD,CAAC,CAAC,EAAE,YAAY,OAAO,CAAC,MAAM,MAAM,CAAC,CAAC,GACtC;QACN;IACF;IAEA,2BAA2B;IAC3B,MAAM,aAAa;QAAC;WAAY;KAAQ,CACrC,GAAG,CAAC,CAAA,MAAO,IAAI,IAAI,CAAC,MACpB,IAAI,CAAC;IAER,2BAA2B;IAC3B,MAAM,OAAO,IAAI,KAAK;QAAC;KAAW,EAAE;QAAE,MAAM;IAA0B;IACtE,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;IACvC,MAAM,OAAO,SAAS,aAAa,CAAC;IACpC,KAAK,IAAI,GAAG;IACZ,KAAK,QAAQ,GAAG,GAAG,SAAS,IAAI,CAAC;IACjC,SAAS,IAAI,CAAC,WAAW,CAAC;IAC1B,KAAK,KAAK;IACV,SAAS,IAAI,CAAC,WAAW,CAAC;IAC1B,OAAO,GAAG,CAAC,eAAe,CAAC;AAC7B;AAKO,MAAM,gBAAgB,OAC3B,MACA,SACA,UACA,OACA;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,MAAM;QACN;IACF;IAEA,oEAAoE;IACpE,MAAM,EAAE,SAAS,SAAS,EAAE,GAAG;IAE/B,mDAAmD;IACnD,MAAM,MAAM,IAAI,iKAAK,CAAC,aAAa,MAAM;IAEzC,uBAAuB;IACvB,MAAM,SAAS;QACb,SAAS;YAAC;YAAI;YAAK;SAAI;QACvB,WAAW;YAAC;YAAI;YAAI;SAAG;QACvB,QAAQ;YAAC;YAAK;YAAI;SAAG;QACrB,OAAO;YAAC;YAAK;YAAK;SAAI;QACtB,MAAM;YAAC;YAAI;YAAI;SAAG;QAClB,QAAQ;YAAC;YAAK;YAAK;SAAI;IACzB;IAEA,8BAA8B;IAC9B,MAAM,eAAe;IACrB,MAAM,gBAAgB;IACtB,MAAM,SAAS;IACf,MAAM,eAAe,KAAK,gCAAgC;IAE1D,2BAA2B;IAC3B,IAAI,YAAY,IAAI,OAAO,KAAK;IAChC,IAAI,IAAI,CAAC,GAAG,GAAG,cAAc,cAAc;IAE3C,oBAAoB;IACpB,IAAI,YAAY,IAAI,OAAO,OAAO;IAClC,IAAI,IAAI,CAAC,GAAG,GAAG,cAAc,GAAG;IAEhC,uDAAuD;IACvD,IAAI;QACF,MAAM,eAAe,MAAM,MAAM;QACjC,MAAM,WAAW,MAAM,aAAa,IAAI;QACxC,MAAM,aAAa,MAAM,IAAI,QAAgB,CAAC;YAC5C,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,GAAG,IAAM,QAAQ,OAAO,MAAM;YAC9C,OAAO,aAAa,CAAC;QACvB;QAEA,8EAA8E;QAC9E,MAAM,YAAY;QAClB,MAAM,aAAa;QACnB,IAAI,QAAQ,CAAC,YAAY,OAAO,QAAQ,IAAI,WAAW;IACzD,EAAE,OAAO,OAAO;QACd,QAAQ,IAAI,CAAC,wBAAwB;IACvC;IAEA,4CAA4C;IAC5C,IAAI,OAAO;QACT,IAAI,YAAY,IAAI,OAAO,SAAS;QACpC,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QAEzB,4BAA4B;QAC5B,MAAM,SAAS;QACf,MAAM,aAAa,IAAI,YAAY,CAAC;QACpC,MAAM,SAAS,CAAC,eAAe,UAAU,IAAI;QAC7C,IAAI,IAAI,CAAC,OAAO,QAAQ;QAExB,wCAAwC;QACxC,IAAI,YAAY,IAAI,OAAO,IAAI;QAC/B,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,MAAM,WAAW;QACjB,MAAM,gBAAgB,IAAI,YAAY,CAAC;QACvC,MAAM,YAAY,CAAC,eAAe,aAAa,IAAI;QACnD,IAAI,IAAI,CAAC,UAAU,WAAW,SAAS;IACzC;IAEA,yDAAyD;IACzD,IAAI,UAAU,eAAe;IAE7B,IAAI,kBAAkB,eAAe,MAAM,GAAG,GAAG;QAC/C,uBAAuB;QACvB,MAAM,aAAa,eAAe,MAAM,GAAG,KAAK;QAChD,IAAI,YAAY,IAAI,OAAO,KAAK;QAChC,IAAI,YAAY,IAAI,OAAO,MAAM;QACjC,IAAI,YAAY,CAAC;QACjB,IAAI,WAAW,CAAC,QAAQ,UAAU,IAAI,eAAgB,SAAS,GAAI,YAAY,GAAG,GAAG;QAErF,yBAAyB;QACzB,IAAI,YAAY,IAAI,OAAO,OAAO;QAClC,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,MAAM,aAAa;QACnB,MAAM,cAAc,IAAI,YAAY,CAAC;QACrC,MAAM,UAAU,CAAC,eAAe,WAAW,IAAI;QAC/C,IAAI,IAAI,CAAC,YAAY,SAAS,UAAU;QAExC,uCAAuC;QACvC,IAAI,YAAY,IAAI,OAAO,IAAI;QAC/B,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QAEzB,eAAe,OAAO,CAAC,CAAC,MAAM;YAC5B,MAAM,QAAQ,UAAU,KAAM,QAAQ;YAEtC,wBAAwB;YACxB,MAAM,YAAY,IAAI,YAAY,CAAC;YACnC,MAAM,QAAQ,CAAC,eAAe,SAAS,IAAI;YAE3C,wCAAwC;YACxC,IAAI,YAAY,IAAI,OAAO,OAAO;YAClC,IAAI,MAAM,CAAC,QAAQ,IAAI,QAAQ,GAAG,GAAG;YAErC,yBAAyB;YACzB,IAAI,IAAI,CAAC,MAAM,OAAO;QACxB;QAEA,WAAW,aAAa;IAC1B;IAEA,qBAAqB;IACrB,MAAM,eAAe,QAAQ,GAAG,CAAC,CAAA,MAAO,IAAI,MAAM;IAClD,MAAM,YAAY,KAAK,GAAG,CAAC,CAAA;QACzB,OAAO,QAAQ,GAAG,CAAC,CAAA;YACjB,MAAM,QAAQ,IAAI,CAAC,IAAI,GAAG,CAAC;YAC3B,MAAM,iBAAiB,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,SAAS;YAC9D,OAAO,OAAO,kBAAkB;QAClC;IACF;IAEA,0BAA0B;IAC1B,MAAM,eAAe,KAAK,iCAAiC;IAC3D,MAAM,iBAAiB,eAAe;IAEtC,MAAM,eAAe,QAAQ,GAAG,CAAC,CAAA;QAC/B,IAAI,IAAI,KAAK,EAAE,OAAO,IAAI,KAAK;QAC/B,0DAA0D;QAC1D,MAAM,eAAe,IAAI,MAAM,CAAC,MAAM;QACtC,MAAM,mBAAmB,KAAK,GAAG,IAC5B,UAAU,GAAG,CAAC,CAAA;YACf,MAAM,YAAY,QAAQ,OAAO,CAAC;YAClC,OAAO,OAAO,GAAG,CAAC,UAAU,IAAI,IAAI,MAAM;QAC5C;QAEF,MAAM,YAAY,KAAK,GAAG,CAAC,cAAc;QACzC,OAAO,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,KAAK,YAAY,KAAK,yBAAyB;IAC9E;IAEA,4BAA4B;IAC5B,MAAM,aAAa,aAAa,MAAM,CAAC,CAAC,KAAK,QAAU,MAAM,OAAO;IACpE,IAAI,aAAa,gBAAgB;QAC/B,MAAM,QAAQ,iBAAiB;QAC/B,aAAa,OAAO,CAAC,CAAC,OAAO;YAC3B,YAAY,CAAC,MAAM,GAAG,QAAQ;QAChC;IACF;IAEA,sBAAsB;IACtB,UAAU,KAAK;QACb,MAAM;YAAC;SAAa;QACpB,MAAM;QACN,QAAQ;QACR,QAAQ;YAAE,MAAM;YAAQ,OAAO;QAAO;QACtC,cAAc,QAAQ,MAAM,CAAC,CAAC,QAAmD,KAAK;YACpF,MAAM,CAAC,MAAM,GAAG;gBAAE,WAAW,YAAY,CAAC,MAAM;YAAC;YACjD,OAAO;QACT,GAAG,CAAC;QACJ,QAAQ;YACN,UAAU;YACV,aAAa;gBAAE,KAAK;gBAAG,OAAO;gBAAG,QAAQ;gBAAG,MAAM;YAAE;YACpD,WAAW,OAAO,MAAM;YACxB,WAAW;YACX,WAAW,OAAO,IAAI;YACtB,MAAM;YACN,UAAU;YACV,QAAQ;YACR,QAAQ;QACV;QACA,YAAY;YACV,WAAW,OAAO,OAAO;YACzB,WAAW;gBAAC;gBAAK;gBAAK;aAAI;YAC1B,WAAW;YACX,UAAU;YACV,aAAa;gBAAE,KAAK;gBAAI,OAAO;gBAAG,QAAQ;gBAAI,MAAM;YAAE;YACtD,QAAQ;YACR,QAAQ;QACV;QACA,oBAAoB;YAClB,WAAW;gBAAC;gBAAK;gBAAK;aAAI;QAC5B;QACA,gBAAgB,OAAO,MAAM;QAC7B,gBAAgB;IAClB;IAEA,uBAAuB;IACvB,MAAM,UAAU,gBAAgB;IAEhC,wBAAwB;IACxB,IAAI,YAAY,IAAI,OAAO,KAAK;IAChC,IAAI,IAAI,CAAC,GAAG,UAAU,IAAI,cAAc,IAAI;IAE5C,qBAAqB;IACrB,IAAI,YAAY,IAAI,OAAO,OAAO;IAClC,IAAI,YAAY,CAAC;IACjB,IAAI,IAAI,CAAC,QAAQ,UAAU,GAAG,eAAe,QAAQ,UAAU;IAE/D,gCAAgC;IAChC,IAAI,YAAY,IAAI,OAAO,IAAI;IAC/B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IAEzB,6BAA6B;IAC7B,MAAM,cAAc,IAAI,OAAO,cAAc,CAAC,SAAS;QACrD,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;QACR,QAAQ;IACV;IACA,MAAM,WAAW,CAAC,cAAc,EAAE,aAAa;IAC/C,MAAM,YAAY,IAAI,YAAY,CAAC;IACnC,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,SAAS,IAAI,GAAG,UAAU;IAE7D,0BAA0B;IAC1B,IAAI,OAAO,CAAC,aAAa;IACzB,MAAM,cAAc;IACpB,MAAM,eAAe,IAAI,YAAY,CAAC;IACtC,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe,YAAY,IAAI,GAAG,UAAU;IAEnE,oCAAoC;IACpC,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,WAAW,CAAC;IAChB,MAAM,mBAAmB;IACzB,MAAM,oBAAoB,IAAI,YAAY,CAAC;IAC3C,IAAI,IAAI,CAAC,kBAAkB,CAAC,eAAe,iBAAiB,IAAI,GAAG,UAAU;IAE7E,eAAe;IACf,IAAI,IAAI,CAAC,GAAG,SAAS,IAAI,CAAC;AAC5B;AAKO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,YAAY,OAAO;IACxB,IAAI;QACF,OAAO,IAAI,KAAK,YAAY,kBAAkB,CAAC;IACjD,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAKO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,WAAW,QAAQ,WAAW,WAAW,OAAO;IACpD,OAAO,OAAO,cAAc,CAAC;AAC/B;AAKO,MAAM,eAAe,CAAC;IAC3B,OAAO,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC;AACvD;AAUO,MAAM,mBAAmB,IAAsB;QACpD;YAAE,KAAK;YAAY,QAAQ;QAAY;QACvC;YAAE,KAAK;YAAQ,QAAQ;QAAQ;QAC/B;YAAE,KAAK;YAAc,QAAQ;QAAc;QAC3C;YAAE,KAAK;YAAiB,QAAQ;QAAiB;QACjD;YAAE,KAAK;YAAS,QAAQ;QAAQ;QAChC;YAAE,KAAK;YAAe,QAAQ;YAAW,WAAW,CAAC;gBACnD,MAAM,IAAI;gBACV,OAAO,IAAI,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG;YACrC;QAAC;QACD;YAAE,KAAK;YAAU,QAAQ;YAAU,WAAW,CAAC,SAAoB,aAAa;QAAkB;QAClG;YAAE,KAAK;YAAc,QAAQ;YAAe,WAAW,CAAC,QAAmB,AAAC,QAAoB,OAAO;QAAM;QAC7G;YAAE,KAAK;YAAS,QAAQ;YAAS,WAAW,CAAC,SAAoB,eAAe;QAAqC;QACrH;YAAE,KAAK;YAAW,QAAQ;QAAU;QACpC;YAAE,KAAK;YAAY,QAAQ;QAAY;QACvC;YAAE,KAAK;YAAqB,QAAQ;QAAiB;QACrD;YAAE,KAAK;YAAY,QAAQ;QAAY;QACvC;YAAE,KAAK;YAAS,QAAQ;QAAQ;KACjC;AAEM,MAAM,uBAAuB,CAClC,SACA,WACA,UAAiD,CAAC,CAAC,EACnD;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,WAAW,OAAO;YAAE,MAAM;YAAI,IAAI;QAAG;QAC1C,MAAM,UAAU,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,CAAC,QAAQ,OAAO,UAAU,QAAQ;QAC1E,OAAO,UAAU;YAAE,MAAM,QAAQ,IAAI;YAAE,IAAI,QAAQ,UAAU;QAAC,IAAI;YAAE,MAAM;YAAI,IAAI;QAAG;IACvF;IAEA,4BAA4B;IAC5B,MAAM,aAAa;IAEnB,iDAAiD;IACjD,MAAM,UAAU,mBAAmB,gBAAgB,MAAM,GAAG,IACxD,WAAW,MAAM,CAAC,CAAA,MAAO,gBAAgB,QAAQ,CAAC,IAAI,GAAG,KACzD;IAEJ,MAAM,gBAAgB,QAAQ,GAAG,CAAC,CAAA,SAAU,CAAC;YAC3C,UAAU,OAAO,QAAQ,IAAI;YAC7B,MAAM,OAAO,IAAI,IAAI;YACrB,YAAY,OAAO,UAAU,IAAI;YACjC,eAAe,OAAO,aAAa,IAAI;YACvC,OAAO,OAAO,KAAK,IAAI;YACvB,aAAa,eAAe,OAAO,SAAS;YAC5C,QAAQ,OAAO,MAAM,IAAI;YACzB,YAAY,OAAO,UAAU;YAC7B,OAAO,OAAO,KAAK,IAAI;YACvB,SAAS,OAAO,OAAO,IAAI;YAC3B,UAAU,OAAO,QAAQ,IAAI;YAC7B,mBAAmB,OAAO,iBAAiB,IAAI;YAC/C,UAAU,OAAO,QAAQ,IAAI;YAC7B,OAAO,OAAO,KAAK,IAAI;QACzB,CAAC;IAED,MAAM,eAAe,gBAAgB;IACrC,MAAM,WAAW,CAAC,cAAc,EAAE,aAAa,CAAC,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;IAE1F,cAAc,eAAe,SAAS;AACxC;AAEO,MAAM,uBAAuB,OAClC,SACA,WACA,UAAqE,CAAC,CAAC,EACvE;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,WAAW,OAAO;YAAE,MAAM;YAAI,IAAI;QAAG;QAC1C,MAAM,UAAU,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,CAAC,QAAQ,OAAO,UAAU,QAAQ;QAC1E,OAAO,UAAU;YAAE,MAAM,QAAQ,IAAI;YAAE,IAAI,QAAQ,UAAU;QAAC,IAAI;YAAE,MAAM;YAAI,IAAI;QAAG;IACvF;IAEA,uFAAuF;IACvF,MAAM,aAA6B;QACjC;YAAE,KAAK;YAAY,QAAQ;YAAM,OAAO;QAAG;QAC3C;YAAE,KAAK;YAAQ,QAAQ;YAAS,OAAO;QAAG;QAC1C;YAAE,KAAK;YAAc,QAAQ;YAAQ,OAAO;QAAI;QAChD;YAAE,KAAK;YAAiB,QAAQ;YAAW,OAAO;QAAG;QACrD;YAAE,KAAK;YAAS,QAAQ;YAAS,OAAO;QAAG;QAC3C;YAAE,KAAK;YAAe,QAAQ;YAAW,OAAO;YAAK,WAAW,CAAC;gBAC/D,MAAM,IAAI;gBACV,OAAO,IAAI,GAAG,EAAE,IAAI,EAAE,GAAG;YAC3B;QAAC;QACD;YAAE,KAAK;YAAU,QAAQ;YAAU,OAAO;YAAI,WAAW,CAAC,SAAoB,aAAa;QAAkB;QAC7G;YAAE,KAAK;YAAc,QAAQ;YAAO,OAAO;YAAI,WAAW,CAAC,QAAmB,AAAC,QAAoB,OAAO;QAAM;QAChH;YAAE,KAAK;YAAS,QAAQ;YAAS,OAAO;YAAI,WAAW,CAAC,SAAoB,eAAe;QAAqC;QAChI;YAAE,KAAK;YAAW,QAAQ;YAAW,OAAO;QAAI;QAChD;YAAE,KAAK;YAAY,QAAQ;YAAQ,OAAO;QAAG;QAC7C;YAAE,KAAK;YAAqB,QAAQ;YAAW,OAAO;QAAG;QACzD;YAAE,KAAK;YAAY,QAAQ;YAAQ,OAAO;QAAG;QAC7C;YAAE,KAAK;YAAS,QAAQ;YAAS,OAAO;QAAG;KAC5C;IAED,+DAA+D;IAC/D,MAAM,oBAAoB;QAAC;QAAY;QAAQ;QAAc;QAAiB;QAAe;QAAU;QAAc;KAAQ;IAC7H,MAAM,UAAU,mBAAmB,gBAAgB,MAAM,GAAG,IACxD,WAAW,MAAM,CAAC,CAAA,MAAO,gBAAgB,QAAQ,CAAC,IAAI,GAAG,KACzD,WAAW,MAAM,CAAC,CAAA,MAAO,kBAAkB,QAAQ,CAAC,IAAI,GAAG;IAE/D,MAAM,gBAAgB,QAAQ,GAAG,CAAC,CAAA,SAAU,CAAC;YAC3C,UAAU,OAAO,QAAQ,IAAI;YAC7B,MAAM,OAAO,IAAI,IAAI;YACrB,YAAY,OAAO,UAAU,IAAI;YACjC,eAAe,OAAO,aAAa,IAAI;YACvC,OAAO,OAAO,KAAK,IAAI;YACvB,aAAa,eAAe,OAAO,SAAS;YAC5C,QAAQ,OAAO,MAAM,IAAI;YACzB,YAAY,OAAO,UAAU;YAC7B,OAAO,OAAO,KAAK,IAAI;YACvB,SAAS,OAAO,OAAO,IAAI;YAC3B,UAAU,OAAO,QAAQ,IAAI;YAC7B,mBAAmB,OAAO,iBAAiB,IAAI;YAC/C,UAAU,OAAO,QAAQ,IAAI;YAC7B,OAAO,OAAO,KAAK,IAAI;QACzB,CAAC;IAED,MAAM,eAAe,gBAAgB;IACrC,MAAM,aAAa,cAAc,SAAS;IAE1C,MAAM,QAAQ;IACd,MAAM,iBAAiB;QACrB,CAAC,cAAc,EAAE,IAAI,OAAO,cAAc,IAAI;QAC9C,CAAC,eAAe,EAAE,QAAQ,MAAM,EAAE;WAC9B,aAAa;YAAC;SAAW,GAAG,EAAE;KACnC;IAED,MAAM,WAAW,CAAC,cAAc,EAAE,aAAa,CAAC,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;IAE1F,MAAM,cAAc,eAAe,SAAS,UAAU,OAAO;AAC/D;AAEA,+BAA+B;AAC/B,MAAM,kBAAkB,CAAC;IACvB,MAAM,QAAkB,EAAE;IAE1B,IAAI,QAAQ,MAAM,IAAI,QAAQ,MAAM,KAAK,OAAO;QAC9C,MAAM,IAAI,CAAC,QAAQ,MAAM;IAC3B;IAEA,IAAI,QAAQ,OAAO,IAAI,QAAQ,OAAO,KAAK,OAAO;QAChD,MAAM,IAAI,CAAC;IACb;IAEA,IAAI,QAAQ,SAAS,EAAE;QACrB,MAAM,IAAI,CAAC,QAAQ,SAAS;IAC9B;IAEA,OAAO,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,IAAI,CAAC,MAAM,GAAG;AACpD;AAEA,MAAM,gBAAgB,CAAC,SAAoE;IACzF,MAAM,QAAkB,EAAE;IAE1B,IAAI,QAAQ,MAAM,IAAI,QAAQ,MAAM,KAAK,OAAO;QAC9C,MAAM,IAAI,CAAC,CAAC,QAAQ,EAAE,aAAa,QAAQ,MAAM,GAAG;IACtD;IAEA,IAAI,QAAQ,OAAO,IAAI,QAAQ,OAAO,KAAK,OAAO;QAChD,MAAM,UAAU,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,CAAC,QAAQ,OAAO,QAAQ,OAAO;QACvE,IAAI,SAAS;YACX,MAAM,IAAI,CAAC,CAAC,SAAS,EAAE,QAAQ,IAAI,CAAC,EAAE,EAAE,QAAQ,UAAU,CAAC,CAAC,CAAC;QAC/D;IACF;IAEA,IAAI,QAAQ,SAAS,EAAE;QACrB,MAAM,IAAI,CAAC,CAAC,WAAW,EAAE,QAAQ,SAAS,CAAC,OAAO,CAAC,KAAK,MAAM;IAChE;IAEA,OAAO,MAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,EAAE,MAAM,IAAI,CAAC,OAAO,GAAG;AACrE","debugId":null}},
    {"offset": {"line": 901, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/app/admin/farmer/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback, useMemo, Suspense } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { useLanguage } from '@/contexts/LanguageContext';\r\nimport { Users, UserCheck, Phone, Mail, Building2, Settings, Folder, FolderOpen, ChevronDown, ChevronRight, Plus, Upload, Droplets, TrendingUp, Award, BarChart3, X } from 'lucide-react';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\nimport { formatPhoneInput, validatePhoneOnBlur } from '@/lib/validation/phoneValidation';\r\nimport { validateEmailOnBlur } from '@/lib/validation/emailValidation';\r\nimport { \r\n  FlowerSpinner,\r\n  FormModal, \r\n  FormInput, \r\n  FormSelect, \r\n  FormActions, \r\n  FormGrid,\r\n  StatusMessage,\r\n  ItemCard,\r\n  EmptyState,\r\n  ColumnSelectionModal\r\n} from '@/components';\r\nimport {\r\n  BulkDeleteConfirmModal,\r\n  ConfirmDeleteModal,\r\n  BulkActionsToolbar,\r\n  LoadingSnackbar,\r\n  ViewModeToggle,\r\n  FilterDropdown,\r\n  StatsGrid,\r\n  ManagementPageHeader,\r\n  FloatingActionButton\r\n} from '@/components/management';\r\nimport CSVUploadModal from '@/components/forms/CSVUploadModal';\r\nimport { downloadFarmersAsCSV, downloadFarmersAsPDF, getFarmerColumns } from '@/lib/utils/downloadUtils';\r\n\r\nimport { Society, Farmer } from '@/types';\r\n\r\nconst FarmerManagement = () => {\r\n  const { t } = useLanguage();\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const [farmers, setFarmers] = useState<Farmer[]>([]);\r\n  const [societies, setSocieties] = useState<Society[]>([]);\r\n  const [machines, setMachines] = useState<Array<{id: number, machineId: string, machineType: string, societyId?: number, societyName?: string}>>([]);\r\n  const [dairies, setDairies] = useState<Array<{ id: number; name: string; dairyId: string }>>([]);\r\n  const [bmcs, setBmcs] = useState<Array<{ id: number; name: string; bmcId: string; dairyFarmId?: number }>>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [machinesLoading, setMachinesLoading] = useState(false);\r\n  const [statusFilter, setStatusFilter] = useState<'all' | 'active' | 'inactive' | 'suspended' | 'maintenance'>('all');\r\n  const [dairyFilter, setDairyFilter] = useState<string[]>([]);\r\n  const [bmcFilter, setBmcFilter] = useState<string[]>([]);\r\n  const [societyFilter, setSocietyFilter] = useState<string[]>([]);\r\n  const [machineFilter, setMachineFilter] = useState<string[]>([]);\r\n  const [searchQuery, setSearchQuery] = useState<string>('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n  const [showBulkModal, setShowBulkModal] = useState(false);\r\n  const [showCSVUpload, setShowCSVUpload] = useState(false);\r\n  const [selectedFarmer, setSelectedFarmer] = useState<Farmer | null>(null);\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [bulkSocietyId, setBulkSocietyId] = useState<string>('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [fieldErrors, setFieldErrors] = useState<{[key: string]: string}>({});\r\n  \r\n  // Selective deletion state\r\n  const [selectedFarmers, setSelectedFarmers] = useState<Set<number>>(new Set());\r\n  const [selectAll, setSelectAll] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [farmerToDelete, setFarmerToDelete] = useState<{id: number, name: string, farmerId: string} | null>(null);\r\n  const [showSingleDeleteConfirm, setShowSingleDeleteConfirm] = useState(false);\r\n  const [isDownloading, setIsDownloading] = useState(false);\r\n  const [isDeletingBulk, setIsDeletingBulk] = useState(false);\r\n  const [showColumnSelection, setShowColumnSelection] = useState(false);\r\n  const [isUpdatingStatus, setIsUpdatingStatus] = useState(false);\r\n  const [isBulkUpdatingStatus, setIsBulkUpdatingStatus] = useState(false);\r\n  const [updateProgress, setUpdateProgress] = useState(0);\r\n  \r\n  // Folder view state\r\n  const [expandedSocieties, setExpandedSocieties] = useState<Set<number>>(new Set());\r\n  const [viewMode, setViewMode] = useState<'folder' | 'list'>('folder');\r\n  const [selectedSocieties, setSelectedSocieties] = useState<Set<number>>(new Set());\r\n  \r\n  // Graph modal state\r\n  const [showGraphModal, setShowGraphModal] = useState(false);\r\n  const [graphMetric, setGraphMetric] = useState<'quantity' | 'revenue' | 'fat' | 'snf' | 'collections' | 'rate'>('quantity');\r\n  const [graphData, setGraphData] = useState<any[]>([]);\r\n  \r\n  // Bulk status update state\r\n  const [bulkStatus, setBulkStatus] = useState<'active' | 'inactive' | 'suspended' | 'maintenance'>('active');\r\n  const [performanceStats, setPerformanceStats] = useState<{\r\n    topCollector: { farmer: any; totalQuantity: number } | null;\r\n    bestFat: { farmer: any; avgFat: number } | null;\r\n    bestSnf: { farmer: any; avgSnf: number } | null;\r\n    topRevenue: { farmer: any; totalAmount: number } | null;\r\n    mostActive: { farmer: any; totalCollections: number } | null;\r\n    bestQuality: { farmer: any; avgRate: number } | null;\r\n  }>({  \r\n    topCollector: null,\r\n    bestFat: null,\r\n    bestSnf: null,\r\n    topRevenue: null,\r\n    mostActive: null,\r\n    bestQuality: null\r\n  });\r\n\r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    farmerId: '',\r\n    rfId: '',\r\n    farmerName: '',\r\n    contactNumber: '',\r\n    email: '',\r\n    smsEnabled: 'OFF',\r\n    emailNotificationsEnabled: 'ON',\r\n    bonus: 0,\r\n    address: '',\r\n    bankName: '',\r\n    bankAccountNumber: '',\r\n    ifscCode: '',\r\n    societyId: '',\r\n    machineId: '',\r\n    status: 'active',\r\n    notes: ''\r\n  });\r\n\r\n\r\n\r\n  // Fetch farmers, societies, and machines\r\n  // Clear messages after 5 seconds\r\n  useEffect(() => {\r\n    if (success || error) {\r\n      const timer = setTimeout(() => {\r\n        setSuccess('');\r\n        setError('');\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [success, error]);\r\n\r\n  // Listen for global search events from header\r\n  useEffect(() => {\r\n    const handleGlobalSearch = (event: Event) => {\r\n      const customEvent = event as CustomEvent;\r\n      const query = customEvent.detail?.query || '';\r\n      setSearchQuery(query);\r\n    };\r\n\r\n    window.addEventListener('globalSearch', handleGlobalSearch);\r\n    return () => {\r\n      window.removeEventListener('globalSearch', handleGlobalSearch);\r\n    };\r\n  }, []);\r\n\r\n  // Reset machine filter when society filter changes\r\n  useEffect(() => {\r\n    if (societyFilter.length > 0 && machineFilter.length > 0) {\r\n      // Check if current machine selections are still valid for the selected society\r\n      const validMachines = machineFilter.filter(mId => {\r\n        const machine = machines.find(m => m.id.toString() === mId);\r\n        return machine && societyFilter.includes(machine.societyId?.toString() || '');\r\n      });\r\n      if (validMachines.length !== machineFilter.length) {\r\n        setMachineFilter(validMachines);\r\n      }\r\n    }\r\n  }, [societyFilter, machineFilter, machines]);\r\n\r\n  // Read URL parameters and initialize filters on mount\r\n  useEffect(() => {\r\n    const societyId = searchParams.get('societyId');\r\n    const societyName = searchParams.get('societyName');\r\n    const dairyFilterParam = searchParams.get('dairyFilter');\r\n    const bmcFilterParam = searchParams.get('bmcFilter');\r\n    \r\n    if (societyId && !societyFilter.includes(societyId)) {\r\n      setSocietyFilter([societyId]);\r\n      \r\n      // Show success message with society name\r\n      if (societyName) {\r\n        setSuccess(`Filter Applied: ${decodeURIComponent(societyName)}`);\r\n      }\r\n    }\r\n    \r\n    if (dairyFilterParam && !dairyFilter.includes(dairyFilterParam)) {\r\n      setDairyFilter([dairyFilterParam]);\r\n      setSuccess('Filter Applied: Dairy');\r\n    }\r\n    \r\n    if (bmcFilterParam && !bmcFilter.includes(bmcFilterParam)) {\r\n      setBmcFilter([bmcFilterParam]);\r\n      setSuccess('Filter Applied: BMC');\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []); // Run once on mount\r\n\r\n  const fetchFarmers = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n      if (!token) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      const response = await fetch('/api/user/farmer', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.status === 401) {\r\n        localStorage.removeItem('authToken');\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setFarmers(data.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching farmers:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [router]);\r\n\r\n  const fetchPerformanceStats = useCallback(async () => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/analytics/farmer-performance', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setPerformanceStats(data.stats || {\r\n          topCollector: null,\r\n          bestFat: null,\r\n          bestSnf: null,\r\n          topRevenue: null,\r\n          mostActive: null,\r\n          bestQuality: null\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching performance stats:', error);\r\n    }\r\n  }, []);\r\n\r\n  const fetchGraphData = useCallback(async (metric: string) => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch(`/api/analytics/farmer-performance?graphData=true`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const allFarmers = data.farmers || [];\r\n        \r\n        const chartData = allFarmers.map((farmer: any) => ({\r\n          name: farmer.farmer_name,\r\n          farmerId: farmer.farmer_id,\r\n          societyName: farmer.society_name,\r\n          value: metric === 'quantity' ? (parseFloat(farmer.total_quantity) || 0) :\r\n                 metric === 'revenue' ? (parseFloat(farmer.total_amount) || 0) :\r\n                 metric === 'fat' ? (parseFloat(farmer.avg_fat) || 0) :\r\n                 metric === 'snf' ? (parseFloat(farmer.avg_snf) || 0) :\r\n                 metric === 'collections' ? (parseInt(farmer.total_collections) || 0) :\r\n                 (parseFloat(farmer.avg_rate) || 0)\r\n        })).sort((a: any, b: any) => b.value - a.value).slice(0, 20); // Top 20 farmers\r\n        \r\n        setGraphData(chartData);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching graph data:', error);\r\n      setGraphData([]);\r\n    }\r\n  }, []);\r\n\r\n  const handleCardClick = (metric: 'quantity' | 'revenue' | 'fat' | 'snf' | 'collections' | 'rate') => {\r\n    setGraphMetric(metric);\r\n    fetchGraphData(metric);\r\n    setShowGraphModal(true);\r\n  };\r\n\r\n  const fetchSocieties = async () => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/society', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSocieties(data.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching societies:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch dairies\r\n  const fetchDairies = async () => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/dairy', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setDairies(data.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching dairies:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch BMCs\r\n  const fetchBmcs = async () => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/bmc', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setBmcs(data.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching BMCs:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch all machines\r\n  const fetchAllMachines = async () => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/machine', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMachines(data.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching machines:', error);\r\n      setMachines([]);\r\n    }\r\n  };\r\n\r\n  // Fetch machines by society ID\r\n  const fetchMachinesBySociety = async (societyId: string) => {\r\n    if (!societyId) {\r\n      setMachines([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setMachinesLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch(`/api/user/machine/by-society?societyId=${societyId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMachines(data.data || []);\r\n      } else {\r\n        setMachines([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching machines:', error);\r\n      setMachines([]);\r\n    } finally {\r\n      setMachinesLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle status change\r\n  const handleStatusChange = async (id: number, newStatus: string) => {\r\n    setIsUpdatingStatus(true);\r\n    setUpdateProgress(0);\r\n    try {\r\n      const farmer = farmers.find(f => f.id === id);\r\n      if (!farmer) return;\r\n\r\n      setUpdateProgress(30);\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/farmer', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          id: farmer.id,\r\n          farmerId: farmer.farmerId,\r\n          rfId: farmer.rfId,\r\n          farmerName: farmer.farmerName,\r\n          contactNumber: farmer.contactNumber,\r\n          smsEnabled: farmer.smsEnabled,\r\n          emailNotificationsEnabled: farmer.emailNotificationsEnabled || 'ON',\r\n          bonus: farmer.bonus,\r\n          address: farmer.address,\r\n          bankName: farmer.bankName,\r\n          bankAccountNumber: farmer.bankAccountNumber,\r\n          ifscCode: farmer.ifscCode,\r\n          societyId: farmer.societyId,\r\n          machineId: farmer.machineId,\r\n          status: newStatus,\r\n          notes: farmer.notes\r\n        })\r\n      });\r\n\r\n      setUpdateProgress(70);\r\n      if (response.ok) {\r\n        setFarmers(prev =>\r\n          prev.map(f => (f.id === id ? { ...f, status: newStatus as Farmer['status'] } : f))\r\n        );\r\n        setUpdateProgress(100);\r\n        setSuccess('Farmer status updated successfully');\r\n        setError('');\r\n      } else {\r\n        setError('Failed to update farmer status');\r\n        setSuccess('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating status:', error);\r\n      setError('Error updating farmer status');\r\n      setSuccess('');\r\n    } finally {\r\n      setIsUpdatingStatus(false);\r\n    }\r\n  };\r\n\r\n  // Handle farmer deletion - show confirmation\r\n  const handleDelete = (id: number) => {\r\n    const farmer = farmers.find(f => f.id === id);\r\n    if (farmer) {\r\n      setFarmerToDelete({ id: farmer.id, name: farmer.farmerName, farmerId: farmer.farmerId });\r\n      setShowSingleDeleteConfirm(true);\r\n    }\r\n  };\r\n\r\n  // Confirm single farmer deletion\r\n  const confirmDeleteFarmer = async () => {\r\n    if (!farmerToDelete) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch(`/api/user/farmer?id=${farmerToDelete.id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        setFarmers(prev => prev.filter(f => f.id !== farmerToDelete.id));\r\n        setSuccess(t.farmerManagement.deletedSuccessfully || 'Farmer deleted successfully');\r\n        setError('');\r\n      } else {\r\n        setError(t.farmerManagement.deleteError || 'Failed to delete farmer. Please try again.');\r\n        setSuccess('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting farmer:', error);\r\n      setError(t.farmerManagement.deleteError || 'Error deleting farmer. Please try again.');\r\n      setSuccess('');\r\n    } finally {\r\n      setShowSingleDeleteConfirm(false);\r\n      setFarmerToDelete(null);\r\n    }\r\n  };\r\n\r\n  // Selection handlers\r\n  const handleSelectFarmer = (farmerId: number) => {\r\n    setSelectedFarmers(prev => {\r\n      const newSelected = new Set(prev);\r\n      const isDeselecting = newSelected.has(farmerId);\r\n      \r\n      if (isDeselecting) {\r\n        newSelected.delete(farmerId);\r\n        \r\n        // When deselecting a farmer, uncheck selectAll\r\n        setSelectAll(false);\r\n        \r\n        // Check if we should deselect the society folder\r\n        const farmer = filteredFarmers.find(f => f.id === farmerId);\r\n        if (farmer && farmer.societyId) {\r\n          const societyId = farmer.societyId;\r\n          const societyFarmers = filteredFarmers.filter(f => f.societyId === societyId);\r\n          const allSocietyFarmersSelected = societyFarmers.every(f => \r\n            f.id === farmerId ? false : newSelected.has(f.id)\r\n          );\r\n          \r\n          // If not all farmers in the society are selected, deselect the society folder\r\n          if (!allSocietyFarmersSelected) {\r\n            setSelectedSocieties(prevSocieties => {\r\n              const updatedSocieties = new Set(prevSocieties);\r\n              updatedSocieties.delete(societyId);\r\n              return updatedSocieties;\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        newSelected.add(farmerId);\r\n        \r\n        // Check if the society folder should be selected\r\n        const farmer = filteredFarmers.find(f => f.id === farmerId);\r\n        if (farmer && farmer.societyId) {\r\n          const societyId = farmer.societyId;\r\n          const societyFarmers = filteredFarmers.filter(f => f.societyId === societyId);\r\n          const allSocietyFarmersSelected = societyFarmers.every(f => \r\n            f.id === farmerId ? true : newSelected.has(f.id)\r\n          );\r\n          \r\n          // If all farmers in the society are now selected, select the society folder\r\n          if (allSocietyFarmersSelected) {\r\n            setSelectedSocieties(prevSocieties => {\r\n              const updatedSocieties = new Set(prevSocieties);\r\n              updatedSocieties.add(societyId);\r\n              return updatedSocieties;\r\n            });\r\n          }\r\n        }\r\n        \r\n        // Check if all filtered farmers are now selected\r\n        const allFilteredIds = new Set(filteredFarmers.map(f => f.id));\r\n        const allSelected = Array.from(allFilteredIds).every(id => \r\n          id === farmerId ? true : newSelected.has(id)\r\n        );\r\n        \r\n        if (allSelected) {\r\n          setSelectAll(true);\r\n        }\r\n      }\r\n      \r\n      return newSelected;\r\n    });\r\n  };\r\n\r\n  // Toggle society folder expansion\r\n  const toggleSocietyExpansion = (societyId: number) => {\r\n    setExpandedSocieties(prev => {\r\n      const newExpanded = new Set(prev);\r\n      if (newExpanded.has(societyId)) {\r\n        newExpanded.delete(societyId);\r\n      } else {\r\n        newExpanded.add(societyId);\r\n      }\r\n      return newExpanded;\r\n    });\r\n  };\r\n\r\n  // Toggle society selection\r\n  const toggleSocietySelection = (societyId: number, farmerIds: number[]) => {\r\n    setSelectedSocieties(prev => {\r\n      const newSelected = new Set(prev);\r\n      if (newSelected.has(societyId)) {\r\n        // Deselect society and all its farmers\r\n        newSelected.delete(societyId);\r\n        setSelectedFarmers(prevFarmers => {\r\n          const updatedFarmers = new Set(prevFarmers);\r\n          farmerIds.forEach(id => updatedFarmers.delete(id));\r\n          \r\n          // Check if we should unset selectAll\r\n          // If any farmer is deselected, selectAll should be false\r\n          setSelectAll(false);\r\n          \r\n          return updatedFarmers;\r\n        });\r\n      } else {\r\n        // Select society and all its farmers\r\n        newSelected.add(societyId);\r\n        setSelectedFarmers(prevFarmers => {\r\n          const updatedFarmers = new Set(prevFarmers);\r\n          farmerIds.forEach(id => updatedFarmers.add(id));\r\n          \r\n          // Check if all filtered farmers are now selected\r\n          const allFilteredIds = new Set(filteredFarmers.map(f => f.id));\r\n          const allSelected = Array.from(allFilteredIds).every(id => updatedFarmers.has(id));\r\n          if (allSelected) {\r\n            setSelectAll(true);\r\n          }\r\n          \r\n          return updatedFarmers;\r\n        });\r\n      }\r\n      return newSelected;\r\n    });\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectAll) {\r\n      setSelectedFarmers(new Set());\r\n      setSelectedSocieties(new Set());\r\n      setSelectAll(false);\r\n    } else {\r\n      // Select only the currently filtered farmers\r\n      setSelectedFarmers(new Set(filteredFarmers.map(f => f.id)));\r\n      \r\n      // Also select all societies that have farmers in the filtered list\r\n      const farmersBySociety = filteredFarmers.reduce((acc, farmer) => {\r\n        const societyId = farmer.societyId || 0;\r\n        if (!acc.includes(societyId)) {\r\n          acc.push(societyId);\r\n        }\r\n        return acc;\r\n      }, [] as number[]);\r\n      setSelectedSocieties(new Set(farmersBySociety));\r\n      \r\n      setSelectAll(true);\r\n    }\r\n  };\r\n\r\n  // Clear selections when filters or search change or keep only visible farmers\r\n  useEffect(() => {\r\n    if (selectedFarmers.size > 0) {\r\n      // Calculate filtered farmers inline to avoid dependency issues\r\n      const currentlyFilteredFarmers = farmers.filter(farmer => {\r\n        const statusMatch = statusFilter === 'all' || farmer.status === statusFilter;\r\n        const societyMatch = societyFilter.length === 0 || societyFilter.includes(farmer.societyId?.toString() || '');\r\n        const machineMatch = machineFilter.length === 0 || \r\n          machineFilter.includes(farmer.machineId?.toString() || '');\r\n        const searchMatch = searchQuery === '' || \r\n          farmer.farmerName.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.farmerId.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.contactNumber?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.rfId?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.societyName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.societyIdentifier?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.address?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.bankName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.bankAccountNumber?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.ifscCode?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          farmer.notes?.toLowerCase().includes(searchQuery.toLowerCase());\r\n        return statusMatch && societyMatch && machineMatch && searchMatch;\r\n      });\r\n      \r\n      // Keep only farmers that are still visible after filtering/searching\r\n      const visibleFarmerIds = new Set(currentlyFilteredFarmers.map(f => f.id));\r\n      const updatedSelection = new Set(\r\n        Array.from(selectedFarmers).filter(id => visibleFarmerIds.has(id))\r\n      );\r\n      \r\n      if (updatedSelection.size !== selectedFarmers.size) {\r\n        setSelectedFarmers(updatedSelection);\r\n        setSelectAll(false);\r\n        \r\n        // Update society selections based on remaining selected farmers\r\n        const visibleSocietyIds = new Set(currentlyFilteredFarmers.map(f => f.societyId).filter(Boolean));\r\n        const updatedSocietySelection = new Set<number>();\r\n        \r\n        visibleSocietyIds.forEach(societyId => {\r\n          const societyFarmers = currentlyFilteredFarmers.filter(f => f.societyId === societyId);\r\n          const allSocietyFarmersSelected = societyFarmers.every(f => updatedSelection.has(f.id));\r\n          if (allSocietyFarmersSelected && societyFarmers.length > 0) {\r\n            updatedSocietySelection.add(societyId as number);\r\n          }\r\n        });\r\n        \r\n        setSelectedSocieties(updatedSocietySelection);\r\n      }\r\n    } else {\r\n      setSelectAll(false);\r\n      setSelectedSocieties(new Set());\r\n    }\r\n  }, [statusFilter, societyFilter, machineFilter, searchQuery, farmers, selectedFarmers]);\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (selectedFarmers.size === 0) return;\r\n\r\n    // Close the confirmation modal immediately and show LoadingSnackbar\r\n    setShowDeleteConfirm(false);\r\n    setIsDeletingBulk(true);\r\n    setUpdateProgress(0);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      setUpdateProgress(10);\r\n      \r\n      const ids = Array.from(selectedFarmers);\r\n      setUpdateProgress(20);\r\n      \r\n      const response = await fetch(`/api/user/farmer?ids=${encodeURIComponent(JSON.stringify(ids))}`, {\r\n        method: 'DELETE',\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      setUpdateProgress(60);\r\n\r\n      if (response.ok) {\r\n        setUpdateProgress(80);\r\n        await fetchFarmers(); // Refresh the list\r\n        setUpdateProgress(95);\r\n        setSelectedFarmers(new Set());\r\n        setSelectAll(false);\r\n        setSuccess(`Successfully deleted ${ids.length} farmer(s)${(statusFilter !== 'all' || dairyFilter.length > 0 || bmcFilter.length > 0 || societyFilter.length > 0 || machineFilter.length > 0) ? ' from filtered results' : ''}`);\r\n        setSocietyFilter([]);\r\n        setError('');\r\n        setUpdateProgress(100);\r\n      } else {\r\n        const data = await response.json();\r\n        setError(data.message || 'Failed to delete selected farmers');\r\n        setSuccess('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting farmers:', error);\r\n      setError('Error deleting selected farmers');\r\n      setSuccess('');\r\n    } finally {\r\n      setIsDeletingBulk(false);\r\n      setUpdateProgress(0);\r\n    }\r\n  };\r\n\r\n  // Handle bulk status update\r\n  const handleBulkStatusUpdate = async (newStatus?: string) => {\r\n    if (selectedFarmers.size === 0) return;\r\n\r\n    const statusToUpdate = newStatus || bulkStatus;\r\n    setIsBulkUpdatingStatus(true);\r\n    setUpdateProgress(0);\r\n\r\n    try {\r\n      // Step 1: Get token (5%)\r\n      const token = localStorage.getItem('authToken');\r\n      setUpdateProgress(5);\r\n      \r\n      // Step 2: Prepare farmer IDs (10%)\r\n      const farmerIds = Array.from(selectedFarmers);\r\n      const totalFarmers = farmerIds.length;\r\n      setUpdateProgress(10);\r\n      \r\n      console.log(`ðŸ”„ Bulk updating ${totalFarmers} farmers to status: ${statusToUpdate}`);\r\n      \r\n      // Step 3: Single bulk update API call (10% to 90%)\r\n      setUpdateProgress(30);\r\n      const response = await fetch('/api/user/farmer', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          bulkStatusUpdate: true,\r\n          farmerIds: farmerIds,\r\n          status: statusToUpdate\r\n        })\r\n      });\r\n\r\n      setUpdateProgress(70);\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to update farmer status');\r\n      }\r\n\r\n      const result = await response.json();\r\n      const updatedCount = result.data?.updated || totalFarmers;\r\n      \r\n      // Step 4: Refresh data (90%)\r\n      setUpdateProgress(90);\r\n      await fetchFarmers();\r\n      \r\n      // Step 5: Finalize (100%)\r\n      setUpdateProgress(100);\r\n      setSelectedFarmers(new Set());\r\n      setSelectedSocieties(new Set());\r\n      setSelectAll(false);\r\n      \r\n      console.log(`âœ… Successfully updated ${updatedCount} farmers`);\r\n      \r\n      setSuccess(\r\n        `Successfully updated status to \"${statusToUpdate}\" for ${updatedCount} farmer(s)${\r\n          (statusFilter !== 'all' || dairyFilter.length > 0 || bmcFilter.length > 0 || societyFilter.length > 0) ? ' from filtered results' : ''\r\n        }`\r\n      );\r\n      setError('');\r\n\r\n    } catch (error) {\r\n      console.error('Error updating farmer status:', error);\r\n      setUpdateProgress(100);\r\n      setError(error instanceof Error ? error.message : 'Error updating farmer status. Please try again.');\r\n      setSuccess('');\r\n    } finally {\r\n      setIsBulkUpdatingStatus(false);\r\n    }\r\n  };\r\n\r\n  // Handle bulk download for selected farmers\r\n  const handleBulkDownload = () => {\r\n    if (selectedFarmers.size === 0) {\r\n      setError('No farmers selected');\r\n      return;\r\n    }\r\n    handleOpenColumnSelection();\r\n  };\r\n\r\n  // Handle opening column selection modal\r\n  const handleOpenColumnSelection = () => {\r\n    setShowColumnSelection(true);\r\n  };\r\n\r\n  // Handle download with selected columns\r\n  const handleDownloadWithColumns = async (selectedColumns: string[], format: 'csv' | 'pdf') => {\r\n    setIsDownloading(true);\r\n    try {\r\n      // If farmers are selected, download only selected farmers (that are also filtered)\r\n      // If no farmers are selected, download all filtered farmers\r\n      const farmersForDownload = selectedFarmers.size > 0 \r\n        ? filteredFarmers.filter(farmer => selectedFarmers.has(farmer.id))\r\n        : filteredFarmers;\r\n\r\n      const farmersToDownload = farmersForDownload.map(farmer => ({\r\n        farmerId: farmer.farmerId,\r\n        rfId: farmer.rfId,\r\n        farmerName: farmer.farmerName,\r\n        contactNumber: farmer.contactNumber,\r\n        email: farmer.contactNumber, // Using contactNumber as email since no separate email field\r\n        societyId: farmer.societyId,\r\n        address: farmer.address,\r\n        notes: farmer.notes,\r\n        status: farmer.status,\r\n        smsEnabled: farmer.smsEnabled === 'ON',\r\n        bonus: farmer.bonus,\r\n        bankName: farmer.bankName,\r\n        bankAccountNumber: farmer.bankAccountNumber,\r\n        ifscCode: farmer.ifscCode\r\n      }));\r\n\r\n      const societiesData = societies.map(society => ({\r\n        id: society.id,\r\n        name: society.name,\r\n        society_id: society.society_id\r\n      }));\r\n\r\n      const filters = {\r\n        status: statusFilter !== 'all' ? statusFilter : undefined,\r\n        society: societyFilter.length > 0 ? societyFilter[0] : undefined,\r\n        selection: selectedFarmers.size > 0 ? `${selectedFarmers.size}-selected` : undefined\r\n      };\r\n\r\n      const downloadMessage = selectedFarmers.size > 0 \r\n        ? `${selectedFarmers.size} selected farmer(s) downloaded successfully`\r\n        : `${farmersToDownload.length} farmer(s) downloaded successfully`;\r\n\r\n      if (format === 'csv') {\r\n        downloadFarmersAsCSV(farmersToDownload, societiesData, filters, selectedColumns);\r\n        setSuccess(`${downloadMessage} as CSV`);\r\n      } else {\r\n        await downloadFarmersAsPDF(farmersToDownload, societiesData, filters, selectedColumns);\r\n        setSuccess(`${downloadMessage} as PDF`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error downloading ${format.toUpperCase()}:`, error);\r\n      setError(`Failed to download ${format.toUpperCase()} file`);\r\n    } finally {\r\n      setIsDownloading(false);\r\n    }\r\n  };\r\n\r\n  // Handle add form submission\r\n  const handleAddSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    // Validate required fields\r\n    if (!formData.farmerId || !formData.farmerId.trim()) {\r\n      setError('Please enter a farmer ID.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n\r\n    if (!formData.farmerName || !formData.farmerName.trim()) {\r\n      setError('Please enter the farmer name.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n\r\n    if (!formData.societyId) {\r\n      setError('Please select a society for the farmer.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n\r\n    if (!formData.machineId) {\r\n      setError('Please select a machine for the farmer.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n    \r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/farmer', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          ...formData,\r\n          societyId: formData.societyId ? parseInt(formData.societyId) : null,\r\n          bonus: Number(formData.bonus)\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setShowAddForm(false);\r\n        setFormData({\r\n          farmerId: '',\r\n          rfId: '',\r\n          farmerName: '',\r\n          contactNumber: '',\r\n          email: '',\r\n          smsEnabled: 'OFF',\r\n          emailNotificationsEnabled: 'ON',\r\n          bonus: 0,\r\n          address: '',\r\n          bankName: '',\r\n          bankAccountNumber: '',\r\n          ifscCode: '',\r\n          societyId: '',\r\n          machineId: '',\r\n          status: 'active',\r\n          notes: ''\r\n        });\r\n        setSuccess('Farmer created successfully');\r\n        setError('');\r\n        fetchFarmers();\r\n      } else {\r\n        const errorResponse = await response.json();\r\n        const errorMessage = errorResponse.error || errorResponse.message || 'Failed to create farmer';\r\n        \r\n        // Clear previous field errors\r\n        setFieldErrors({});\r\n        \r\n        // Check for specific field errors\r\n        if (errorMessage.toLowerCase().includes('farmer id') && errorMessage.toLowerCase().includes('already exists')) {\r\n          setFieldErrors({ farmerId: 'This Farmer ID already exists' });\r\n        } else if (errorMessage.toLowerCase().includes('farmer name') && errorMessage.toLowerCase().includes('already exists')) {\r\n          setFieldErrors({ farmerName: 'This Farmer name already exists' });\r\n        } else if (errorMessage.toLowerCase().includes('email') && errorMessage.toLowerCase().includes('already exists')) {\r\n          setFieldErrors({ email: 'This email address already exists' });\r\n        } else {\r\n          setError(errorMessage);\r\n        }\r\n        setSuccess('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating farmer:', error);\r\n      setError('Error creating farmer. Please try again.');\r\n      setSuccess('');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle edit form submission\r\n  const handleEditSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedFarmer) return;\r\n\r\n    // Validate required fields\r\n    if (!formData.farmerId || !formData.farmerId.trim()) {\r\n      setError('Please enter a farmer ID.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n\r\n    if (!formData.farmerName || !formData.farmerName.trim()) {\r\n      setError('Please enter the farmer name.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n\r\n    if (!formData.societyId) {\r\n      setError('Please select a society for the farmer.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n\r\n    if (!formData.machineId) {\r\n      setError('Please select a machine for the farmer.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n    \r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/farmer', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          id: selectedFarmer.id,\r\n          ...formData,\r\n          societyId: formData.societyId ? parseInt(formData.societyId) : null,\r\n          bonus: Number(formData.bonus)\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setShowEditForm(false);\r\n        setSelectedFarmer(null);\r\n        setFormData({\r\n          farmerId: '',\r\n          rfId: '',\r\n          farmerName: '',\r\n          contactNumber: '',\r\n          email: '',\r\n          smsEnabled: 'OFF',\r\n          emailNotificationsEnabled: 'ON',\r\n          bonus: 0,\r\n          address: '',\r\n          bankName: '',\r\n          bankAccountNumber: '',\r\n          ifscCode: '',\r\n          societyId: '',\r\n          machineId: '',\r\n          status: 'active',\r\n          notes: ''\r\n        });\r\n        setSuccess('Farmer updated successfully');\r\n        setError('');\r\n        fetchFarmers();\r\n      } else {\r\n        const errorResponse = await response.json();\r\n        const errorMessage = errorResponse.error || errorResponse.message || 'Failed to update farmer';\r\n        \r\n        // Clear previous field errors\r\n        setFieldErrors({});\r\n        \r\n        // Check for specific field errors\r\n        if (errorMessage.toLowerCase().includes('farmer id') && errorMessage.toLowerCase().includes('already exists')) {\r\n          setFieldErrors({ farmerId: 'This Farmer ID already exists' });\r\n        } else if (errorMessage.toLowerCase().includes('farmer name') && errorMessage.toLowerCase().includes('already exists')) {\r\n          setFieldErrors({ farmerName: 'This Farmer name already exists' });\r\n        } else if (errorMessage.toLowerCase().includes('email') && errorMessage.toLowerCase().includes('already exists')) {\r\n          setFieldErrors({ email: 'This email address already exists' });\r\n        } else {\r\n          setError(errorMessage);\r\n        }\r\n        setSuccess('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating farmer:', error);\r\n      setError('Error updating farmer. Please try again.');\r\n      setSuccess('');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle bulk upload\r\n  const handleBulkUpload = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedFile) return;\r\n    \r\n    // Validate required fields\r\n    if (!bulkSocietyId) {\r\n      setError('Please select a default society for bulk upload.');\r\n      setSuccess('');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const text = await selectedFile.text();\r\n      const lines = text.split('\\n').filter(line => line.trim());\r\n      const headers = lines[0].split(',').map(h => h.trim().replace(/\"/g, ''));\r\n      \r\n      const farmers = lines.slice(1).map(line => {\r\n        const values = line.split(',').map(v => v.trim().replace(/\"/g, ''));\r\n        const farmer: Record<string, string | number> = {};\r\n        \r\n        headers.forEach((header, index) => {\r\n          const value = values[index] || '';\r\n          \r\n          // Map CSV headers to our farmer fields\r\n          switch (header.toLowerCase()) {\r\n            case 'id':\r\n            case 'farmer_id':\r\n            case 'farmerid':\r\n              farmer.farmerId = value;\r\n              break;\r\n            case 'rf-id':\r\n            case 'rfid':\r\n            case 'rf_id':\r\n              farmer.rfId = value;\r\n              break;\r\n            case 'name':\r\n            case 'farmer_name':\r\n            case 'farmername':\r\n              farmer.farmerName = value;\r\n              break;\r\n            case 'mobile':\r\n            case 'phone':\r\n            case 'contact':\r\n            case 'contact_number':\r\n              farmer.contactNumber = value;\r\n              break;\r\n            case 'sms':\r\n            case 'sms_enabled':\r\n              farmer.smsEnabled = value.toUpperCase() === 'ON' ? 'ON' : 'OFF';\r\n              break;\r\n            case 'bonus':\r\n              farmer.bonus = parseFloat(value) || 0;\r\n              break;\r\n            case 'address':\r\n              farmer.address = value;\r\n              break;\r\n            case 'bank_name':\r\n            case 'bankname':\r\n              farmer.bankName = value;\r\n              break;\r\n            case 'bank_account_number':\r\n            case 'account_number':\r\n            case 'accountnumber':\r\n              farmer.bankAccountNumber = value;\r\n              break;\r\n            case 'ifsc_code':\r\n            case 'ifsc':\r\n              farmer.ifscCode = value;\r\n              break;\r\n            case 'society_id':\r\n            case 'societyid':\r\n            case 'society':\r\n              const societyId = parseInt(value);\r\n              if (societyId && !isNaN(societyId)) {\r\n                farmer.societyId = societyId;\r\n              }\r\n              break;\r\n            case 'machine-id':\r\n            case 'machine_id':\r\n            case 'machineid':\r\n              const machineId = parseInt(value);\r\n              if (machineId && !isNaN(machineId)) {\r\n                farmer.machineId = machineId;\r\n              }\r\n              break;\r\n          }\r\n        });\r\n\r\n        // Ensure every farmer has a society ID - use CSV value if available, otherwise use default\r\n        if (!farmer.societyId) {\r\n          farmer.societyId = parseInt(bulkSocietyId);\r\n        }\r\n\r\n        return farmer;\r\n      }).filter(farmer => farmer.farmerId && farmer.farmerName);\r\n\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/farmer', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ farmers })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setShowBulkModal(false);\r\n        setSelectedFile(null);\r\n        setBulkSocietyId('');\r\n        setSuccess('Farmers uploaded successfully');\r\n        setError('');\r\n        fetchFarmers();\r\n      } else {\r\n        const data = await response.json();\r\n        setError(data.error || 'Failed to upload farmers');\r\n        setSuccess('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading farmers:', error);\r\n      setError('Error uploading farmers. Please try again.');\r\n      setSuccess('');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Modal control functions\r\n  const openAddModal = () => {\r\n    setFormData({\r\n      farmerId: '',\r\n      rfId: '',\r\n      farmerName: '',\r\n      contactNumber: '',\r\n      email: '',\r\n      smsEnabled: 'OFF',\r\n      emailNotificationsEnabled: 'ON',\r\n      bonus: 0,\r\n      address: '',\r\n      bankName: '',\r\n      bankAccountNumber: '',\r\n      ifscCode: '',\r\n      societyId: '',\r\n      machineId: '',\r\n      status: 'active',\r\n      notes: ''\r\n    });\r\n    setShowAddForm(true);\r\n    setError('');\r\n    setSuccess('');\r\n    setFieldErrors({});\r\n  };\r\n\r\n  const handleEditClick = (farmer: Farmer) => {\r\n    setSelectedFarmer(farmer);\r\n    const societyId = farmer.societyId?.toString() || '';\r\n    setFormData({\r\n      farmerId: farmer.farmerId,\r\n      rfId: farmer.rfId || '',\r\n      farmerName: farmer.farmerName,\r\n      contactNumber: farmer.contactNumber || '',\r\n      email: farmer.email || '',\r\n      smsEnabled: farmer.smsEnabled,\r\n      emailNotificationsEnabled: farmer.emailNotificationsEnabled || 'ON',\r\n      bonus: farmer.bonus,\r\n      address: farmer.address || '',\r\n      bankName: farmer.bankName || '',\r\n      bankAccountNumber: farmer.bankAccountNumber || '',\r\n      ifscCode: farmer.ifscCode || '',\r\n      societyId: societyId,\r\n      machineId: farmer.machineId?.toString() || '',\r\n      status: farmer.status,\r\n      notes: farmer.notes || ''\r\n    });\r\n    \r\n    // Load machines for the farmer's society\r\n    if (societyId) {\r\n      fetchMachinesBySociety(societyId);\r\n    }\r\n    \r\n    setShowEditForm(true);\r\n    setError('');\r\n    setSuccess('');\r\n    setFieldErrors({});\r\n  };\r\n\r\n  const closeAddModal = () => {\r\n    setShowAddForm(false);\r\n    setFormData({\r\n      farmerId: '',\r\n      rfId: '',\r\n      farmerName: '',\r\n      contactNumber: '',\r\n      email: '',\r\n      smsEnabled: 'OFF',\r\n      emailNotificationsEnabled: 'ON',\r\n      bonus: 0,\r\n      address: '',\r\n      bankName: '',\r\n      bankAccountNumber: '',\r\n      ifscCode: '',\r\n      societyId: '',\r\n      machineId: '',\r\n      status: 'active',\r\n      notes: ''\r\n    });\r\n    setError('');\r\n    setSuccess('');\r\n  };\r\n\r\n  const closeEditModal = () => {\r\n    setShowEditForm(false);\r\n    setSelectedFarmer(null);\r\n    setFormData({\r\n      farmerId: '',\r\n      rfId: '',\r\n      farmerName: '',\r\n      contactNumber: '',\r\n      email: '',\r\n      smsEnabled: 'OFF',\r\n      emailNotificationsEnabled: 'ON',\r\n      bonus: 0,\r\n      address: '',\r\n      bankName: '',\r\n      bankAccountNumber: '',\r\n      ifscCode: '',\r\n      societyId: '',\r\n      machineId: '',\r\n      status: 'active',\r\n      notes: ''\r\n    });\r\n    setError('');\r\n    setSuccess('');\r\n  };\r\n\r\n  // Initial data fetch\r\n  useEffect(() => {\r\n    fetchFarmers();\r\n    fetchDairies();\r\n    fetchBmcs();\r\n    fetchSocieties();\r\n    fetchAllMachines();\r\n    fetchPerformanceStats();\r\n  }, [fetchFarmers, fetchPerformanceStats]);\r\n\r\n  // Filter farmers using inline logic that supports array-based filters\r\n  const filteredFarmers = farmers.filter(farmer => {\r\n    // Search query filter\r\n    const searchMatch = searchQuery === '' ||\r\n      farmer.farmerName.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.farmerId.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.contactNumber?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.rfId?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.societyName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.societyIdentifier?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.address?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.bankName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.bankAccountNumber?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.ifscCode?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      farmer.notes?.toLowerCase().includes(searchQuery.toLowerCase());\r\n\r\n    if (!searchMatch) return false;\r\n\r\n    // Status filter\r\n    const statusMatch = statusFilter === 'all' || farmer.status === statusFilter;\r\n    if (!statusMatch) return false;\r\n\r\n    // Get farmer's society, BMC, and dairy\r\n    const farmerSociety = societies.find(s => s.id === farmer.societyId);\r\n    const farmerBmc = farmerSociety?.bmc_id ? bmcs.find(b => b.id === farmerSociety.bmc_id) : null;\r\n    const farmerDairy = farmerBmc?.dairyFarmId ? dairies.find(d => d.id === farmerBmc.dairyFarmId) : null;\r\n\r\n    // Dairy filter\r\n    if (dairyFilter.length > 0) {\r\n      if (!farmerDairy || !dairyFilter.includes(farmerDairy.id.toString())) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // BMC filter\r\n    if (bmcFilter.length > 0) {\r\n      if (!farmerBmc || !bmcFilter.includes(farmerBmc.id.toString())) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Society filter (additional check beyond the utility function)\r\n    if (societyFilter.length > 0) {\r\n      if (!farmer.societyId || !societyFilter.includes(farmer.societyId.toString())) {\r\n        return false;\r\n      }\r\n    }\r\n    \r\n    // Machine filter\r\n    if (machineFilter.length > 0) {\r\n      const farmerMachineId = farmer.machineId?.toString();\r\n      if (!farmerMachineId || !machineFilter.includes(farmerMachineId)) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  // Filter societies to only show those with farmers in the current filtered list\r\n  const availableSocieties = useMemo(() => {\r\n    // Get unique society IDs from farmers based on current status and search filters\r\n    const farmersForSocietyFilter = farmers.filter(farmer => {\r\n      // Search filter\r\n      const searchMatch = searchQuery === '' || \r\n        farmer.farmerName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.farmerId?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.contactNumber?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.rfId?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.societyName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.societyIdentifier?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.address?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.bankName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.bankAccountNumber?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.ifscCode?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.notes?.toLowerCase().includes(searchQuery.toLowerCase());\r\n      if (!searchMatch) return false;\r\n      \r\n      // Status filter\r\n      const statusMatch = statusFilter === 'all' || farmer.status === statusFilter;\r\n      if (!statusMatch) return false;\r\n      \r\n      // Machine filter (but not society filter)\r\n      if (machineFilter.length > 0) {\r\n        const farmerMachineId = farmer.machineId?.toString();\r\n        if (!farmerMachineId || !machineFilter.includes(farmerMachineId)) {\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    });\r\n\r\n    const societyIdsWithFarmers = new Set(\r\n      farmersForSocietyFilter\r\n        .map(f => f.societyId)\r\n        .filter(Boolean)\r\n    );\r\n\r\n    return societies.filter(society => societyIdsWithFarmers.has(society.id));\r\n  }, [farmers, societies, searchQuery, statusFilter, machineFilter]);\r\n\r\n  // Filter machines to only show those with farmers in the current filtered list\r\n  const availableMachines = useMemo(() => {\r\n    // Get unique machine IDs from farmers based on current status, search, and society filters\r\n    const farmersForMachineFilter = farmers.filter(farmer => {\r\n      // Search filter\r\n      const searchMatch = searchQuery === '' || \r\n        farmer.farmerName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.farmerId?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.contactNumber?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.rfId?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.societyName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.societyIdentifier?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.address?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.bankName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.bankAccountNumber?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.ifscCode?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        farmer.notes?.toLowerCase().includes(searchQuery.toLowerCase());\r\n      if (!searchMatch) return false;\r\n      \r\n      // Status filter\r\n      const statusMatch = statusFilter === 'all' || farmer.status === statusFilter;\r\n      if (!statusMatch) return false;\r\n      \r\n      // Society filter (but not machine filter)\r\n      if (societyFilter.length > 0) {\r\n        if (!societyFilter.includes(farmer.societyId?.toString() || '')) {\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    });\r\n\r\n    const machineIdsWithFarmers = new Set(\r\n      farmersForMachineFilter\r\n        .map(f => f.machineId)\r\n        .filter(Boolean)\r\n    );\r\n\r\n    return machines.filter(machine => machineIdsWithFarmers.has(machine.id));\r\n  }, [farmers, machines, searchQuery, statusFilter, societyFilter]);\r\n\r\n  return (\r\n    <>\r\n    {/* Loading Snackbar for All Operations */}\r\n    <LoadingSnackbar\r\n      isVisible={isSubmitting || isUpdatingStatus || isBulkUpdatingStatus || isDeletingBulk}\r\n      message={\r\n        isSubmitting ? (selectedFarmer ? t.farmerManagement.updatingFarmer : t.farmerManagement.addingFarmer) :\r\n        isDeletingBulk ? t.farmerManagement.deletingFarmers :\r\n        isBulkUpdatingStatus ? t.farmerManagement.updatingFarmers : \r\n        t.farmerManagement.updatingStatus\r\n      }\r\n      submessage={t.farmerManagement.pleaseWait}\r\n      progress={isBulkUpdatingStatus || isDeletingBulk ? updateProgress : undefined}\r\n      showProgress={isBulkUpdatingStatus || isDeletingBulk}\r\n    />\r\n    \r\n    <div className=\"p-3 xs:p-4 sm:p-6 lg:p-8 space-y-3 xs:space-y-4 sm:space-y-6 lg:pb-8\">\r\n      {/* Page Header */}\r\n      <ManagementPageHeader\r\n        title={t.farmerManagement.title}\r\n        subtitle={t.farmerManagement.subtitle}\r\n        icon={<Users className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />}\r\n        onRefresh={fetchFarmers}\r\n        hasData={filteredFarmers.length > 0}\r\n      />\r\n\r\n      {/* Success/Error Messages */}\r\n      <StatusMessage \r\n        success={success} \r\n        error={error}\r\n      />\r\n\r\n      {/* Performance Stats Cards */}\r\n      {(performanceStats.topCollector || performanceStats.bestFat || performanceStats.topRevenue) && (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4\">\r\n          {performanceStats.topCollector && (\r\n            <div \r\n              onClick={() => handleCardClick('quantity')}\r\n              className=\"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-4 rounded-lg border border-green-200 dark:border-green-700 hover:shadow-lg transition-shadow cursor-pointer\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-sm font-semibold text-green-900 dark:text-green-100\">Top Collector (30d)</h3>\r\n                <Droplets className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n              </div>\r\n              <p className=\"text-lg font-bold text-green-800 dark:text-green-200 truncate\">{performanceStats.topCollector.farmer.farmerName}</p>\r\n              <p className=\"text-xs text-green-700 dark:text-green-300 truncate\">ID: {performanceStats.topCollector.farmer.farmerId}</p>\r\n              {performanceStats.topCollector.farmer.societyName && (\r\n                <p className=\"text-xs text-green-600 dark:text-green-400 truncate\">{performanceStats.topCollector.farmer.societyName}</p>\r\n              )}\r\n              <p className=\"text-sm font-semibold text-green-600 dark:text-green-400 mt-1\">{performanceStats.topCollector.totalQuantity.toFixed(2)} L</p>\r\n            </div>\r\n          )}\r\n          \r\n          {performanceStats.topRevenue && (\r\n            <div \r\n              onClick={() => handleCardClick('revenue')}\r\n              className=\"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-shadow cursor-pointer\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-sm font-semibold text-blue-900 dark:text-blue-100\">Top Earner (30d)</h3>\r\n                <TrendingUp className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n              </div>\r\n              <p className=\"text-lg font-bold text-blue-800 dark:text-blue-200 truncate\">{performanceStats.topRevenue.farmer.farmerName}</p>\r\n              <p className=\"text-xs text-blue-700 dark:text-blue-300 truncate\">ID: {performanceStats.topRevenue.farmer.farmerId}</p>\r\n              {performanceStats.topRevenue.farmer.societyName && (\r\n                <p className=\"text-xs text-blue-600 dark:text-blue-400 truncate\">{performanceStats.topRevenue.farmer.societyName}</p>\r\n              )}\r\n              <p className=\"text-sm font-semibold text-blue-600 dark:text-blue-400 mt-1\">â‚¹{performanceStats.topRevenue.totalAmount.toFixed(2)}</p>\r\n            </div>\r\n          )}\r\n          \r\n          {performanceStats.bestFat && (\r\n            <div \r\n              onClick={() => handleCardClick('fat')}\r\n              className=\"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-4 rounded-lg border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-shadow cursor-pointer\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-sm font-semibold text-purple-900 dark:text-purple-100\">Best Fat (30d)</h3>\r\n                <Award className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\r\n              </div>\r\n              <p className=\"text-lg font-bold text-purple-800 dark:text-purple-200 truncate\">{performanceStats.bestFat.farmer.farmerName}</p>\r\n              <p className=\"text-xs text-purple-700 dark:text-purple-300 truncate\">ID: {performanceStats.bestFat.farmer.farmerId}</p>\r\n              {performanceStats.bestFat.farmer.societyName && (\r\n                <p className=\"text-xs text-purple-600 dark:text-purple-400 truncate\">{performanceStats.bestFat.farmer.societyName}</p>\r\n              )}\r\n              <p className=\"text-sm font-semibold text-purple-600 dark:text-purple-400 mt-1\">{performanceStats.bestFat.avgFat.toFixed(2)}% Fat</p>\r\n            </div>\r\n          )}\r\n          \r\n          {performanceStats.bestSnf && (\r\n            <div \r\n              onClick={() => handleCardClick('snf')}\r\n              className=\"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 p-4 rounded-lg border border-orange-200 dark:border-orange-700 hover:shadow-lg transition-shadow cursor-pointer\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-sm font-semibold text-orange-900 dark:text-orange-100\">Best SNF (30d)</h3>\r\n                <BarChart3 className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\r\n              </div>\r\n              <p className=\"text-lg font-bold text-orange-800 dark:text-orange-200 truncate\">{performanceStats.bestSnf.farmer.farmerName}</p>\r\n              <p className=\"text-xs text-orange-700 dark:text-orange-300 truncate\">ID: {performanceStats.bestSnf.farmer.farmerId}</p>\r\n              {performanceStats.bestSnf.farmer.societyName && (\r\n                <p className=\"text-xs text-orange-600 dark:text-orange-400 truncate\">{performanceStats.bestSnf.farmer.societyName}</p>\r\n              )}\r\n              <p className=\"text-sm font-semibold text-orange-600 dark:text-orange-400 mt-1\">{performanceStats.bestSnf.avgSnf.toFixed(2)}% SNF</p>\r\n            </div>\r\n          )}\r\n          \r\n          {performanceStats.mostActive && (\r\n            <div \r\n              onClick={() => handleCardClick('collections')}\r\n              className=\"bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 p-4 rounded-lg border border-pink-200 dark:border-pink-700 hover:shadow-lg transition-shadow cursor-pointer\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-sm font-semibold text-pink-900 dark:text-pink-100\">Most Active (30d)</h3>\r\n                <Users className=\"w-5 h-5 text-pink-600 dark:text-pink-400\" />\r\n              </div>\r\n              <p className=\"text-lg font-bold text-pink-800 dark:text-pink-200 truncate\">{performanceStats.mostActive.farmer.farmerName}</p>\r\n              <p className=\"text-xs text-pink-700 dark:text-pink-300 truncate\">ID: {performanceStats.mostActive.farmer.farmerId}</p>\r\n              {performanceStats.mostActive.farmer.societyName && (\r\n                <p className=\"text-xs text-pink-600 dark:text-pink-400 truncate\">{performanceStats.mostActive.farmer.societyName}</p>\r\n              )}\r\n              <p className=\"text-sm font-semibold text-pink-600 dark:text-pink-400 mt-1\">{performanceStats.mostActive.totalCollections} Collections</p>\r\n            </div>\r\n          )}\r\n          \r\n          {performanceStats.bestQuality && (\r\n            <div \r\n              onClick={() => handleCardClick('rate')}\r\n              className=\"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-700 hover:shadow-lg transition-shadow cursor-pointer\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-sm font-semibold text-indigo-900 dark:text-indigo-100\">Best Rate (30d)</h3>\r\n                <Award className=\"w-5 h-5 text-indigo-600 dark:text-indigo-400\" />\r\n              </div>\r\n              <p className=\"text-lg font-bold text-indigo-800 dark:text-indigo-200 truncate\">{performanceStats.bestQuality.farmer.farmerName}</p>\r\n              <p className=\"text-xs text-indigo-700 dark:text-indigo-300 truncate\">ID: {performanceStats.bestQuality.farmer.farmerId}</p>\r\n              {performanceStats.bestQuality.farmer.societyName && (\r\n                <p className=\"text-xs text-indigo-600 dark:text-indigo-400 truncate\">{performanceStats.bestQuality.farmer.societyName}</p>\r\n              )}\r\n              <p className=\"text-sm font-semibold text-indigo-600 dark:text-indigo-400 mt-1\">â‚¹{performanceStats.bestQuality.avgRate.toFixed(2)}/L</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Status Stats Cards */}\r\n      <StatsGrid\r\n        allItems={farmers}\r\n        filteredItems={filteredFarmers}\r\n        hasFilters={statusFilter !== 'all' || dairyFilter.length > 0 || bmcFilter.length > 0 || societyFilter.length > 0 || machineFilter.length > 0}\r\n        onStatusFilterChange={(status) => setStatusFilter(status)}\r\n        currentStatusFilter={statusFilter}\r\n      />\r\n\r\n      {/* Filter Controls */}\r\n      <FilterDropdown\r\n        statusFilter={statusFilter}\r\n        onStatusChange={(value) => setStatusFilter(value as typeof statusFilter)}\r\n        dairyFilter={dairyFilter}\r\n        onDairyChange={(value) => setDairyFilter(Array.isArray(value) ? value : [value])}\r\n        bmcFilter={bmcFilter}\r\n        onBmcChange={(value) => setBmcFilter(Array.isArray(value) ? value : [value])}\r\n        societyFilter={societyFilter}\r\n        onSocietyChange={(value) => setSocietyFilter(Array.isArray(value) ? value : [value])}\r\n        machineFilter={machineFilter}\r\n        onMachineChange={(value) => setMachineFilter(Array.isArray(value) ? value : [value])}\r\n        dairies={dairies}\r\n        bmcs={bmcs}\r\n        societies={availableSocieties}\r\n        machines={availableMachines}\r\n        filteredCount={filteredFarmers.length}\r\n        totalCount={farmers.length}\r\n        searchQuery={searchQuery}\r\n        onSearchChange={setSearchQuery}\r\n        icon={<Users className=\"w-5 h-5\" />}\r\n        hideMainFilterButton={true}\r\n      />\r\n\r\n      {/* Select All and View Mode Controls */}\r\n      {filteredFarmers.length > 0 && (\r\n        <div className=\"flex flex-col xs:flex-row items-start xs:items-center justify-between gap-3 bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg border border-gray-200 dark:border-gray-700\">\r\n          {/* Select All Control - Left Side */}\r\n          <label className=\"flex items-center space-x-3 cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={selectAll}\r\n              onChange={handleSelectAll}\r\n              className=\"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n            />\r\n            <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              {t.farmerManagement.selectAll} {filteredFarmers.length} {filteredFarmers.length === 1 ? t.roles.farmer : t.farmerManagement.farmers}\r\n              {(statusFilter !== 'all' || dairyFilter.length > 0 || bmcFilter.length > 0 || societyFilter.length > 0 || machineFilter.length > 0) && ` (${t.common.filter.toLowerCase()})`}\r\n            </span>\r\n          </label>\r\n\r\n          {/* View Mode Toggle - Right Side */}\r\n          <div className=\"flex items-center gap-3\">\r\n            {/* View Mode Toggle */}\r\n            <ViewModeToggle\r\n              viewMode={viewMode}\r\n              onViewModeChange={setViewMode}\r\n              folderLabel=\"Folder View\"\r\n              listLabel=\"Grid View\"\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Farmers Grid */}\r\n      {loading ? (\r\n        <div className=\"flex items-center justify-center py-12 sm:py-20\">\r\n          <FlowerSpinner size={40} />\r\n        </div>\r\n      ) : filteredFarmers.length > 0 ? (\r\n        viewMode === 'folder' ? (\r\n          // Folder View - Grouped by Society\r\n          <div className=\"space-y-4\">\r\n            {(() => {\r\n              // Group farmers by society\r\n              const farmersBySociety = filteredFarmers.reduce((acc, farmer) => {\r\n                const societyId = farmer.societyId || 0;\r\n                const societyName = farmer.societyName || 'Unassigned';\r\n                const societyIdentifier = farmer.societyIdentifier || 'N/A';\r\n                \r\n                if (!acc[societyId]) {\r\n                  acc[societyId] = {\r\n                    id: societyId,\r\n                    name: societyName,\r\n                    identifier: societyIdentifier,\r\n                    farmers: []\r\n                  };\r\n                }\r\n                acc[societyId].farmers.push(farmer);\r\n                return acc;\r\n              }, {} as Record<number, {id: number; name: string; identifier: string; farmers: Farmer[]}>);\r\n\r\n              const societyGroups = Object.values(farmersBySociety).sort((a, b) => \r\n                a.name.localeCompare(b.name)\r\n              );\r\n\r\n              return societyGroups.map(society => {\r\n                const isExpanded = expandedSocieties.has(society.id);\r\n                const isSocietySelected = selectedSocieties.has(society.id);\r\n                const farmerCount = society.farmers.length;\r\n                const activeCount = society.farmers.filter(f => f.status === 'active').length;\r\n                const inactiveCount = society.farmers.filter(f => f.status === 'inactive').length;\r\n                const farmerIds = society.farmers.map(f => f.id);\r\n\r\n                return (\r\n                  <div key={society.id} className={`relative bg-white dark:bg-gray-800 rounded-lg border-2 transition-colors hover:z-10 ${\r\n                    isSocietySelected \r\n                      ? 'border-blue-500 dark:border-blue-400' \r\n                      : 'border-gray-200 dark:border-gray-700'\r\n                  }`}>\r\n                    {/* Society Folder Header */}\r\n                    <div className=\"flex items-center p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\">\r\n                      {/* Society Selection Checkbox */}\r\n                      <div \r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleSocietySelection(society.id, farmerIds);\r\n                        }}\r\n                        className=\"flex items-center mr-3 cursor-pointer\"\r\n                      >\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={isSocietySelected}\r\n                          onChange={() => {}} // Handled by parent div\r\n                          className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer\"\r\n                        />\r\n                      </div>\r\n\r\n                      {/* Expandable Header */}\r\n                      <button\r\n                        onClick={() => toggleSocietyExpansion(society.id)}\r\n                        className=\"flex-1 flex items-center justify-between\"\r\n                      >\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          {isExpanded ? (\r\n                            <ChevronDown className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                          ) : (\r\n                            <ChevronRight className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                          )}\r\n                          {isExpanded ? (\r\n                            <FolderOpen className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                          ) : (\r\n                            <Folder className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                          )}\r\n                          <div className=\"text-left\">\r\n                            <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-white\">\r\n                              {society.name}\r\n                          </h3>\r\n                          <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400\">\r\n                            ID: {society.identifier}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-4\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <div className=\"text-right\">\r\n                            <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n                              <span className=\"flex items-center space-x-1\">\r\n                                <div className=\"w-2 h-2 rounded-full bg-green-500\"></div>\r\n                                <span>{activeCount}</span>\r\n                              </span>\r\n                              <span className=\"flex items-center space-x-1\">\r\n                                <div className=\"w-2 h-2 rounded-full bg-red-500\"></div>\r\n                                <span>{inactiveCount}</span>\r\n                              </span>\r\n                            </div>\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                              {farmerCount} {farmerCount === 1 ? 'farmer' : 'farmers'}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n\r\n                    {/* Farmers Grid - Shown when expanded */}\r\n                    {isExpanded && (\r\n                      <div className=\"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/30\">\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                          {society.farmers.map((farmer) => (\r\n                            <div key={farmer.id} className=\"relative hover:z-20\">\r\n                            <ItemCard\r\n                              id={farmer.id}\r\n                              name={farmer.farmerName}\r\n                              identifier={`ID: ${farmer.farmerId}`}\r\n                              status={farmer.status}\r\n                              icon={<Users className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400\" />}\r\n                              details={[\r\n                                ...(farmer.contactNumber ? [{ icon: <Phone className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: farmer.contactNumber }] : []),\r\n                                ...(farmer.email ? [{ icon: <Mail className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: farmer.email }] : []),\r\n                                ...(farmer.machineName || farmer.machineType ? [{ \r\n                                  icon: <Settings className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, \r\n                                  text: farmer.machineType && farmer.machineName \r\n                                    ? `${farmer.machineType} (${farmer.machineName})`\r\n                                    : farmer.machineName || farmer.machineType || 'Machine Not Assigned',\r\n                                  highlight: farmer.machineName ? false : undefined\r\n                                }] : [{ \r\n                                  icon: <Settings className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400\" />, \r\n                                  text: 'No Machine Assigned',\r\n                                  className: 'text-gray-500 dark:text-gray-400'\r\n                                }]),\r\n                                { icon: <UserCheck className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: `Bonus: ${farmer.bonus}` }\r\n                              ]}\r\n                              onStatusChange={(newStatus) => handleStatusChange(farmer.id, newStatus)}\r\n                              onView={() => router.push(`/admin/farmer/${farmer.id}`)}\r\n                              onEdit={() => handleEditClick(farmer)}\r\n                              onDelete={() => handleDelete(farmer.id)}\r\n                              viewText=\"View Details\"\r\n                              selectable={true}\r\n                              selected={selectedFarmers.has(farmer.id)}\r\n                              onSelect={() => handleSelectFarmer(farmer.id)}\r\n                              searchQuery={searchQuery}\r\n                            />\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              });\r\n            })()}\r\n          </div>\r\n        ) : (\r\n          // List View - Traditional flat grid\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {filteredFarmers.map(farmer => (\r\n              <ItemCard\r\n                key={farmer.id}\r\n                id={farmer.id}\r\n                name={farmer.farmerName}\r\n                identifier={`ID: ${farmer.farmerId}`}\r\n                status={farmer.status}\r\n                icon={<Users className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400\" />}\r\n                details={[\r\n                  ...(farmer.contactNumber ? [{ icon: <Phone className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: farmer.contactNumber }] : []),\r\n                  ...(farmer.email ? [{ icon: <Mail className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: farmer.email }] : []),\r\n                  ...(farmer.societyName ? [{ \r\n                    icon: <Building2 className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, \r\n                    text: farmer.societyIdentifier \r\n                      ? `${farmer.societyName} (${farmer.societyIdentifier})` \r\n                      : farmer.societyName,\r\n                    highlight: true\r\n                  }] : []),\r\n                  ...(farmer.machineName || farmer.machineType ? [{ \r\n                    icon: <Settings className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, \r\n                    text: farmer.machineType && farmer.machineName \r\n                      ? `${farmer.machineType} (${farmer.machineName})`\r\n                      : farmer.machineName || farmer.machineType || 'Machine Not Assigned',\r\n                    highlight: farmer.machineName ? false : undefined\r\n                  }] : [{ \r\n                    icon: <Settings className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400\" />, \r\n                    text: 'No Machine Assigned',\r\n                    className: 'text-gray-500 dark:text-gray-400'\r\n                  }]),\r\n                  { icon: <UserCheck className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: `Bonus: ${farmer.bonus}` }\r\n                ]}\r\n                onStatusChange={(newStatus) => handleStatusChange(farmer.id, newStatus)}\r\n                onView={() => router.push(`/admin/farmer/${farmer.id}`)}\r\n                onEdit={() => handleEditClick(farmer)}\r\n                onDelete={() => handleDelete(farmer.id)}\r\n                viewText=\"View Details\"\r\n                selectable={true}\r\n                selected={selectedFarmers.has(farmer.id)}\r\n                onSelect={() => handleSelectFarmer(farmer.id)}\r\n                searchQuery={searchQuery}\r\n              />\r\n            ))}\r\n          </div>\r\n        )\r\n      ) : (\r\n        <EmptyState\r\n          icon={<Users className=\"w-12 h-12 sm:w-16 sm:h-16 text-gray-400\" />}\r\n          title={farmers.length === 0 ? t.farmerManagement.noFarmersFound : t.farmerManagement.noMatchingFarmers}\r\n          message={farmers.length === 0 \r\n            ? t.farmerManagement.getStartedMessage\r\n            : searchQuery \r\n              ? `${t.farmerManagement.noMatchingFarmers}. ${t.farmerManagement.tryChangingFilters}`\r\n              : t.farmerManagement.tryChangingFilters\r\n          }\r\n          actionText={farmers.length === 0 ? t.farmerManagement.addFarmer : undefined}\r\n          onAction={farmers.length === 0 ? openAddModal : undefined}\r\n          showAction={farmers.length === 0}\r\n        />\r\n      )}\r\n      </div>\r\n\r\n      {/* Add Farmer Modal */}\r\n      <FormModal\r\n        isOpen={showAddForm}\r\n        onClose={closeAddModal}\r\n        title={t.farmerManagement.addFarmer}\r\n      >\r\n        <form onSubmit={handleAddSubmit} className=\"space-y-4 sm:space-y-6\">\r\n          <FormGrid>\r\n          {/* Mandatory Fields First */}\r\n          <FormInput\r\n            label={t.farmerManagement.farmerId}\r\n            type=\"text\"\r\n            value={formData.farmerId}\r\n            onChange={(value) => {\r\n              // Allow only numbers\r\n              const numericValue = value.replace(/[^0-9]/g, '');\r\n              setFormData({ ...formData, farmerId: numericValue });\r\n            }}\r\n            placeholder={t.farmerManagement.enterFarmerId}\r\n            required\r\n            error={fieldErrors.farmerId}\r\n          />\r\n          <FormInput\r\n            label={t.farmerManagement.farmerName}\r\n            type=\"text\"\r\n            value={formData.farmerName}\r\n            onChange={(value) => setFormData({ ...formData, farmerName: value })}\r\n            placeholder={t.farmerManagement.enterFarmerName}\r\n            required\r\n            error={fieldErrors.farmerName}\r\n          />\r\n          <FormSelect\r\n            label={t.farmerManagement.society}\r\n            value={formData.societyId}\r\n            onChange={(value) => {\r\n              setFormData({ ...formData, societyId: value, machineId: '' });\r\n              fetchMachinesBySociety(value);\r\n            }}\r\n            options={societies.map(society => ({\r\n              value: society.id.toString(),\r\n              label: `${society.name} (${society.society_id})`\r\n            }))}\r\n            placeholder={t.farmerManagement.selectSociety}\r\n            required\r\n            colSpan={1}\r\n          />\r\n          \r\n          {/* Machine Selection - Same row as society */}\r\n          <FormSelect\r\n            label={t.farmerManagement.machine}\r\n            value={formData.machineId}\r\n            onChange={(value) => setFormData({ ...formData, machineId: value })}\r\n            options={machines.map(machine => ({\r\n              value: machine.id.toString(),\r\n              label: `${machine.machineId} - ${machine.machineType}`\r\n            }))}\r\n            placeholder={machinesLoading ? t.common.loading : machines.length > 0 ? t.farmerManagement.selectMachine : t.farmerManagement.unassigned}\r\n            disabled={machinesLoading}\r\n            required\r\n            colSpan={1}\r\n            className=\"sm:max-w-[320px]\"\r\n          />\r\n          \r\n          {/* Show message if society selected but no machines */}\r\n          {formData.societyId && !machinesLoading && machines.length === 0 && (\r\n            <div className=\"col-span-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg\">\r\n              <p className=\"text-sm text-yellow-700 dark:text-yellow-300\">\r\n                No machines found for this society. You can <strong>add machines first</strong> from the Machine Management section, or proceed without assigning a machine.\r\n              </p>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Contact Information */}\r\n          <FormInput\r\n            label={t.farmerManagement.contactNumber}\r\n            type=\"tel\"\r\n            value={formData.contactNumber}\r\n            onChange={(value) => {\r\n              const formatted = formatPhoneInput(value);\r\n              setFormData({ ...formData, contactNumber: formatted });\r\n            }}\r\n            onBlur={() => {\r\n              const error = validatePhoneOnBlur(formData.contactNumber);\r\n              if (error) {\r\n                setFieldErrors(prev => ({ ...prev, contactNumber: error }));\r\n              } else {\r\n                const { contactNumber: _removed, ...rest } = fieldErrors;\r\n                setFieldErrors(rest);\r\n              }\r\n            }}\r\n            placeholder={t.farmerManagement.enterContactNumber}\r\n            error={fieldErrors.contactNumber}\r\n          />\r\n          <FormInput\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            value={formData.email}\r\n            onChange={(value) => setFormData({ ...formData, email: value })}\r\n            onBlur={() => {\r\n              const error = validateEmailOnBlur(formData.email);\r\n              if (error) {\r\n                setFieldErrors(prev => ({ ...prev, email: error }));\r\n              } else {\r\n                const { email: _removed, ...rest } = fieldErrors;\r\n                setFieldErrors(rest);\r\n              }\r\n            }}\r\n            placeholder=\"Enter Email Address\"\r\n            error={fieldErrors.email}\r\n          />\r\n          <FormSelect\r\n            label={t.farmerManagement.smsEnabled}\r\n            value={formData.smsEnabled}\r\n            onChange={(value) => setFormData({ ...formData, smsEnabled: value })}\r\n            options={[\r\n              { value: 'OFF', label: 'OFF' },\r\n              { value: 'ON', label: 'ON' }\r\n            ]}\r\n            placeholder={t.farmerManagement.selectStatus}\r\n          />\r\n          <FormSelect\r\n            label=\"Email Notifications\"\r\n            value={formData.emailNotificationsEnabled}\r\n            onChange={(value) => setFormData({ ...formData, emailNotificationsEnabled: value })}\r\n            options={[\r\n              { value: 'OFF', label: 'OFF' },\r\n              { value: 'ON', label: 'ON' }\r\n            ]}\r\n            placeholder=\"Select Option\"\r\n          />\r\n          \r\n          {/* Optional Fields */}\r\n          <FormInput\r\n            label={t.farmerManagement.rfId}\r\n            type=\"text\"\r\n            value={formData.rfId}\r\n            onChange={(value) => setFormData({ ...formData, rfId: value })}\r\n            placeholder={t.farmerManagement.enterRfId}\r\n          />\r\n          <FormInput\r\n            label={t.farmerManagement.bonus}\r\n            type=\"number\"\r\n            value={formData.bonus}\r\n            onChange={(value) => setFormData({ ...formData, bonus: Number(value) })}\r\n            placeholder={t.farmerManagement.enterBonus}\r\n          />\r\n          <FormSelect\r\n            label={t.farmerManagement.status}\r\n            value={formData.status}\r\n            onChange={(value) => setFormData({ ...formData, status: value })}\r\n            options={[\r\n              { value: 'active', label: t.farmerManagement.active },\r\n              { value: 'inactive', label: t.farmerManagement.inactive },\r\n              { value: 'suspended', label: t.farmerManagement.suspended },\r\n              { value: 'maintenance', label: t.farmerManagement.maintenance }\r\n            ]}\r\n            placeholder={t.farmerManagement.selectStatus}\r\n          />\r\n          \r\n          {/* Banking Information */}\r\n          <FormInput\r\n            label={t.farmerManagement.bankName}\r\n            type=\"text\"\r\n            value={formData.bankName}\r\n            onChange={(value) => setFormData({ ...formData, bankName: value })}\r\n            placeholder={t.farmerManagement.enterBankName}\r\n          />\r\n          <FormInput\r\n            label={t.farmerManagement.bankAccountNumber}\r\n            type=\"number\"\r\n            value={formData.bankAccountNumber}\r\n            onChange={(value) => {\r\n              // Only allow numbers\r\n              const numericValue = value.replace(/\\D/g, '');\r\n              setFormData({ ...formData, bankAccountNumber: numericValue });\r\n            }}\r\n            placeholder={t.farmerManagement.enterAccountNumber}\r\n            pattern=\"[0-9]*\"\r\n            inputMode=\"numeric\"\r\n          />\r\n          <FormInput\r\n            label={t.farmerManagement.ifscCode}\r\n            type=\"text\"\r\n            value={formData.ifscCode}\r\n            onChange={(value) => setFormData({ ...formData, ifscCode: value })}\r\n            placeholder={t.farmerManagement.enterIfscCode}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.address}\r\n            type=\"text\"\r\n            value={formData.address}\r\n            onChange={(value) => setFormData({ ...formData, address: value })}\r\n            placeholder={t.farmerManagement.enterAddress}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.notes}\r\n            type=\"text\"\r\n            value={formData.notes}\r\n            onChange={(value) => setFormData({ ...formData, notes: value })}\r\n            placeholder={t.farmerManagement.enterNotes}\r\n          />\r\n        </FormGrid>\r\n          \r\n          <FormActions\r\n            onCancel={closeAddModal}\r\n            submitText={t.farmerManagement.createFarmer}\r\n            isLoading={isSubmitting}\r\n            isSubmitDisabled={\r\n              !formData.societyId || \r\n              !formData.machineId || \r\n              !formData.farmerId || \r\n              !formData.farmerName ||\r\n              Object.values(fieldErrors).some(error => error !== '')\r\n            }\r\n            submitType=\"submit\"\r\n          />\r\n        </form>\r\n      </FormModal>\r\n\r\n      {/* Edit Farmer Modal */}\r\n      <FormModal\r\n        isOpen={showEditForm && !!selectedFarmer}\r\n        onClose={closeEditModal}\r\n        title={t.farmerManagement.editFarmer}\r\n      >\r\n        <form onSubmit={handleEditSubmit} className=\"space-y-4 sm:space-y-6\">\r\n          <FormGrid>\r\n          {/* Mandatory Fields First */}\r\n          <FormInput\r\n            label={t.farmerManagement.farmerId}\r\n            type=\"text\"\r\n            value={formData.farmerId}\r\n            onChange={(value) => setFormData({ ...formData, farmerId: value })}\r\n            placeholder={t.farmerManagement.enterUniqueFarmerId}\r\n            required\r\n            readOnly\r\n            colSpan={1}\r\n            error={fieldErrors.farmerId}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.farmerName}\r\n            type=\"text\"\r\n            value={formData.farmerName}\r\n            onChange={(value) => setFormData({ ...formData, farmerName: value })}\r\n            placeholder={t.farmerManagement.enterFarmerFullName}\r\n            required\r\n            colSpan={1}\r\n            error={fieldErrors.farmerName}\r\n          />\r\n          \r\n          <FormSelect\r\n            label={t.farmerManagement.society}\r\n            value={formData.societyId}\r\n            onChange={(value) => {\r\n              setFormData({ ...formData, societyId: value, machineId: '' });\r\n              fetchMachinesBySociety(value.toString());\r\n            }}\r\n            options={societies.map(society => ({ value: society.id, label: `${society.name} (${society.society_id})` }))}\r\n            placeholder={t.farmerManagement.selectSociety}\r\n            required\r\n            colSpan={1}\r\n          />\r\n          \r\n          {/* Machine Selection - Same row as society */}\r\n          <FormSelect\r\n            label={t.farmerManagement.machine}\r\n            value={formData.machineId}\r\n            onChange={(value) => setFormData({ ...formData, machineId: value })}\r\n            options={machines.map(machine => ({\r\n              value: machine.id.toString(),\r\n              label: `${machine.machineId} - ${machine.machineType}`\r\n            }))}\r\n            placeholder={machinesLoading ? t.common.loading : machines.length > 0 ? t.farmerManagement.selectMachine : t.farmerManagement.noMachinesAvailable}\r\n            disabled={machinesLoading}\r\n            required\r\n            colSpan={1}\r\n            className=\"sm:max-w-[320px]\"\r\n          />\r\n\r\n          {/* Optional Fields */}\r\n          <FormInput\r\n            label={t.farmerManagement.rfId}\r\n            type=\"text\"\r\n            value={formData.rfId}\r\n            onChange={(value) => setFormData({ ...formData, rfId: value })}\r\n            placeholder={t.farmerManagement.enterRfIdOptional}\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.contactNumber}\r\n            type=\"tel\"\r\n            value={formData.contactNumber}\r\n            onChange={(value) => {\r\n              const formatted = formatPhoneInput(value);\r\n              setFormData({ ...formData, contactNumber: formatted });\r\n              if (fieldErrors.contactNumber) {\r\n                setFieldErrors({ ...fieldErrors, contactNumber: '' });\r\n              }\r\n            }}\r\n            onBlur={() => {\r\n              const validationError = validatePhoneOnBlur(formData.contactNumber);\r\n              if (validationError) {\r\n                setFieldErrors({ ...fieldErrors, contactNumber: validationError });\r\n              }\r\n            }}\r\n            error={fieldErrors.contactNumber}\r\n            placeholder={t.farmerManagement.enterMobileNumber}\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormInput\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            value={formData.email}\r\n            onChange={(value) => {\r\n              setFormData({ ...formData, email: value });\r\n              if (fieldErrors.email) {\r\n                setFieldErrors({ ...fieldErrors, email: '' });\r\n              }\r\n            }}\r\n            onBlur={() => {\r\n              const validationError = validateEmailOnBlur(formData.email);\r\n              if (validationError) {\r\n                setFieldErrors({ ...fieldErrors, email: validationError });\r\n              }\r\n            }}\r\n            error={fieldErrors.email}\r\n            placeholder=\"Enter email address\"\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormSelect\r\n            label={t.farmerManagement.smsEnabled}\r\n            value={formData.smsEnabled}\r\n            onChange={(value) => setFormData({ ...formData, smsEnabled: value })}\r\n            options={[\r\n              { value: 'OFF', label: 'OFF' },\r\n              { value: 'ON', label: 'ON' }\r\n            ]}\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormSelect\r\n            label=\"Email Notifications\"\r\n            value={formData.emailNotificationsEnabled}\r\n            onChange={(value) => setFormData({ ...formData, emailNotificationsEnabled: value })}\r\n            options={[\r\n              { value: 'OFF', label: 'OFF' },\r\n              { value: 'ON', label: 'ON' }\r\n            ]}\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.bonus}\r\n            type=\"number\"\r\n            value={formData.bonus}\r\n            onChange={(value) => setFormData({ ...formData, bonus: parseFloat(value) || 0 })}\r\n            placeholder={t.farmerManagement.enterBonus}\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.address}\r\n            type=\"text\"\r\n            value={formData.address}\r\n            onChange={(value) => setFormData({ ...formData, address: value })}\r\n            placeholder={t.farmerManagement.enterFarmerAddress}\r\n            colSpan={2}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.bankName}\r\n            type=\"text\"\r\n            value={formData.bankName}\r\n            onChange={(value) => setFormData({ ...formData, bankName: value })}\r\n            placeholder={t.farmerManagement.enterBankName}\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.bankAccountNumber}\r\n            type=\"number\"\r\n            value={formData.bankAccountNumber}\r\n            onChange={(value) => {\r\n              // Only allow numbers\r\n              const numericValue = value.replace(/\\D/g, '');\r\n              setFormData({ ...formData, bankAccountNumber: numericValue });\r\n            }}\r\n            placeholder={t.farmerManagement.enterAccountNumber}\r\n            pattern=\"[0-9]*\"\r\n            inputMode=\"numeric\"\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.ifscCode}\r\n            type=\"text\"\r\n            value={formData.ifscCode}\r\n            onChange={(value) => setFormData({ ...formData, ifscCode: value.toUpperCase() })}\r\n            placeholder={t.farmerManagement.enterIfscCode}\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormSelect\r\n            label={t.farmerManagement.status}\r\n            value={formData.status}\r\n            onChange={(value) => setFormData({ ...formData, status: value })}\r\n            options={[\r\n              { value: 'active', label: t.farmerManagement.active },\r\n              { value: 'inactive', label: t.farmerManagement.inactive },\r\n              { value: 'suspended', label: t.farmerManagement.suspended },\r\n              { value: 'maintenance', label: t.farmerManagement.maintenance }\r\n            ]}\r\n            colSpan={1}\r\n          />\r\n          \r\n          <FormInput\r\n            label={t.farmerManagement.notes}\r\n            type=\"text\"\r\n            value={formData.notes}\r\n            onChange={(value) => setFormData({ ...formData, notes: value })}\r\n            placeholder={t.farmerManagement.enterNotes}\r\n            colSpan={2}\r\n          />\r\n          </FormGrid>\r\n          \r\n          <FormActions\r\n            onCancel={closeEditModal}\r\n            submitText={t.farmerManagement.updateFarmer}\r\n            isLoading={isSubmitting}\r\n            isSubmitDisabled={\r\n              !formData.societyId || \r\n              !formData.machineId || \r\n              !formData.farmerId || \r\n              !formData.farmerName ||\r\n              Object.values(fieldErrors).some(error => error !== '')\r\n            }\r\n            submitType=\"submit\"\r\n          />\r\n        </form>\r\n      </FormModal>\r\n\r\n      {/* Bulk Upload Modal */}\r\n      <FormModal\r\n        isOpen={showBulkModal}\r\n        onClose={() => {\r\n          setShowBulkModal(false);\r\n          setBulkSocietyId('');\r\n          setSelectedFile(null);\r\n        }}\r\n        title=\"Bulk Upload Farmers\"\r\n      >\r\n        <form onSubmit={handleBulkUpload} className=\"space-y-4\">\r\n          <FormSelect\r\n            label=\"Default Society\"\r\n            value={bulkSocietyId}\r\n            onChange={(value) => setBulkSocietyId(value)}\r\n            options={[\r\n              ...societies.map(society => ({\r\n                value: society.id.toString(),\r\n                label: `${society.name} (${society.society_id})`\r\n              }))\r\n            ]}\r\n            placeholder=\"Select Society\"\r\n            required\r\n          />\r\n          <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            <p>This society will be assigned to all farmers that don&apos;t have a society_id in the CSV</p>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              CSV File\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              accept=\".csv\"\r\n              onChange={(e) => setSelectedFile(e.target.files?.[0] || null)}\r\n              className=\"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            <p className=\"font-medium mb-2\">CSV Format Requirements:</p>\r\n            <ul className=\"list-disc list-inside space-y-1\">\r\n              <li>Headers: ID, RF-ID, NAME, MOBILE, SMS, BONUS (minimum)</li>\r\n              <li>Optional: ADDRESS, BANK_NAME, ACCOUNT_NUMBER, IFSC_CODE, SOCIETY_ID, MACHINE-ID</li>\r\n              <li>SMS values: ON or OFF</li>\r\n              <li>MACHINE-ID should be a valid machine ID (optional)</li>\r\n              <li>All farmers must have a society - either from CSV SOCIETY_ID or the default above</li>\r\n              <li>File should be UTF-8 encoded</li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <FormActions\r\n            onCancel={() => setShowBulkModal(false)}\r\n            submitText=\"Upload Farmers\"\r\n            isLoading={isSubmitting}\r\n            isSubmitDisabled={!selectedFile || !bulkSocietyId}\r\n            submitType=\"submit\"\r\n          />\r\n        </form>\r\n      </FormModal>\r\n\r\n      {/* Bulk Delete Confirmation Modal */}\r\n      <BulkDeleteConfirmModal\r\n        isOpen={showDeleteConfirm}\r\n        onClose={() => setShowDeleteConfirm(false)}\r\n        onConfirm={handleBulkDelete}\r\n        itemCount={selectedFarmers.size}\r\n        itemType=\"farmer\"\r\n        hasFilters={statusFilter !== 'all' || dairyFilter.length > 0 || bmcFilter.length > 0 || societyFilter.length > 0}\r\n      />\r\n\r\n      {/* CSV Upload Modal */}\r\n      <CSVUploadModal\r\n        isOpen={showCSVUpload}\r\n        onClose={() => setShowCSVUpload(false)}\r\n        societies={societies}\r\n        onUploadComplete={() => {\r\n          fetchFarmers(); // Refresh the farmer list\r\n          setSuccess('CSV upload completed successfully!');\r\n        }}\r\n      />\r\n\r\n      {/* Column Selection Modal */}\r\n      <ColumnSelectionModal\r\n        isOpen={showColumnSelection}\r\n        onClose={() => setShowColumnSelection(false)}\r\n        onDownload={handleDownloadWithColumns}\r\n        availableColumns={getFarmerColumns().map(col => ({\r\n          key: col.key,\r\n          label: col.header,\r\n          required: ['farmerId'].includes(col.key) // Make farmer ID required\r\n        }))}\r\n        defaultColumns={['farmerId', 'rfId', 'farmerName', 'contactNumber', 'smsEnabled', 'bonus']}\r\n        title=\"Select Columns for Farmer Download\"\r\n        isDownloading={isDownloading}\r\n      />\r\n\r\n      {/* Floating Bulk Actions Toolbar */}\r\n      <BulkActionsToolbar\r\n        selectedCount={selectedFarmers.size}\r\n        totalCount={farmers.length}\r\n        onBulkDelete={() => setShowDeleteConfirm(true)}\r\n        onBulkDownload={handleBulkDownload}\r\n        onBulkStatusUpdate={handleBulkStatusUpdate}\r\n        onClearSelection={() => {\r\n          setSelectedFarmers(new Set());\r\n          setSelectedSocieties(new Set());\r\n          setSelectAll(false);\r\n        }}\r\n        itemType=\"farmer\"\r\n        showStatusUpdate={true}\r\n        currentBulkStatus={bulkStatus}\r\n        onBulkStatusChange={(status) => setBulkStatus(status as typeof bulkStatus)}\r\n      />\r\n\r\n      {/* Single Farmer Delete Confirmation */}\r\n      <ConfirmDeleteModal\r\n        isOpen={showSingleDeleteConfirm}\r\n        onClose={() => {\r\n          setShowSingleDeleteConfirm(false);\r\n          setFarmerToDelete(null);\r\n        }}\r\n        onConfirm={confirmDeleteFarmer}\r\n        itemName={farmerToDelete?.farmerId || ''}\r\n        title=\"Delete Farmer\"\r\n        message=\"Are you sure you want to permanently delete farmer\"\r\n        confirmText={t.common.delete}\r\n        cancelText={t.common.cancel}\r\n      />\r\n\r\n      {/* Floating Action Button */}\r\n      <FloatingActionButton\r\n        actions={[\r\n          {\r\n            icon: <Plus className=\"w-6 h-6 text-white\" />,\r\n            label: t.farmerManagement.addFarmer,\r\n            onClick: openAddModal,\r\n            color: 'bg-gradient-to-br from-emerald-500 to-emerald-600'\r\n          },\r\n          {\r\n            icon: <Upload className=\"w-6 h-6 text-white\" />,\r\n            label: t.farmerManagement.uploadCSV,\r\n            onClick: () => setShowCSVUpload(true),\r\n            color: 'bg-gradient-to-br from-blue-500 to-blue-600'\r\n          }\r\n        ]}\r\n      />\r\n\r\n      {/* Graph Modal */}\r\n      {showGraphModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <BarChart3 className=\"w-6 h-6 text-blue-600 dark:text-blue-400\" />\r\n                <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n                  {graphMetric === 'quantity' && 'Top Collectors - Last 30 Days'}\r\n                  {graphMetric === 'revenue' && 'Top Earners - Last 30 Days'}\r\n                  {graphMetric === 'fat' && 'Best Fat Percentage - Last 30 Days'}\r\n                  {graphMetric === 'snf' && 'Best SNF Percentage - Last 30 Days'}\r\n                  {graphMetric === 'collections' && 'Most Active Farmers - Last 30 Days'}\r\n                  {graphMetric === 'rate' && 'Best Rates - Last 30 Days'}\r\n                </h2>\r\n              </div>\r\n              <button\r\n                onClick={() => setShowGraphModal(false)}\r\n                className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Graph Content */}\r\n            <div className=\"flex-1 overflow-y-auto p-6\">\r\n              {(() => {\r\n                const getLineColor = () => {\r\n                  switch (graphMetric) {\r\n                    case 'quantity': return '#10b981';\r\n                    case 'revenue': return '#3b82f6';\r\n                    case 'fat': return '#8b5cf6';\r\n                    case 'snf': return '#f59e0b';\r\n                    case 'collections': return '#ec4899';\r\n                    case 'rate': return '#6366f1';\r\n                    default: return '#6b7280';\r\n                  }\r\n                };\r\n\r\n                const getYAxisLabel = () => {\r\n                  switch (graphMetric) {\r\n                    case 'quantity': return 'Quantity (L)';\r\n                    case 'revenue': return 'Revenue (â‚¹)';\r\n                    case 'fat': return 'Fat %';\r\n                    case 'snf': return 'SNF %';\r\n                    case 'collections': return 'Collections';\r\n                    case 'rate': return 'Rate (â‚¹/L)';\r\n                    default: return 'Value';\r\n                  }\r\n                };\r\n\r\n                const CustomTooltip = ({ active, payload }: {\r\n                  active?: boolean;\r\n                  payload?: Array<{\r\n                    payload: { name: string; farmerId: string; societyName: string; value: number };\r\n                  }>;\r\n                }) => {\r\n                  if (active && payload && payload.length) {\r\n                    const data = payload[0].payload;\r\n                    return (\r\n                      <div className=\"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700\">\r\n                        <p className=\"font-bold text-gray-900 dark:text-white mb-1\">{data.name}</p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-1\">ID: {data.farmerId}</p>\r\n                        {data.societyName && (\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">{data.societyName}</p>\r\n                        )}\r\n                        <p className=\"font-semibold\" style={{ color: getLineColor() }}>\r\n                          {graphMetric === 'revenue' && 'â‚¹'}\r\n                          {data.value.toFixed(2)}\r\n                          {graphMetric === 'fat' || graphMetric === 'snf' ? '%' : ''}\r\n                          {graphMetric === 'quantity' ? ' L' : ''}\r\n                          {graphMetric === 'rate' ? '/L' : ''}\r\n                        </p>\r\n                      </div>\r\n                    );\r\n                  }\r\n                  return null;\r\n                };\r\n\r\n                return graphData.length > 0 ? (\r\n                  <div className=\"w-full h-[500px]\">\r\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                      <LineChart data={graphData} margin={{ top: 5, right: 30, left: 20, bottom: 80 }}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" className=\"dark:stroke-gray-700\" />\r\n                        <XAxis \r\n                          dataKey=\"name\" \r\n                          angle={-45}\r\n                          textAnchor=\"end\"\r\n                          height={100}\r\n                          interval={0}\r\n                          tick={{ fontSize: 11 }}\r\n                          stroke=\"#6b7280\"\r\n                          label={{ \r\n                            value: 'Farmer Name', \r\n                            position: 'insideBottom', \r\n                            offset: -5,\r\n                            style: { fontSize: 13, fontWeight: 500, fill: '#9ca3af' }\r\n                          }}\r\n                        />\r\n                        <YAxis \r\n                          label={{ \r\n                            value: getYAxisLabel(), \r\n                            angle: -90, \r\n                            position: 'insideLeft',\r\n                            style: { fontSize: 14, fontWeight: 600 }\r\n                          }}\r\n                          tick={{ fontSize: 12 }}\r\n                          stroke=\"#6b7280\"\r\n                        />\r\n                        <Tooltip content={<CustomTooltip />} />\r\n                        <Line \r\n                          type=\"monotone\" \r\n                          dataKey=\"value\" \r\n                          stroke={getLineColor()} \r\n                          strokeWidth={3}\r\n                          dot={{ fill: getLineColor(), r: 5 }}\r\n                          activeDot={{ r: 7 }}\r\n                          name={getYAxisLabel()}\r\n                        />\r\n                      </LineChart>\r\n                    </ResponsiveContainer>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-12\">\r\n                    <BarChart3 className=\"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4\" />\r\n                    <p className=\"text-gray-500 dark:text-gray-400\">No data available for the last 30 days</p>\r\n                  </div>\r\n                );\r\n              })()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// Wrapper component with Suspense boundary for useSearchParams\r\nconst FarmerManagementWrapper = () => {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500\"></div>\r\n      </div>\r\n    }>\r\n      <FarmerManagement />\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default FarmerManagementWrapper;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;;;AAzCA;;;;;;;;;;;;AA6CA,MAAM,mBAAmB;;IACvB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,qJAAW;IACzB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAwG,EAAE;IAClJ,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAuD,EAAE;IAC/F,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAA2E,EAAE;IAC7G,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAA8D;IAC9G,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACvD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAC/D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAC/D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAS;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAgB;IACpE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAc;IAC9D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAS;IAC3D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAA0B,CAAC;IAEzE,2BAA2B;IAC3B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAc,IAAI;IACxE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAsD;IAC1G,MAAM,CAAC,yBAAyB,2BAA2B,GAAG,IAAA,yKAAQ,EAAC;IACvE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IACrD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,yKAAQ,EAAC;IAC/D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,yKAAQ,EAAC;IACjE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IAErD,oBAAoB;IACpB,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAc,IAAI;IAC5E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAoB;IAC5D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAc,IAAI;IAE5E,oBAAoB;IACpB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAkE;IAChH,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAEpD,2BAA2B;IAC3B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAsD;IAClG,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAOrD;QACD,cAAc;QACd,SAAS;QACT,SAAS;QACT,YAAY;QACZ,YAAY;QACZ,aAAa;IACf;IAEA,aAAa;IACb,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC,UAAU;QACV,MAAM;QACN,YAAY;QACZ,eAAe;QACf,OAAO;QACP,YAAY;QACZ,2BAA2B;QAC3B,OAAO;QACP,SAAS;QACT,UAAU;QACV,mBAAmB;QACnB,UAAU;QACV,WAAW;QACX,WAAW;QACX,QAAQ;QACR,OAAO;IACT;IAIA,yCAAyC;IACzC,iCAAiC;IACjC,IAAA,0KAAS;sCAAC;YACR,IAAI,WAAW,OAAO;gBACpB,MAAM,QAAQ;wDAAW;wBACvB,WAAW;wBACX,SAAS;oBACX;uDAAG;gBACH;kDAAO,IAAM,aAAa;;YAC5B;QACF;qCAAG;QAAC;QAAS;KAAM;IAEnB,8CAA8C;IAC9C,IAAA,0KAAS;sCAAC;YACR,MAAM;iEAAqB,CAAC;oBAC1B,MAAM,cAAc;oBACpB,MAAM,QAAQ,YAAY,MAAM,EAAE,SAAS;oBAC3C,eAAe;gBACjB;;YAEA,OAAO,gBAAgB,CAAC,gBAAgB;YACxC;8CAAO;oBACL,OAAO,mBAAmB,CAAC,gBAAgB;gBAC7C;;QACF;qCAAG,EAAE;IAEL,mDAAmD;IACnD,IAAA,0KAAS;sCAAC;YACR,IAAI,cAAc,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG,GAAG;gBACxD,+EAA+E;gBAC/E,MAAM,gBAAgB,cAAc,MAAM;gEAAC,CAAA;wBACzC,MAAM,UAAU,SAAS,IAAI;gFAAC,CAAA,IAAK,EAAE,EAAE,CAAC,QAAQ,OAAO;;wBACvD,OAAO,WAAW,cAAc,QAAQ,CAAC,QAAQ,SAAS,EAAE,cAAc;oBAC5E;;gBACA,IAAI,cAAc,MAAM,KAAK,cAAc,MAAM,EAAE;oBACjD,iBAAiB;gBACnB;YACF;QACF;qCAAG;QAAC;QAAe;QAAe;KAAS;IAE3C,sDAAsD;IACtD,IAAA,0KAAS;sCAAC;YACR,MAAM,YAAY,aAAa,GAAG,CAAC;YACnC,MAAM,cAAc,aAAa,GAAG,CAAC;YACrC,MAAM,mBAAmB,aAAa,GAAG,CAAC;YAC1C,MAAM,iBAAiB,aAAa,GAAG,CAAC;YAExC,IAAI,aAAa,CAAC,cAAc,QAAQ,CAAC,YAAY;gBACnD,iBAAiB;oBAAC;iBAAU;gBAE5B,yCAAyC;gBACzC,IAAI,aAAa;oBACf,WAAW,CAAC,gBAAgB,EAAE,mBAAmB,cAAc;gBACjE;YACF;YAEA,IAAI,oBAAoB,CAAC,YAAY,QAAQ,CAAC,mBAAmB;gBAC/D,eAAe;oBAAC;iBAAiB;gBACjC,WAAW;YACb;YAEA,IAAI,kBAAkB,CAAC,UAAU,QAAQ,CAAC,iBAAiB;gBACzD,aAAa;oBAAC;iBAAe;gBAC7B,WAAW;YACb;QACA,uDAAuD;QACzD;qCAAG,EAAE,GAAG,oBAAoB;IAE5B,MAAM,eAAe,IAAA,4KAAW;sDAAC;YAC/B,IAAI;gBACF,WAAW;gBACX,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,IAAI,CAAC,OAAO;oBACV,OAAO,IAAI,CAAC;oBACZ;gBACF;gBAEA,MAAM,WAAW,MAAM,MAAM,oBAAoB;oBAC/C,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAC9C;gBAEA,IAAI,SAAS,MAAM,KAAK,KAAK;oBAC3B,aAAa,UAAU,CAAC;oBACxB,OAAO,IAAI,CAAC;oBACZ;gBACF;gBAEA,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,WAAW,KAAK,IAAI,IAAI,EAAE;gBAC5B;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C,SAAU;gBACR,WAAW;YACb;QACF;qDAAG;QAAC;KAAO;IAEX,MAAM,wBAAwB,IAAA,4KAAW;+DAAC;YACxC,IAAI;gBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,MAAM,WAAW,MAAM,MAAM,qCAAqC;oBAChE,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAC9C;gBAEA,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,oBAAoB,KAAK,KAAK,IAAI;wBAChC,cAAc;wBACd,SAAS;wBACT,SAAS;wBACT,YAAY;wBACZ,YAAY;wBACZ,aAAa;oBACf;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,qCAAqC;YACrD;QACF;8DAAG,EAAE;IAEL,MAAM,iBAAiB,IAAA,4KAAW;wDAAC,OAAO;YACxC,IAAI;gBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,MAAM,WAAW,MAAM,MAAM,CAAC,gDAAgD,CAAC,EAAE;oBAC/E,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAC9C;gBAEA,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,MAAM,aAAa,KAAK,OAAO,IAAI,EAAE;oBAErC,MAAM,YAAY,WAAW,GAAG;kFAAC,CAAC,SAAgB,CAAC;gCACjD,MAAM,OAAO,WAAW;gCACxB,UAAU,OAAO,SAAS;gCAC1B,aAAa,OAAO,YAAY;gCAChC,OAAO,WAAW,aAAc,WAAW,OAAO,cAAc,KAAK,IAC9D,WAAW,YAAa,WAAW,OAAO,YAAY,KAAK,IAC3D,WAAW,QAAS,WAAW,OAAO,OAAO,KAAK,IAClD,WAAW,QAAS,WAAW,OAAO,OAAO,KAAK,IAClD,WAAW,gBAAiB,SAAS,OAAO,iBAAiB,KAAK,IACjE,WAAW,OAAO,QAAQ,KAAK;4BACzC,CAAC;iFAAG,IAAI;kFAAC,CAAC,GAAQ,IAAW,EAAE,KAAK,GAAG,EAAE,KAAK;iFAAE,KAAK,CAAC,GAAG,KAAK,iBAAiB;oBAE/E,aAAa;gBACf;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,aAAa,EAAE;YACjB;QACF;uDAAG,EAAE;IAEL,MAAM,kBAAkB,CAAC;QACvB,eAAe;QACf,eAAe;QACf,kBAAkB;IACpB;IAEA,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,qBAAqB;gBAChD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,aAAa,KAAK,IAAI,IAAI,EAAE;YAC9B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C;IACF;IAEA,gBAAgB;IAChB,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,WAAW,KAAK,IAAI,IAAI,EAAE;YAC5B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,aAAa;IACb,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,iBAAiB;gBAC5C,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,QAAQ,KAAK,IAAI,IAAI,EAAE;YACzB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,qBAAqB;IACrB,MAAM,mBAAmB;QACvB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,qBAAqB;gBAChD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,YAAY,KAAK,IAAI,IAAI,EAAE;YAC7B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,YAAY,EAAE;QAChB;IACF;IAEA,+BAA+B;IAC/B,MAAM,yBAAyB,OAAO;QACpC,IAAI,CAAC,WAAW;YACd,YAAY,EAAE;YACd;QACF;QAEA,IAAI;YACF,mBAAmB;YACnB,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,CAAC,uCAAuC,EAAE,WAAW,EAAE;gBAClF,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,YAAY,KAAK,IAAI,IAAI,EAAE;YAC7B,OAAO;gBACL,YAAY,EAAE;YAChB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,YAAY,EAAE;QAChB,SAAU;YACR,mBAAmB;QACrB;IACF;IAEA,uBAAuB;IACvB,MAAM,qBAAqB,OAAO,IAAY;QAC5C,oBAAoB;QACpB,kBAAkB;QAClB,IAAI;YACF,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAC1C,IAAI,CAAC,QAAQ;YAEb,kBAAkB;YAClB,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,oBAAoB;gBAC/C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,IAAI,OAAO,EAAE;oBACb,UAAU,OAAO,QAAQ;oBACzB,MAAM,OAAO,IAAI;oBACjB,YAAY,OAAO,UAAU;oBAC7B,eAAe,OAAO,aAAa;oBACnC,YAAY,OAAO,UAAU;oBAC7B,2BAA2B,OAAO,yBAAyB,IAAI;oBAC/D,OAAO,OAAO,KAAK;oBACnB,SAAS,OAAO,OAAO;oBACvB,UAAU,OAAO,QAAQ;oBACzB,mBAAmB,OAAO,iBAAiB;oBAC3C,UAAU,OAAO,QAAQ;oBACzB,WAAW,OAAO,SAAS;oBAC3B,WAAW,OAAO,SAAS;oBAC3B,QAAQ;oBACR,OAAO,OAAO,KAAK;gBACrB;YACF;YAEA,kBAAkB;YAClB,IAAI,SAAS,EAAE,EAAE;gBACf,WAAW,CAAA,OACT,KAAK,GAAG,CAAC,CAAA,IAAM,EAAE,EAAE,KAAK,KAAK;4BAAE,GAAG,CAAC;4BAAE,QAAQ;wBAA8B,IAAI;gBAEjF,kBAAkB;gBAClB,WAAW;gBACX,SAAS;YACX,OAAO;gBACL,SAAS;gBACT,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS;YACT,WAAW;QACb,SAAU;YACR,oBAAoB;QACtB;IACF;IAEA,6CAA6C;IAC7C,MAAM,eAAe,CAAC;QACpB,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAC1C,IAAI,QAAQ;YACV,kBAAkB;gBAAE,IAAI,OAAO,EAAE;gBAAE,MAAM,OAAO,UAAU;gBAAE,UAAU,OAAO,QAAQ;YAAC;YACtF,2BAA2B;QAC7B;IACF;IAEA,iCAAiC;IACjC,MAAM,sBAAsB;QAC1B,IAAI,CAAC,gBAAgB;QAErB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,CAAC,oBAAoB,EAAE,eAAe,EAAE,EAAE,EAAE;gBACvE,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;YACF;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,WAAW,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,eAAe,EAAE;gBAC9D,WAAW,EAAE,gBAAgB,CAAC,mBAAmB,IAAI;gBACrD,SAAS;YACX,OAAO;gBACL,SAAS,EAAE,gBAAgB,CAAC,WAAW,IAAI;gBAC3C,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS,EAAE,gBAAgB,CAAC,WAAW,IAAI;YAC3C,WAAW;QACb,SAAU;YACR,2BAA2B;YAC3B,kBAAkB;QACpB;IACF;IAEA,qBAAqB;IACrB,MAAM,qBAAqB,CAAC;QAC1B,mBAAmB,CAAA;YACjB,MAAM,cAAc,IAAI,IAAI;YAC5B,MAAM,gBAAgB,YAAY,GAAG,CAAC;YAEtC,IAAI,eAAe;gBACjB,YAAY,MAAM,CAAC;gBAEnB,+CAA+C;gBAC/C,aAAa;gBAEb,iDAAiD;gBACjD,MAAM,SAAS,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBAClD,IAAI,UAAU,OAAO,SAAS,EAAE;oBAC9B,MAAM,YAAY,OAAO,SAAS;oBAClC,MAAM,iBAAiB,gBAAgB,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK;oBACnE,MAAM,4BAA4B,eAAe,KAAK,CAAC,CAAA,IACrD,EAAE,EAAE,KAAK,WAAW,QAAQ,YAAY,GAAG,CAAC,EAAE,EAAE;oBAGlD,8EAA8E;oBAC9E,IAAI,CAAC,2BAA2B;wBAC9B,qBAAqB,CAAA;4BACnB,MAAM,mBAAmB,IAAI,IAAI;4BACjC,iBAAiB,MAAM,CAAC;4BACxB,OAAO;wBACT;oBACF;gBACF;YACF,OAAO;gBACL,YAAY,GAAG,CAAC;gBAEhB,iDAAiD;gBACjD,MAAM,SAAS,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBAClD,IAAI,UAAU,OAAO,SAAS,EAAE;oBAC9B,MAAM,YAAY,OAAO,SAAS;oBAClC,MAAM,iBAAiB,gBAAgB,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK;oBACnE,MAAM,4BAA4B,eAAe,KAAK,CAAC,CAAA,IACrD,EAAE,EAAE,KAAK,WAAW,OAAO,YAAY,GAAG,CAAC,EAAE,EAAE;oBAGjD,4EAA4E;oBAC5E,IAAI,2BAA2B;wBAC7B,qBAAqB,CAAA;4BACnB,MAAM,mBAAmB,IAAI,IAAI;4BACjC,iBAAiB,GAAG,CAAC;4BACrB,OAAO;wBACT;oBACF;gBACF;gBAEA,iDAAiD;gBACjD,MAAM,iBAAiB,IAAI,IAAI,gBAAgB,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE;gBAC5D,MAAM,cAAc,MAAM,IAAI,CAAC,gBAAgB,KAAK,CAAC,CAAA,KACnD,OAAO,WAAW,OAAO,YAAY,GAAG,CAAC;gBAG3C,IAAI,aAAa;oBACf,aAAa;gBACf;YACF;YAEA,OAAO;QACT;IACF;IAEA,kCAAkC;IAClC,MAAM,yBAAyB,CAAC;QAC9B,qBAAqB,CAAA;YACnB,MAAM,cAAc,IAAI,IAAI;YAC5B,IAAI,YAAY,GAAG,CAAC,YAAY;gBAC9B,YAAY,MAAM,CAAC;YACrB,OAAO;gBACL,YAAY,GAAG,CAAC;YAClB;YACA,OAAO;QACT;IACF;IAEA,2BAA2B;IAC3B,MAAM,yBAAyB,CAAC,WAAmB;QACjD,qBAAqB,CAAA;YACnB,MAAM,cAAc,IAAI,IAAI;YAC5B,IAAI,YAAY,GAAG,CAAC,YAAY;gBAC9B,uCAAuC;gBACvC,YAAY,MAAM,CAAC;gBACnB,mBAAmB,CAAA;oBACjB,MAAM,iBAAiB,IAAI,IAAI;oBAC/B,UAAU,OAAO,CAAC,CAAA,KAAM,eAAe,MAAM,CAAC;oBAE9C,qCAAqC;oBACrC,yDAAyD;oBACzD,aAAa;oBAEb,OAAO;gBACT;YACF,OAAO;gBACL,qCAAqC;gBACrC,YAAY,GAAG,CAAC;gBAChB,mBAAmB,CAAA;oBACjB,MAAM,iBAAiB,IAAI,IAAI;oBAC/B,UAAU,OAAO,CAAC,CAAA,KAAM,eAAe,GAAG,CAAC;oBAE3C,iDAAiD;oBACjD,MAAM,iBAAiB,IAAI,IAAI,gBAAgB,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE;oBAC5D,MAAM,cAAc,MAAM,IAAI,CAAC,gBAAgB,KAAK,CAAC,CAAA,KAAM,eAAe,GAAG,CAAC;oBAC9E,IAAI,aAAa;wBACf,aAAa;oBACf;oBAEA,OAAO;gBACT;YACF;YACA,OAAO;QACT;IACF;IAEA,MAAM,kBAAkB;QACtB,IAAI,WAAW;YACb,mBAAmB,IAAI;YACvB,qBAAqB,IAAI;YACzB,aAAa;QACf,OAAO;YACL,6CAA6C;YAC7C,mBAAmB,IAAI,IAAI,gBAAgB,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE;YAExD,mEAAmE;YACnE,MAAM,mBAAmB,gBAAgB,MAAM,CAAC,CAAC,KAAK;gBACpD,MAAM,YAAY,OAAO,SAAS,IAAI;gBACtC,IAAI,CAAC,IAAI,QAAQ,CAAC,YAAY;oBAC5B,IAAI,IAAI,CAAC;gBACX;gBACA,OAAO;YACT,GAAG,EAAE;YACL,qBAAqB,IAAI,IAAI;YAE7B,aAAa;QACf;IACF;IAEA,8EAA8E;IAC9E,IAAA,0KAAS;sCAAC;YACR,IAAI,gBAAgB,IAAI,GAAG,GAAG;gBAC5B,+DAA+D;gBAC/D,MAAM,2BAA2B,QAAQ,MAAM;2EAAC,CAAA;wBAC9C,MAAM,cAAc,iBAAiB,SAAS,OAAO,MAAM,KAAK;wBAChE,MAAM,eAAe,cAAc,MAAM,KAAK,KAAK,cAAc,QAAQ,CAAC,OAAO,SAAS,EAAE,cAAc;wBAC1G,MAAM,eAAe,cAAc,MAAM,KAAK,KAC5C,cAAc,QAAQ,CAAC,OAAO,SAAS,EAAE,cAAc;wBACzD,MAAM,cAAc,gBAAgB,MAClC,OAAO,UAAU,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW,OAChE,OAAO,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW,OAC9D,OAAO,aAAa,EAAE,cAAc,SAAS,YAAY,WAAW,OACpE,OAAO,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW,OAC3D,OAAO,WAAW,EAAE,cAAc,SAAS,YAAY,WAAW,OAClE,OAAO,iBAAiB,EAAE,cAAc,SAAS,YAAY,WAAW,OACxE,OAAO,OAAO,EAAE,cAAc,SAAS,YAAY,WAAW,OAC9D,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,iBAAiB,EAAE,cAAc,SAAS,YAAY,WAAW,OACxE,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,KAAK,EAAE,cAAc,SAAS,YAAY,WAAW;wBAC9D,OAAO,eAAe,gBAAgB,gBAAgB;oBACxD;;gBAEA,qEAAqE;gBACrE,MAAM,mBAAmB,IAAI,IAAI,yBAAyB,GAAG;kDAAC,CAAA,IAAK,EAAE,EAAE;;gBACvE,MAAM,mBAAmB,IAAI,IAC3B,MAAM,IAAI,CAAC,iBAAiB,MAAM;kDAAC,CAAA,KAAM,iBAAiB,GAAG,CAAC;;gBAGhE,IAAI,iBAAiB,IAAI,KAAK,gBAAgB,IAAI,EAAE;oBAClD,mBAAmB;oBACnB,aAAa;oBAEb,gEAAgE;oBAChE,MAAM,oBAAoB,IAAI,IAAI,yBAAyB,GAAG;sDAAC,CAAA,IAAK,EAAE,SAAS;qDAAE,MAAM,CAAC;oBACxF,MAAM,0BAA0B,IAAI;oBAEpC,kBAAkB,OAAO;sDAAC,CAAA;4BACxB,MAAM,iBAAiB,yBAAyB,MAAM;6EAAC,CAAA,IAAK,EAAE,SAAS,KAAK;;4BAC5E,MAAM,4BAA4B,eAAe,KAAK;wFAAC,CAAA,IAAK,iBAAiB,GAAG,CAAC,EAAE,EAAE;;4BACrF,IAAI,6BAA6B,eAAe,MAAM,GAAG,GAAG;gCAC1D,wBAAwB,GAAG,CAAC;4BAC9B;wBACF;;oBAEA,qBAAqB;gBACvB;YACF,OAAO;gBACL,aAAa;gBACb,qBAAqB,IAAI;YAC3B;QACF;qCAAG;QAAC;QAAc;QAAe;QAAe;QAAa;QAAS;KAAgB;IAEtF,MAAM,mBAAmB;QACvB,IAAI,gBAAgB,IAAI,KAAK,GAAG;QAEhC,oEAAoE;QACpE,qBAAqB;QACrB,kBAAkB;QAClB,kBAAkB;QAElB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,kBAAkB;YAElB,MAAM,MAAM,MAAM,IAAI,CAAC;YACvB,kBAAkB;YAElB,MAAM,WAAW,MAAM,MAAM,CAAC,qBAAqB,EAAE,mBAAmB,KAAK,SAAS,CAAC,OAAO,EAAE;gBAC9F,QAAQ;gBACR,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,kBAAkB;YAElB,IAAI,SAAS,EAAE,EAAE;gBACf,kBAAkB;gBAClB,MAAM,gBAAgB,mBAAmB;gBACzC,kBAAkB;gBAClB,mBAAmB,IAAI;gBACvB,aAAa;gBACb,WAAW,CAAC,qBAAqB,EAAE,IAAI,MAAM,CAAC,UAAU,EAAE,AAAC,iBAAiB,SAAS,YAAY,MAAM,GAAG,KAAK,UAAU,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG,IAAK,2BAA2B,IAAI;gBAC9N,iBAAiB,EAAE;gBACnB,SAAS;gBACT,kBAAkB;YACpB,OAAO;gBACL,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,SAAS,KAAK,OAAO,IAAI;gBACzB,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,SAAS;YACT,WAAW;QACb,SAAU;YACR,kBAAkB;YAClB,kBAAkB;QACpB;IACF;IAEA,4BAA4B;IAC5B,MAAM,yBAAyB,OAAO;QACpC,IAAI,gBAAgB,IAAI,KAAK,GAAG;QAEhC,MAAM,iBAAiB,aAAa;QACpC,wBAAwB;QACxB,kBAAkB;QAElB,IAAI;YACF,yBAAyB;YACzB,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,kBAAkB;YAElB,mCAAmC;YACnC,MAAM,YAAY,MAAM,IAAI,CAAC;YAC7B,MAAM,eAAe,UAAU,MAAM;YACrC,kBAAkB;YAElB,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,aAAa,oBAAoB,EAAE,gBAAgB;YAEnF,mDAAmD;YACnD,kBAAkB;YAClB,MAAM,WAAW,MAAM,MAAM,oBAAoB;gBAC/C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,kBAAkB;oBAClB,WAAW;oBACX,QAAQ;gBACV;YACF;YAEA,kBAAkB;YAElB,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;YACrC;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAClC,MAAM,eAAe,OAAO,IAAI,EAAE,WAAW;YAE7C,6BAA6B;YAC7B,kBAAkB;YAClB,MAAM;YAEN,0BAA0B;YAC1B,kBAAkB;YAClB,mBAAmB,IAAI;YACvB,qBAAqB,IAAI;YACzB,aAAa;YAEb,QAAQ,GAAG,CAAC,CAAC,uBAAuB,EAAE,aAAa,QAAQ,CAAC;YAE5D,WACE,CAAC,gCAAgC,EAAE,eAAe,MAAM,EAAE,aAAa,UAAU,EAC/E,AAAC,iBAAiB,SAAS,YAAY,MAAM,GAAG,KAAK,UAAU,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG,IAAK,2BAA2B,IACpI;YAEJ,SAAS;QAEX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,kBAAkB;YAClB,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAClD,WAAW;QACb,SAAU;YACR,wBAAwB;QAC1B;IACF;IAEA,4CAA4C;IAC5C,MAAM,qBAAqB;QACzB,IAAI,gBAAgB,IAAI,KAAK,GAAG;YAC9B,SAAS;YACT;QACF;QACA;IACF;IAEA,wCAAwC;IACxC,MAAM,4BAA4B;QAChC,uBAAuB;IACzB;IAEA,wCAAwC;IACxC,MAAM,4BAA4B,OAAO,iBAA2B;QAClE,iBAAiB;QACjB,IAAI;YACF,mFAAmF;YACnF,4DAA4D;YAC5D,MAAM,qBAAqB,gBAAgB,IAAI,GAAG,IAC9C,gBAAgB,MAAM,CAAC,CAAA,SAAU,gBAAgB,GAAG,CAAC,OAAO,EAAE,KAC9D;YAEJ,MAAM,oBAAoB,mBAAmB,GAAG,CAAC,CAAA,SAAU,CAAC;oBAC1D,UAAU,OAAO,QAAQ;oBACzB,MAAM,OAAO,IAAI;oBACjB,YAAY,OAAO,UAAU;oBAC7B,eAAe,OAAO,aAAa;oBACnC,OAAO,OAAO,aAAa;oBAC3B,WAAW,OAAO,SAAS;oBAC3B,SAAS,OAAO,OAAO;oBACvB,OAAO,OAAO,KAAK;oBACnB,QAAQ,OAAO,MAAM;oBACrB,YAAY,OAAO,UAAU,KAAK;oBAClC,OAAO,OAAO,KAAK;oBACnB,UAAU,OAAO,QAAQ;oBACzB,mBAAmB,OAAO,iBAAiB;oBAC3C,UAAU,OAAO,QAAQ;gBAC3B,CAAC;YAED,MAAM,gBAAgB,UAAU,GAAG,CAAC,CAAA,UAAW,CAAC;oBAC9C,IAAI,QAAQ,EAAE;oBACd,MAAM,QAAQ,IAAI;oBAClB,YAAY,QAAQ,UAAU;gBAChC,CAAC;YAED,MAAM,UAAU;gBACd,QAAQ,iBAAiB,QAAQ,eAAe;gBAChD,SAAS,cAAc,MAAM,GAAG,IAAI,aAAa,CAAC,EAAE,GAAG;gBACvD,WAAW,gBAAgB,IAAI,GAAG,IAAI,GAAG,gBAAgB,IAAI,CAAC,SAAS,CAAC,GAAG;YAC7E;YAEA,MAAM,kBAAkB,gBAAgB,IAAI,GAAG,IAC3C,GAAG,gBAAgB,IAAI,CAAC,2CAA2C,CAAC,GACpE,GAAG,kBAAkB,MAAM,CAAC,kCAAkC,CAAC;YAEnE,IAAI,WAAW,OAAO;gBACpB,IAAA,+JAAoB,EAAC,mBAAmB,eAAe,SAAS;gBAChE,WAAW,GAAG,gBAAgB,OAAO,CAAC;YACxC,OAAO;gBACL,MAAM,IAAA,+JAAoB,EAAC,mBAAmB,eAAe,SAAS;gBACtE,WAAW,GAAG,gBAAgB,OAAO,CAAC;YACxC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,kBAAkB,EAAE,OAAO,WAAW,GAAG,CAAC,CAAC,EAAE;YAC5D,SAAS,CAAC,mBAAmB,EAAE,OAAO,WAAW,GAAG,KAAK,CAAC;QAC5D,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,6BAA6B;IAC7B,MAAM,kBAAkB,OAAO;QAC7B,EAAE,cAAc;QAEhB,2BAA2B;QAC3B,IAAI,CAAC,SAAS,QAAQ,IAAI,CAAC,SAAS,QAAQ,CAAC,IAAI,IAAI;YACnD,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI,CAAC,SAAS,UAAU,IAAI,CAAC,SAAS,UAAU,CAAC,IAAI,IAAI;YACvD,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI,CAAC,SAAS,SAAS,EAAE;YACvB,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI,CAAC,SAAS,SAAS,EAAE;YACvB,SAAS;YACT,WAAW;YACX;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,oBAAoB;gBAC/C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,GAAG,QAAQ;oBACX,WAAW,SAAS,SAAS,GAAG,SAAS,SAAS,SAAS,IAAI;oBAC/D,OAAO,OAAO,SAAS,KAAK;gBAC9B;YACF;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,eAAe;gBACf,YAAY;oBACV,UAAU;oBACV,MAAM;oBACN,YAAY;oBACZ,eAAe;oBACf,OAAO;oBACP,YAAY;oBACZ,2BAA2B;oBAC3B,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,mBAAmB;oBACnB,UAAU;oBACV,WAAW;oBACX,WAAW;oBACX,QAAQ;oBACR,OAAO;gBACT;gBACA,WAAW;gBACX,SAAS;gBACT;YACF,OAAO;gBACL,MAAM,gBAAgB,MAAM,SAAS,IAAI;gBACzC,MAAM,eAAe,cAAc,KAAK,IAAI,cAAc,OAAO,IAAI;gBAErE,8BAA8B;gBAC9B,eAAe,CAAC;gBAEhB,kCAAkC;gBAClC,IAAI,aAAa,WAAW,GAAG,QAAQ,CAAC,gBAAgB,aAAa,WAAW,GAAG,QAAQ,CAAC,mBAAmB;oBAC7G,eAAe;wBAAE,UAAU;oBAAgC;gBAC7D,OAAO,IAAI,aAAa,WAAW,GAAG,QAAQ,CAAC,kBAAkB,aAAa,WAAW,GAAG,QAAQ,CAAC,mBAAmB;oBACtH,eAAe;wBAAE,YAAY;oBAAkC;gBACjE,OAAO,IAAI,aAAa,WAAW,GAAG,QAAQ,CAAC,YAAY,aAAa,WAAW,GAAG,QAAQ,CAAC,mBAAmB;oBAChH,eAAe;wBAAE,OAAO;oBAAoC;gBAC9D,OAAO;oBACL,SAAS;gBACX;gBACA,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS;YACT,WAAW;QACb,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,8BAA8B;IAC9B,MAAM,mBAAmB,OAAO;QAC9B,EAAE,cAAc;QAChB,IAAI,CAAC,gBAAgB;QAErB,2BAA2B;QAC3B,IAAI,CAAC,SAAS,QAAQ,IAAI,CAAC,SAAS,QAAQ,CAAC,IAAI,IAAI;YACnD,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI,CAAC,SAAS,UAAU,IAAI,CAAC,SAAS,UAAU,CAAC,IAAI,IAAI;YACvD,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI,CAAC,SAAS,SAAS,EAAE;YACvB,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI,CAAC,SAAS,SAAS,EAAE;YACvB,SAAS;YACT,WAAW;YACX;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,oBAAoB;gBAC/C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,IAAI,eAAe,EAAE;oBACrB,GAAG,QAAQ;oBACX,WAAW,SAAS,SAAS,GAAG,SAAS,SAAS,SAAS,IAAI;oBAC/D,OAAO,OAAO,SAAS,KAAK;gBAC9B;YACF;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,gBAAgB;gBAChB,kBAAkB;gBAClB,YAAY;oBACV,UAAU;oBACV,MAAM;oBACN,YAAY;oBACZ,eAAe;oBACf,OAAO;oBACP,YAAY;oBACZ,2BAA2B;oBAC3B,OAAO;oBACP,SAAS;oBACT,UAAU;oBACV,mBAAmB;oBACnB,UAAU;oBACV,WAAW;oBACX,WAAW;oBACX,QAAQ;oBACR,OAAO;gBACT;gBACA,WAAW;gBACX,SAAS;gBACT;YACF,OAAO;gBACL,MAAM,gBAAgB,MAAM,SAAS,IAAI;gBACzC,MAAM,eAAe,cAAc,KAAK,IAAI,cAAc,OAAO,IAAI;gBAErE,8BAA8B;gBAC9B,eAAe,CAAC;gBAEhB,kCAAkC;gBAClC,IAAI,aAAa,WAAW,GAAG,QAAQ,CAAC,gBAAgB,aAAa,WAAW,GAAG,QAAQ,CAAC,mBAAmB;oBAC7G,eAAe;wBAAE,UAAU;oBAAgC;gBAC7D,OAAO,IAAI,aAAa,WAAW,GAAG,QAAQ,CAAC,kBAAkB,aAAa,WAAW,GAAG,QAAQ,CAAC,mBAAmB;oBACtH,eAAe;wBAAE,YAAY;oBAAkC;gBACjE,OAAO,IAAI,aAAa,WAAW,GAAG,QAAQ,CAAC,YAAY,aAAa,WAAW,GAAG,QAAQ,CAAC,mBAAmB;oBAChH,eAAe;wBAAE,OAAO;oBAAoC;gBAC9D,OAAO;oBACL,SAAS;gBACX;gBACA,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS;YACT,WAAW;QACb,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBAAqB;IACrB,MAAM,mBAAmB,OAAO;QAC9B,EAAE,cAAc;QAChB,IAAI,CAAC,cAAc;QAEnB,2BAA2B;QAC3B,IAAI,CAAC,eAAe;YAClB,SAAS;YACT,WAAW;YACX;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,MAAM,OAAO,MAAM,aAAa,IAAI;YACpC,MAAM,QAAQ,KAAK,KAAK,CAAC,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,IAAI;YACvD,MAAM,UAAU,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,GAAG,OAAO,CAAC,MAAM;YAEpE,MAAM,UAAU,MAAM,KAAK,CAAC,GAAG,GAAG,CAAC,CAAA;gBACjC,MAAM,SAAS,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,GAAG,OAAO,CAAC,MAAM;gBAC/D,MAAM,SAA0C,CAAC;gBAEjD,QAAQ,OAAO,CAAC,CAAC,QAAQ;oBACvB,MAAM,QAAQ,MAAM,CAAC,MAAM,IAAI;oBAE/B,uCAAuC;oBACvC,OAAQ,OAAO,WAAW;wBACxB,KAAK;wBACL,KAAK;wBACL,KAAK;4BACH,OAAO,QAAQ,GAAG;4BAClB;wBACF,KAAK;wBACL,KAAK;wBACL,KAAK;4BACH,OAAO,IAAI,GAAG;4BACd;wBACF,KAAK;wBACL,KAAK;wBACL,KAAK;4BACH,OAAO,UAAU,GAAG;4BACpB;wBACF,KAAK;wBACL,KAAK;wBACL,KAAK;wBACL,KAAK;4BACH,OAAO,aAAa,GAAG;4BACvB;wBACF,KAAK;wBACL,KAAK;4BACH,OAAO,UAAU,GAAG,MAAM,WAAW,OAAO,OAAO,OAAO;4BAC1D;wBACF,KAAK;4BACH,OAAO,KAAK,GAAG,WAAW,UAAU;4BACpC;wBACF,KAAK;4BACH,OAAO,OAAO,GAAG;4BACjB;wBACF,KAAK;wBACL,KAAK;4BACH,OAAO,QAAQ,GAAG;4BAClB;wBACF,KAAK;wBACL,KAAK;wBACL,KAAK;4BACH,OAAO,iBAAiB,GAAG;4BAC3B;wBACF,KAAK;wBACL,KAAK;4BACH,OAAO,QAAQ,GAAG;4BAClB;wBACF,KAAK;wBACL,KAAK;wBACL,KAAK;4BACH,MAAM,YAAY,SAAS;4BAC3B,IAAI,aAAa,CAAC,MAAM,YAAY;gCAClC,OAAO,SAAS,GAAG;4BACrB;4BACA;wBACF,KAAK;wBACL,KAAK;wBACL,KAAK;4BACH,MAAM,YAAY,SAAS;4BAC3B,IAAI,aAAa,CAAC,MAAM,YAAY;gCAClC,OAAO,SAAS,GAAG;4BACrB;4BACA;oBACJ;gBACF;gBAEA,2FAA2F;gBAC3F,IAAI,CAAC,OAAO,SAAS,EAAE;oBACrB,OAAO,SAAS,GAAG,SAAS;gBAC9B;gBAEA,OAAO;YACT,GAAG,MAAM,CAAC,CAAA,SAAU,OAAO,QAAQ,IAAI,OAAO,UAAU;YAExD,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,oBAAoB;gBAC/C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAQ;YACjC;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,iBAAiB;gBACjB,gBAAgB;gBAChB,iBAAiB;gBACjB,WAAW;gBACX,SAAS;gBACT;YACF,OAAO;gBACL,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,SAAS,KAAK,KAAK,IAAI;gBACvB,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,SAAS;YACT,WAAW;QACb,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,0BAA0B;IAC1B,MAAM,eAAe;QACnB,YAAY;YACV,UAAU;YACV,MAAM;YACN,YAAY;YACZ,eAAe;YACf,OAAO;YACP,YAAY;YACZ,2BAA2B;YAC3B,OAAO;YACP,SAAS;YACT,UAAU;YACV,mBAAmB;YACnB,UAAU;YACV,WAAW;YACX,WAAW;YACX,QAAQ;YACR,OAAO;QACT;QACA,eAAe;QACf,SAAS;QACT,WAAW;QACX,eAAe,CAAC;IAClB;IAEA,MAAM,kBAAkB,CAAC;QACvB,kBAAkB;QAClB,MAAM,YAAY,OAAO,SAAS,EAAE,cAAc;QAClD,YAAY;YACV,UAAU,OAAO,QAAQ;YACzB,MAAM,OAAO,IAAI,IAAI;YACrB,YAAY,OAAO,UAAU;YAC7B,eAAe,OAAO,aAAa,IAAI;YACvC,OAAO,OAAO,KAAK,IAAI;YACvB,YAAY,OAAO,UAAU;YAC7B,2BAA2B,OAAO,yBAAyB,IAAI;YAC/D,OAAO,OAAO,KAAK;YACnB,SAAS,OAAO,OAAO,IAAI;YAC3B,UAAU,OAAO,QAAQ,IAAI;YAC7B,mBAAmB,OAAO,iBAAiB,IAAI;YAC/C,UAAU,OAAO,QAAQ,IAAI;YAC7B,WAAW;YACX,WAAW,OAAO,SAAS,EAAE,cAAc;YAC3C,QAAQ,OAAO,MAAM;YACrB,OAAO,OAAO,KAAK,IAAI;QACzB;QAEA,yCAAyC;QACzC,IAAI,WAAW;YACb,uBAAuB;QACzB;QAEA,gBAAgB;QAChB,SAAS;QACT,WAAW;QACX,eAAe,CAAC;IAClB;IAEA,MAAM,gBAAgB;QACpB,eAAe;QACf,YAAY;YACV,UAAU;YACV,MAAM;YACN,YAAY;YACZ,eAAe;YACf,OAAO;YACP,YAAY;YACZ,2BAA2B;YAC3B,OAAO;YACP,SAAS;YACT,UAAU;YACV,mBAAmB;YACnB,UAAU;YACV,WAAW;YACX,WAAW;YACX,QAAQ;YACR,OAAO;QACT;QACA,SAAS;QACT,WAAW;IACb;IAEA,MAAM,iBAAiB;QACrB,gBAAgB;QAChB,kBAAkB;QAClB,YAAY;YACV,UAAU;YACV,MAAM;YACN,YAAY;YACZ,eAAe;YACf,OAAO;YACP,YAAY;YACZ,2BAA2B;YAC3B,OAAO;YACP,SAAS;YACT,UAAU;YACV,mBAAmB;YACnB,UAAU;YACV,WAAW;YACX,WAAW;YACX,QAAQ;YACR,OAAO;QACT;QACA,SAAS;QACT,WAAW;IACb;IAEA,qBAAqB;IACrB,IAAA,0KAAS;sCAAC;YACR;YACA;YACA;YACA;YACA;YACA;QACF;qCAAG;QAAC;QAAc;KAAsB;IAExC,sEAAsE;IACtE,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAA;QACrC,sBAAsB;QACtB,MAAM,cAAc,gBAAgB,MAClC,OAAO,UAAU,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW,OAChE,OAAO,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW,OAC9D,OAAO,aAAa,EAAE,cAAc,SAAS,YAAY,WAAW,OACpE,OAAO,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW,OAC3D,OAAO,WAAW,EAAE,cAAc,SAAS,YAAY,WAAW,OAClE,OAAO,iBAAiB,EAAE,cAAc,SAAS,YAAY,WAAW,OACxE,OAAO,OAAO,EAAE,cAAc,SAAS,YAAY,WAAW,OAC9D,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,iBAAiB,EAAE,cAAc,SAAS,YAAY,WAAW,OACxE,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,KAAK,EAAE,cAAc,SAAS,YAAY,WAAW;QAE9D,IAAI,CAAC,aAAa,OAAO;QAEzB,gBAAgB;QAChB,MAAM,cAAc,iBAAiB,SAAS,OAAO,MAAM,KAAK;QAChE,IAAI,CAAC,aAAa,OAAO;QAEzB,uCAAuC;QACvC,MAAM,gBAAgB,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,SAAS;QACnE,MAAM,YAAY,eAAe,SAAS,KAAK,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,cAAc,MAAM,IAAI;QAC1F,MAAM,cAAc,WAAW,cAAc,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,UAAU,WAAW,IAAI;QAEjG,eAAe;QACf,IAAI,YAAY,MAAM,GAAG,GAAG;YAC1B,IAAI,CAAC,eAAe,CAAC,YAAY,QAAQ,CAAC,YAAY,EAAE,CAAC,QAAQ,KAAK;gBACpE,OAAO;YACT;QACF;QAEA,aAAa;QACb,IAAI,UAAU,MAAM,GAAG,GAAG;YACxB,IAAI,CAAC,aAAa,CAAC,UAAU,QAAQ,CAAC,UAAU,EAAE,CAAC,QAAQ,KAAK;gBAC9D,OAAO;YACT;QACF;QAEA,gEAAgE;QAChE,IAAI,cAAc,MAAM,GAAG,GAAG;YAC5B,IAAI,CAAC,OAAO,SAAS,IAAI,CAAC,cAAc,QAAQ,CAAC,OAAO,SAAS,CAAC,QAAQ,KAAK;gBAC7E,OAAO;YACT;QACF;QAEA,iBAAiB;QACjB,IAAI,cAAc,MAAM,GAAG,GAAG;YAC5B,MAAM,kBAAkB,OAAO,SAAS,EAAE;YAC1C,IAAI,CAAC,mBAAmB,CAAC,cAAc,QAAQ,CAAC,kBAAkB;gBAChE,OAAO;YACT;QACF;QAEA,OAAO;IACT;IAEA,gFAAgF;IAChF,MAAM,qBAAqB,IAAA,wKAAO;wDAAC;YACjC,iFAAiF;YACjF,MAAM,0BAA0B,QAAQ,MAAM;wFAAC,CAAA;oBAC7C,gBAAgB;oBAChB,MAAM,cAAc,gBAAgB,MAClC,OAAO,UAAU,EAAE,cAAc,SAAS,YAAY,WAAW,OACjE,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,aAAa,EAAE,cAAc,SAAS,YAAY,WAAW,OACpE,OAAO,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW,OAC3D,OAAO,WAAW,EAAE,cAAc,SAAS,YAAY,WAAW,OAClE,OAAO,iBAAiB,EAAE,cAAc,SAAS,YAAY,WAAW,OACxE,OAAO,OAAO,EAAE,cAAc,SAAS,YAAY,WAAW,OAC9D,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,iBAAiB,EAAE,cAAc,SAAS,YAAY,WAAW,OACxE,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,KAAK,EAAE,cAAc,SAAS,YAAY,WAAW;oBAC9D,IAAI,CAAC,aAAa,OAAO;oBAEzB,gBAAgB;oBAChB,MAAM,cAAc,iBAAiB,SAAS,OAAO,MAAM,KAAK;oBAChE,IAAI,CAAC,aAAa,OAAO;oBAEzB,0CAA0C;oBAC1C,IAAI,cAAc,MAAM,GAAG,GAAG;wBAC5B,MAAM,kBAAkB,OAAO,SAAS,EAAE;wBAC1C,IAAI,CAAC,mBAAmB,CAAC,cAAc,QAAQ,CAAC,kBAAkB;4BAChE,OAAO;wBACT;oBACF;oBAEA,OAAO;gBACT;;YAEA,MAAM,wBAAwB,IAAI,IAChC,wBACG,GAAG;gEAAC,CAAA,IAAK,EAAE,SAAS;+DACpB,MAAM,CAAC;YAGZ,OAAO,UAAU,MAAM;gEAAC,CAAA,UAAW,sBAAsB,GAAG,CAAC,QAAQ,EAAE;;QACzE;uDAAG;QAAC;QAAS;QAAW;QAAa;QAAc;KAAc;IAEjE,+EAA+E;IAC/E,MAAM,oBAAoB,IAAA,wKAAO;uDAAC;YAChC,2FAA2F;YAC3F,MAAM,0BAA0B,QAAQ,MAAM;uFAAC,CAAA;oBAC7C,gBAAgB;oBAChB,MAAM,cAAc,gBAAgB,MAClC,OAAO,UAAU,EAAE,cAAc,SAAS,YAAY,WAAW,OACjE,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,aAAa,EAAE,cAAc,SAAS,YAAY,WAAW,OACpE,OAAO,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW,OAC3D,OAAO,WAAW,EAAE,cAAc,SAAS,YAAY,WAAW,OAClE,OAAO,iBAAiB,EAAE,cAAc,SAAS,YAAY,WAAW,OACxE,OAAO,OAAO,EAAE,cAAc,SAAS,YAAY,WAAW,OAC9D,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,iBAAiB,EAAE,cAAc,SAAS,YAAY,WAAW,OACxE,OAAO,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW,OAC/D,OAAO,KAAK,EAAE,cAAc,SAAS,YAAY,WAAW;oBAC9D,IAAI,CAAC,aAAa,OAAO;oBAEzB,gBAAgB;oBAChB,MAAM,cAAc,iBAAiB,SAAS,OAAO,MAAM,KAAK;oBAChE,IAAI,CAAC,aAAa,OAAO;oBAEzB,0CAA0C;oBAC1C,IAAI,cAAc,MAAM,GAAG,GAAG;wBAC5B,IAAI,CAAC,cAAc,QAAQ,CAAC,OAAO,SAAS,EAAE,cAAc,KAAK;4BAC/D,OAAO;wBACT;oBACF;oBAEA,OAAO;gBACT;;YAEA,MAAM,wBAAwB,IAAI,IAChC,wBACG,GAAG;+DAAC,CAAA,IAAK,EAAE,SAAS;8DACpB,MAAM,CAAC;YAGZ,OAAO,SAAS,MAAM;+DAAC,CAAA,UAAW,sBAAsB,GAAG,CAAC,QAAQ,EAAE;;QACxE;sDAAG;QAAC;QAAS;QAAU;QAAa;QAAc;KAAc;IAEhE,qBACE;;0BAEA,6LAAC,uNAAe;gBACd,WAAW,gBAAgB,oBAAoB,wBAAwB;gBACvE,SACE,eAAgB,iBAAiB,EAAE,gBAAgB,CAAC,cAAc,GAAG,EAAE,gBAAgB,CAAC,YAAY,GACpG,iBAAiB,EAAE,gBAAgB,CAAC,eAAe,GACnD,uBAAuB,EAAE,gBAAgB,CAAC,eAAe,GACzD,EAAE,gBAAgB,CAAC,cAAc;gBAEnC,YAAY,EAAE,gBAAgB,CAAC,UAAU;gBACzC,UAAU,wBAAwB,iBAAiB,iBAAiB;gBACpE,cAAc,wBAAwB;;;;;;0BAGxC,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC,sOAAoB;wBACnB,OAAO,EAAE,gBAAgB,CAAC,KAAK;wBAC/B,UAAU,EAAE,gBAAgB,CAAC,QAAQ;wBACrC,oBAAM,6LAAC,gNAAK;4BAAC,WAAU;;;;;;wBACvB,WAAW;wBACX,SAAS,gBAAgB,MAAM,GAAG;;;;;;kCAIpC,6LAAC,iNAAa;wBACZ,SAAS;wBACT,OAAO;;;;;;oBAIR,CAAC,iBAAiB,YAAY,IAAI,iBAAiB,OAAO,IAAI,iBAAiB,UAAU,mBACxF,6LAAC;wBAAI,WAAU;;4BACZ,iBAAiB,YAAY,kBAC5B,6LAAC;gCACC,SAAS,IAAM,gBAAgB;gCAC/B,WAAU;;kDACV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAA2D;;;;;;0DACzE,6LAAC,yNAAQ;gDAAC,WAAU;;;;;;;;;;;;kDAEtB,6LAAC;wCAAE,WAAU;kDAAiE,iBAAiB,YAAY,CAAC,MAAM,CAAC,UAAU;;;;;;kDAC7H,6LAAC;wCAAE,WAAU;;4CAAsD;4CAAK,iBAAiB,YAAY,CAAC,MAAM,CAAC,QAAQ;;;;;;;oCACpH,iBAAiB,YAAY,CAAC,MAAM,CAAC,WAAW,kBAC/C,6LAAC;wCAAE,WAAU;kDAAuD,iBAAiB,YAAY,CAAC,MAAM,CAAC,WAAW;;;;;;kDAEtH,6LAAC;wCAAE,WAAU;;4CAAiE,iBAAiB,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC;4CAAG;;;;;;;;;;;;;4BAIxI,iBAAiB,UAAU,kBAC1B,6LAAC;gCACC,SAAS,IAAM,gBAAgB;gCAC/B,WAAU;;kDACV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAAyD;;;;;;0DACvE,6LAAC,mOAAU;gDAAC,WAAU;;;;;;;;;;;;kDAExB,6LAAC;wCAAE,WAAU;kDAA+D,iBAAiB,UAAU,CAAC,MAAM,CAAC,UAAU;;;;;;kDACzH,6LAAC;wCAAE,WAAU;;4CAAoD;4CAAK,iBAAiB,UAAU,CAAC,MAAM,CAAC,QAAQ;;;;;;;oCAChH,iBAAiB,UAAU,CAAC,MAAM,CAAC,WAAW,kBAC7C,6LAAC;wCAAE,WAAU;kDAAqD,iBAAiB,UAAU,CAAC,MAAM,CAAC,WAAW;;;;;;kDAElH,6LAAC;wCAAE,WAAU;;4CAA8D;4CAAE,iBAAiB,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC;;;;;;;;;;;;;4BAIhI,iBAAiB,OAAO,kBACvB,6LAAC;gCACC,SAAS,IAAM,gBAAgB;gCAC/B,WAAU;;kDACV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAA6D;;;;;;0DAC3E,6LAAC,gNAAK;gDAAC,WAAU;;;;;;;;;;;;kDAEnB,6LAAC;wCAAE,WAAU;kDAAmE,iBAAiB,OAAO,CAAC,MAAM,CAAC,UAAU;;;;;;kDAC1H,6LAAC;wCAAE,WAAU;;4CAAwD;4CAAK,iBAAiB,OAAO,CAAC,MAAM,CAAC,QAAQ;;;;;;;oCACjH,iBAAiB,OAAO,CAAC,MAAM,CAAC,WAAW,kBAC1C,6LAAC;wCAAE,WAAU;kDAAyD,iBAAiB,OAAO,CAAC,MAAM,CAAC,WAAW;;;;;;kDAEnH,6LAAC;wCAAE,WAAU;;4CAAmE,iBAAiB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;4CAAG;;;;;;;;;;;;;4BAI9H,iBAAiB,OAAO,kBACvB,6LAAC;gCACC,SAAS,IAAM,gBAAgB;gCAC/B,WAAU;;kDACV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAA6D;;;;;;0DAC3E,6LAAC,kOAAS;gDAAC,WAAU;;;;;;;;;;;;kDAEvB,6LAAC;wCAAE,WAAU;kDAAmE,iBAAiB,OAAO,CAAC,MAAM,CAAC,UAAU;;;;;;kDAC1H,6LAAC;wCAAE,WAAU;;4CAAwD;4CAAK,iBAAiB,OAAO,CAAC,MAAM,CAAC,QAAQ;;;;;;;oCACjH,iBAAiB,OAAO,CAAC,MAAM,CAAC,WAAW,kBAC1C,6LAAC;wCAAE,WAAU;kDAAyD,iBAAiB,OAAO,CAAC,MAAM,CAAC,WAAW;;;;;;kDAEnH,6LAAC;wCAAE,WAAU;;4CAAmE,iBAAiB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;4CAAG;;;;;;;;;;;;;4BAI9H,iBAAiB,UAAU,kBAC1B,6LAAC;gCACC,SAAS,IAAM,gBAAgB;gCAC/B,WAAU;;kDACV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAAyD;;;;;;0DACvE,6LAAC,gNAAK;gDAAC,WAAU;;;;;;;;;;;;kDAEnB,6LAAC;wCAAE,WAAU;kDAA+D,iBAAiB,UAAU,CAAC,MAAM,CAAC,UAAU;;;;;;kDACzH,6LAAC;wCAAE,WAAU;;4CAAoD;4CAAK,iBAAiB,UAAU,CAAC,MAAM,CAAC,QAAQ;;;;;;;oCAChH,iBAAiB,UAAU,CAAC,MAAM,CAAC,WAAW,kBAC7C,6LAAC;wCAAE,WAAU;kDAAqD,iBAAiB,UAAU,CAAC,MAAM,CAAC,WAAW;;;;;;kDAElH,6LAAC;wCAAE,WAAU;;4CAA+D,iBAAiB,UAAU,CAAC,gBAAgB;4CAAC;;;;;;;;;;;;;4BAI5H,iBAAiB,WAAW,kBAC3B,6LAAC;gCACC,SAAS,IAAM,gBAAgB;gCAC/B,WAAU;;kDACV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAA6D;;;;;;0DAC3E,6LAAC,gNAAK;gDAAC,WAAU;;;;;;;;;;;;kDAEnB,6LAAC;wCAAE,WAAU;kDAAmE,iBAAiB,WAAW,CAAC,MAAM,CAAC,UAAU;;;;;;kDAC9H,6LAAC;wCAAE,WAAU;;4CAAwD;4CAAK,iBAAiB,WAAW,CAAC,MAAM,CAAC,QAAQ;;;;;;;oCACrH,iBAAiB,WAAW,CAAC,MAAM,CAAC,WAAW,kBAC9C,6LAAC;wCAAE,WAAU;kDAAyD,iBAAiB,WAAW,CAAC,MAAM,CAAC,WAAW;;;;;;kDAEvH,6LAAC;wCAAE,WAAU;;4CAAkE;4CAAE,iBAAiB,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC;4CAAG;;;;;;;;;;;;;;;;;;;kCAOzI,6LAAC,qMAAS;wBACR,UAAU;wBACV,eAAe;wBACf,YAAY,iBAAiB,SAAS,YAAY,MAAM,GAAG,KAAK,UAAU,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG;wBAC3I,sBAAsB,CAAC,SAAW,gBAAgB;wBAClD,qBAAqB;;;;;;kCAIvB,6LAAC,oNAAc;wBACb,cAAc;wBACd,gBAAgB,CAAC,QAAU,gBAAgB;wBAC3C,aAAa;wBACb,eAAe,CAAC,QAAU,eAAe,MAAM,OAAO,CAAC,SAAS,QAAQ;gCAAC;6BAAM;wBAC/E,WAAW;wBACX,aAAa,CAAC,QAAU,aAAa,MAAM,OAAO,CAAC,SAAS,QAAQ;gCAAC;6BAAM;wBAC3E,eAAe;wBACf,iBAAiB,CAAC,QAAU,iBAAiB,MAAM,OAAO,CAAC,SAAS,QAAQ;gCAAC;6BAAM;wBACnF,eAAe;wBACf,iBAAiB,CAAC,QAAU,iBAAiB,MAAM,OAAO,CAAC,SAAS,QAAQ;gCAAC;6BAAM;wBACnF,SAAS;wBACT,MAAM;wBACN,WAAW;wBACX,UAAU;wBACV,eAAe,gBAAgB,MAAM;wBACrC,YAAY,QAAQ,MAAM;wBAC1B,aAAa;wBACb,gBAAgB;wBAChB,oBAAM,6LAAC,gNAAK;4BAAC,WAAU;;;;;;wBACvB,sBAAsB;;;;;;oBAIvB,gBAAgB,MAAM,GAAG,mBACxB,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAM,WAAU;;kDACf,6LAAC;wCACC,MAAK;wCACL,SAAS;wCACT,UAAU;wCACV,WAAU;;;;;;kDAEZ,6LAAC;wCAAK,WAAU;;4CACb,EAAE,gBAAgB,CAAC,SAAS;4CAAC;4CAAE,gBAAgB,MAAM;4CAAC;4CAAE,gBAAgB,MAAM,KAAK,IAAI,EAAE,KAAK,CAAC,MAAM,GAAG,EAAE,gBAAgB,CAAC,OAAO;4CAClI,CAAC,iBAAiB,SAAS,YAAY,MAAM,GAAG,KAAK,UAAU,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC;;;;;;;;;;;;;0CAKhL,6LAAC;gCAAI,WAAU;0CAEb,cAAA,6LAAC,oNAAc;oCACb,UAAU;oCACV,kBAAkB;oCAClB,aAAY;oCACZ,WAAU;;;;;;;;;;;;;;;;;oBAOjB,wBACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,8MAAa;4BAAC,MAAM;;;;;;;;;;mEAErB,gBAAgB,MAAM,GAAG,IAC3B,aAAa,WACX,mCAAmC;kCACnC,6LAAC;wBAAI,WAAU;kCACZ,CAAC;4BACA,2BAA2B;4BAC3B,MAAM,mBAAmB,gBAAgB,MAAM,CAAC,CAAC,KAAK;gCACpD,MAAM,YAAY,OAAO,SAAS,IAAI;gCACtC,MAAM,cAAc,OAAO,WAAW,IAAI;gCAC1C,MAAM,oBAAoB,OAAO,iBAAiB,IAAI;gCAEtD,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;oCACnB,GAAG,CAAC,UAAU,GAAG;wCACf,IAAI;wCACJ,MAAM;wCACN,YAAY;wCACZ,SAAS,EAAE;oCACb;gCACF;gCACA,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC;gCAC5B,OAAO;4BACT,GAAG,CAAC;4BAEJ,MAAM,gBAAgB,OAAO,MAAM,CAAC,kBAAkB,IAAI,CAAC,CAAC,GAAG,IAC7D,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;4BAG7B,OAAO,cAAc,GAAG,CAAC,CAAA;gCACvB,MAAM,aAAa,kBAAkB,GAAG,CAAC,QAAQ,EAAE;gCACnD,MAAM,oBAAoB,kBAAkB,GAAG,CAAC,QAAQ,EAAE;gCAC1D,MAAM,cAAc,QAAQ,OAAO,CAAC,MAAM;gCAC1C,MAAM,cAAc,QAAQ,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,UAAU,MAAM;gCAC7E,MAAM,gBAAgB,QAAQ,OAAO,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,YAAY,MAAM;gCACjF,MAAM,YAAY,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE;gCAE/C,qBACE,6LAAC;oCAAqB,WAAW,CAAC,oFAAoF,EACpH,oBACI,yCACA,wCACJ;;sDAEA,6LAAC;4CAAI,WAAU;;8DAEb,6LAAC;oDACC,SAAS,CAAC;wDACR,EAAE,eAAe;wDACjB,uBAAuB,QAAQ,EAAE,EAAE;oDACrC;oDACA,WAAU;8DAEV,cAAA,6LAAC;wDACC,MAAK;wDACL,SAAS;wDACT,UAAU,KAAO;wDACjB,WAAU;;;;;;;;;;;8DAKd,6LAAC;oDACC,SAAS,IAAM,uBAAuB,QAAQ,EAAE;oDAChD,WAAU;;sEAEV,6LAAC;4DAAI,WAAU;;gEACZ,2BACC,6LAAC,sOAAW;oEAAC,WAAU;;;;;6HAEvB,6LAAC,yOAAY;oEAAC,WAAU;;;;;;gEAEzB,2BACC,6LAAC,mOAAU;oEAAC,WAAU;;;;;6HAEtB,6LAAC,mNAAM;oEAAC,WAAU;;;;;;8EAEpB,6LAAC;oEAAI,WAAU;;sFACb,6LAAC;4EAAG,WAAU;sFACX,QAAQ,IAAI;;;;;;sFAEjB,6LAAC;4EAAE,WAAU;;gFAAsD;gFAC5D,QAAQ,UAAU;;;;;;;;;;;;;;;;;;;sEAI7B,6LAAC;4DAAI,WAAU;sEACb,cAAA,6LAAC;gEAAI,WAAU;0EACb,cAAA,6LAAC;oEAAI,WAAU;;sFACb,6LAAC;4EAAI,WAAU;;8FACb,6LAAC;oFAAK,WAAU;;sGACd,6LAAC;4FAAI,WAAU;;;;;;sGACf,6LAAC;sGAAM;;;;;;;;;;;;8FAET,6LAAC;oFAAK,WAAU;;sGACd,6LAAC;4FAAI,WAAU;;;;;;sGACf,6LAAC;sGAAM;;;;;;;;;;;;;;;;;;sFAGX,6LAAC;4EAAE,WAAU;;gFACV;gFAAY;gFAAE,gBAAgB,IAAI,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wCASvD,4BACC,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,WAAU;0DACZ,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,uBACpB,6LAAC;wDAAoB,WAAU;kEAC/B,cAAA,6LAAC,kMAAQ;4DACP,IAAI,OAAO,EAAE;4DACb,MAAM,OAAO,UAAU;4DACvB,YAAY,CAAC,IAAI,EAAE,OAAO,QAAQ,EAAE;4DACpC,QAAQ,OAAO,MAAM;4DACrB,oBAAM,6LAAC,gNAAK;gEAAC,WAAU;;;;;;4DACvB,SAAS;mEACH,OAAO,aAAa,GAAG;oEAAC;wEAAE,oBAAM,6LAAC,gNAAK;4EAAC,WAAU;;;;;;wEAAgC,MAAM,OAAO,aAAa;oEAAC;iEAAE,GAAG,EAAE;mEACnH,OAAO,KAAK,GAAG;oEAAC;wEAAE,oBAAM,6LAAC,6MAAI;4EAAC,WAAU;;;;;;wEAAgC,MAAM,OAAO,KAAK;oEAAC;iEAAE,GAAG,EAAE;mEAClG,OAAO,WAAW,IAAI,OAAO,WAAW,GAAG;oEAAC;wEAC9C,oBAAM,6LAAC,yNAAQ;4EAAC,WAAU;;;;;;wEAC1B,MAAM,OAAO,WAAW,IAAI,OAAO,WAAW,GAC1C,GAAG,OAAO,WAAW,CAAC,EAAE,EAAE,OAAO,WAAW,CAAC,CAAC,CAAC,GAC/C,OAAO,WAAW,IAAI,OAAO,WAAW,IAAI;wEAChD,WAAW,OAAO,WAAW,GAAG,QAAQ;oEAC1C;iEAAE,GAAG;oEAAC;wEACJ,oBAAM,6LAAC,yNAAQ;4EAAC,WAAU;;;;;;wEAC1B,MAAM;wEACN,WAAW;oEACb;iEAAE;gEACF;oEAAE,oBAAM,6LAAC,gOAAS;wEAAC,WAAU;;;;;;oEAAgC,MAAM,CAAC,OAAO,EAAE,OAAO,KAAK,EAAE;gEAAC;6DAC7F;4DACD,gBAAgB,CAAC,YAAc,mBAAmB,OAAO,EAAE,EAAE;4DAC7D,QAAQ,IAAM,OAAO,IAAI,CAAC,CAAC,cAAc,EAAE,OAAO,EAAE,EAAE;4DACtD,QAAQ,IAAM,gBAAgB;4DAC9B,UAAU,IAAM,aAAa,OAAO,EAAE;4DACtC,UAAS;4DACT,YAAY;4DACZ,UAAU,gBAAgB,GAAG,CAAC,OAAO,EAAE;4DACvC,UAAU,IAAM,mBAAmB,OAAO,EAAE;4DAC5C,aAAa;;;;;;uDA/BL,OAAO,EAAE;;;;;;;;;;;;;;;;mCA3EnB,QAAQ,EAAE;;;;;4BAmHxB;wBACF,CAAC;;;;;mEAGH,oCAAoC;kCACpC,6LAAC;wBAAI,WAAU;kCACZ,gBAAgB,GAAG,CAAC,CAAA,uBACnB,6LAAC,kMAAQ;gCAEP,IAAI,OAAO,EAAE;gCACb,MAAM,OAAO,UAAU;gCACvB,YAAY,CAAC,IAAI,EAAE,OAAO,QAAQ,EAAE;gCACpC,QAAQ,OAAO,MAAM;gCACrB,oBAAM,6LAAC,gNAAK;oCAAC,WAAU;;;;;;gCACvB,SAAS;uCACH,OAAO,aAAa,GAAG;wCAAC;4CAAE,oBAAM,6LAAC,gNAAK;gDAAC,WAAU;;;;;;4CAAgC,MAAM,OAAO,aAAa;wCAAC;qCAAE,GAAG,EAAE;uCACnH,OAAO,KAAK,GAAG;wCAAC;4CAAE,oBAAM,6LAAC,6MAAI;gDAAC,WAAU;;;;;;4CAAgC,MAAM,OAAO,KAAK;wCAAC;qCAAE,GAAG,EAAE;uCAClG,OAAO,WAAW,GAAG;wCAAC;4CACxB,oBAAM,6LAAC,gOAAS;gDAAC,WAAU;;;;;;4CAC3B,MAAM,OAAO,iBAAiB,GAC1B,GAAG,OAAO,WAAW,CAAC,EAAE,EAAE,OAAO,iBAAiB,CAAC,CAAC,CAAC,GACrD,OAAO,WAAW;4CACtB,WAAW;wCACb;qCAAE,GAAG,EAAE;uCACH,OAAO,WAAW,IAAI,OAAO,WAAW,GAAG;wCAAC;4CAC9C,oBAAM,6LAAC,yNAAQ;gDAAC,WAAU;;;;;;4CAC1B,MAAM,OAAO,WAAW,IAAI,OAAO,WAAW,GAC1C,GAAG,OAAO,WAAW,CAAC,EAAE,EAAE,OAAO,WAAW,CAAC,CAAC,CAAC,GAC/C,OAAO,WAAW,IAAI,OAAO,WAAW,IAAI;4CAChD,WAAW,OAAO,WAAW,GAAG,QAAQ;wCAC1C;qCAAE,GAAG;wCAAC;4CACJ,oBAAM,6LAAC,yNAAQ;gDAAC,WAAU;;;;;;4CAC1B,MAAM;4CACN,WAAW;wCACb;qCAAE;oCACF;wCAAE,oBAAM,6LAAC,gOAAS;4CAAC,WAAU;;;;;;wCAAgC,MAAM,CAAC,OAAO,EAAE,OAAO,KAAK,EAAE;oCAAC;iCAC7F;gCACD,gBAAgB,CAAC,YAAc,mBAAmB,OAAO,EAAE,EAAE;gCAC7D,QAAQ,IAAM,OAAO,IAAI,CAAC,CAAC,cAAc,EAAE,OAAO,EAAE,EAAE;gCACtD,QAAQ,IAAM,gBAAgB;gCAC9B,UAAU,IAAM,aAAa,OAAO,EAAE;gCACtC,UAAS;gCACT,YAAY;gCACZ,UAAU,gBAAgB,GAAG,CAAC,OAAO,EAAE;gCACvC,UAAU,IAAM,mBAAmB,OAAO,EAAE;gCAC5C,aAAa;+BArCR,OAAO,EAAE;;;;;;;;;iFA2CtB,6LAAC,wMAAU;wBACT,oBAAM,6LAAC,gNAAK;4BAAC,WAAU;;;;;;wBACvB,OAAO,QAAQ,MAAM,KAAK,IAAI,EAAE,gBAAgB,CAAC,cAAc,GAAG,EAAE,gBAAgB,CAAC,iBAAiB;wBACtG,SAAS,QAAQ,MAAM,KAAK,IACxB,EAAE,gBAAgB,CAAC,iBAAiB,GACpC,cACE,GAAG,EAAE,gBAAgB,CAAC,iBAAiB,CAAC,EAAE,EAAE,EAAE,gBAAgB,CAAC,kBAAkB,EAAE,GACnF,EAAE,gBAAgB,CAAC,kBAAkB;wBAE3C,YAAY,QAAQ,MAAM,KAAK,IAAI,EAAE,gBAAgB,CAAC,SAAS,GAAG;wBAClE,UAAU,QAAQ,MAAM,KAAK,IAAI,eAAe;wBAChD,YAAY,QAAQ,MAAM,KAAK;;;;;;;;;;;;0BAMnC,6LAAC,gMAAS;gBACR,QAAQ;gBACR,SAAS;gBACT,OAAO,EAAE,gBAAgB,CAAC,SAAS;0BAEnC,cAAA,6LAAC;oBAAK,UAAU;oBAAiB,WAAU;;sCACzC,6LAAC,6LAAQ;;8CAET,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,QAAQ;oCAClC,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU,CAAC;wCACT,qBAAqB;wCACrB,MAAM,eAAe,MAAM,OAAO,CAAC,WAAW;wCAC9C,YAAY;4CAAE,GAAG,QAAQ;4CAAE,UAAU;wCAAa;oCACpD;oCACA,aAAa,EAAE,gBAAgB,CAAC,aAAa;oCAC7C,QAAQ;oCACR,OAAO,YAAY,QAAQ;;;;;;8CAE7B,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,UAAU;oCACpC,MAAK;oCACL,OAAO,SAAS,UAAU;oCAC1B,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,YAAY;wCAAM;oCAClE,aAAa,EAAE,gBAAgB,CAAC,eAAe;oCAC/C,QAAQ;oCACR,OAAO,YAAY,UAAU;;;;;;8CAE/B,6LAAC,mMAAU;oCACT,OAAO,EAAE,gBAAgB,CAAC,OAAO;oCACjC,OAAO,SAAS,SAAS;oCACzB,UAAU,CAAC;wCACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,WAAW;4CAAO,WAAW;wCAAG;wCAC3D,uBAAuB;oCACzB;oCACA,SAAS,UAAU,GAAG,CAAC,CAAA,UAAW,CAAC;4CACjC,OAAO,QAAQ,EAAE,CAAC,QAAQ;4CAC1B,OAAO,GAAG,QAAQ,IAAI,CAAC,EAAE,EAAE,QAAQ,UAAU,CAAC,CAAC,CAAC;wCAClD,CAAC;oCACD,aAAa,EAAE,gBAAgB,CAAC,aAAa;oCAC7C,QAAQ;oCACR,SAAS;;;;;;8CAIX,6LAAC,mMAAU;oCACT,OAAO,EAAE,gBAAgB,CAAC,OAAO;oCACjC,OAAO,SAAS,SAAS;oCACzB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,WAAW;wCAAM;oCACjE,SAAS,SAAS,GAAG,CAAC,CAAA,UAAW,CAAC;4CAChC,OAAO,QAAQ,EAAE,CAAC,QAAQ;4CAC1B,OAAO,GAAG,QAAQ,SAAS,CAAC,GAAG,EAAE,QAAQ,WAAW,EAAE;wCACxD,CAAC;oCACD,aAAa,kBAAkB,EAAE,MAAM,CAAC,OAAO,GAAG,SAAS,MAAM,GAAG,IAAI,EAAE,gBAAgB,CAAC,aAAa,GAAG,EAAE,gBAAgB,CAAC,UAAU;oCACxI,UAAU;oCACV,QAAQ;oCACR,SAAS;oCACT,WAAU;;;;;;gCAIX,SAAS,SAAS,IAAI,CAAC,mBAAmB,SAAS,MAAM,KAAK,mBAC7D,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAE,WAAU;;4CAA+C;0DACd,6LAAC;0DAAO;;;;;;4CAA2B;;;;;;;;;;;;8CAMrF,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,aAAa;oCACvC,MAAK;oCACL,OAAO,SAAS,aAAa;oCAC7B,UAAU,CAAC;wCACT,MAAM,YAAY,IAAA,kKAAgB,EAAC;wCACnC,YAAY;4CAAE,GAAG,QAAQ;4CAAE,eAAe;wCAAU;oCACtD;oCACA,QAAQ;wCACN,MAAM,QAAQ,IAAA,qKAAmB,EAAC,SAAS,aAAa;wCACxD,IAAI,OAAO;4CACT,eAAe,CAAA,OAAQ,CAAC;oDAAE,GAAG,IAAI;oDAAE,eAAe;gDAAM,CAAC;wCAC3D,OAAO;4CACL,MAAM,EAAE,eAAe,QAAQ,EAAE,GAAG,MAAM,GAAG;4CAC7C,eAAe;wCACjB;oCACF;oCACA,aAAa,EAAE,gBAAgB,CAAC,kBAAkB;oCAClD,OAAO,YAAY,aAAa;;;;;;8CAElC,6LAAC,gMAAS;oCACR,OAAM;oCACN,MAAK;oCACL,OAAO,SAAS,KAAK;oCACrB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,OAAO;wCAAM;oCAC7D,QAAQ;wCACN,MAAM,QAAQ,IAAA,qKAAmB,EAAC,SAAS,KAAK;wCAChD,IAAI,OAAO;4CACT,eAAe,CAAA,OAAQ,CAAC;oDAAE,GAAG,IAAI;oDAAE,OAAO;gDAAM,CAAC;wCACnD,OAAO;4CACL,MAAM,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM,GAAG;4CACrC,eAAe;wCACjB;oCACF;oCACA,aAAY;oCACZ,OAAO,YAAY,KAAK;;;;;;8CAE1B,6LAAC,mMAAU;oCACT,OAAO,EAAE,gBAAgB,CAAC,UAAU;oCACpC,OAAO,SAAS,UAAU;oCAC1B,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,YAAY;wCAAM;oCAClE,SAAS;wCACP;4CAAE,OAAO;4CAAO,OAAO;wCAAM;wCAC7B;4CAAE,OAAO;4CAAM,OAAO;wCAAK;qCAC5B;oCACD,aAAa,EAAE,gBAAgB,CAAC,YAAY;;;;;;8CAE9C,6LAAC,mMAAU;oCACT,OAAM;oCACN,OAAO,SAAS,yBAAyB;oCACzC,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,2BAA2B;wCAAM;oCACjF,SAAS;wCACP;4CAAE,OAAO;4CAAO,OAAO;wCAAM;wCAC7B;4CAAE,OAAO;4CAAM,OAAO;wCAAK;qCAC5B;oCACD,aAAY;;;;;;8CAId,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,IAAI;oCAC9B,MAAK;oCACL,OAAO,SAAS,IAAI;oCACpB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,MAAM;wCAAM;oCAC5D,aAAa,EAAE,gBAAgB,CAAC,SAAS;;;;;;8CAE3C,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,KAAK;oCAC/B,MAAK;oCACL,OAAO,SAAS,KAAK;oCACrB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,OAAO,OAAO;wCAAO;oCACrE,aAAa,EAAE,gBAAgB,CAAC,UAAU;;;;;;8CAE5C,6LAAC,mMAAU;oCACT,OAAO,EAAE,gBAAgB,CAAC,MAAM;oCAChC,OAAO,SAAS,MAAM;oCACtB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,QAAQ;wCAAM;oCAC9D,SAAS;wCACP;4CAAE,OAAO;4CAAU,OAAO,EAAE,gBAAgB,CAAC,MAAM;wCAAC;wCACpD;4CAAE,OAAO;4CAAY,OAAO,EAAE,gBAAgB,CAAC,QAAQ;wCAAC;wCACxD;4CAAE,OAAO;4CAAa,OAAO,EAAE,gBAAgB,CAAC,SAAS;wCAAC;wCAC1D;4CAAE,OAAO;4CAAe,OAAO,EAAE,gBAAgB,CAAC,WAAW;wCAAC;qCAC/D;oCACD,aAAa,EAAE,gBAAgB,CAAC,YAAY;;;;;;8CAI9C,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,QAAQ;oCAClC,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,UAAU;wCAAM;oCAChE,aAAa,EAAE,gBAAgB,CAAC,aAAa;;;;;;8CAE/C,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,iBAAiB;oCAC3C,MAAK;oCACL,OAAO,SAAS,iBAAiB;oCACjC,UAAU,CAAC;wCACT,qBAAqB;wCACrB,MAAM,eAAe,MAAM,OAAO,CAAC,OAAO;wCAC1C,YAAY;4CAAE,GAAG,QAAQ;4CAAE,mBAAmB;wCAAa;oCAC7D;oCACA,aAAa,EAAE,gBAAgB,CAAC,kBAAkB;oCAClD,SAAQ;oCACR,WAAU;;;;;;8CAEZ,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,QAAQ;oCAClC,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,UAAU;wCAAM;oCAChE,aAAa,EAAE,gBAAgB,CAAC,aAAa;;;;;;8CAG/C,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,OAAO;oCACjC,MAAK;oCACL,OAAO,SAAS,OAAO;oCACvB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,SAAS;wCAAM;oCAC/D,aAAa,EAAE,gBAAgB,CAAC,YAAY;;;;;;8CAG9C,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,KAAK;oCAC/B,MAAK;oCACL,OAAO,SAAS,KAAK;oCACrB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,OAAO;wCAAM;oCAC7D,aAAa,EAAE,gBAAgB,CAAC,UAAU;;;;;;;;;;;;sCAI5C,6LAAC,sMAAW;4BACV,UAAU;4BACV,YAAY,EAAE,gBAAgB,CAAC,YAAY;4BAC3C,WAAW;4BACX,kBACE,CAAC,SAAS,SAAS,IACnB,CAAC,SAAS,SAAS,IACnB,CAAC,SAAS,QAAQ,IAClB,CAAC,SAAS,UAAU,IACpB,OAAO,MAAM,CAAC,aAAa,IAAI,CAAC,CAAA,QAAS,UAAU;4BAErD,YAAW;;;;;;;;;;;;;;;;;0BAMjB,6LAAC,gMAAS;gBACR,QAAQ,gBAAgB,CAAC,CAAC;gBAC1B,SAAS;gBACT,OAAO,EAAE,gBAAgB,CAAC,UAAU;0BAEpC,cAAA,6LAAC;oBAAK,UAAU;oBAAkB,WAAU;;sCAC1C,6LAAC,6LAAQ;;8CAET,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,QAAQ;oCAClC,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,UAAU;wCAAM;oCAChE,aAAa,EAAE,gBAAgB,CAAC,mBAAmB;oCACnD,QAAQ;oCACR,QAAQ;oCACR,SAAS;oCACT,OAAO,YAAY,QAAQ;;;;;;8CAG7B,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,UAAU;oCACpC,MAAK;oCACL,OAAO,SAAS,UAAU;oCAC1B,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,YAAY;wCAAM;oCAClE,aAAa,EAAE,gBAAgB,CAAC,mBAAmB;oCACnD,QAAQ;oCACR,SAAS;oCACT,OAAO,YAAY,UAAU;;;;;;8CAG/B,6LAAC,mMAAU;oCACT,OAAO,EAAE,gBAAgB,CAAC,OAAO;oCACjC,OAAO,SAAS,SAAS;oCACzB,UAAU,CAAC;wCACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,WAAW;4CAAO,WAAW;wCAAG;wCAC3D,uBAAuB,MAAM,QAAQ;oCACvC;oCACA,SAAS,UAAU,GAAG,CAAC,CAAA,UAAW,CAAC;4CAAE,OAAO,QAAQ,EAAE;4CAAE,OAAO,GAAG,QAAQ,IAAI,CAAC,EAAE,EAAE,QAAQ,UAAU,CAAC,CAAC,CAAC;wCAAC,CAAC;oCAC1G,aAAa,EAAE,gBAAgB,CAAC,aAAa;oCAC7C,QAAQ;oCACR,SAAS;;;;;;8CAIX,6LAAC,mMAAU;oCACT,OAAO,EAAE,gBAAgB,CAAC,OAAO;oCACjC,OAAO,SAAS,SAAS;oCACzB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,WAAW;wCAAM;oCACjE,SAAS,SAAS,GAAG,CAAC,CAAA,UAAW,CAAC;4CAChC,OAAO,QAAQ,EAAE,CAAC,QAAQ;4CAC1B,OAAO,GAAG,QAAQ,SAAS,CAAC,GAAG,EAAE,QAAQ,WAAW,EAAE;wCACxD,CAAC;oCACD,aAAa,kBAAkB,EAAE,MAAM,CAAC,OAAO,GAAG,SAAS,MAAM,GAAG,IAAI,EAAE,gBAAgB,CAAC,aAAa,GAAG,EAAE,gBAAgB,CAAC,mBAAmB;oCACjJ,UAAU;oCACV,QAAQ;oCACR,SAAS;oCACT,WAAU;;;;;;8CAIZ,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,IAAI;oCAC9B,MAAK;oCACL,OAAO,SAAS,IAAI;oCACpB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,MAAM;wCAAM;oCAC5D,aAAa,EAAE,gBAAgB,CAAC,iBAAiB;oCACjD,SAAS;;;;;;8CAGX,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,aAAa;oCACvC,MAAK;oCACL,OAAO,SAAS,aAAa;oCAC7B,UAAU,CAAC;wCACT,MAAM,YAAY,IAAA,kKAAgB,EAAC;wCACnC,YAAY;4CAAE,GAAG,QAAQ;4CAAE,eAAe;wCAAU;wCACpD,IAAI,YAAY,aAAa,EAAE;4CAC7B,eAAe;gDAAE,GAAG,WAAW;gDAAE,eAAe;4CAAG;wCACrD;oCACF;oCACA,QAAQ;wCACN,MAAM,kBAAkB,IAAA,qKAAmB,EAAC,SAAS,aAAa;wCAClE,IAAI,iBAAiB;4CACnB,eAAe;gDAAE,GAAG,WAAW;gDAAE,eAAe;4CAAgB;wCAClE;oCACF;oCACA,OAAO,YAAY,aAAa;oCAChC,aAAa,EAAE,gBAAgB,CAAC,iBAAiB;oCACjD,SAAS;;;;;;8CAGX,6LAAC,gMAAS;oCACR,OAAM;oCACN,MAAK;oCACL,OAAO,SAAS,KAAK;oCACrB,UAAU,CAAC;wCACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,OAAO;wCAAM;wCACxC,IAAI,YAAY,KAAK,EAAE;4CACrB,eAAe;gDAAE,GAAG,WAAW;gDAAE,OAAO;4CAAG;wCAC7C;oCACF;oCACA,QAAQ;wCACN,MAAM,kBAAkB,IAAA,qKAAmB,EAAC,SAAS,KAAK;wCAC1D,IAAI,iBAAiB;4CACnB,eAAe;gDAAE,GAAG,WAAW;gDAAE,OAAO;4CAAgB;wCAC1D;oCACF;oCACA,OAAO,YAAY,KAAK;oCACxB,aAAY;oCACZ,SAAS;;;;;;8CAGX,6LAAC,mMAAU;oCACT,OAAO,EAAE,gBAAgB,CAAC,UAAU;oCACpC,OAAO,SAAS,UAAU;oCAC1B,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,YAAY;wCAAM;oCAClE,SAAS;wCACP;4CAAE,OAAO;4CAAO,OAAO;wCAAM;wCAC7B;4CAAE,OAAO;4CAAM,OAAO;wCAAK;qCAC5B;oCACD,SAAS;;;;;;8CAGX,6LAAC,mMAAU;oCACT,OAAM;oCACN,OAAO,SAAS,yBAAyB;oCACzC,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,2BAA2B;wCAAM;oCACjF,SAAS;wCACP;4CAAE,OAAO;4CAAO,OAAO;wCAAM;wCAC7B;4CAAE,OAAO;4CAAM,OAAO;wCAAK;qCAC5B;oCACD,SAAS;;;;;;8CAGX,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,KAAK;oCAC/B,MAAK;oCACL,OAAO,SAAS,KAAK;oCACrB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,OAAO,WAAW,UAAU;wCAAE;oCAC9E,aAAa,EAAE,gBAAgB,CAAC,UAAU;oCAC1C,SAAS;;;;;;8CAGX,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,OAAO;oCACjC,MAAK;oCACL,OAAO,SAAS,OAAO;oCACvB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,SAAS;wCAAM;oCAC/D,aAAa,EAAE,gBAAgB,CAAC,kBAAkB;oCAClD,SAAS;;;;;;8CAGX,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,QAAQ;oCAClC,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,UAAU;wCAAM;oCAChE,aAAa,EAAE,gBAAgB,CAAC,aAAa;oCAC7C,SAAS;;;;;;8CAGX,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,iBAAiB;oCAC3C,MAAK;oCACL,OAAO,SAAS,iBAAiB;oCACjC,UAAU,CAAC;wCACT,qBAAqB;wCACrB,MAAM,eAAe,MAAM,OAAO,CAAC,OAAO;wCAC1C,YAAY;4CAAE,GAAG,QAAQ;4CAAE,mBAAmB;wCAAa;oCAC7D;oCACA,aAAa,EAAE,gBAAgB,CAAC,kBAAkB;oCAClD,SAAQ;oCACR,WAAU;oCACV,SAAS;;;;;;8CAGX,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,QAAQ;oCAClC,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,UAAU,MAAM,WAAW;wCAAG;oCAC9E,aAAa,EAAE,gBAAgB,CAAC,aAAa;oCAC7C,SAAS;;;;;;8CAGX,6LAAC,mMAAU;oCACT,OAAO,EAAE,gBAAgB,CAAC,MAAM;oCAChC,OAAO,SAAS,MAAM;oCACtB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,QAAQ;wCAAM;oCAC9D,SAAS;wCACP;4CAAE,OAAO;4CAAU,OAAO,EAAE,gBAAgB,CAAC,MAAM;wCAAC;wCACpD;4CAAE,OAAO;4CAAY,OAAO,EAAE,gBAAgB,CAAC,QAAQ;wCAAC;wCACxD;4CAAE,OAAO;4CAAa,OAAO,EAAE,gBAAgB,CAAC,SAAS;wCAAC;wCAC1D;4CAAE,OAAO;4CAAe,OAAO,EAAE,gBAAgB,CAAC,WAAW;wCAAC;qCAC/D;oCACD,SAAS;;;;;;8CAGX,6LAAC,gMAAS;oCACR,OAAO,EAAE,gBAAgB,CAAC,KAAK;oCAC/B,MAAK;oCACL,OAAO,SAAS,KAAK;oCACrB,UAAU,CAAC,QAAU,YAAY;4CAAE,GAAG,QAAQ;4CAAE,OAAO;wCAAM;oCAC7D,aAAa,EAAE,gBAAgB,CAAC,UAAU;oCAC1C,SAAS;;;;;;;;;;;;sCAIX,6LAAC,sMAAW;4BACV,UAAU;4BACV,YAAY,EAAE,gBAAgB,CAAC,YAAY;4BAC3C,WAAW;4BACX,kBACE,CAAC,SAAS,SAAS,IACnB,CAAC,SAAS,SAAS,IACnB,CAAC,SAAS,QAAQ,IAClB,CAAC,SAAS,UAAU,IACpB,OAAO,MAAM,CAAC,aAAa,IAAI,CAAC,CAAA,QAAS,UAAU;4BAErD,YAAW;;;;;;;;;;;;;;;;;0BAMjB,6LAAC,gMAAS;gBACR,QAAQ;gBACR,SAAS;oBACP,iBAAiB;oBACjB,iBAAiB;oBACjB,gBAAgB;gBAClB;gBACA,OAAM;0BAEN,cAAA,6LAAC;oBAAK,UAAU;oBAAkB,WAAU;;sCAC1C,6LAAC,mMAAU;4BACT,OAAM;4BACN,OAAO;4BACP,UAAU,CAAC,QAAU,iBAAiB;4BACtC,SAAS;mCACJ,UAAU,GAAG,CAAC,CAAA,UAAW,CAAC;wCAC3B,OAAO,QAAQ,EAAE,CAAC,QAAQ;wCAC1B,OAAO,GAAG,QAAQ,IAAI,CAAC,EAAE,EAAE,QAAQ,UAAU,CAAC,CAAC,CAAC;oCAClD,CAAC;6BACF;4BACD,aAAY;4BACZ,QAAQ;;;;;;sCAEV,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;0CAAE;;;;;;;;;;;sCAGL,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAkE;;;;;;8CAGnF,6LAAC;oCACC,MAAK;oCACL,QAAO;oCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;oCACxD,WAAU;;;;;;;;;;;;sCAGd,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;8CAAmB;;;;;;8CAChC,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;;;;;;;;;;;;;sCAIR,6LAAC,sMAAW;4BACV,UAAU,IAAM,iBAAiB;4BACjC,YAAW;4BACX,WAAW;4BACX,kBAAkB,CAAC,gBAAgB,CAAC;4BACpC,YAAW;;;;;;;;;;;;;;;;;0BAMjB,6LAAC,4OAAsB;gBACrB,QAAQ;gBACR,SAAS,IAAM,qBAAqB;gBACpC,WAAW;gBACX,WAAW,gBAAgB,IAAI;gBAC/B,UAAS;gBACT,YAAY,iBAAiB,SAAS,YAAY,MAAM,GAAG,KAAK,UAAU,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG;;;;;;0BAIjH,6LAAC,2JAAc;gBACb,QAAQ;gBACR,SAAS,IAAM,iBAAiB;gBAChC,WAAW;gBACX,kBAAkB;oBAChB,gBAAgB,0BAA0B;oBAC1C,WAAW;gBACb;;;;;;0BAIF,6LAAC,iOAAoB;gBACnB,QAAQ;gBACR,SAAS,IAAM,uBAAuB;gBACtC,YAAY;gBACZ,kBAAkB,IAAA,2JAAgB,IAAG,GAAG,CAAC,CAAA,MAAO,CAAC;wBAC/C,KAAK,IAAI,GAAG;wBACZ,OAAO,IAAI,MAAM;wBACjB,UAAU;4BAAC;yBAAW,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,0BAA0B;oBACrE,CAAC;gBACD,gBAAgB;oBAAC;oBAAY;oBAAQ;oBAAc;oBAAiB;oBAAc;iBAAQ;gBAC1F,OAAM;gBACN,eAAe;;;;;;0BAIjB,6LAAC,gOAAkB;gBACjB,eAAe,gBAAgB,IAAI;gBACnC,YAAY,QAAQ,MAAM;gBAC1B,cAAc,IAAM,qBAAqB;gBACzC,gBAAgB;gBAChB,oBAAoB;gBACpB,kBAAkB;oBAChB,mBAAmB,IAAI;oBACvB,qBAAqB,IAAI;oBACzB,aAAa;gBACf;gBACA,UAAS;gBACT,kBAAkB;gBAClB,mBAAmB;gBACnB,oBAAoB,CAAC,SAAW,cAAc;;;;;;0BAIhD,6LAAC,gOAAkB;gBACjB,QAAQ;gBACR,SAAS;oBACP,2BAA2B;oBAC3B,kBAAkB;gBACpB;gBACA,WAAW;gBACX,UAAU,gBAAgB,YAAY;gBACtC,OAAM;gBACN,SAAQ;gBACR,aAAa,EAAE,MAAM,CAAC,MAAM;gBAC5B,YAAY,EAAE,MAAM,CAAC,MAAM;;;;;;0BAI7B,6LAAC,sOAAoB;gBACnB,SAAS;oBACP;wBACE,oBAAM,6LAAC,6MAAI;4BAAC,WAAU;;;;;;wBACtB,OAAO,EAAE,gBAAgB,CAAC,SAAS;wBACnC,SAAS;wBACT,OAAO;oBACT;oBACA;wBACE,oBAAM,6LAAC,mNAAM;4BAAC,WAAU;;;;;;wBACxB,OAAO,EAAE,gBAAgB,CAAC,SAAS;wBACnC,SAAS,IAAM,iBAAiB;wBAChC,OAAO;oBACT;iBACD;;;;;;YAIF,gCACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,kOAAS;4CAAC,WAAU;;;;;;sDACrB,6LAAC;4CAAG,WAAU;;gDACX,gBAAgB,cAAc;gDAC9B,gBAAgB,aAAa;gDAC7B,gBAAgB,SAAS;gDACzB,gBAAgB,SAAS;gDACzB,gBAAgB,iBAAiB;gDACjC,gBAAgB,UAAU;;;;;;;;;;;;;8CAG/B,6LAAC;oCACC,SAAS,IAAM,kBAAkB;oCACjC,WAAU;8CAEV,cAAA,6LAAC,oMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAKjB,6LAAC;4BAAI,WAAU;sCACZ,CAAC;gCACA,MAAM,eAAe;oCACnB,OAAQ;wCACN,KAAK;4CAAY,OAAO;wCACxB,KAAK;4CAAW,OAAO;wCACvB,KAAK;4CAAO,OAAO;wCACnB,KAAK;4CAAO,OAAO;wCACnB,KAAK;4CAAe,OAAO;wCAC3B,KAAK;4CAAQ,OAAO;wCACpB;4CAAS,OAAO;oCAClB;gCACF;gCAEA,MAAM,gBAAgB;oCACpB,OAAQ;wCACN,KAAK;4CAAY,OAAO;wCACxB,KAAK;4CAAW,OAAO;wCACvB,KAAK;4CAAO,OAAO;wCACnB,KAAK;4CAAO,OAAO;wCACnB,KAAK;4CAAe,OAAO;wCAC3B,KAAK;4CAAQ,OAAO;wCACpB;4CAAS,OAAO;oCAClB;gCACF;gCAEA,MAAM,gBAAgB,CAAC,EAAE,MAAM,EAAE,OAAO,EAKvC;oCACC,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;wCACvC,MAAM,OAAO,OAAO,CAAC,EAAE,CAAC,OAAO;wCAC/B,qBACE,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAE,WAAU;8DAAgD,KAAK,IAAI;;;;;;8DACtE,6LAAC;oDAAE,WAAU;;wDAAgD;wDAAK,KAAK,QAAQ;;;;;;;gDAC9E,KAAK,WAAW,kBACf,6LAAC;oDAAE,WAAU;8DAAiD,KAAK,WAAW;;;;;;8DAEhF,6LAAC;oDAAE,WAAU;oDAAgB,OAAO;wDAAE,OAAO;oDAAe;;wDACzD,gBAAgB,aAAa;wDAC7B,KAAK,KAAK,CAAC,OAAO,CAAC;wDACnB,gBAAgB,SAAS,gBAAgB,QAAQ,MAAM;wDACvD,gBAAgB,aAAa,OAAO;wDACpC,gBAAgB,SAAS,OAAO;;;;;;;;;;;;;oCAIzC;oCACA,OAAO;gCACT;gCAEA,OAAO,UAAU,MAAM,GAAG,kBACxB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,6LAAmB;wCAAC,OAAM;wCAAO,QAAO;kDACvC,cAAA,6LAAC,qKAAS;4CAAC,MAAM;4CAAW,QAAQ;gDAAE,KAAK;gDAAG,OAAO;gDAAI,MAAM;gDAAI,QAAQ;4CAAG;;8DAC5E,6LAAC,iLAAa;oDAAC,iBAAgB;oDAAM,QAAO;oDAAU,WAAU;;;;;;8DAChE,6LAAC,iKAAK;oDACJ,SAAQ;oDACR,OAAO,CAAC;oDACR,YAAW;oDACX,QAAQ;oDACR,UAAU;oDACV,MAAM;wDAAE,UAAU;oDAAG;oDACrB,QAAO;oDACP,OAAO;wDACL,OAAO;wDACP,UAAU;wDACV,QAAQ,CAAC;wDACT,OAAO;4DAAE,UAAU;4DAAI,YAAY;4DAAK,MAAM;wDAAU;oDAC1D;;;;;;8DAEF,6LAAC,iKAAK;oDACJ,OAAO;wDACL,OAAO;wDACP,OAAO,CAAC;wDACR,UAAU;wDACV,OAAO;4DAAE,UAAU;4DAAI,YAAY;wDAAI;oDACzC;oDACA,MAAM;wDAAE,UAAU;oDAAG;oDACrB,QAAO;;;;;;8DAET,6LAAC,qKAAO;oDAAC,uBAAS,6LAAC;;;;;;;;;;8DACnB,6LAAC,+JAAI;oDACH,MAAK;oDACL,SAAQ;oDACR,QAAQ;oDACR,aAAa;oDACb,KAAK;wDAAE,MAAM;wDAAgB,GAAG;oDAAE;oDAClC,WAAW;wDAAE,GAAG;oDAAE;oDAClB,MAAM;;;;;;;;;;;;;;;;;;;;;6FAMd,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,kOAAS;4CAAC,WAAU;;;;;;sDACrB,6LAAC;4CAAE,WAAU;sDAAmC;;;;;;;;;;;;4BAGtD,CAAC;;;;;;;;;;;;;;;;;;;AAOf;GAhhFM;;QACU,qJAAW;QACV,kJAAS;QACH,wJAAe;;;KAHhC;AAkhFN,+DAA+D;AAC/D,MAAM,0BAA0B;IAC9B,qBACE,6LAAC,yKAAQ;QAAC,wBACR,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;kBAGjB,cAAA,6LAAC;;;;;;;;;;AAGP;MAVM;uCAYS","debugId":null}}]
}