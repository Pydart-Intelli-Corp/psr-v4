{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/app/admin/machine/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useUser } from '@/contexts/UserContext';\r\nimport { useLanguage } from '@/contexts/LanguageContext';\r\nimport { \r\n  ArrowLeft,\r\n  Settings,\r\n  MapPin,\r\n  Phone,\r\n  User,\r\n  Calendar,\r\n  Activity,\r\n  Edit3,\r\n  Trash2,\r\n  Building2,\r\n  TrendingUp,\r\n  BarChart3,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Clock,\r\n  X,\r\n  Wrench,\r\n  Cog,\r\n  Timer,\r\n  Zap,\r\n  PieChart,\r\n  Download,\r\n  RefreshCw,\r\n  MoreVertical\r\n} from 'lucide-react';\r\nimport { \r\n  FlowerSpinner,\r\n  LoadingSpinner,\r\n  StatusMessage,\r\n  EmptyState,\r\n  ConfirmDeleteModal,\r\n  FormModal,\r\n  FormInput,\r\n  FormSelect,\r\n  FormActions,\r\n  FormGrid,\r\n  FormError\r\n} from '@/components';\r\nimport LoadingButton from '@/components/loading/LoadingButton';\r\n\r\ninterface MachineDetails {\r\n  id: number;\r\n  machineId: string;\r\n  machineType: string;\r\n  societyId: number;\r\n  societyName?: string;\r\n  location?: string;\r\n  installationDate?: string;\r\n  operatorName?: string;\r\n  contactPhone?: string;\r\n  status: 'active' | 'inactive' | 'maintenance' | 'suspended';\r\n  notes?: string;\r\n  isMasterMachine?: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  lastActivity?: string;\r\n  operationHours?: number;\r\n  maintenanceCount?: number;\r\n  efficiency?: number;\r\n  lastOperationDate?: string;\r\n  totalOperations?: number;\r\n  averageEfficiency?: number;\r\n}\r\n\r\ninterface ActivityLog {\r\n  id: string;\r\n  action: string;\r\n  timestamp: string;\r\n  details: string;\r\n  type: 'info' | 'success' | 'warning' | 'error';\r\n}\r\n\r\nconst mockActivityLogs: ActivityLog[] = [\r\n  {\r\n    id: '1',\r\n    action: 'Machine operation completed',\r\n    timestamp: '2024-11-05T09:30:00Z',\r\n    details: 'Successful milk collection cycle - 500L processed',\r\n    type: 'success'\r\n  },\r\n  {\r\n    id: '2',\r\n    action: 'Maintenance scheduled',\r\n    timestamp: '2024-11-05T08:15:00Z',\r\n    details: 'Routine maintenance scheduled for next week',\r\n    type: 'info'\r\n  },\r\n  {\r\n    id: '3',\r\n    action: 'Performance alert',\r\n    timestamp: '2024-11-04T16:45:00Z',\r\n    details: 'Efficiency dropped below 85% threshold',\r\n    type: 'warning'\r\n  },\r\n  {\r\n    id: '4',\r\n    action: 'System update',\r\n    timestamp: '2024-11-04T14:20:00Z',\r\n    details: 'Firmware updated to version 2.1.3',\r\n    type: 'info'\r\n  }\r\n];\r\n\r\ninterface MachineFormData {\r\n  machineId: string;\r\n  machineType: string;\r\n  societyId: string;\r\n  location: string;\r\n  installationDate: string;\r\n  operatorName: string;\r\n  contactPhone: string;\r\n  status: 'active' | 'inactive' | 'maintenance' | 'suspended';\r\n  notes: string;\r\n}\r\n\r\ninterface Society {\r\n  id: number;\r\n  name: string;\r\n  society_id: string;\r\n}\r\n\r\ninterface MachineType {\r\n  id: number;\r\n  machineType: string;\r\n  description?: string;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface MachineStatistic {\r\n  id: number;\r\n  machine_id: number;\r\n  society_id: number;\r\n  machine_type: string;\r\n  version: string;\r\n  total_test: number;\r\n  daily_cleaning: number;\r\n  weekly_cleaning: number;\r\n  cleaning_skip: number;\r\n  gain: number;\r\n  auto_channel: string;\r\n  statistics_date: string;\r\n  statistics_time: string;\r\n  created_at: string;\r\n}\r\n\r\nexport default function MachineDetails() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const machineId = params.id;\r\n  const { user } = useUser();\r\n  const { t } = useLanguage();\r\n  \r\n  const [machine, setMachine] = useState<MachineDetails | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'analytics' | 'statistics' | 'correction' | 'activity'>('overview');\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [correctionLoading, setCorrectionLoading] = useState(false);\r\n  const [societies, setSocieties] = useState<Society[]>([]);\r\n  const [societiesLoading, setSocietiesLoading] = useState(false);\r\n  const [machineTypes, setMachineTypes] = useState<MachineType[]>([]);\r\n  const [machineTypesLoading, setMachineTypesLoading] = useState(false);\r\n  const [showHistoryModal, setShowHistoryModal] = useState(false);\r\n  const [correctionHistory, setCorrectionHistory] = useState<Array<Record<string, unknown>>>([]);\r\n  const [statistics, setStatistics] = useState<MachineStatistic[]>([]);\r\n  const [statisticsLoading, setStatisticsLoading] = useState(false);\r\n  const [collectionReports, setCollectionReports] = useState<any[]>([]);\r\n  const [fieldErrors, setFieldErrors] = useState<{\r\n    machineId?: string;\r\n    machineType?: string;\r\n    societyId?: string;\r\n  }>({});\r\n  const [formData, setFormData] = useState<MachineFormData>({\r\n    machineId: '',\r\n    machineType: '',\r\n    societyId: '',\r\n    location: '',\r\n    installationDate: '',\r\n    operatorName: '',\r\n    contactPhone: '',\r\n    status: 'active',\r\n    notes: ''\r\n  });\r\n  \r\n  // Correction form data\r\n  const [correctionData, setCorrectionData] = useState({\r\n    channel1_fat: '',\r\n    channel1_snf: '',\r\n    channel1_clr: '',\r\n    channel1_temp: '',\r\n    channel1_water: '',\r\n    channel1_protein: '',\r\n    channel2_fat: '',\r\n    channel2_snf: '',\r\n    channel2_clr: '',\r\n    channel2_temp: '',\r\n    channel2_water: '',\r\n    channel2_protein: '',\r\n    channel3_fat: '',\r\n    channel3_snf: '',\r\n    channel3_clr: '',\r\n    channel3_temp: '',\r\n    channel3_water: '',\r\n    channel3_protein: ''\r\n  });\r\n\r\n  // State for machine correction data\r\n  const [machineCorrection, setMachineCorrection] = useState<any>(null);\r\n  const [showMachineCorrection, setShowMachineCorrection] = useState(false);\r\n  const [machineCorrectionLoading, setMachineCorrectionLoading] = useState(false);\r\n  const [showCorrectionDeleteModal, setShowCorrectionDeleteModal] = useState(false);\r\n  const [selectedCorrections, setSelectedCorrections] = useState<number[]>([]);\r\n  const [deleteLoading, setDeleteLoading] = useState(false);\r\n  \r\n  // State for statistics selection and deletion\r\n  const [showStatisticsDeleteModal, setShowStatisticsDeleteModal] = useState(false);\r\n  const [selectedStatistics, setSelectedStatistics] = useState<number[]>([]);\r\n  const [statisticsDeleteLoading, setStatisticsDeleteLoading] = useState(false);\r\n\r\n  // State for master machine controls\r\n  const [showSetMasterModal, setShowSetMasterModal] = useState(false);\r\n  const [setForAll, setSetForAll] = useState(false);\r\n  const [masterActionLoading, setMasterActionLoading] = useState(false);\r\n\r\n  // State for correction propagation\r\n  const [showCorrectionConfirmModal, setShowCorrectionConfirmModal] = useState(false);\r\n  const [applyCorrectionsToOthers, setApplyCorrectionsToOthers] = useState(false);\r\n  const [selectedMachinesForCorrection, setSelectedMachinesForCorrection] = useState<Set<number>>(new Set());\r\n  const [selectAllMachinesForCorrection, setSelectAllMachinesForCorrection] = useState(false);\r\n  const [otherMachines, setOtherMachines] = useState<Array<{id: number, machineId: string}>>([]);\r\n  const [correctionSaveLoading, setCorrectionSaveLoading] = useState(false);\r\n\r\n  const fetchMachineDetails = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n      if (!token) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      // Fetch real machine data from API\r\n      const response = await fetch(`/api/user/machine?id=${machineId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch machine details');\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success && result.data && result.data.length > 0) {\r\n        const machineData = result.data[0];\r\n        const actualMachineId = machineData.machineId; // Get the actual machine_id string like \"m103\"\r\n        \r\n        // Fetch statistics to calculate real values\r\n        const statsResponse = await fetch(`/api/user/machine/statistics?machineId=${machineId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n\r\n        let calculatedStats = {\r\n          totalOperations: 0,\r\n          operationHours: 0,\r\n          averageEfficiency: 0,\r\n          maintenanceCount: 0,\r\n          lastActivity: machineData.createdAt\r\n        };\r\n\r\n        if (statsResponse.ok) {\r\n          const statsResult = await statsResponse.json();\r\n          if (statsResult.success && Array.isArray(statsResult.data) && statsResult.data.length > 0) {\r\n            const stats = statsResult.data as MachineStatistic[];\r\n            \r\n            // Calculate total operations (sum of all total_test)\r\n            calculatedStats.totalOperations = stats.reduce((sum, stat) => sum + (stat.total_test || 0), 0);\r\n            \r\n            // Calculate operation hours (estimate based on statistics count and average operation time)\r\n            // Assuming each test takes approximately 5 minutes\r\n            calculatedStats.operationHours = Math.round((calculatedStats.totalOperations * 5) / 60);\r\n            \r\n            // Calculate maintenance count (sum of daily + weekly cleanings)\r\n            calculatedStats.maintenanceCount = stats.reduce((sum, stat) => \r\n              sum + (stat.daily_cleaning || 0) + (stat.weekly_cleaning || 0), 0\r\n            );\r\n            \r\n            // Calculate average efficiency based on skip rate as percentage of total tests\r\n            // Efficiency = 100% - (total skips / total tests * 100)\r\n            const totalTests = stats.reduce((sum, stat) => sum + (stat.total_test || 0), 0);\r\n            const totalSkips = stats.reduce((sum, stat) => sum + (stat.cleaning_skip || 0), 0);\r\n            \r\n            if (totalTests > 0) {\r\n              const skipRatePercentage = (totalSkips / totalTests) * 100;\r\n              calculatedStats.averageEfficiency = Math.round(Math.max(0, Math.min(100, 100 - skipRatePercentage)));\r\n            } else {\r\n              calculatedStats.averageEfficiency = 0;\r\n            }\r\n            \r\n            // Get last activity from most recent statistic\r\n            if (stats.length > 0) {\r\n              const sortedStats = [...stats].sort((a, b) => {\r\n                const dateA = new Date(a.statistics_date + ' ' + a.statistics_time).getTime();\r\n                const dateB = new Date(b.statistics_date + ' ' + b.statistics_time).getTime();\r\n                return dateB - dateA;\r\n              });\r\n              const lastStat = sortedStats[0];\r\n              calculatedStats.lastActivity = lastStat.statistics_date + ' ' + lastStat.statistics_time;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Fetch collections, dispatches, and sales data for comprehensive operation metrics\r\n        let collectionCount = 0;\r\n        let dispatchCount = 0;\r\n        let salesCount = 0;\r\n        let lastCollectionDate = new Date(calculatedStats.lastActivity);\r\n\r\n        // Fetch Collections (used for last activity) - Use actual machine_id string for filtering\r\n        try {\r\n          const collectionsResponse = await fetch(`/api/user/reports/collections`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`\r\n            }\r\n          });\r\n          \r\n          if (collectionsResponse.ok) {\r\n            const collectionsResult = await collectionsResponse.json();\r\n            if (collectionsResult.success && Array.isArray(collectionsResult.data)) {\r\n              console.log('ðŸ“¦ Total collections fetched:', collectionsResult.data.length);\r\n              console.log('ðŸ” Filtering for machine ID:', actualMachineId);\r\n              \r\n              // Filter collections by this machine's machineId string\r\n              const machineCollections = collectionsResult.data.filter(\r\n                (col: any) => col.machine_id === actualMachineId\r\n              );\r\n              collectionCount = machineCollections.length;\r\n              \r\n              console.log('âœ… Filtered collections for this machine:', collectionCount);\r\n              \r\n              // Store collection data for overview display\r\n              setCollectionReports(machineCollections);\r\n              \r\n              // Get latest collection date/time for last activity\r\n              if (machineCollections.length > 0) {\r\n                const sortedCollections = [...machineCollections].sort((a: any, b: any) => {\r\n                  const dateA = new Date(a.collection_date + ' ' + (a.collection_time || '00:00:00')).getTime();\r\n                  const dateB = new Date(b.collection_date + ' ' + (b.collection_time || '00:00:00')).getTime();\r\n                  return dateB - dateA;\r\n                });\r\n                \r\n                const lastCollection = sortedCollections[0];\r\n                lastCollectionDate = new Date(lastCollection.collection_date + ' ' + (lastCollection.collection_time || '00:00:00'));\r\n                // Update calculatedStats with the latest collection time\r\n                calculatedStats.lastActivity = lastCollectionDate.toISOString();\r\n              }\r\n            }\r\n          }\r\n        } catch (collectionError) {\r\n          console.log('Collections data not available:', collectionError);\r\n        }\r\n\r\n        // Fetch Dispatches (for operation count only)\r\n        try {\r\n          const dispatchesResponse = await fetch(`/api/user/reports/dispatches?machineId=${machineId}`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`\r\n            }\r\n          });\r\n          \r\n          if (dispatchesResponse.ok) {\r\n            const dispatchesResult = await dispatchesResponse.json();\r\n            if (dispatchesResult.success && Array.isArray(dispatchesResult.data)) {\r\n              dispatchCount = dispatchesResult.data.length;\r\n            }\r\n          }\r\n        } catch (dispatchError) {\r\n          console.log('Dispatches data not available:', dispatchError);\r\n        }\r\n\r\n        // Fetch Sales (for operation count only)\r\n        try {\r\n          const salesResponse = await fetch(`/api/user/reports/sales?machineId=${machineId}`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`\r\n            }\r\n          });\r\n          \r\n          if (salesResponse.ok) {\r\n            const salesResult = await salesResponse.json();\r\n            if (salesResult.success && Array.isArray(salesResult.data)) {\r\n              salesCount = salesResult.data.length;\r\n            }\r\n          }\r\n        } catch (salesError) {\r\n          console.log('Sales data not available:', salesError);\r\n        }\r\n\r\n        // Update calculated stats with real operational data\r\n        const totalRealOperations = collectionCount + dispatchCount + salesCount;\r\n        if (totalRealOperations > 0) {\r\n          calculatedStats.totalOperations = Math.max(calculatedStats.totalOperations, totalRealOperations);\r\n          calculatedStats.operationHours = Math.round((calculatedStats.totalOperations * 5) / 60);\r\n        }\r\n        \r\n        // Last activity is always from the latest collection\r\n        if (collectionCount > 0) {\r\n          calculatedStats.lastActivity = lastCollectionDate.toISOString();\r\n        }\r\n        \r\n        // Add calculated fields to machine data\r\n        const enrichedMachine: MachineDetails = {\r\n          ...machineData,\r\n          operationHours: calculatedStats.operationHours,\r\n          maintenanceCount: calculatedStats.maintenanceCount,\r\n          efficiency: calculatedStats.averageEfficiency,\r\n          totalOperations: calculatedStats.totalOperations,\r\n          averageEfficiency: calculatedStats.averageEfficiency,\r\n          lastActivity: calculatedStats.lastActivity,\r\n          lastOperationDate: calculatedStats.lastActivity\r\n        };\r\n\r\n        setMachine(enrichedMachine);\r\n      } else {\r\n        setError('Machine not found');\r\n        setMachine(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching machine details:', error);\r\n      setError('Failed to load machine details');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [machineId, router]);\r\n\r\n  // Fetch societies for dropdown\r\n  const fetchSocieties = useCallback(async () => {\r\n    try {\r\n      setSocietiesLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      const response = await fetch('/api/user/society', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (result.success && Array.isArray(result.data)) {\r\n        setSocieties(result.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching societies:', error);\r\n    } finally {\r\n      setSocietiesLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch machine types from superadmin\r\n  const fetchMachineTypes = useCallback(async () => {\r\n    try {\r\n      setMachineTypesLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      const response = await fetch('/api/superadmin/machines', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (result.success && Array.isArray(result.data)) {\r\n        setMachineTypes(result.data.filter((type: MachineType) => type.isActive));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching machine types:', error);\r\n    } finally {\r\n      setMachineTypesLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch machine statistics\r\n  const fetchStatistics = useCallback(async () => {\r\n    if (!machineId) return;\r\n    \r\n    try {\r\n      setStatisticsLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      const response = await fetch(`/api/user/machine/statistics?machineId=${machineId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setStatistics(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching statistics:', error);\r\n    } finally {\r\n      setStatisticsLoading(false);\r\n    }\r\n  }, [machineId]);\r\n\r\n  // Load data on mount\r\n  useEffect(() => {\r\n    fetchMachineDetails();\r\n    fetchSocieties();\r\n    fetchMachineTypes();\r\n  }, [fetchMachineDetails, fetchSocieties, fetchMachineTypes]);\r\n\r\n  // Fetch statistics when statistics tab is active\r\n  useEffect(() => {\r\n    if (activeTab === 'statistics') {\r\n      fetchStatistics();\r\n    }\r\n  }, [activeTab, fetchStatistics]);\r\n\r\n  // Open edit modal\r\n  const handleEditClick = () => {\r\n    if (!machine) return;\r\n    \r\n    setFormData({\r\n      machineId: machine.machineId,\r\n      machineType: machine.machineType,\r\n      societyId: machine.societyId.toString(),\r\n      location: machine.location || '',\r\n      installationDate: machine.installationDate || '',\r\n      operatorName: machine.operatorName || '',\r\n      contactPhone: machine.contactPhone || '',\r\n      status: machine.status,\r\n      notes: machine.notes || ''\r\n    });\r\n    setFieldErrors({});\r\n    setError('');\r\n    setShowEditForm(true);\r\n  };\r\n\r\n  // Close edit modal\r\n  const closeEditModal = () => {\r\n    setShowEditForm(false);\r\n    setFieldErrors({});\r\n    setError('');\r\n  };\r\n\r\n  // Update machine\r\n  const handleUpdateMachine = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!machine) return;\r\n\r\n    setFormLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      const response = await fetch('/api/user/machine', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          id: machine.id,\r\n          ...formData,\r\n          societyId: parseInt(formData.societyId)\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccess('Machine updated successfully!');\r\n        setShowEditForm(false);\r\n        await fetchMachineDetails();\r\n        \r\n        setTimeout(() => setSuccess(''), 3000);\r\n      } else {\r\n        const error = await response.json();\r\n        setError(error.error || 'Failed to update machine');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating machine:', error);\r\n      setError('Failed to update machine');\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  // Open delete confirmation modal\r\n  const handleDeleteClick = () => {\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  // Delete machine\r\n  const handleConfirmDelete = async () => {\r\n    if (!machine) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch(`/api/user/machine?id=${machine.id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccess('Machine deleted successfully!');\r\n        setShowDeleteModal(false);\r\n        \r\n        // Redirect to machine list after successful deletion\r\n        setTimeout(() => {\r\n          router.push('/admin/machine');\r\n        }, 1000);\r\n      } else {\r\n        const error = await response.json();\r\n        setError(error.error || 'Failed to delete machine');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting machine:', error);\r\n      setError('Failed to delete machine');\r\n    }\r\n  };\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (field: keyof MachineFormData, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  // Fetch existing correction data\r\n  const fetchCorrectionData = useCallback(async () => {\r\n    if (!machine) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      const response = await fetch(\r\n        `/api/user/machine-correction?machineId=${machine.id}&societyId=${machine.societyId}`,\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.success && result.data) {\r\n        const data = result.data;\r\n        \r\n        // Store history if available\r\n        if (result.history) {\r\n          setCorrectionHistory(result.history);\r\n        }\r\n        \r\n        // Convert database values to strings for form display\r\n        // Convert 0 or null to empty string for better UX\r\n        setCorrectionData({\r\n          channel1_fat: data.channel1_fat ? String(data.channel1_fat) : '',\r\n          channel1_snf: data.channel1_snf ? String(data.channel1_snf) : '',\r\n          channel1_clr: data.channel1_clr ? String(data.channel1_clr) : '',\r\n          channel1_temp: data.channel1_temp ? String(data.channel1_temp) : '',\r\n          channel1_water: data.channel1_water ? String(data.channel1_water) : '',\r\n          channel1_protein: data.channel1_protein ? String(data.channel1_protein) : '',\r\n          channel2_fat: data.channel2_fat ? String(data.channel2_fat) : '',\r\n          channel2_snf: data.channel2_snf ? String(data.channel2_snf) : '',\r\n          channel2_clr: data.channel2_clr ? String(data.channel2_clr) : '',\r\n          channel2_temp: data.channel2_temp ? String(data.channel2_temp) : '',\r\n          channel2_water: data.channel2_water ? String(data.channel2_water) : '',\r\n          channel2_protein: data.channel2_protein ? String(data.channel2_protein) : '',\r\n          channel3_fat: data.channel3_fat ? String(data.channel3_fat) : '',\r\n          channel3_snf: data.channel3_snf ? String(data.channel3_snf) : '',\r\n          channel3_clr: data.channel3_clr ? String(data.channel3_clr) : '',\r\n          channel3_temp: data.channel3_temp ? String(data.channel3_temp) : '',\r\n          channel3_water: data.channel3_water ? String(data.channel3_water) : '',\r\n          channel3_protein: data.channel3_protein ? String(data.channel3_protein) : ''\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching correction data:', error);\r\n    }\r\n  }, [machine]);\r\n\r\n  // Fetch machine correction data (from ESP32 device)\r\n  const fetchMachineCorrection = async () => {\r\n    if (!machine) return;\r\n\r\n    try {\r\n      setMachineCorrectionLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      const response = await fetch(\r\n        `/api/user/machine/correction/${machine.id}`,\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.success) {\r\n        if (result.data && Array.isArray(result.data) && result.data.length > 0) {\r\n          setMachineCorrection(result.data);\r\n          setShowMachineCorrection(true);\r\n          setSuccess(`Loaded ${result.data.length} correction records from machine`);\r\n        } else {\r\n          // No data found - set all correction values to 0.00\r\n          setCorrectionData({\r\n            channel1_fat: '0.00',\r\n            channel1_snf: '0.00',\r\n            channel1_clr: '0.00',\r\n            channel1_temp: '0.00',\r\n            channel1_water: '0.00',\r\n            channel1_protein: '0.00',\r\n            channel2_fat: '0.00',\r\n            channel2_snf: '0.00',\r\n            channel2_clr: '0.00',\r\n            channel2_temp: '0.00',\r\n            channel2_water: '0.00',\r\n            channel2_protein: '0.00',\r\n            channel3_fat: '0.00',\r\n            channel3_snf: '0.00',\r\n            channel3_clr: '0.00',\r\n            channel3_temp: '0.00',\r\n            channel3_water: '0.00',\r\n            channel3_protein: '0.00'\r\n          });\r\n          setMachineCorrection(null);\r\n          setShowMachineCorrection(false);\r\n          setSuccess('No correction data found - all values set to 0.00');\r\n        }\r\n      } else {\r\n        setError(result.error || 'Failed to fetch machine correction data');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching machine correction:', error);\r\n      setError('Failed to fetch machine correction data');\r\n    } finally {\r\n      setMachineCorrectionLoading(false);\r\n    }\r\n  };\r\n\r\n  // Selection handlers for machine corrections\r\n  const handleSelectAll = () => {\r\n    if (selectedCorrections.length === machineCorrection.length) {\r\n      setSelectedCorrections([]);\r\n    } else {\r\n      setSelectedCorrections(machineCorrection.map((c: any) => c.id));\r\n    }\r\n  };\r\n\r\n  const handleSelectCorrection = (id: number) => {\r\n    setSelectedCorrections(prev => \r\n      prev.includes(id) ? prev.filter(cId => cId !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const handleDeleteSelected = () => {\r\n    if (selectedCorrections.length > 0) {\r\n      setShowCorrectionDeleteModal(true);\r\n    }\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!machine || selectedCorrections.length === 0) return;\r\n\r\n    try {\r\n      setDeleteLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n\r\n      const url = `/api/user/machine/correction/${machine.id}`;\r\n      const params = new URLSearchParams();\r\n      params.append('ids', selectedCorrections.join(','));\r\n\r\n      const response = await fetch(`${url}?${params.toString()}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.success) {\r\n        setSuccess(result.message || `${selectedCorrections.length} correction record(s) deleted successfully`);\r\n        setShowCorrectionDeleteModal(false);\r\n        setSelectedCorrections([]);\r\n        // Refresh the correction data\r\n        await fetchMachineCorrection();\r\n      } else {\r\n        setError(result.error || 'Failed to delete correction data');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting correction data:', error);\r\n      setError('Failed to delete correction data');\r\n    } finally {\r\n      setDeleteLoading(false);\r\n    }\r\n  };\r\n\r\n  // Statistics selection handlers\r\n  const handleSelectAllStatistics = () => {\r\n    if (selectedStatistics.length === statistics.length) {\r\n      setSelectedStatistics([]);\r\n    } else {\r\n      setSelectedStatistics(statistics.map((s: MachineStatistic) => s.id));\r\n    }\r\n  };\r\n\r\n  const handleSelectStatistic = (id: number) => {\r\n    setSelectedStatistics(prev => \r\n      prev.includes(id) ? prev.filter(sId => sId !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const handleDeleteSelectedStatistics = () => {\r\n    if (selectedStatistics.length > 0) {\r\n      setShowStatisticsDeleteModal(true);\r\n    }\r\n  };\r\n\r\n  const confirmDeleteStatistics = async () => {\r\n    if (!machine || selectedStatistics.length === 0) return;\r\n\r\n    try {\r\n      setStatisticsDeleteLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n\r\n      const url = `/api/user/machine/statistics`;\r\n      const params = new URLSearchParams();\r\n      params.append('machineId', machine.id.toString());\r\n      params.append('ids', selectedStatistics.join(','));\r\n\r\n      const response = await fetch(`${url}?${params.toString()}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.success) {\r\n        setSuccess(result.message || `${selectedStatistics.length} statistics record(s) deleted successfully`);\r\n        setShowStatisticsDeleteModal(false);\r\n        setSelectedStatistics([]);\r\n        // Refresh the statistics data\r\n        await fetchStatistics();\r\n      } else {\r\n        setError(result.error || 'Failed to delete statistics data');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting statistics data:', error);\r\n      setError('Failed to delete statistics data');\r\n    } finally {\r\n      setStatisticsDeleteLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load history item into form\r\n  const loadHistoryItem = (historyData: Record<string, unknown>) => {\r\n    setCorrectionData({\r\n      channel1_fat: historyData.channel1_fat ? String(historyData.channel1_fat) : '',\r\n      channel1_snf: historyData.channel1_snf ? String(historyData.channel1_snf) : '',\r\n      channel1_clr: historyData.channel1_clr ? String(historyData.channel1_clr) : '',\r\n      channel1_temp: historyData.channel1_temp ? String(historyData.channel1_temp) : '',\r\n      channel1_water: historyData.channel1_water ? String(historyData.channel1_water) : '',\r\n      channel1_protein: historyData.channel1_protein ? String(historyData.channel1_protein) : '',\r\n      channel2_fat: historyData.channel2_fat ? String(historyData.channel2_fat) : '',\r\n      channel2_snf: historyData.channel2_snf ? String(historyData.channel2_snf) : '',\r\n      channel2_clr: historyData.channel2_clr ? String(historyData.channel2_clr) : '',\r\n      channel2_temp: historyData.channel2_temp ? String(historyData.channel2_temp) : '',\r\n      channel2_water: historyData.channel2_water ? String(historyData.channel2_water) : '',\r\n      channel2_protein: historyData.channel2_protein ? String(historyData.channel2_protein) : '',\r\n      channel3_fat: historyData.channel3_fat ? String(historyData.channel3_fat) : '',\r\n      channel3_snf: historyData.channel3_snf ? String(historyData.channel3_snf) : '',\r\n      channel3_clr: historyData.channel3_clr ? String(historyData.channel3_clr) : '',\r\n      channel3_temp: historyData.channel3_temp ? String(historyData.channel3_temp) : '',\r\n      channel3_water: historyData.channel3_water ? String(historyData.channel3_water) : '',\r\n      channel3_protein: historyData.channel3_protein ? String(historyData.channel3_protein) : ''\r\n    });\r\n    setShowHistoryModal(false);\r\n    setSuccess('History data loaded into form');\r\n  };\r\n\r\n  // Handle correction input changes\r\n  const handleCorrectionChange = (field: string, value: string) => {\r\n    // Allow empty string, positive and negative numbers with up to 2 decimal places\r\n    if (value === '' || /^-?\\d*\\.?\\d{0,2}$/.test(value)) {\r\n      setCorrectionData(prev => ({ ...prev, [field]: value }));\r\n    }\r\n  };\r\n\r\n  // Fetch other machines in the same society (excluding current machine)\r\n  const fetchOtherMachines = async () => {\r\n    if (!machine) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch(`/api/user/machine/by-society?societyId=${machine.societyId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        if (result.success && Array.isArray(result.data)) {\r\n          // Filter out current machine\r\n          const others = result.data.filter((m: any) => m.id !== machine.id);\r\n          setOtherMachines(others.map((m: any) => ({ id: m.id, machineId: m.machineId })));\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching other machines:', error);\r\n    }\r\n  };\r\n\r\n  // Handle save correction button click - show confirmation modal\r\n  const handleSaveCorrection = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!machine) return;\r\n\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    // If this is a master machine, show confirmation modal with apply to others option\r\n    if (machine.isMasterMachine) {\r\n      await fetchOtherMachines();\r\n      setApplyCorrectionsToOthers(false);\r\n      setSelectedMachinesForCorrection(new Set());\r\n      setSelectAllMachinesForCorrection(false);\r\n      setShowCorrectionConfirmModal(true);\r\n    } else {\r\n      // For non-master machines, save directly\r\n      await saveCorrectionData(false);\r\n    }\r\n  };\r\n\r\n  // Actually save the correction data\r\n  const saveCorrectionData = async (applyToOthers: boolean) => {\r\n    if (!machine) return;\r\n\r\n    setCorrectionSaveLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      // Convert empty strings to \"0\" before sending\r\n      const dataToSend = {\r\n        machineId: machine.id,\r\n        societyId: machine.societyId,\r\n        channel1_fat: correctionData.channel1_fat || '0',\r\n        channel1_snf: correctionData.channel1_snf || '0',\r\n        channel1_clr: correctionData.channel1_clr || '0',\r\n        channel1_temp: correctionData.channel1_temp || '0',\r\n        channel1_water: correctionData.channel1_water || '0',\r\n        channel1_protein: correctionData.channel1_protein || '0',\r\n        channel2_fat: correctionData.channel2_fat || '0',\r\n        channel2_snf: correctionData.channel2_snf || '0',\r\n        channel2_clr: correctionData.channel2_clr || '0',\r\n        channel2_temp: correctionData.channel2_temp || '0',\r\n        channel2_water: correctionData.channel2_water || '0',\r\n        channel2_protein: correctionData.channel2_protein || '0',\r\n        channel3_fat: correctionData.channel3_fat || '0',\r\n        channel3_snf: correctionData.channel3_snf || '0',\r\n        channel3_clr: correctionData.channel3_clr || '0',\r\n        channel3_temp: correctionData.channel3_temp || '0',\r\n        channel3_water: correctionData.channel3_water || '0',\r\n        channel3_protein: correctionData.channel3_protein || '0'\r\n      };\r\n      \r\n      const response = await fetch('/api/user/machine-correction', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(dataToSend)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.success) {\r\n        let successMessage = 'Correction data saved successfully!';\r\n        let updatedCount = 0;\r\n\r\n        // If master machine and apply to others is enabled\r\n        if (applyToOthers && selectedMachinesForCorrection.size > 0) {\r\n          const machineIds = Array.from(selectedMachinesForCorrection);\r\n          \r\n          // Apply corrections to selected machines in parallel\r\n          const updatePromises = machineIds.map(async (machineId) => {\r\n            try {\r\n              const updateResponse = await fetch('/api/user/machine-correction', {\r\n                method: 'POST',\r\n                headers: {\r\n                  'Authorization': `Bearer ${token}`,\r\n                  'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                  ...dataToSend,\r\n                  machineId: machineId\r\n                })\r\n              });\r\n\r\n              if (updateResponse.ok) {\r\n                updatedCount++;\r\n              }\r\n            } catch (error) {\r\n              console.error(`Error updating machine ${machineId}:`, error);\r\n            }\r\n          });\r\n\r\n          await Promise.all(updatePromises);\r\n          successMessage = `Correction data saved successfully! Applied to ${updatedCount} additional machine(s).`;\r\n        }\r\n\r\n        setSuccess(successMessage);\r\n        setShowCorrectionConfirmModal(false);\r\n        // Fetch the latest data to show what was saved\r\n        await fetchCorrectionData();\r\n        \r\n        setTimeout(() => setSuccess(''), 5000);\r\n      } else {\r\n        setError(result.error || 'Failed to save correction data');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving correction data:', error);\r\n      setError('Failed to save correction data');\r\n    } finally {\r\n      setCorrectionSaveLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle correction confirmation\r\n  const handleCorrectionConfirm = async () => {\r\n    // Validate machine selection if applying to others\r\n    if (applyCorrectionsToOthers && selectedMachinesForCorrection.size === 0) {\r\n      setError('Please select at least one machine to apply corrections');\r\n      return;\r\n    }\r\n\r\n    await saveCorrectionData(applyCorrectionsToOthers);\r\n  };\r\n\r\n  // Toggle select all machines for correction\r\n  const handleToggleSelectAllCorrection = () => {\r\n    if (selectAllMachinesForCorrection) {\r\n      setSelectedMachinesForCorrection(new Set());\r\n      setSelectAllMachinesForCorrection(false);\r\n    } else {\r\n      setSelectedMachinesForCorrection(new Set(otherMachines.map(m => m.id)));\r\n      setSelectAllMachinesForCorrection(true);\r\n    }\r\n  };\r\n\r\n  // Toggle individual machine selection for correction\r\n  const handleToggleMachineCorrection = (machineId: number) => {\r\n    const newSelected = new Set(selectedMachinesForCorrection);\r\n    if (newSelected.has(machineId)) {\r\n      newSelected.delete(machineId);\r\n      setSelectAllMachinesForCorrection(false);\r\n    } else {\r\n      newSelected.add(machineId);\r\n      if (newSelected.size === otherMachines.length) {\r\n        setSelectAllMachinesForCorrection(true);\r\n      }\r\n    }\r\n    setSelectedMachinesForCorrection(newSelected);\r\n  };\r\n\r\n  // Handle set master machine\r\n  const handleSetMasterClick = () => {\r\n    setSetForAll(false);\r\n    setShowSetMasterModal(true);\r\n  };\r\n\r\n  const handleSetMasterConfirm = async () => {\r\n    if (!machine) return;\r\n\r\n    setMasterActionLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      \r\n      const response = await fetch(`/api/user/machine/${machine.id}/set-master`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ setForAll })\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.success) {\r\n        const message = setForAll \r\n          ? 'Master machine set and all machines in society updated successfully!' \r\n          : 'Master machine set successfully!';\r\n        setSuccess(message);\r\n        setShowSetMasterModal(false);\r\n        await fetchMachineDetails();\r\n        setTimeout(() => setSuccess(''), 3000);\r\n      } else {\r\n        setError(result.error || 'Failed to set master machine');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error setting master machine:', error);\r\n      setError('Failed to set master machine');\r\n    } finally {\r\n      setMasterActionLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'active': return 'bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 border-green-200 dark:border-green-800';\r\n      case 'inactive': return 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 border-red-200 dark:border-red-800';\r\n      case 'maintenance': return 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800';\r\n      case 'suspended': return 'bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-800';\r\n      default: return 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600';\r\n    }\r\n  };\r\n\r\n  const getActivityIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'success': return <CheckCircle className=\"w-4 h-4 text-green-500 dark:text-green-400\" />;\r\n      case 'warning': return <AlertCircle className=\"w-4 h-4 text-yellow-500 dark:text-yellow-400\" />;\r\n      case 'error': return <AlertCircle className=\"w-4 h-4 text-red-500 dark:text-red-400\" />;\r\n      default: return <Clock className=\"w-4 h-4 text-blue-500 dark:text-blue-400\" />;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMachineDetails();\r\n    fetchSocieties();\r\n    fetchMachineTypes();\r\n  }, [machineId, fetchMachineDetails, fetchSocieties, fetchMachineTypes]);\r\n\r\n  // Fetch correction data when machine is loaded\r\n  useEffect(() => {\r\n    if (machine) {\r\n      fetchCorrectionData();\r\n    }\r\n  }, [machine, fetchCorrectionData]);\r\n\r\n  // Redirect if no user\r\n  useEffect(() => {\r\n    if (!user) {\r\n      router.push('/login');\r\n    }\r\n  }, [user, router]);\r\n\r\n  // Auto-dismiss success and error messages after 5 seconds\r\n  useEffect(() => {\r\n    if (success) {\r\n      const timer = setTimeout(() => {\r\n        setSuccess('');\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [success]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      const timer = setTimeout(() => {\r\n        setError('');\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [error]);\r\n\r\n  // Manual close handlers\r\n  const handleCloseSuccess = () => setSuccess('');\r\n  const handleCloseError = () => setError('');\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (error || !machine) {\r\n    return (\r\n      <EmptyState\r\n        icon={<AlertCircle className=\"w-10 h-10\" />}\r\n        title={`Machine Details ${t.common?.noDataAvailable || 'Not Available'}`}\r\n        message={error || 'Machine not found'}\r\n        actionText={`${t.common?.back || 'Back'} to Machines`}\r\n        onAction={() => router.push('/admin/machine')}\r\n        showAction={true}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 lg:pb-8\">\r\n      {/* Header - Mobile Responsive */}\r\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"px-4 sm:px-6 py-3 sm:py-4\">\r\n          {/* Mobile: Stack layout */}\r\n          <div className=\"flex flex-col gap-3 sm:gap-4\">\r\n            {/* Top Row: Back button + Title + 3-dot menu */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <button\r\n                onClick={() => router.push('/admin/machine')}\r\n                className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n              </button>\r\n              <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\r\n                <div className=\"p-2 sm:p-3 bg-gradient-to-r from-green-600 to-emerald-600 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                  <Settings className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-center gap-2 flex-wrap\">\r\n                    <h1 className=\"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100\">{machine.machineId}</h1>\r\n                    {machine.isMasterMachine && (\r\n                      <span className=\"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-yellow-400 to-amber-500 text-gray-900 rounded-full border border-yellow-600 shadow-sm\">\r\n                        Master Machine\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate\">{machine.machineType}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* 3-dot menu dropdown */}\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n                  className=\"flex items-center justify-center p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px]\"\r\n                >\r\n                  <MoreVertical className=\"w-5 h-5\" />\r\n                </button>\r\n                \r\n                {/* Dropdown Menu */}\r\n                {isMenuOpen && (\r\n                  <>\r\n                    {/* Backdrop to close menu */}\r\n                    <div \r\n                      className=\"fixed inset-0 z-10\" \r\n                      onClick={() => setIsMenuOpen(false)}\r\n                    />\r\n                    \r\n                    {/* Menu Items */}\r\n                    <motion.div\r\n                      initial={{ opacity: 0, scale: 0.95, y: -10 }}\r\n                      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                      exit={{ opacity: 0, scale: 0.95, y: -10 }}\r\n                      transition={{ duration: 0.15, ease: \"easeOut\" }}\r\n                      className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20\"\r\n                    >\r\n                      <button\r\n                        onClick={() => {\r\n                          handleEditClick();\r\n                          setIsMenuOpen(false);\r\n                        }}\r\n                        className=\"flex items-center gap-3 w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors rounded-t-lg\"\r\n                      >\r\n                        <Edit3 className=\"w-4 h-4 text-green-600 dark:text-green-500\" />\r\n                        <span>{t.common?.edit || 'Edit'}</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          handleDeleteClick();\r\n                          setIsMenuOpen(false);\r\n                        }}\r\n                        className=\"flex items-center gap-3 w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors rounded-b-lg\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4 text-red-600 dark:text-red-500\" />\r\n                        <span>{t.common?.delete || 'Delete'}</span>\r\n                      </button>\r\n                    </motion.div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bottom Row: Status */}\r\n            <div className=\"flex items-center justify-between gap-3\">\r\n              <span className={`px-3 py-1 text-xs sm:text-sm font-medium rounded-full border ${getStatusColor(machine.status)}`}>\r\n                {machine.status}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs - Horizontal Scroll on Mobile */}\r\n          <div className=\"px-4 sm:px-6 overflow-x-auto scrollbar-hide\">\r\n            <div className=\"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0\">\r\n              {[\r\n                { id: 'overview' as const, label: t.dashboard?.overview || 'Overview', icon: Building2 },\r\n                { id: 'statistics' as const, label: 'Statistics', icon: PieChart },\r\n                { id: 'correction' as const, label: 'Correction', icon: Settings }\r\n              ].map((tab) => (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${\r\n                    activeTab === tab.id\r\n                      ? 'text-blue-600 dark:text-blue-500'\r\n                      : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n                  }`}\r\n                >\r\n                  <tab.icon className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                  <span className=\"text-xs sm:text-sm md:text-base\">{tab.label}</span>\r\n                  {activeTab === tab.id && (\r\n                    <motion.div\r\n                      layoutId=\"activeTab\"\r\n                      className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500\"\r\n                      initial={false}\r\n                      transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n                    />\r\n                  )}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content - Responsive Padding */}\r\n        <div className=\"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6\">\r\n          {activeTab === 'overview' && (\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n              {/* Basic Information - Full width on mobile */}\r\n              <div className=\"lg:col-span-2 space-y-4 sm:space-y-6\">\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                  <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4\">Machine Information</h3>\r\n                  <div className=\"grid grid-cols-1 gap-3 sm:gap-4\">\r\n                    <div className=\"flex items-start gap-3\">\r\n                      <Cog className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">Machine ID</p>\r\n                        <p className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words\">{machine.machineId}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-start gap-3\">\r\n                      <Wrench className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">Machine Type</p>\r\n                        <p className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words\">{machine.machineType}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {machine.societyName && (\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <Building2 className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">Society</p>\r\n                          <p className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words\">{machine.societyName}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {machine.location && (\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <MapPin className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">Location</p>\r\n                          <p className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words\">{machine.location}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {machine.operatorName && (\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <User className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">Operator</p>\r\n                          <p className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words\">{machine.operatorName}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {machine.contactPhone && (\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <Phone className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">Contact</p>\r\n                          <p className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-all\">{machine.contactPhone}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {machine.installationDate && (\r\n                      <div className=\"flex items-start gap-3\">\r\n                        <Calendar className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">Installation Date</p>\r\n                          <p className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100\">{new Date(machine.installationDate).toLocaleDateString()}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div className=\"flex items-start gap-3\">\r\n                      <Calendar className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0\" />\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">{t.common?.createdAt || 'Created At'}</p>\r\n                        <p className=\"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100\">{new Date(machine.createdAt).toLocaleDateString()}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Notes */}\r\n                  {machine.notes && (\r\n                    <div className=\"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\">\r\n                      <p className=\"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 mb-2\">Notes</p>\r\n                      <p className=\"text-sm sm:text-base text-gray-900 dark:text-gray-100 whitespace-pre-wrap\">{machine.notes}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Statistics Cards - Mobile: 1 column, Tablet: 2 columns */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4\">\r\n                  {/* Operation Hours Card */}\r\n                  <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg sm:rounded-xl border border-blue-200 dark:border-blue-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-xs sm:text-sm font-medium text-blue-700 dark:text-blue-400\">Operation Hours</p>\r\n                        <p className=\"text-2xl sm:text-3xl font-bold text-blue-900 dark:text-blue-100 mt-1\">\r\n                          {machine.operationHours || 0}\r\n                          <span className=\"text-lg sm:text-xl ml-1\">hrs</span>\r\n                        </p>\r\n                        <p className=\"text-xs sm:text-sm text-blue-600 dark:text-blue-400 mt-1\">\r\n                          {machine.operationHours \r\n                            ? `${Math.round(machine.operationHours / 24)} days of operation`\r\n                            : 'No operation data yet'}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"bg-blue-100 dark:bg-blue-800/50 p-3 rounded-xl\">\r\n                        <Timer className=\"w-7 h-7 sm:w-8 sm:h-8 text-blue-600 dark:text-blue-400 flex-shrink-0\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Maintenance Count Card */}\r\n                  <div className=\"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg sm:rounded-xl border border-yellow-200 dark:border-yellow-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-xs sm:text-sm font-medium text-yellow-700 dark:text-yellow-400\">Maintenance Count</p>\r\n                        <p className=\"text-2xl sm:text-3xl font-bold text-yellow-900 dark:text-yellow-100 mt-1\">\r\n                          {machine.maintenanceCount || 0}\r\n                        </p>\r\n                        <p className=\"text-xs sm:text-sm text-yellow-600 dark:text-yellow-400 mt-1\">\r\n                          {machine.maintenanceCount \r\n                            ? 'Cleaning cycles completed'\r\n                            : 'No maintenance data'}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"bg-yellow-100 dark:bg-yellow-800/50 p-3 rounded-xl\">\r\n                        <Wrench className=\"w-7 h-7 sm:w-8 sm:h-8 text-yellow-600 dark:text-yellow-400 flex-shrink-0\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Efficiency Card */}\r\n                  <div className={`bg-gradient-to-br rounded-lg sm:rounded-xl border shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow ${\r\n                    (machine.efficiency ?? 0) >= 90 \r\n                      ? 'from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-green-200 dark:border-green-800'\r\n                      : (machine.efficiency ?? 0) >= 75\r\n                      ? 'from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-yellow-200 dark:border-yellow-800'\r\n                      : 'from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-red-200 dark:border-red-800'\r\n                  }`}>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className={`text-xs sm:text-sm font-medium ${\r\n                          (machine.efficiency ?? 0) >= 90 \r\n                            ? 'text-green-700 dark:text-green-400'\r\n                            : (machine.efficiency ?? 0) >= 75\r\n                            ? 'text-yellow-700 dark:text-yellow-400'\r\n                            : 'text-red-700 dark:text-red-400'\r\n                        }`}>Performance Efficiency</p>\r\n                        <p className={`text-2xl sm:text-3xl font-bold mt-1 ${\r\n                          (machine.efficiency ?? 0) >= 90 \r\n                            ? 'text-green-900 dark:text-green-100'\r\n                            : (machine.efficiency ?? 0) >= 75\r\n                            ? 'text-yellow-900 dark:text-yellow-100'\r\n                            : 'text-red-900 dark:text-red-100'\r\n                        }`}>\r\n                          {machine.efficiency ?? 0}%\r\n                        </p>\r\n                        <p className={`text-xs sm:text-sm mt-1 ${\r\n                          (machine.efficiency ?? 0) >= 90 \r\n                            ? 'text-green-600 dark:text-green-400'\r\n                            : (machine.efficiency ?? 0) >= 75\r\n                            ? 'text-yellow-600 dark:text-yellow-400'\r\n                            : 'text-red-600 dark:text-red-400'\r\n                        }`}>\r\n                          {(machine.efficiency ?? 0) >= 90 \r\n                            ? 'Excellent performance'\r\n                            : (machine.efficiency ?? 0) >= 75\r\n                            ? 'Good performance'\r\n                            : (machine.efficiency ?? 0) > 0\r\n                            ? 'Needs attention'\r\n                            : 'No efficiency data'}\r\n                        </p>\r\n                      </div>\r\n                      <div className={`p-3 rounded-xl ${\r\n                        (machine.efficiency ?? 0) >= 90 \r\n                          ? 'bg-green-100 dark:bg-green-800/50'\r\n                          : (machine.efficiency ?? 0) >= 75\r\n                          ? 'bg-yellow-100 dark:bg-yellow-800/50'\r\n                          : 'bg-red-100 dark:bg-red-800/50'\r\n                      }`}>\r\n                        <Zap className={`w-7 h-7 sm:w-8 sm:h-8 flex-shrink-0 ${\r\n                          (machine.efficiency ?? 0) >= 90 \r\n                            ? 'text-green-600 dark:text-green-400'\r\n                            : (machine.efficiency ?? 0) >= 75\r\n                            ? 'text-yellow-600 dark:text-yellow-400'\r\n                            : 'text-red-600 dark:text-red-400'\r\n                        }`} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Total Operations Card */}\r\n                  <div className=\"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/20 dark:to-violet-900/20 rounded-lg sm:rounded-xl border border-purple-200 dark:border-purple-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-xs sm:text-sm font-medium text-purple-700 dark:text-purple-400\">Total Operations</p>\r\n                        <p className=\"text-2xl sm:text-3xl font-bold text-purple-900 dark:text-purple-100 mt-1\">\r\n                          {machine.totalOperations?.toLocaleString() || 0}\r\n                        </p>\r\n                        <p className=\"text-xs sm:text-sm text-purple-600 dark:text-purple-400 mt-1\">\r\n                          {machine.totalOperations \r\n                            ? 'Tests & collections processed'\r\n                            : 'No operations recorded'}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"bg-purple-100 dark:bg-purple-800/50 p-3 rounded-xl\">\r\n                        <TrendingUp className=\"w-7 h-7 sm:w-8 sm:h-8 text-purple-600 dark:text-purple-400 flex-shrink-0\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Collection Reports Section */}\r\n                {collectionReports.length > 0 && (\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6 mt-6\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"p-2 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg\">\r\n                          <Activity className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n                        </div>\r\n                        <div>\r\n                          <h3 className=\"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100\">Collection Reports</h3>\r\n                          <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">Milk collection data and metrics</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                      {/* Total Collections */}\r\n                      <div className=\"bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800 p-4 hover:shadow-md transition-shadow\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"text-xs font-medium text-cyan-700 dark:text-cyan-400 mb-1\">Total Collections</p>\r\n                            <p className=\"text-2xl font-bold text-cyan-900 dark:text-cyan-100\">\r\n                              {collectionReports.length.toLocaleString()}\r\n                            </p>\r\n                            <p className=\"text-xs text-cyan-600 dark:text-cyan-400 mt-1\">All time</p>\r\n                          </div>\r\n                          <div className=\"bg-cyan-100 dark:bg-cyan-900/40 p-2 rounded-lg\">\r\n                            <BarChart3 className=\"w-5 h-5 text-cyan-600 dark:text-cyan-400\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Total Quantity */}\r\n                      <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-800 p-4 hover:shadow-md transition-shadow\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"text-xs font-medium text-blue-700 dark:text-blue-400 mb-1\">Total Quantity</p>\r\n                            <p className=\"text-2xl font-bold text-blue-900 dark:text-blue-100\">\r\n                              {collectionReports.reduce((sum, col) => sum + (parseFloat(col.quantity) || 0), 0).toFixed(2)}\r\n                            </p>\r\n                            <p className=\"text-xs text-blue-600 dark:text-blue-400 mt-1\">Liters</p>\r\n                          </div>\r\n                          <div className=\"bg-blue-100 dark:bg-blue-900/40 p-2 rounded-lg\">\r\n                            <TrendingUp className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Average per Collection */}\r\n                      <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-200 dark:border-indigo-800 p-4 hover:shadow-md transition-shadow\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"text-xs font-medium text-indigo-700 dark:text-indigo-400 mb-1\">Avg per Collection</p>\r\n                            <p className=\"text-2xl font-bold text-indigo-900 dark:text-indigo-100\">\r\n                              {collectionReports.length > 0 \r\n                                ? (collectionReports.reduce((sum, col) => sum + (parseFloat(col.quantity) || 0), 0) / collectionReports.length).toFixed(2)\r\n                                : '0.00'}\r\n                            </p>\r\n                            <p className=\"text-xs text-indigo-600 dark:text-indigo-400 mt-1\">Liters</p>\r\n                          </div>\r\n                          <div className=\"bg-indigo-100 dark:bg-indigo-900/40 p-2 rounded-lg\">\r\n                            <PieChart className=\"w-5 h-5 text-indigo-600 dark:text-indigo-400\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Last 7 Days */}\r\n                      <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-200 dark:border-purple-800 p-4 hover:shadow-md transition-shadow\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"text-xs font-medium text-purple-700 dark:text-purple-400 mb-1\">Last 7 Days</p>\r\n                            <p className=\"text-2xl font-bold text-purple-900 dark:text-purple-100\">\r\n                              {(() => {\r\n                                const sevenDaysAgo = new Date();\r\n                                sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\r\n                                return collectionReports.filter(col => {\r\n                                  const colDate = new Date(col.collection_date);\r\n                                  return colDate >= sevenDaysAgo;\r\n                                }).length.toLocaleString();\r\n                              })()}\r\n                            </p>\r\n                            <p className=\"text-xs text-purple-600 dark:text-purple-400 mt-1\">Collections</p>\r\n                          </div>\r\n                          <div className=\"bg-purple-100 dark:bg-purple-900/40 p-2 rounded-lg\">\r\n                            <Clock className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Recent Collections Table */}\r\n                    <div className=\"mt-6\">\r\n                      <h4 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3\">Recent Collections</h4>\r\n                      <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full\">\r\n                          <thead>\r\n                            <tr className=\"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700\">\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider\">Date</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider\">Time</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider\">Farmer ID</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider\">Quantity</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider\">FAT</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider\">SNF</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider\">Shift</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                            {[...collectionReports]\r\n                              .sort((a, b) => {\r\n                                const dateA = new Date(a.collection_date + ' ' + (a.collection_time || '00:00:00')).getTime();\r\n                                const dateB = new Date(b.collection_date + ' ' + (b.collection_time || '00:00:00')).getTime();\r\n                                return dateB - dateA;\r\n                              })\r\n                              .slice(0, 10)\r\n                              .map((collection, index) => (\r\n                                <tr key={index} className=\"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\">\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-900 dark:text-gray-100\">\r\n                                    {new Date(collection.collection_date).toLocaleDateString()}\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-900 dark:text-gray-100\">\r\n                                    {collection.collection_time || 'N/A'}\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-900 dark:text-gray-100\">\r\n                                    {collection.farmer_id || 'N/A'}\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm font-medium text-blue-600 dark:text-blue-400\">\r\n                                    {parseFloat(collection.quantity || 0).toFixed(2)} L\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-900 dark:text-gray-100\">\r\n                                    {parseFloat(collection.fat || 0).toFixed(2)}%\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-900 dark:text-gray-100\">\r\n                                    {parseFloat(collection.snf || 0).toFixed(2)}%\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm\">\r\n                                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                                      collection.shift_type === 'Morning' \r\n                                        ? 'bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300'\r\n                                        : 'bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300'\r\n                                    }`}>\r\n                                      {collection.shift_type || 'N/A'}\r\n                                    </span>\r\n                                  </td>\r\n                                </tr>\r\n                              ))}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Quick Actions - Moved to bottom on mobile, sidebar on desktop */}\r\n              <div className=\"lg:col-span-1\">\r\n                <div className=\"sticky top-4 space-y-4 sm:space-y-6\">\r\n                  {/* Quick Actions */}\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                    <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4\">Quick Actions</h3>\r\n                    <div className=\"space-y-2 sm:space-y-3\">\r\n                      <button \r\n                        onClick={() => router.push(`/admin/reports?machineFilter=${machine.machineId}`)}\r\n                        className=\"w-full flex items-center px-3 sm:px-4 py-2.5 sm:py-3 text-left text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/20 dark:hover:to-indigo-900/20 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700 rounded-lg transition-all duration-200 min-h-[44px] group\">\r\n                        <div className=\"p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded group-hover:bg-blue-200 dark:group-hover:bg-blue-800/40 transition-colors\">\r\n                          <BarChart3 className=\"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0\" />\r\n                        </div>\r\n                        <span className=\"ml-3 truncate\">Reports</span>\r\n                      </button>\r\n                      <button \r\n                        onClick={() => router.push(`/admin/analytics?machineFilter=${machine.machineId}`)}\r\n                        className=\"w-full flex items-center px-3 sm:px-4 py-2.5 sm:py-3 text-left text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 hover:bg-gradient-to-r hover:from-purple-50 hover:to-violet-50 dark:hover:from-purple-900/20 dark:hover:to-violet-900/20 border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700 rounded-lg transition-all duration-200 min-h-[44px] group\">\r\n                        <div className=\"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded group-hover:bg-purple-200 dark:group-hover:bg-purple-800/40 transition-colors\">\r\n                          <TrendingUp className=\"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 dark:text-purple-400 flex-shrink-0\" />\r\n                        </div>\r\n                        <span className=\"ml-3 truncate\">Analytics</span>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Last Activity & Machine Health */}\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                    <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4\">Machine Health</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {/* Last Activity */}\r\n                      {machine.lastActivity && (\r\n                        <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                          <Activity className=\"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5\" />\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1\">Last Activity</p>\r\n                            <p className=\"text-sm text-gray-900 dark:text-gray-100 break-words\">\r\n                              {new Date(machine.lastActivity).toLocaleString()}\r\n                            </p>\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                              {(() => {\r\n                                const lastActivityDate = new Date(machine.lastActivity);\r\n                                const now = new Date();\r\n                                const diffMs = now.getTime() - lastActivityDate.getTime();\r\n                                const diffMins = Math.round(diffMs / 60000);\r\n                                const diffHours = Math.round(diffMs / 3600000);\r\n                                const diffDays = Math.round(diffMs / 86400000);\r\n                                \r\n                                if (diffMins < 60) return `${diffMins} minutes ago`;\r\n                                if (diffHours < 24) return `${diffHours} hours ago`;\r\n                                return `${diffDays} days ago`;\r\n                              })()}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {/* Health Status Indicator */}\r\n                      <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                        <div className={`w-4 h-4 rounded-full flex-shrink-0 mt-0.5 ${\r\n                          machine.status === 'active' \r\n                            ? 'bg-green-500 animate-pulse'\r\n                            : machine.status === 'maintenance'\r\n                            ? 'bg-yellow-500'\r\n                            : 'bg-gray-400'\r\n                        }`} />\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1\">Status</p>\r\n                          <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100 capitalize\">\r\n                            {machine.status}\r\n                          </p>\r\n                          {machine.status === 'active' && (\r\n                            <p className=\"text-xs text-green-600 dark:text-green-400 mt-1\">\r\n                              Machine is operational\r\n                            </p>\r\n                          )}\r\n                          {machine.status === 'maintenance' && (\r\n                            <p className=\"text-xs text-yellow-600 dark:text-yellow-400 mt-1\">\r\n                              Under maintenance\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'correction' && (\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">Machine Correction Data</h3>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">Configure correction values for all three channels</p>\r\n              </div>\r\n              \r\n              <form onSubmit={handleSaveCorrection} className=\"space-y-6\">\r\n                {/* Channel 1 - Emerald Theme */}\r\n                <div className=\"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-2 border-emerald-200 dark:border-emerald-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md\">\r\n                  <div className=\"flex items-center gap-2 mb-5\">\r\n                    <div className=\"p-2 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg\">\r\n                      <Zap className=\"w-5 h-5 text-emerald-600 dark:text-emerald-400\" />\r\n                    </div>\r\n                    <h4 className=\"text-base sm:text-lg font-bold text-emerald-900 dark:text-emerald-100\">Channel 1</h4>\r\n                    <span className=\"ml-auto px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 text-xs font-semibold rounded-full\">Primary</span>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    <FormInput\r\n                      label=\"Fat (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel1_fat}\r\n                      onChange={(value) => handleCorrectionChange('channel1_fat', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"SNF (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel1_snf}\r\n                      onChange={(value) => handleCorrectionChange('channel1_snf', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"CLR\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel1_clr}\r\n                      onChange={(value) => handleCorrectionChange('channel1_clr', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Temp (Â°C)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel1_temp}\r\n                      onChange={(value) => handleCorrectionChange('channel1_temp', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Water (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel1_water}\r\n                      onChange={(value) => handleCorrectionChange('channel1_water', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Protein (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel1_protein}\r\n                      onChange={(value) => handleCorrectionChange('channel1_protein', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Channel 2 - Green Theme */}\r\n                <div className=\"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-2 border-emerald-200 dark:border-emerald-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md\">\r\n                  <div className=\"flex items-center gap-2 mb-5\">\r\n                    <div className=\"p-2 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg\">\r\n                      <Zap className=\"w-5 h-5 text-emerald-600 dark:text-emerald-400\" />\r\n                    </div>\r\n                    <h4 className=\"text-base sm:text-lg font-bold text-emerald-900 dark:text-emerald-100\">Channel 2</h4>\r\n                    <span className=\"ml-auto px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 text-xs font-semibold rounded-full\">Secondary</span>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    <FormInput\r\n                      label=\"Fat (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel2_fat}\r\n                      onChange={(value) => handleCorrectionChange('channel2_fat', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"SNF (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel2_snf}\r\n                      onChange={(value) => handleCorrectionChange('channel2_snf', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"CLR\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel2_clr}\r\n                      onChange={(value) => handleCorrectionChange('channel2_clr', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Temp (Â°C)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel2_temp}\r\n                      onChange={(value) => handleCorrectionChange('channel2_temp', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Water (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel2_water}\r\n                      onChange={(value) => handleCorrectionChange('channel2_water', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Protein (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel2_protein}\r\n                      onChange={(value) => handleCorrectionChange('channel2_protein', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Channel 3 - Green Theme */}\r\n                <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md\">\r\n                  <div className=\"flex items-center gap-2 mb-5\">\r\n                    <div className=\"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg\">\r\n                      <Zap className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n                    </div>\r\n                    <h4 className=\"text-base sm:text-lg font-bold text-green-900 dark:text-green-100\">Channel 3</h4>\r\n                    <span className=\"ml-auto px-3 py-1 bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 text-xs font-semibold rounded-full\">Tertiary</span>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    <FormInput\r\n                      label=\"Fat (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel3_fat}\r\n                      onChange={(value) => handleCorrectionChange('channel3_fat', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"SNF (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel3_snf}\r\n                      onChange={(value) => handleCorrectionChange('channel3_snf', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"CLR\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel3_clr}\r\n                      onChange={(value) => handleCorrectionChange('channel3_clr', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Temp (Â°C)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel3_temp}\r\n                      onChange={(value) => handleCorrectionChange('channel3_temp', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Water (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel3_water}\r\n                      onChange={(value) => handleCorrectionChange('channel3_water', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                    <FormInput\r\n                      label=\"Protein (%)\"\r\n                      type=\"number\"\r\n                      value={correctionData.channel3_protein}\r\n                      onChange={(value) => handleCorrectionChange('channel3_protein', value)}\r\n                      placeholder=\"0.00\"\r\n                      step=\"0.01\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Save Button */}\r\n                <div className=\"flex flex-col sm:flex-row gap-3 justify-end pt-6 border-t border-gray-200 dark:border-gray-700\">\r\n                  <LoadingButton\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"medium\"\r\n                    isLoading={machineCorrectionLoading}\r\n                    onClick={fetchMachineCorrection}\r\n                    className=\"min-h-[44px]\"\r\n                  >\r\n                    <Download className=\"w-4 h-4 mr-2\" />\r\n                    From Machine\r\n                  </LoadingButton>\r\n                  <LoadingButton\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"medium\"\r\n                    isLoading={false}\r\n                    onClick={() => setShowHistoryModal(true)}\r\n                    disabled={correctionHistory.length === 0}\r\n                    className=\"min-h-[44px]\"\r\n                  >\r\n                    <Clock className=\"w-4 h-4 mr-2\" />\r\n                    History ({correctionHistory.length})\r\n                  </LoadingButton>\r\n                  <LoadingButton\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"medium\"\r\n                    isLoading={false}\r\n                    onClick={() => setCorrectionData({\r\n                      channel1_fat: '', channel1_snf: '', channel1_clr: '', channel1_temp: '', channel1_water: '', channel1_protein: '',\r\n                      channel2_fat: '', channel2_snf: '', channel2_clr: '', channel2_temp: '', channel2_water: '', channel2_protein: '',\r\n                      channel3_fat: '', channel3_snf: '', channel3_clr: '', channel3_temp: '', channel3_water: '', channel3_protein: ''\r\n                    })}\r\n                    className=\"min-h-[44px]\"\r\n                  >\r\n                    <X className=\"w-4 h-4 mr-2\" />\r\n                    Clear All\r\n                  </LoadingButton>\r\n                  <LoadingButton\r\n                    type=\"submit\"\r\n                    variant=\"primary\"\r\n                    size=\"medium\"\r\n                    isLoading={correctionLoading}\r\n                    loadingText=\"Saving Corrections...\"\r\n                    className=\"min-h-[44px]\"\r\n                  >\r\n                    <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                    Save Correction Data\r\n                  </LoadingButton>\r\n                </div>\r\n              </form>\r\n\r\n              {/* Machine Correction Data Table */}\r\n              {showMachineCorrection && machineCorrection && Array.isArray(machineCorrection) && machine && (\r\n                <div className=\"mt-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/10 dark:to-teal-900/10 rounded-lg sm:rounded-xl border border-emerald-200 dark:border-emerald-800 p-4 sm:p-6\">\r\n                  <div className=\"flex items-center justify-between mb-4\">\r\n                    <div>\r\n                      <h4 className=\"text-lg font-bold text-emerald-900 dark:text-emerald-100\">\r\n                        Daily Corrections from Machine\r\n                      </h4>\r\n                      <p className=\"text-sm text-emerald-700 dark:text-emerald-300 mt-1\">\r\n                        Machine: {machine.machineId} (ID: {machine.id}) â€¢ Society: {machine.societyName} â€¢ {machineCorrection.length} {machineCorrection.length === 1 ? 'day' : 'days'} of data\r\n                        {selectedCorrections.length > 0 && ` â€¢ ${selectedCorrections.length} selected`}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={handleSelectAll}\r\n                        className=\"px-3 py-1.5 text-xs font-medium text-emerald-700 dark:text-emerald-300 bg-emerald-100 dark:bg-emerald-900/30 hover:bg-emerald-200 dark:hover:bg-emerald-900/50 rounded-lg transition-colors\"\r\n                        title={selectedCorrections.length === machineCorrection.length ? \"Deselect all\" : \"Select all\"}\r\n                      >\r\n                        {selectedCorrections.length === machineCorrection.length ? 'Deselect All' : 'Select All'}\r\n                      </button>\r\n                      {selectedCorrections.length > 0 && (\r\n                        <button\r\n                          onClick={handleDeleteSelected}\r\n                          className=\"px-3 py-1.5 text-xs font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 rounded-lg transition-colors flex items-center gap-1\"\r\n                          title=\"Delete selected records\"\r\n                        >\r\n                          <Trash2 className=\"w-3.5 h-3.5\" />\r\n                          Delete ({selectedCorrections.length})\r\n                        </button>\r\n                      )}\r\n                      <button\r\n                        onClick={() => setShowMachineCorrection(false)}\r\n                        className=\"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200\"\r\n                      >\r\n                        <X className=\"w-5 h-5\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-4\">\r\n                    {machineCorrection.map((correction: any, index: number) => (\r\n                      <div key={correction.id} className={`bg-white dark:bg-gray-800 rounded-lg p-4 border transition-colors ${\r\n                        selectedCorrections.includes(correction.id)\r\n                          ? 'border-emerald-500 dark:border-emerald-400 ring-2 ring-emerald-200 dark:ring-emerald-800'\r\n                          : 'border-emerald-200 dark:border-emerald-700'\r\n                      }`}>\r\n                        <div className=\"flex items-center justify-between mb-3\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={selectedCorrections.includes(correction.id)}\r\n                              onChange={() => handleSelectCorrection(correction.id)}\r\n                              className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-emerald-500 focus:ring-2 cursor-pointer\"\r\n                            />\r\n                            <span className={`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${\r\n                              index === 0 \r\n                                ? 'bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300'\r\n                                : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\r\n                            }`}>\r\n                              {index === 0 ? 'ðŸ”´ Today' : correction.date}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                              Last updated: {new Date(correction.lastUpdated).toLocaleString()}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"overflow-x-auto\">\r\n                          <table className=\"w-full text-sm\">\r\n                            <thead>\r\n                              <tr className=\"border-b border-emerald-200 dark:border-emerald-700\">\r\n                                <th className=\"text-left py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100\">\r\n                                  Parameter\r\n                                </th>\r\n                                <th className=\"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100\">\r\n                                  Channel 1 (COW)\r\n                                </th>\r\n                                <th className=\"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100\">\r\n                                  Channel 2 (BUF)\r\n                                </th>\r\n                                <th className=\"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100\">\r\n                                  Channel 3 (MIX)\r\n                                </th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody className=\"divide-y divide-emerald-100 dark:divide-emerald-800\">\r\n                              <tr>\r\n                                <td className=\"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100\">Fat (%)</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel1.fat || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel2.fat || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel3.fat || '-'}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td className=\"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100\">SNF (%)</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel1.snf || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel2.snf || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel3.snf || '-'}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td className=\"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100\">CLR</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel1.clr || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel2.clr || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel3.clr || '-'}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td className=\"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100\">Temp (Â°C)</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel1.temp || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel2.temp || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel3.temp || '-'}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td className=\"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100\">Water (%)</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel1.water || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel2.water || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel3.water || '-'}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td className=\"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100\">Protein (%)</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel1.protein || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel2.protein || '-'}</td>\r\n                                <td className=\"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200\">{correction.channel3.protein || '-'}</td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'statistics' && (\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n              <div className=\"mb-6 flex items-center justify-between\">\r\n                <div>\r\n                  <h3 className=\"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">Machine Statistics</h3>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    Operational statistics and performance metrics\r\n                    {selectedStatistics.length > 0 && ` â€¢ ${selectedStatistics.length} selected`}\r\n                  </p>\r\n                </div>\r\n                {statistics.length > 0 && (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      onClick={handleSelectAllStatistics}\r\n                      className=\"px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 rounded-lg transition-colors\"\r\n                      title={selectedStatistics.length === statistics.length ? \"Deselect all\" : \"Select all\"}\r\n                    >\r\n                      {selectedStatistics.length === statistics.length ? 'Deselect All' : 'Select All'}\r\n                    </button>\r\n                    <button\r\n                      onClick={fetchStatistics}\r\n                      disabled={statisticsLoading}\r\n                      className=\"px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50\"\r\n                      title=\"Refresh statistics\"\r\n                    >\r\n                      <RefreshCw className={`w-3.5 h-3.5 ${statisticsLoading ? 'animate-spin' : ''}`} />\r\n                    </button>\r\n                    {selectedStatistics.length > 0 && (\r\n                      <button\r\n                        onClick={handleDeleteSelectedStatistics}\r\n                        className=\"px-3 py-1.5 text-xs font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 rounded-lg transition-colors flex items-center gap-1\"\r\n                        title=\"Delete selected records\"\r\n                      >\r\n                        <Trash2 className=\"w-3.5 h-3.5\" />\r\n                        Delete ({selectedStatistics.length})\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {statisticsLoading ? (\r\n                <div className=\"flex items-center justify-center py-12\">\r\n                  <LoadingSpinner size=\"large\" />\r\n                </div>\r\n              ) : statistics.length === 0 ? (\r\n                <EmptyState\r\n                  icon={<PieChart className=\"w-10 h-10\" />}\r\n                  title=\"No Statistics Available\"\r\n                  message=\"No statistical data has been recorded for this machine yet.\"\r\n                  showAction={false}\r\n                />\r\n              ) : (\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full text-sm\">\r\n                    <thead>\r\n                      <tr className=\"border-b border-gray-200 dark:border-gray-700\">\r\n                        <th className=\"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100 w-12\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={selectedStatistics.length === statistics.length && statistics.length > 0}\r\n                            onChange={handleSelectAllStatistics}\r\n                            className=\"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer\"\r\n                          />\r\n                        </th>\r\n                        <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-gray-100\">Date</th>\r\n                        <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-gray-100\">Time</th>\r\n                        <th className=\"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100\">Total Tests</th>\r\n                        <th className=\"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100\">Daily Clean</th>\r\n                        <th className=\"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100\">Weekly Clean</th>\r\n                        <th className=\"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100\">Skip Clean</th>\r\n                        <th className=\"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100\">Gain</th>\r\n                        <th className=\"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100\">Auto Channel</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                      {statistics.map((stat) => (\r\n                        <tr key={stat.id} className={`transition-colors ${\r\n                          selectedStatistics.includes(stat.id)\r\n                            ? 'bg-blue-50 dark:bg-blue-900/20'\r\n                            : 'hover:bg-gray-50 dark:hover:bg-gray-700/50'\r\n                        }`}>\r\n                          <td className=\"py-3 px-4 text-center\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={selectedStatistics.includes(stat.id)}\r\n                              onChange={() => handleSelectStatistic(stat.id)}\r\n                              className=\"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer\"\r\n                            />\r\n                          </td>\r\n                          <td className=\"py-3 px-4 text-gray-900 dark:text-gray-100\">\r\n                            {new Date(stat.statistics_date).toLocaleDateString()}\r\n                          </td>\r\n                          <td className=\"py-3 px-4 text-gray-900 dark:text-gray-100\">{stat.statistics_time}</td>\r\n                          <td className=\"py-3 px-4 text-center\">\r\n                            <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300\">\r\n                              {stat.total_test}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"py-3 px-4 text-center\">\r\n                            <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300\">\r\n                              {stat.daily_cleaning}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"py-3 px-4 text-center\">\r\n                            <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300\">\r\n                              {stat.weekly_cleaning}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"py-3 px-4 text-center\">\r\n                            <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300\">\r\n                              {stat.cleaning_skip}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"py-3 px-4 text-center\">\r\n                            <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300\">\r\n                              {stat.gain}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"py-3 px-4 text-center\">\r\n                            <span className={`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${\r\n                              stat.auto_channel === 'ENABLE' \r\n                                ? 'bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300'\r\n                                : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\r\n                            }`}>\r\n                              {stat.auto_channel}\r\n                            </span>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n      {/* Status Messages - Fixed Snackbar Bottom Right */}\r\n      <div className=\"fixed bottom-6 right-6 z-[9999] w-full max-w-md px-4 sm:px-0\">\r\n        <StatusMessage \r\n          success={success} \r\n          error={error} \r\n          onClose={success ? handleCloseSuccess : error ? handleCloseError : undefined}\r\n        />\r\n      </div>\r\n\r\n      {/* Edit Machine Modal */}\r\n      <AnimatePresence>\r\n        {showEditForm && machine && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-end sm:items-center justify-center z-[9999] p-0 sm:p-4\"\r\n            style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }}\r\n            onClick={(e) => {\r\n              if (e.target === e.currentTarget) {\r\n                setShowEditForm(false);\r\n                setFormData({\r\n                  machineId: '',\r\n                  machineType: '',\r\n                  societyId: '',\r\n                  location: '',\r\n                  installationDate: '',\r\n                  operatorName: '',\r\n                  contactPhone: '',\r\n                  status: 'active',\r\n                  notes: ''\r\n                });\r\n              }\r\n            }}\r\n          >\r\n            <motion.div\r\n              initial={{ y: '100%', opacity: 0 }}\r\n              animate={{ y: 0, opacity: 1 }}\r\n              exit={{ y: '100%', opacity: 0 }}\r\n              transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n              className=\"bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-xl shadow-2xl w-full sm:max-w-lg md:max-w-2xl max-h-[90vh] overflow-y-auto\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {/* Mobile drag handle */}\r\n              <div className=\"sm:hidden flex justify-center pt-3 pb-1\">\r\n                <div className=\"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full\" />\r\n              </div>\r\n\r\n              <div className=\"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100\">\r\n                    Edit {machine.machineId}\r\n                  </h2>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowEditForm(false);\r\n                      setFormData({\r\n                        machineId: '',\r\n                        machineType: '',\r\n                        societyId: '',\r\n                        location: '',\r\n                        installationDate: '',\r\n                        operatorName: '',\r\n                        contactPhone: '',\r\n                        status: 'active',\r\n                        notes: ''\r\n                      });\r\n                    }}\r\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-gray-600 dark:text-gray-400 touch-target sm:min-h-0 sm:min-w-0\"\r\n                  >\r\n                    <X className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <form onSubmit={handleUpdateMachine} className=\"p-4 sm:p-6\">\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Machine ID *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.machineId}\r\n                      onChange={(e) => handleInputChange('machineId', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter machine ID\"\r\n                      autoComplete=\"off\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Machine Type *\r\n                    </label>\r\n                    <select\r\n                      value={formData.machineType}\r\n                      onChange={(e) => handleInputChange('machineType', e.target.value)}\r\n                      className=\"psr-input !text-gray-900 dark:!text-gray-100\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select machine type</option>\r\n                      {machineTypes.map((type) => (\r\n                        <option key={type.id} value={type.machineType}>\r\n                          {type.machineType}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Society *\r\n                    </label>\r\n                    <select\r\n                      value={formData.societyId}\r\n                      onChange={(e) => handleInputChange('societyId', e.target.value)}\r\n                      className=\"psr-input !text-gray-900 dark:!text-gray-100\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select society</option>\r\n                      {societies.map((society) => (\r\n                        <option key={society.id} value={society.id.toString()}>\r\n                          {society.name} (ID: {society.society_id})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Location\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.location}\r\n                      onChange={(e) => handleInputChange('location', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter location\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Installation Date\r\n                    </label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={formData.installationDate}\r\n                      onChange={(e) => handleInputChange('installationDate', e.target.value)}\r\n                      className=\"psr-input !text-gray-900 dark:!text-gray-100\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Status\r\n                    </label>\r\n                    <select\r\n                      value={formData.status}\r\n                      onChange={(e) => handleInputChange('status', e.target.value as 'active' | 'inactive' | 'maintenance' | 'suspended')}\r\n                      className=\"psr-input !text-gray-900 dark:!text-gray-100\"\r\n                    >\r\n                      <option value=\"active\">Active</option>\r\n                      <option value=\"inactive\">Inactive</option>\r\n                      <option value=\"maintenance\">Maintenance</option>\r\n                      <option value=\"suspended\">Suspended</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Operator Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.operatorName}\r\n                      onChange={(e) => handleInputChange('operatorName', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter operator name\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Contact Phone\r\n                    </label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={formData.contactPhone}\r\n                      onChange={(e) => handleInputChange('contactPhone', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter contact phone\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"sm:col-span-2\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Notes\r\n                    </label>\r\n                    <textarea\r\n                      value={formData.notes}\r\n                      onChange={(e) => handleInputChange('notes', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter any additional notes\"\r\n                      rows={3}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col-reverse sm:flex-row gap-3 sm:gap-4 mt-6 sm:mt-8 sm:justify-end\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setShowEditForm(false);\r\n                      setFormData({\r\n                        machineId: '',\r\n                        machineType: '',\r\n                        societyId: '',\r\n                        location: '',\r\n                        installationDate: '',\r\n                        operatorName: '',\r\n                        contactPhone: '',\r\n                        status: 'active',\r\n                        notes: ''\r\n                      });\r\n                    }}\r\n                    className=\"w-full sm:w-auto px-6 py-3 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={formLoading}\r\n                    className=\"w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 dark:hover:from-blue-600 dark:hover:to-indigo-600 disabled:opacity-50 transition-all duration-200 shadow-lg shadow-blue-500/25\"\r\n                  >\r\n                    {formLoading ? (\r\n                      <>\r\n                        <FlowerSpinner size={16} className=\"mr-2\" />\r\n                        Updating...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Edit3 className=\"w-4 h-4 mr-2\" />\r\n                        Update Machine\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <ConfirmDeleteModal\r\n        isOpen={showDeleteModal}\r\n        onClose={() => setShowDeleteModal(false)}\r\n        onConfirm={handleConfirmDelete}\r\n        itemName={machine?.machineId || 'this machine'}\r\n        itemType=\"Machine\"\r\n      />\r\n\r\n      {/* History Modal */}\r\n      <AnimatePresence>\r\n        {showHistoryModal && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-[9999] p-4\"\r\n            onClick={() => setShowHistoryModal(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {/* Header */}\r\n              <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg\">\r\n                    <Clock className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-gray-900 dark:text-gray-100\">Correction History</h3>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">Last {correctionHistory.length} changes</p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() => setShowHistoryModal(false)}\r\n                  className=\"p-2 hover:bg-green-100 dark:hover:bg-green-900/40 rounded-lg transition-colors\"\r\n                >\r\n                  <X className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* History List */}\r\n              <div className=\"p-6 overflow-y-auto max-h-[calc(80vh-80px)]\">\r\n                {correctionHistory.length === 0 ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <Clock className=\"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3\" />\r\n                    <p className=\"text-gray-500 dark:text-gray-400\">No history available</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {correctionHistory.map((item: Record<string, unknown>, index: number) => (\r\n                      <motion.div\r\n                        key={item.id as number}\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: index * 0.05 }}\r\n                        onClick={() => loadHistoryItem(item)}\r\n                        className={`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${\r\n                          item.status === 1\r\n                            ? 'border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 shadow-md shadow-green-500/20'\r\n                            : 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 hover:border-green-300 dark:hover:border-green-700 hover:shadow-md'\r\n                        }`}\r\n                      >\r\n                        <div className=\"flex items-start justify-between mb-3\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Calendar className=\"w-4 h-4 text-green-600 dark:text-green-400\" />\r\n                            <span className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\r\n                              {new Date(item.created_at as string).toLocaleString('en-US', {\r\n                                dateStyle: 'medium',\r\n                                timeStyle: 'short'\r\n                              })}\r\n                            </span>\r\n                          </div>\r\n                          {item.status === 1 && (\r\n                            <span className=\"px-2 py-1 bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 text-xs font-semibold rounded-full\">\r\n                              Active\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"grid grid-cols-3 gap-4 text-xs\">\r\n                          <div>\r\n                            <p className=\"text-gray-500 dark:text-gray-400 mb-1\">Channel 1</p>\r\n                            <p className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n                              Fat: {String(item.channel1_fat || '0')} | SNF: {String(item.channel1_snf || '0')}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-gray-500 dark:text-gray-400 mb-1\">Channel 2</p>\r\n                            <p className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n                              Fat: {String(item.channel2_fat || '0')} | SNF: {String(item.channel2_snf || '0')}\r\n                            </p>\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-gray-500 dark:text-gray-400 mb-1\">Channel 3</p>\r\n                            <p className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n                              Fat: {String(item.channel3_fat || '0')} | SNF: {String(item.channel3_snf || '0')}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </motion.div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Delete Statistics Modal */}\r\n      <AnimatePresence>\r\n        {showStatisticsDeleteModal && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => !statisticsDeleteLoading && setShowStatisticsDeleteModal(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\r\n                  Delete Selected Statistics\r\n                </h3>\r\n                <button\r\n                  onClick={() => !statisticsDeleteLoading && setShowStatisticsDeleteModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  disabled={statisticsDeleteLoading}\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"mb-6\">\r\n                <p className=\"text-gray-600 dark:text-gray-400\">\r\n                  Are you sure you want to delete <strong>{selectedStatistics.length}</strong> selected statistics {selectedStatistics.length === 1 ? 'record' : 'records'}? This action cannot be undone.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end gap-3\">\r\n                <button\r\n                  onClick={() => setShowStatisticsDeleteModal(false)}\r\n                  disabled={statisticsDeleteLoading}\r\n                  className=\"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <LoadingButton\r\n                  onClick={confirmDeleteStatistics}\r\n                  isLoading={statisticsDeleteLoading}\r\n                  loadingText=\"Deleting...\"\r\n                  variant=\"primary\"\r\n                  className=\"bg-red-600 hover:bg-red-700 text-white\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                  Delete\r\n                </LoadingButton>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Correction Confirmation Modal */}\r\n      <AnimatePresence>\r\n        {showCorrectionConfirmModal && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => !correctionSaveLoading && setShowCorrectionConfirmModal(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\"\r\n            >\r\n              <div className=\"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\r\n                    Save Correction Data\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => !correctionSaveLoading && setShowCorrectionConfirmModal(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                    disabled={correctionSaveLoading}\r\n                  >\r\n                    <X className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-6 space-y-6\">\r\n                <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <Wrench className=\"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5\" />\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1\">\r\n                        Master Machine Correction\r\n                      </h4>\r\n                      <p className=\"text-xs text-blue-700 dark:text-blue-300\">\r\n                        You are saving correction data for the master machine <strong>{machine?.machineId}</strong>. \r\n                        You can optionally apply these corrections to other machines in this society.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Apply to Other Machines Checkbox */}\r\n                {otherMachines.length > 0 && (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id=\"applyCorrectionsToOthers\"\r\n                        checked={applyCorrectionsToOthers}\r\n                        onChange={(e) => {\r\n                          setApplyCorrectionsToOthers(e.target.checked);\r\n                          if (!e.target.checked) {\r\n                            setSelectedMachinesForCorrection(new Set());\r\n                            setSelectAllMachinesForCorrection(false);\r\n                          }\r\n                        }}\r\n                        disabled={correctionSaveLoading}\r\n                        className=\"mt-1 w-4 h-4 text-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 focus:ring-2\"\r\n                      />\r\n                      <label htmlFor=\"applyCorrectionsToOthers\" className=\"flex-1 cursor-pointer\">\r\n                        <div className=\"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1\">\r\n                          Apply these corrections to other machines\r\n                        </div>\r\n                        <p className=\"text-xs text-gray-600 dark:text-gray-400\">\r\n                          Select which machines in this society should receive these correction values\r\n                        </p>\r\n                      </label>\r\n                    </div>\r\n\r\n                    {/* Machine Selection List */}\r\n                    {applyCorrectionsToOthers && (\r\n                      <div className=\"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden\">\r\n                        <div className=\"bg-gray-50 dark:bg-gray-700/50 px-4 py-3 border-b border-gray-200 dark:border-gray-700\">\r\n                          <div className=\"flex items-center justify-between gap-4 flex-wrap\">\r\n                            <span className=\"text-sm font-medium text-gray-900 dark:text-gray-100 flex-shrink-0\">\r\n                              Select Machines ({selectedMachinesForCorrection.size} selected)\r\n                            </span>\r\n                            <button\r\n                              onClick={handleToggleSelectAllCorrection}\r\n                              disabled={correctionSaveLoading}\r\n                              className=\"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium disabled:opacity-50 whitespace-nowrap px-3 py-1 bg-primary-50 dark:bg-primary-900/20 rounded-md hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors\"\r\n                            >\r\n                              {selectAllMachinesForCorrection ? 'Deselect All' : 'Select All'}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"max-h-64 overflow-y-auto\">\r\n                          {otherMachines.map((m) => (\r\n                            <div\r\n                              key={m.id}\r\n                              className=\"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700 last:border-b-0\"\r\n                            >\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                id={`machine-correction-${m.id}`}\r\n                                checked={selectedMachinesForCorrection.has(m.id)}\r\n                                onChange={() => handleToggleMachineCorrection(m.id)}\r\n                                disabled={correctionSaveLoading}\r\n                                className=\"w-4 h-4 text-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 focus:ring-2\"\r\n                              />\r\n                              <label\r\n                                htmlFor={`machine-correction-${m.id}`}\r\n                                className=\"flex-1 cursor-pointer text-sm text-gray-900 dark:text-gray-100\"\r\n                              >\r\n                                {m.machineId}\r\n                              </label>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {otherMachines.length === 0 && (\r\n                  <div className=\"text-sm text-gray-600 dark:text-gray-400 text-center py-4\">\r\n                    No other machines found in this society\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6\">\r\n                <div className=\"flex justify-end gap-3\">\r\n                  <button\r\n                    onClick={() => setShowCorrectionConfirmModal(false)}\r\n                    disabled={correctionSaveLoading}\r\n                    className=\"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <LoadingButton\r\n                    onClick={handleCorrectionConfirm}\r\n                    isLoading={correctionSaveLoading}\r\n                    loadingText=\"Saving...\"\r\n                    variant=\"primary\"\r\n                    className=\"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white\"\r\n                  >\r\n                    <Wrench className=\"w-4 h-4 mr-2\" />\r\n                    Save Correction Data\r\n                  </LoadingButton>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Set Master Machine Modal */}\r\n      <AnimatePresence>\r\n        {showSetMasterModal && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => !masterActionLoading && setShowSetMasterModal(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\r\n                  Set as Master Machine\r\n                </h3>\r\n                <button\r\n                  onClick={() => !masterActionLoading && setShowSetMasterModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  disabled={masterActionLoading}\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"mb-6 space-y-4\">\r\n                <p className=\"text-gray-600 dark:text-gray-400\">\r\n                  This will set <strong>{machine?.machineId}</strong> as the master machine for its society. The current master machine will be changed.\r\n                </p>\r\n\r\n                <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id=\"setForAll\"\r\n                      checked={setForAll}\r\n                      onChange={(e) => setSetForAll(e.target.checked)}\r\n                      className=\"mt-1 w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500\"\r\n                    />\r\n                    <div className=\"flex-1\">\r\n                      <label htmlFor=\"setForAll\" className=\"text-sm font-medium text-gray-900 dark:text-gray-100 cursor-pointer\">\r\n                        Set passwords for all machines in society\r\n                      </label>\r\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">\r\n                        Update all machines in this society with the master machine's current passwords (user and supervisor passwords)\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end gap-3\">\r\n                <button\r\n                  onClick={() => setShowSetMasterModal(false)}\r\n                  disabled={masterActionLoading}\r\n                  className=\"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <LoadingButton\r\n                  onClick={handleSetMasterConfirm}\r\n                  isLoading={masterActionLoading}\r\n                  loadingText=\"Setting...\"\r\n                  variant=\"primary\"\r\n                  className=\"bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white\"\r\n                >\r\n                  Set as Master\r\n                </LoadingButton>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Delete Correction Modal */}\r\n      <AnimatePresence>\r\n        {showCorrectionDeleteModal && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => !deleteLoading && setShowCorrectionDeleteModal(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\r\n                  Delete Selected Corrections\r\n                </h3>\r\n                <button\r\n                  onClick={() => !deleteLoading && setShowCorrectionDeleteModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  disabled={deleteLoading}\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"mb-6\">\r\n                <p className=\"text-gray-600 dark:text-gray-400\">\r\n                  Are you sure you want to delete <strong>{selectedCorrections.length}</strong> selected correction {selectedCorrections.length === 1 ? 'record' : 'records'}? This action cannot be undone.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end gap-3\">\r\n                <button\r\n                  onClick={() => setShowCorrectionDeleteModal(false)}\r\n                  disabled={deleteLoading}\r\n                  className=\"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <LoadingButton\r\n                  onClick={confirmDelete}\r\n                  isLoading={deleteLoading}\r\n                  loadingText=\"Deleting...\"\r\n                  variant=\"primary\"\r\n                  className=\"bg-red-600 hover:bg-red-700 text-white\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                  Delete\r\n                </LoadingButton>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}