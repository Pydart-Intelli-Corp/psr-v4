{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/lib/validation/phoneValidation.ts"],"sourcesContent":["/**\r\n * Mobile Number Validation Utilities\r\n * \r\n * Validates and formats Indian mobile numbers\r\n * Indian mobile numbers: 10 digits starting with 6-9\r\n */\r\n\r\nexport interface PhoneValidationResult {\r\n  isValid: boolean;\r\n  error?: string;\r\n  formatted?: string;\r\n}\r\n\r\n/**\r\n * Validates Indian mobile number\r\n * @param phone - Phone number to validate\r\n * @returns Validation result with error message if invalid\r\n */\r\nexport function validateIndianPhone(phone: string): PhoneValidationResult {\r\n  if (!phone || phone.trim() === '') {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number is required'\r\n    };\r\n  }\r\n\r\n  // Remove all non-digit characters\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n\r\n  // Check length\r\n  if (cleaned.length !== 10) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number must be exactly 10 digits'\r\n    };\r\n  }\r\n\r\n  // Check if starts with valid digit (6-9)\r\n  if (!/^[6-9]/.test(cleaned)) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number must start with 6, 7, 8, or 9'\r\n    };\r\n  }\r\n\r\n  return {\r\n    isValid: true,\r\n    formatted: cleaned\r\n  };\r\n}\r\n\r\n/**\r\n * Formats phone number input - allows only digits and limits to 10\r\n * @param value - Input value\r\n * @returns Formatted phone number (digits only, max 10)\r\n */\r\nexport function formatPhoneInput(value: string): string {\r\n  // Remove all non-digit characters\r\n  const cleaned = value.replace(/\\D/g, '');\r\n  \r\n  // Limit to 10 digits\r\n  return cleaned.slice(0, 10);\r\n}\r\n\r\n/**\r\n * Checks if phone number is complete (10 digits)\r\n * @param phone - Phone number to check\r\n * @returns True if phone has 10 digits\r\n */\r\nexport function isPhoneComplete(phone: string): boolean {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return cleaned.length === 10;\r\n}\r\n\r\n/**\r\n * Display formatted phone number with spacing\r\n * @param phone - Phone number to format\r\n * @returns Formatted as: XXXXX XXXXX\r\n */\r\nexport function displayPhoneNumber(phone: string): string {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  \r\n  if (cleaned.length <= 5) {\r\n    return cleaned;\r\n  }\r\n  \r\n  return `${cleaned.slice(0, 5)} ${cleaned.slice(5)}`;\r\n}\r\n\r\n/**\r\n * Validates phone on blur - provides detailed error\r\n * @param phone - Phone number to validate\r\n * @returns Error message or empty string if valid\r\n */\r\nexport function validatePhoneOnBlur(phone: string): string {\r\n  if (!phone || phone.trim() === '') {\r\n    return ''; // Don't show error for empty field (let required handle it)\r\n  }\r\n\r\n  const result = validateIndianPhone(phone);\r\n  return result.error || '';\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;AAaM,SAAS,oBAAoB,KAAa;IAC/C,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;QACjC,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,kCAAkC;IAClC,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IAErC,eAAe;IACf,IAAI,QAAQ,MAAM,KAAK,IAAI;QACzB,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,yCAAyC;IACzC,IAAI,CAAC,SAAS,IAAI,CAAC,UAAU;QAC3B,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,OAAO;QACL,SAAS;QACT,WAAW;IACb;AACF;AAOO,SAAS,iBAAiB,KAAa;IAC5C,kCAAkC;IAClC,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IAErC,qBAAqB;IACrB,OAAO,QAAQ,KAAK,CAAC,GAAG;AAC1B;AAOO,SAAS,gBAAgB,KAAa;IAC3C,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IACrC,OAAO,QAAQ,MAAM,KAAK;AAC5B;AAOO,SAAS,mBAAmB,KAAa;IAC9C,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO;IAErC,IAAI,QAAQ,MAAM,IAAI,GAAG;QACvB,OAAO;IACT;IAEA,OAAO,GAAG,QAAQ,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,QAAQ,KAAK,CAAC,IAAI;AACrD;AAOO,SAAS,oBAAoB,KAAa;IAC/C,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;QACjC,OAAO,IAAI,4DAA4D;IACzE;IAEA,MAAM,SAAS,oBAAoB;IACnC,OAAO,OAAO,KAAK,IAAI;AACzB","debugId":null}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/lib/validation/index.ts"],"sourcesContent":["/**\r\n * Validation Utilities Index\r\n * Central export point for all validation utilities\r\n */\r\n\r\nexport {\r\n  validateIndianPhone,\r\n  formatPhoneInput,\r\n  isPhoneComplete,\r\n  displayPhoneNumber,\r\n  validatePhoneOnBlur,\r\n  type PhoneValidationResult\r\n} from './phoneValidation';\r\n"],"names":[],"mappings":"AAAA;;;CAGC;AAED","debugId":null}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/modals/DeleteSocietyModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { AlertTriangle, X, Mail, Trash2 } from 'lucide-react';\r\n\r\ninterface DeleteSocietyModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: (otp: string) => void;\r\n  societyName: string;\r\n  loading?: boolean;\r\n}\r\n\r\nexport default function DeleteSocietyModal({\r\n  isOpen,\r\n  onClose,\r\n  societyName,\r\n  onConfirm,\r\n  loading = false\r\n}: DeleteSocietyModalProps) {\r\n  const [otp, setOtp] = useState<string[]>(Array(6).fill(''));\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [sendingOtp, setSendingOtp] = useState(false);\r\n  const [otpError, setOtpError] = useState('');\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleOtpChange = (index: number, value: string) => {\r\n    if (!/^\\d*$/.test(value)) return;\r\n\r\n    const newOtp = [...otp];\r\n    newOtp[index] = value.slice(-1);\r\n    setOtp(newOtp);\r\n    setOtpError('');\r\n\r\n    // Auto-focus next input\r\n    if (value && index < 5) {\r\n      const nextInput = document.getElementById(`otp-${index + 1}`);\r\n      nextInput?.focus();\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {\r\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\r\n      const prevInput = document.getElementById(`otp-${index - 1}`);\r\n      prevInput?.focus();\r\n    }\r\n  };\r\n\r\n  const handlePaste = (e: React.ClipboardEvent) => {\r\n    e.preventDefault();\r\n    const pastedData = e.clipboardData.getData('text').slice(0, 6);\r\n    if (!/^\\d+$/.test(pastedData)) return;\r\n\r\n    const newOtp = Array(6).fill('');\r\n    pastedData.split('').forEach((char, i) => {\r\n      newOtp[i] = char;\r\n    });\r\n    setOtp(newOtp);\r\n  };\r\n\r\n  const handleSendOtp = async () => {\r\n    setSendingOtp(true);\r\n    setOtpError('');\r\n    \r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const societyId = (window as { selectedSocietyId?: number }).selectedSocietyId;\r\n      \r\n      const response = await fetch('/api/user/society/send-delete-otp', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ societyId })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to send OTP');\r\n      }\r\n\r\n      setOtpSent(true);\r\n    } catch (error) {\r\n      setOtpError(error instanceof Error ? error.message : 'Failed to send OTP');\r\n    } finally {\r\n      setSendingOtp(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    const otpString = otp.join('');\r\n    if (otpString.length !== 6) {\r\n      setOtpError('Please enter complete 6-digit OTP');\r\n      return;\r\n    }\r\n    onConfirm(otpString);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg\">\r\n              <AlertTriangle className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\r\n            </div>\r\n            <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n              Delete Society\r\n            </h2>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors\"\r\n            disabled={loading}\r\n          >\r\n            <X className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6\">\r\n          {/* Warning Message */}\r\n          <div className=\"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 rounded-r\">\r\n            <p className=\"text-sm text-amber-800 dark:text-amber-200 font-semibold mb-2\">\r\n              ⚠️ THIS ACTION CANNOT BE UNDONE!\r\n            </p>\r\n            <p className=\"text-sm text-amber-700 dark:text-amber-300\">\r\n              Deleting <strong className=\"font-bold\">{societyName}</strong> will permanently remove:\r\n            </p>\r\n          </div>\r\n\r\n          {/* Data to be deleted */}\r\n          <div className=\"mb-6 space-y-2 text-sm text-gray-600 dark:text-gray-400\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All farmers under this society</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All machines linked to this society</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All machine statistics</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All machine corrections</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All rate charts and rate chart data</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All milk collections</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All sales records</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All dispatch records</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All section pulse tracking data</span>\r\n            </div>\r\n          </div>\r\n\r\n          {!otpSent ? (\r\n            // Send OTP Button\r\n            <button\r\n              onClick={handleSendOtp}\r\n              disabled={sendingOtp}\r\n              className=\"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2\"\r\n            >\r\n              {sendingOtp ? (\r\n                <>\r\n                  <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\r\n                  Sending OTP...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Mail className=\"w-5 h-5\" />\r\n                  Send OTP to Email\r\n                </>\r\n              )}\r\n            </button>\r\n          ) : (\r\n            <>\r\n              {/* OTP Input */}\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center\">\r\n                  Enter 6-digit OTP sent to your email\r\n                </label>\r\n                <div className=\"flex justify-center gap-2 mb-2\">\r\n                  {otp.map((digit, index) => (\r\n                    <input\r\n                      key={index}\r\n                      id={`otp-${index}`}\r\n                      type=\"text\"\r\n                      inputMode=\"numeric\"\r\n                      maxLength={1}\r\n                      value={digit}\r\n                      onChange={(e) => handleOtpChange(index, e.target.value)}\r\n                      onKeyDown={(e) => handleKeyDown(index, e)}\r\n                      onPaste={index === 0 ? handlePaste : undefined}\r\n                      className=\"w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900/50 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:bg-white dark:focus:bg-gray-700 active:bg-white dark:active:bg-gray-700 focus:text-gray-900 dark:focus:text-white focus:outline-none transition-colors\"\r\n                    />\r\n                  ))}\r\n                </div>\r\n                {otpError && (\r\n                  <p className=\"text-sm text-red-600 dark:text-red-400 text-center\">{otpError}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Resend OTP */}\r\n              <button\r\n                onClick={handleSendOtp}\r\n                disabled={sendingOtp}\r\n                className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline mb-4 w-full text-center\"\r\n              >\r\n                {sendingOtp ? 'Resending...' : 'Resend OTP'}\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        {otpSent && (\r\n          <div className=\"flex gap-3 p-6 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700\">\r\n            <button\r\n              onClick={onClose}\r\n              disabled={loading}\r\n              className=\"flex-1 py-3 px-4 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleConfirm}\r\n              disabled={loading || otp.join('').length !== 6}\r\n              className=\"flex-1 py-3 px-4 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\r\n                  Deleting...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Trash2 className=\"w-5 h-5\" />\r\n                  Delete All\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 690, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/components/NavigationConfirmModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { ExternalLink } from 'lucide-react';\r\n\r\ninterface NavigationConfirmModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  title: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n}\r\n\r\nexport default function NavigationConfirmModal({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title,\r\n  message,\r\n  confirmText = 'Continue',\r\n  cancelText = 'Cancel'\r\n}: NavigationConfirmModalProps) {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\" onClick={onClose}>\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            exit={{ opacity: 0, scale: 0.9 }}\r\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n            onClick={(e) => e.stopPropagation()}\r\n            className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6\"\r\n          >\r\n            {/* Icon */}\r\n            <div className=\"flex justify-center mb-4\">\r\n              <div className=\"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center\">\r\n                <ExternalLink className=\"w-6 h-6 text-blue-600 dark:text-blue-400\" />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"text-center mb-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                {title}\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-400\">\r\n                {message}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex justify-end gap-3\">\r\n              <button\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n              >\r\n                {cancelText}\r\n              </button>\r\n              <button\r\n                onClick={onConfirm}\r\n                className=\"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\r\n              >\r\n                {confirmText}\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAee,SAAS,uBAAuB,EAC7C,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACP,cAAc,UAAU,EACxB,aAAa,QAAQ,EACO;IAC5B,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC,4MAAe;kBACb,wBACC,8OAAC;YAAI,WAAU;YAAsE,SAAS;sBAC5F,cAAA,8OAAC,oMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAI;gBAClC,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAE;gBAChC,MAAM;oBAAE,SAAS;oBAAG,OAAO;gBAAI;gBAC/B,YAAY;oBAAE,MAAM;oBAAU,SAAS;oBAAI,WAAW;gBAAI;gBAC1D,SAAS,CAAC,IAAM,EAAE,eAAe;gBACjC,WAAU;;kCAGV,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,sOAAY;gCAAC,WAAU;;;;;;;;;;;;;;;;kCAK5B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CACX;;;;;;0CAEH,8OAAC;gCAAE,WAAU;0CACV;;;;;;;;;;;;kCAKL,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAET;;;;;;0CAEH,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAET;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB","debugId":null}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///P:/psr-cloud-v2/src/app/admin/society/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  ArrowLeft, Users, MapPin, Phone, User, Building2,\r\n  Info, Truck, ShoppingCart, Settings, BarChart3,\r\n  Droplet, DollarSign, AlertCircle, Zap, Award, ExternalLink,\r\n  Edit, Save, X, RefreshCw, Trash2, Eye, EyeOff\r\n} from 'lucide-react';\r\nimport { validateIndianPhone, formatPhoneInput, validatePhoneOnBlur } from '@/lib/validation';\r\nimport { validateEmailQuick } from '@/lib/emailValidation';\r\nimport { \r\n  LoadingSpinner, \r\n  EmptyState,\r\n  StatusMessage,\r\n  FormInput,\r\n  FormSelect\r\n} from '@/components';\r\nimport DeleteSocietyModal from '@/components/modals/DeleteSocietyModal';\r\nimport NavigationConfirmModal from '@/components/NavigationConfirmModal';\r\n\r\ninterface Society {\r\n  id: number;\r\n  societyId: string;\r\n  name: string;\r\n  password?: string;\r\n  location?: string;\r\n  presidentName?: string;\r\n  contactPhone?: string;\r\n  bmcId: number;\r\n  bmcName?: string;\r\n  bmcIdentifier?: string;\r\n  dairyId?: number;\r\n  dairyName?: string;\r\n  dairyIdentifier?: string;\r\n  status: 'active' | 'inactive' | 'maintenance';\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface Machine {\r\n  id: number;\r\n  machineId: string;\r\n  machineType: string;\r\n  location?: string;\r\n  status: string;\r\n  isMasterMachine?: boolean;\r\n  totalCollections?: number;\r\n  totalQuantity?: number;\r\n  totalRevenue?: number;\r\n  lastCollectionDate?: string;\r\n}\r\n\r\ninterface Farmer {\r\n  id: number;\r\n  farmerId: string;\r\n  name: string;\r\n  contactNumber?: string;\r\n  status: string;\r\n  totalCollections?: number;\r\n  totalQuantity?: number;\r\n  totalRevenue?: number;\r\n  avgFat?: number;\r\n  avgSnf?: number;\r\n  lastCollectionDate?: string;\r\n}\r\n\r\ninterface Collection {\r\n  id: number;\r\n  farmerId: string;\r\n  farmerName?: string;\r\n  machineId: string;\r\n  collectionDate: string;\r\n  collectionTime: string;\r\n  shiftType: string;\r\n  channel: string;\r\n  fat?: number;\r\n  snf?: number;\r\n  quantity: number;\r\n  rate: number;\r\n  amount: number;\r\n}\r\n\r\ninterface Dispatch {\r\n  id: number;\r\n  dispatchId: string;\r\n  machineId: string;\r\n  dispatchDate: string;\r\n  dispatchTime: string;\r\n  shiftType: string;\r\n  channel: string;\r\n  fat?: number;\r\n  snf?: number;\r\n  quantity: number;\r\n  rate: number;\r\n  amount: number;\r\n}\r\n\r\ninterface Sale {\r\n  id: number;\r\n  count: string;\r\n  machineId: string;\r\n  salesDate: string;\r\n  salesTime: string;\r\n  channel: string;\r\n  quantity: number;\r\n  rate: number;\r\n  amount: number;\r\n}\r\n\r\ninterface Analytics {\r\n  totalFarmers: number;\r\n  activeFarmers: number;\r\n  totalMachines: number;\r\n  activeMachines: number;\r\n  totalCollections: number;\r\n  totalDispatches: number;\r\n  totalSales: number;\r\n  totalQuantityCollected: number;\r\n  totalQuantityDispatched: number;\r\n  totalQuantitySold: number;\r\n  totalRevenue: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n  avgRate: number;\r\n}\r\n\r\ninterface DailyTrend {\r\n  date: string;\r\n  collections: number;\r\n  farmers: number;\r\n  totalQuantity: number;\r\n  totalRevenue: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n}\r\n\r\ninterface ShiftAnalysis {\r\n  shiftType: string;\r\n  collections: number;\r\n  totalQuantity: number;\r\n  totalRevenue: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n}\r\n\r\ninterface TopFarmer {\r\n  farmerId: string;\r\n  name: string;\r\n  collections: number;\r\n  totalQuantity: number;\r\n  totalRevenue: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n}\r\n\r\ninterface ChannelBreakdown {\r\n  channel: string;\r\n  collections: number;\r\n  totalQuantity: number;\r\n  totalRevenue: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n}\r\n\r\ninterface SectionPulse {\r\n  id: number;\r\n  pulseDate: string;\r\n  pulseStatus: 'not_started' | 'active' | 'paused' | 'ended' | 'inactive';\r\n  firstCollectionTime?: string;\r\n  lastCollectionTime?: string;\r\n  sectionEndTime?: string;\r\n  totalCollections: number;\r\n  totalFarmers: number;\r\n  presentFarmers: number;\r\n  absentFarmers: number;\r\n  inactiveDays: number;\r\n  lastChecked: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface SocietyData {\r\n  society: Society;\r\n  machines: Machine[];\r\n  farmers: Farmer[];\r\n  collections: Collection[];\r\n  dispatches: Dispatch[];\r\n  sales: Sale[];\r\n  analytics: Analytics;\r\n  dailyTrends: DailyTrend[];\r\n  shiftAnalysis: ShiftAnalysis[];\r\n  topPerformers: {\r\n    farmers: TopFarmer[];\r\n  };\r\n  channelBreakdown: ChannelBreakdown[];\r\n  sections?: SectionPulse[];\r\n}\r\n\r\nexport default function SocietyDetails() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  \r\n  const [data, setData] = useState<SocietyData | null>(null);\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'details' | 'sections'>('overview');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [showNavigateConfirm, setShowNavigateConfirm] = useState(false);\r\n  const [showMachineNavigateConfirm, setShowMachineNavigateConfirm] = useState(false);\r\n  const [showCollectionNavigateConfirm, setShowCollectionNavigateConfirm] = useState(false);\r\n  const [showDairyNavigateConfirm, setShowDairyNavigateConfirm] = useState(false);\r\n  const [showBmcNavigateConfirm, setShowBmcNavigateConfirm] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editFormData, setEditFormData] = useState({\r\n    name: '',\r\n    password: '',\r\n    location: '',\r\n    presidentName: '',\r\n    contactPhone: '',\r\n    status: 'active' as 'active' | 'inactive' | 'maintenance'\r\n  });\r\n  const [saveLoading, setSaveLoading] = useState(false);\r\n  const [validationErrors, setValidationErrors] = useState({\r\n    contactPhone: '',\r\n    email: ''\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n\r\n  const fetchSocietyDetails = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const token = localStorage.getItem('authToken');\r\n      if (!token) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(`/api/user/society/${params.id}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401 || response.status === 403) {\r\n          localStorage.removeItem('authToken');\r\n          router.push('/login');\r\n          return;\r\n        }\r\n        throw new Error('Failed to fetch society details');\r\n      }\r\n\r\n      const result = await response.json();\r\n      if (result.success && result.data) {\r\n        setData(result.data);\r\n      } else {\r\n        setError(result.message || 'Failed to load society details');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching society details:', error);\r\n      setError('Failed to load society details');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [params.id, router]);\r\n\r\n  useEffect(() => {\r\n    if (params.id) {\r\n      fetchSocietyDetails();\r\n    }\r\n  }, [params.id, fetchSocietyDetails]);\r\n\r\n  useEffect(() => {\r\n    if (data?.society) {\r\n      setEditFormData({\r\n        name: data.society.name || '',\r\n        password: '',\r\n        location: data.society.location || '',\r\n        presidentName: data.society.presidentName || '',\r\n        contactPhone: data.society.contactPhone || '',\r\n        status: data.society.status || 'active'\r\n      });\r\n    }\r\n  }, [data]);\r\n\r\n  // Fetch password when entering edit mode\r\n  useEffect(() => {\r\n    const fetchPassword = async () => {\r\n      if (isEditing && params.id) {\r\n        try {\r\n          const token = localStorage.getItem('authToken');\r\n          const response = await fetch(`/api/user/society/password?id=${params.id}`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`\r\n            }\r\n          });\r\n          \r\n          if (response.ok) {\r\n            const result = await response.json();\r\n            const fetchedPassword = result.data?.password || result.password || '';\r\n            setCurrentPassword(fetchedPassword);\r\n            setEditFormData(prev => ({ ...prev, password: fetchedPassword }));\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching password:', error);\r\n        }\r\n      } else {\r\n        setShowPassword(false);\r\n        setCurrentPassword('');\r\n      }\r\n    };\r\n    \r\n    fetchPassword();\r\n  }, [isEditing, params.id]);\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'active':\r\n        return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400';\r\n      case 'inactive':\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400';\r\n      case 'maintenance':\r\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400';\r\n      case 'suspended':\r\n        return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return 'N/A';\r\n    const date = new Date(dateString);\r\n    return new Intl.DateTimeFormat('en-IN', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    }).format(date);\r\n  };\r\n\r\n  const formatNumber = (num: number | string | undefined) => {\r\n    if (num === undefined || num === null) return '0';\r\n    const value = typeof num === 'string' ? parseFloat(num) : num;\r\n    return new Intl.NumberFormat('en-IN', {\r\n      maximumFractionDigits: 2\r\n    }).format(value);\r\n  };\r\n\r\n  const formatCurrency = (amount: number | string | undefined) => {\r\n    if (amount === undefined || amount === null) return '₹0';\r\n    const value = typeof amount === 'string' ? parseFloat(amount) : amount;\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      maximumFractionDigits: 0\r\n    }).format(value);\r\n  };\r\n\r\n  const handleEditToggle = () => {\r\n    if (isEditing) {\r\n      // Cancel editing - reset form data and clear errors\r\n      if (data?.society) {\r\n        setEditFormData({\r\n          name: data.society.name || '',\r\n          password: '',\r\n          location: data.society.location || '',\r\n          presidentName: data.society.presidentName || '',\r\n          contactPhone: data.society.contactPhone || '',\r\n          status: data.society.status || 'active'\r\n        });\r\n      }\r\n      setValidationErrors({ contactPhone: '', email: '' });\r\n    }\r\n    setIsEditing(!isEditing);\r\n  };\r\n\r\n  const handlePhoneChange = (value: string) => {\r\n    const formatted = formatPhoneInput(value);\r\n    setEditFormData({ ...editFormData, contactPhone: formatted });\r\n    // Clear error when user starts typing\r\n    if (validationErrors.contactPhone) {\r\n      setValidationErrors({ ...validationErrors, contactPhone: '' });\r\n    }\r\n  };\r\n\r\n  const handlePhoneBlur = () => {\r\n    if (editFormData.contactPhone) {\r\n      const error = validatePhoneOnBlur(editFormData.contactPhone);\r\n      setValidationErrors({ ...validationErrors, contactPhone: error });\r\n    }\r\n  };\r\n\r\n  const handleSaveDetails = async () => {\r\n    try {\r\n      setSaveLoading(true);\r\n      setError('');\r\n\r\n      // Validate phone number before saving\r\n      if (editFormData.contactPhone) {\r\n        const phoneValidation = validateIndianPhone(editFormData.contactPhone);\r\n        if (!phoneValidation.isValid) {\r\n          setValidationErrors({ ...validationErrors, contactPhone: phoneValidation.error || 'Invalid phone number' });\r\n          setError('Please fix validation errors before saving');\r\n          setSaveLoading(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      const token = localStorage.getItem('authToken');\r\n      if (!token) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      const updateData: {\r\n        id: number;\r\n        name: string;\r\n        location: string;\r\n        presidentName: string;\r\n        contactPhone: string;\r\n        status: 'active' | 'inactive' | 'maintenance';\r\n        password?: string;\r\n      } = {\r\n        id: Number(params.id),\r\n        name: editFormData.name,\r\n        location: editFormData.location,\r\n        presidentName: editFormData.presidentName,\r\n        contactPhone: editFormData.contactPhone,\r\n        status: editFormData.status\r\n      };\r\n\r\n      // Only include password if it was changed\r\n      if (editFormData.password && editFormData.password !== currentPassword) {\r\n        updateData.password = editFormData.password;\r\n      }\r\n\r\n      const response = await fetch(`/api/user/society`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(updateData)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401 || response.status === 403) {\r\n          localStorage.removeItem('authToken');\r\n          router.push('/login');\r\n          return;\r\n        }\r\n        // Try to get error message from response\r\n        const errorData = await response.json().catch(() => ({}));\r\n        const errorMessage = errorData.message || `Failed to update society details (${response.status})`;\r\n        setError(errorMessage);\r\n        console.error('Update failed:', errorMessage, errorData);\r\n        return;\r\n      }\r\n\r\n      const result = await response.json();\r\n      if (result.success) {\r\n        // Refresh the data\r\n        await fetchSocietyDetails();\r\n        setIsEditing(false);\r\n      } else {\r\n        setError(result.message || 'Failed to update society details');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating society:', error);\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to update society details';\r\n      setError(errorMessage);\r\n    } finally {\r\n      setSaveLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    // Store society ID for OTP modal\r\n    (window as { selectedSocietyId?: number }).selectedSocietyId = Number(params.id);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const handleConfirmDelete = async (otp: string) => {\r\n    setIsDeleting(true);\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      if (!token) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(`/api/user/society?id=${params.id}&otp=${otp}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401 || response.status === 403) {\r\n          localStorage.removeItem('authToken');\r\n          router.push('/login');\r\n          return;\r\n        }\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.message || 'Failed to delete society');\r\n      }\r\n\r\n      const result = await response.json();\r\n      if (result.success) {\r\n        setShowDeleteModal(false);\r\n        router.push('/admin/society');\r\n      } else {\r\n        throw new Error(result.message || 'Failed to delete society');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting society:', error);\r\n      setError(error instanceof Error ? error.message : 'Failed to delete society');\r\n      setTimeout(() => setError(''), 5000);\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (error || !data) {\r\n    return (\r\n      <EmptyState\r\n        icon={<AlertCircle className=\"w-10 h-10\" />}\r\n        title=\"Failed to Load Society Details\"\r\n        message={error || 'Unable to fetch society information'}\r\n        actionText=\"Back to Societies\"\r\n        onAction={() => router.push('/admin/society')}\r\n        showAction={true}\r\n      />\r\n    );\r\n  }\r\n\r\n  const { society, analytics, topPerformers, channelBreakdown, sections } = data;\r\n\r\n  const tabs = [\r\n    { id: 'overview' as const, label: 'Overview', icon: Info },\r\n    { id: 'sections' as const, label: `Sections (${sections?.length || 0})`, icon: BarChart3 },\r\n    { id: 'details' as const, label: 'Details', icon: Settings }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 lg:pb-8\">\r\n      {/* Status/Error Messages */}\r\n      <StatusMessage\r\n        error={error}\r\n      />\r\n\r\n      {/* Header - Mobile Responsive */}\r\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"px-4 sm:px-6 py-3 sm:py-4\">\r\n          {/* Mobile: Stack layout */}\r\n          <div className=\"flex flex-col gap-3 sm:gap-4\">\r\n            {/* Top Row: Back button + Title */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <button\r\n                onClick={() => router.push('/admin/society')}\r\n                className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n              </button>\r\n              <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\r\n                <div className=\"p-2 sm:p-3 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                  <Building2 className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <h1 className=\"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100 truncate\">{society.name}</h1>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate\">ID: {society.societyId}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bottom Row: Status + Actions */}\r\n            <div className=\"flex items-center justify-between gap-3\">\r\n              <span className={`px-3 py-1 text-xs sm:text-sm font-medium rounded-full border ${getStatusColor(society.status)}`}>\r\n                {society.status}\r\n              </span>\r\n              \r\n              <div className=\"flex items-center gap-2 sm:gap-3\">\r\n                <button \r\n                  onClick={fetchSocietyDetails}\r\n                  className=\"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm text-blue-600 dark:text-blue-500 border border-blue-600 dark:border-blue-500 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors min-h-[44px]\"\r\n                >\r\n                  <RefreshCw className=\"w-4 h-4 sm:mr-2\" />\r\n                  <span className=\"hidden sm:inline\">Refresh</span>\r\n                </button>\r\n                <button \r\n                  onClick={handleDeleteClick}\r\n                  className=\"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm text-red-600 dark:text-red-500 border border-red-600 dark:border-red-500 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors min-h-[44px]\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 sm:mr-2\" />\r\n                  <span className=\"hidden sm:inline\">Delete</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs - Horizontal Scroll on Mobile */}\r\n        <div className=\"px-4 sm:px-6 overflow-x-auto scrollbar-hide\">\r\n          <div className=\"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0\">\r\n            {tabs.map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${\r\n                  activeTab === tab.id\r\n                    ? 'text-blue-600 dark:text-blue-500'\r\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n                }`}\r\n              >\r\n                <tab.icon className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                <span className=\"text-xs sm:text-sm md:text-base\">{tab.label}</span>\r\n                {activeTab === tab.id && (\r\n                  <motion.div\r\n                    layoutId=\"activeTab\"\r\n                    className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500\"\r\n                    initial={false}\r\n                    transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n                  />\r\n                )}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content - Responsive Padding */}\r\n      <div className=\"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6\">\r\n        <AnimatePresence mode=\"wait\">\r\n          {activeTab === 'overview' && (\r\n            <motion.div \r\n              key=\"overview\" \r\n              initial={{ opacity: 0, y: 20 }} \r\n              animate={{ opacity: 1, y: 0 }} \r\n              exit={{ opacity: 0, y: -20 }} \r\n              className=\"space-y-4 sm:space-y-6\"\r\n            >\r\n              {/* Comprehensive Statistics Grid */}\r\n              <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4\">\r\n                {/* Total Farmers */}\r\n                <div \r\n                  onClick={() => analytics.totalFarmers > 0 && setShowNavigateConfirm(true)}\r\n                  className={`bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${\r\n                    analytics.totalFarmers > 0 ? 'cursor-pointer hover:scale-105 active:scale-95' : 'cursor-not-allowed opacity-60'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <Users className=\"w-8 h-8 text-white/80\" />\r\n                    <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center\">\r\n                      <span className=\"text-2xl font-bold text-white\">{analytics.totalFarmers}</span>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-white/90 font-medium text-sm\">Total Farmers</p>\r\n                  <p className=\"text-white/70 text-xs mt-1\">{analytics.activeFarmers} active • Click to view</p>\r\n                </div>\r\n\r\n                {/* Total Machines */}\r\n                <div \r\n                  onClick={() => analytics.totalMachines > 0 && setShowMachineNavigateConfirm(true)}\r\n                  className={`bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${\r\n                    analytics.totalMachines > 0 ? 'cursor-pointer hover:scale-105 active:scale-95' : 'cursor-not-allowed opacity-60'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <Settings className=\"w-8 h-8 text-white/80\" />\r\n                    <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center\">\r\n                      <span className=\"text-2xl font-bold text-white\">{analytics.totalMachines}</span>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-white/90 font-medium text-sm\">Total Machines</p>\r\n                  <p className=\"text-white/70 text-xs mt-1\">{analytics.activeMachines} active • Click to view</p>\r\n                </div>\r\n\r\n                {/* Total Collections */}\r\n                <div \r\n                  onClick={() => analytics.totalCollections > 0 && setShowCollectionNavigateConfirm(true)}\r\n                  className={`bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${\r\n                    analytics.totalCollections > 0 ? 'cursor-pointer hover:scale-105 active:scale-95' : 'cursor-not-allowed opacity-60'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <Droplet className=\"w-8 h-8 text-white/80\" />\r\n                    <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center\">\r\n                      <span className=\"text-2xl font-bold text-white\">{formatNumber(analytics.totalCollections)}</span>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-white/90 font-medium text-sm\">Collections</p>\r\n                  <p className=\"text-white/70 text-xs mt-1\">Last 30 days • Click to view</p>\r\n                </div>\r\n\r\n                {/* Total Revenue */}\r\n                <div className=\"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-shadow\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <DollarSign className=\"w-8 h-8 text-white/80\" />\r\n                    <div className=\"flex-1 text-right\">\r\n                      <span className=\"text-xl sm:text-2xl font-bold text-white block\">{formatCurrency(analytics.totalRevenue)}</span>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-white/90 font-medium text-sm\">Total Revenue</p>\r\n                  <p className=\"text-white/70 text-xs mt-1\">Last 30 days</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Volume & Activity Statistics */}\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4\">\r\n                {/* Total Quantity Collected */}\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg\">\r\n                      <Droplet className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400\">Collected</p>\r\n                      <p className=\"text-lg font-bold text-gray-900 dark:text-white\">{formatNumber(analytics.totalQuantityCollected)} L</p>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">Last 30 days</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Total Quantity Dispatched */}\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <div className=\"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg\">\r\n                      <Truck className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400\">Dispatched</p>\r\n                      <p className=\"text-lg font-bold text-gray-900 dark:text-white\">{formatNumber(analytics.totalQuantityDispatched)} L</p>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">Last 30 days</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Total Dispatches */}\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <div className=\"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg\">\r\n                      <Truck className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400\">Dispatch Count</p>\r\n                      <p className=\"text-lg font-bold text-gray-900 dark:text-white\">{formatNumber(analytics.totalDispatches)}</p>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">Last 30 days</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Total Sales */}\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <div className=\"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg\">\r\n                      <ShoppingCart className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400\">Total Sales</p>\r\n                      <p className=\"text-lg font-bold text-gray-900 dark:text-white\">{formatNumber(analytics.totalSales)}</p>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">Last 30 days</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Main Content Grid */}\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n                {/* Left Column - Society Info & Quality Metrics */}\r\n                <div className=\"lg:col-span-2 space-y-4 sm:space-y-6\">\r\n                  {/* Society Information Card */}\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2\">\r\n                      <Building2 className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                      Society Information\r\n                    </h3>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      {/* Hierarchy Information */}\r\n                      <div className=\"space-y-3\">\r\n                        {society.dairyName && (\r\n                          <div \r\n                            onClick={() => society.dairyId && setShowDairyNavigateConfirm(true)}\r\n                            className={`flex items-start gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 transition-all ${\r\n                              society.dairyId ? 'cursor-pointer hover:shadow-md hover:scale-105 active:scale-95' : 'cursor-default'\r\n                            }`}\r\n                          >\r\n                            <Building2 className=\"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"text-xs text-blue-600 dark:text-blue-400 font-medium\">Dairy Farm {society.dairyId && '• Click to view'}</p>\r\n                              <p className=\"font-semibold text-sm text-gray-900 dark:text-white break-words\">{society.dairyName}</p>\r\n                              {society.dairyIdentifier && (\r\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400 font-mono\">{society.dairyIdentifier}</p>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {society.bmcName && (\r\n                          <div \r\n                            onClick={() => society.bmcId && setShowBmcNavigateConfirm(true)}\r\n                            className={`flex items-start gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 transition-all ${\r\n                              society.bmcId ? 'cursor-pointer hover:shadow-md hover:scale-105 active:scale-95' : 'cursor-default'\r\n                            }`}\r\n                          >\r\n                            <Building2 className=\"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"text-xs text-green-600 dark:text-green-400 font-medium\">BMC (Bulk Milk Cooler) {society.bmcId && '• Click to view'}</p>\r\n                              <p className=\"font-semibold text-sm text-gray-900 dark:text-white break-words\">{society.bmcName}</p>\r\n                              {society.bmcIdentifier && (\r\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400 font-mono\">{society.bmcIdentifier}</p>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Contact & Location */}\r\n                      <div className=\"space-y-3\">\r\n                        {society.location && (\r\n                          <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                            <MapPin className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"text-xs text-gray-600 dark:text-gray-400\">Location</p>\r\n                              <p className=\"font-medium text-sm text-gray-900 dark:text-white break-words\">{society.location}</p>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {society.presidentName && (\r\n                          <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                            <User className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"text-xs text-gray-600 dark:text-gray-400\">President</p>\r\n                              <p className=\"font-medium text-sm text-gray-900 dark:text-white break-words\">{society.presidentName}</p>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {society.contactPhone && (\r\n                          <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                            <Phone className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"text-xs text-gray-600 dark:text-gray-400\">Contact Phone</p>\r\n                              <p className=\"font-medium text-sm text-gray-900 dark:text-white break-words\">{society.contactPhone}</p>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Quality Metrics - 30 Days */}\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2\">\r\n                      <Zap className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400\" />\r\n                      Quality Metrics (Last 30 Days)\r\n                    </h3>\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                      <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-5\">\r\n                        <div className=\"flex items-center gap-2 mb-3\">\r\n                          <div className=\"w-10 h-10 bg-blue-100 dark:bg-blue-900/40 rounded-lg flex items-center justify-center\">\r\n                            <Droplet className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-xs text-blue-600 dark:text-blue-400 font-medium\">FAT %</p>\r\n                            <p className=\"text-2xl font-bold text-blue-900 dark:text-blue-100\">{formatNumber(analytics.avgFat)}%</p>\r\n                          </div>\r\n                        </div>\r\n                        <p className=\"text-xs text-blue-700 dark:text-blue-300\">Average Fat Content</p>\r\n                      </div>\r\n                      \r\n                      <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-xl p-5\">\r\n                        <div className=\"flex items-center gap-2 mb-3\">\r\n                          <div className=\"w-10 h-10 bg-green-100 dark:bg-green-900/40 rounded-lg flex items-center justify-center\">\r\n                            <Droplet className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-xs text-green-600 dark:text-green-400 font-medium\">SNF %</p>\r\n                            <p className=\"text-2xl font-bold text-green-900 dark:text-green-100\">{formatNumber(analytics.avgSnf)}%</p>\r\n                          </div>\r\n                        </div>\r\n                        <p className=\"text-xs text-green-700 dark:text-green-300\">Solid-Not-Fat Content</p>\r\n                      </div>\r\n                      \r\n                      <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border border-purple-200 dark:border-purple-800 rounded-xl p-5\">\r\n                        <div className=\"flex items-center gap-2 mb-3\">\r\n                          <div className=\"w-10 h-10 bg-purple-100 dark:bg-purple-900/40 rounded-lg flex items-center justify-center\">\r\n                            <DollarSign className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\r\n                          </div>\r\n                          <div>\r\n                            <p className=\"text-xs text-purple-600 dark:text-purple-400 font-medium\">Rate</p>\r\n                            <p className=\"text-2xl font-bold text-purple-900 dark:text-purple-100\">{formatCurrency(analytics.avgRate)}/L</p>\r\n                          </div>\r\n                        </div>\r\n                        <p className=\"text-xs text-purple-700 dark:text-purple-300\">Average Price per Liter</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Top Performing Farmers */}\r\n                  {topPerformers.farmers.length > 0 && (\r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2\">\r\n                        <Award className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400\" />\r\n                        Top Performing Farmers\r\n                      </h3>\r\n                      <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full\">\r\n                          <thead className=\"bg-gray-50 dark:bg-gray-700/50\">\r\n                            <tr>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase\">Rank</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase\">Farmer</th>\r\n                              <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase\">Collections</th>\r\n                              <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase\">Quantity (L)</th>\r\n                              <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase\">Revenue</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                            {topPerformers.farmers.map((farmer, index) => (\r\n                              <tr key={farmer.farmerId} className=\"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors\">\r\n                                <td className=\"px-4 py-3\">\r\n                                  <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${\r\n                                    index === 0 ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400' :\r\n                                    index === 1 ? 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300' :\r\n                                    index === 2 ? 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400' :\r\n                                    'bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400'\r\n                                  }`}>\r\n                                    {index + 1}\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"px-4 py-3\">\r\n                                  <div>\r\n                                    <p className=\"font-medium text-sm text-gray-900 dark:text-white\">{farmer.name}</p>\r\n                                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">{farmer.farmerId}</p>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"px-4 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white\">{formatNumber(farmer.collections)}</td>\r\n                                <td className=\"px-4 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white\">{formatNumber(farmer.totalQuantity)}</td>\r\n                                <td className=\"px-4 py-3 text-right text-sm font-semibold text-emerald-600 dark:text-emerald-400\">{formatCurrency(farmer.totalRevenue)}</td>\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n              {/* Sidebar - Full width on mobile, 1/3 on desktop */}\r\n              <div className=\"lg:col-span-1 space-y-4 sm:space-y-6\">\r\n                {/* Channel Breakdown */}\r\n                {channelBreakdown.length > 0 && (\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                    <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4\">Channel Breakdown</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {channelBreakdown.map((channel) => (\r\n                        <div key={channel.channel} className=\"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 border border-gray-200 dark:border-gray-600\">\r\n                          <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">{channel.channel}</p>\r\n                          <p className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">{formatNumber(channel.totalQuantity)} L</p>\r\n                          <p className=\"text-xs text-gray-600 dark:text-gray-400\">{formatNumber(channel.collections)} collections</p>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Quick Information */}\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                  <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4\">Information</h3>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                      <span className=\"text-sm text-gray-600 dark:text-gray-400\">Society ID</span>\r\n                      <span className=\"font-mono text-sm text-gray-900 dark:text-gray-100\">{society.societyId}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                      <span className=\"text-sm text-gray-600 dark:text-gray-400\">Created</span>\r\n                      <span className=\"text-sm text-gray-900 dark:text-gray-100\">{formatDate(society.createdAt)}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                      <span className=\"text-sm text-gray-600 dark:text-gray-400\">Last Updated</span>\r\n                      <span className=\"text-sm text-gray-900 dark:text-gray-100\">{formatDate(society.updatedAt)}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {activeTab === 'details' && (\r\n            <motion.div \r\n              key=\"details\" \r\n              initial={{ opacity: 0, y: 20 }} \r\n              animate={{ opacity: 1, y: 0 }} \r\n              exit={{ opacity: 0, y: -20 }}\r\n            >\r\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2\">\r\n                    <Settings className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                    Society Details\r\n                  </h3>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {isEditing ? (\r\n                      <>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={handleEditToggle}\r\n                          disabled={saveLoading}\r\n                          className=\"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                          <X className=\"w-4 h-4\" />\r\n                          Cancel\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={handleSaveDetails}\r\n                          disabled={saveLoading}\r\n                          className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                          <Save className=\"w-4 h-4\" />\r\n                          {saveLoading ? 'Saving...' : 'Save Changes'}\r\n                        </button>\r\n                      </>\r\n                    ) : (\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={handleEditToggle}\r\n                        className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors\"\r\n                      >\r\n                        <Edit className=\"w-4 h-4\" />\r\n                        Edit Details\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  {/* Society Name */}\r\n                  {isEditing ? (\r\n                    <FormInput\r\n                      label=\"Society Name\"\r\n                      value={editFormData.name}\r\n                      onChange={(value) => setEditFormData({ ...editFormData, name: value })}\r\n                      placeholder=\"Enter society name\"\r\n                      required\r\n                    />\r\n                  ) : (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Society Name\r\n                      </label>\r\n                      <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                        <p className=\"text-gray-900 dark:text-white\">{society.name}</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Society ID (Read-only) */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Society ID\r\n                    </label>\r\n                    <div className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                      <p className=\"text-gray-600 dark:text-gray-400 font-mono\">{society.societyId}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Password */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Password\r\n                    </label>\r\n                    {isEditing ? (\r\n                      <div>\r\n                        <div className=\"relative\">\r\n                          <input\r\n                            type={showPassword ? 'text' : 'password'}\r\n                            value={editFormData.password}\r\n                            onChange={(e) => setEditFormData({ ...editFormData, password: e.target.value })}\r\n                            placeholder=\"Enter password\"\r\n                            className=\"form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none\"\r\n                          />\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => setShowPassword(!showPassword)}\r\n                            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors\"\r\n                            title={showPassword ? 'Hide password' : 'Show password'}\r\n                          >\r\n                            {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                          </button>\r\n                        </div>\r\n                        <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\r\n                          Current password is pre-filled. Click eye icon to view or edit to change.\r\n                        </p>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"relative px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 flex items-center justify-between\">\r\n                        <p className=\"text-gray-900 dark:text-white font-mono\">\r\n                          {showPassword && currentPassword ? currentPassword : '••••••••'}\r\n                        </p>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={async () => {\r\n                            if (!showPassword && !currentPassword) {\r\n                              // Fetch password if not already loaded\r\n                              try {\r\n                                const token = localStorage.getItem('authToken');\r\n                                const response = await fetch(`/api/user/society/password?id=${params.id}`, {\r\n                                  headers: {\r\n                                    'Authorization': `Bearer ${token}`\r\n                                  }\r\n                                });\r\n                                \r\n                                if (response.ok) {\r\n                                  const result = await response.json();\r\n                                  const fetchedPassword = result.data?.password || result.password || '';\r\n                                  setCurrentPassword(fetchedPassword);\r\n                                  setShowPassword(true);\r\n                                }\r\n                              } catch (error) {\r\n                                console.error('Error fetching password:', error);\r\n                              }\r\n                            } else {\r\n                              setShowPassword(!showPassword);\r\n                            }\r\n                          }}\r\n                          className=\"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors\"\r\n                          title={showPassword ? 'Hide password' : 'Show password'}\r\n                        >\r\n                          {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* President Name */}\r\n                  {isEditing ? (\r\n                    <FormInput\r\n                      label=\"President Name\"\r\n                      value={editFormData.presidentName}\r\n                      onChange={(value) => setEditFormData({ ...editFormData, presidentName: value })}\r\n                      placeholder=\"Enter president name\"\r\n                    />\r\n                  ) : (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        President Name\r\n                      </label>\r\n                      <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                        <p className=\"text-gray-900 dark:text-white\">{society.presidentName || 'N/A'}</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Location */}\r\n                  {isEditing ? (\r\n                    <FormInput\r\n                      label=\"Location\"\r\n                      value={editFormData.location}\r\n                      onChange={(value) => setEditFormData({ ...editFormData, location: value })}\r\n                      placeholder=\"Enter location\"\r\n                    />\r\n                  ) : (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Location\r\n                      </label>\r\n                      <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                        <p className=\"text-gray-900 dark:text-white\">{society.location || 'N/A'}</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Contact Phone */}\r\n                  {isEditing ? (\r\n                    <FormInput\r\n                      label=\"Contact Phone\"\r\n                      type=\"tel\"\r\n                      value={editFormData.contactPhone}\r\n                      onChange={handlePhoneChange}\r\n                      onBlur={handlePhoneBlur}\r\n                      placeholder=\"Enter 10-digit mobile number\"\r\n                      maxLength={10}\r\n                      error={validationErrors.contactPhone}\r\n                    />\r\n                  ) : (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Contact Phone\r\n                      </label>\r\n                      <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                        <p className=\"text-gray-900 dark:text-white\">{society.contactPhone || 'N/A'}</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Status */}\r\n                  {isEditing ? (\r\n                    <FormSelect\r\n                      label=\"Status\"\r\n                      value={editFormData.status}\r\n                      onChange={(value) => setEditFormData({ ...editFormData, status: value as 'active' | 'inactive' | 'maintenance' })}\r\n                      options={[\r\n                        { value: 'active', label: 'Active' },\r\n                        { value: 'inactive', label: 'Inactive' },\r\n                        { value: 'maintenance', label: 'Maintenance' }\r\n                      ]}\r\n                    />\r\n                  ) : (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Status\r\n                      </label>\r\n                      <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                        <span className={`inline-flex px-3 py-1 text-xs font-medium rounded-full ${getStatusColor(society.status)}`}>\r\n                          {society.status}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* BMC (Read-only) */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Associated BMC\r\n                    </label>\r\n                    <div className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                      <p className=\"text-gray-900 dark:text-white\">{society.bmcName || 'N/A'}</p>\r\n                      {society.bmcIdentifier && (\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1\">{society.bmcIdentifier}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Dairy (Read-only) */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Associated Dairy\r\n                    </label>\r\n                    <div className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                      <p className=\"text-gray-900 dark:text-white\">{society.dairyName || 'N/A'}</p>\r\n                      {society.dairyIdentifier && (\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1\">{society.dairyIdentifier}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Timestamps Section */}\r\n                <div className=\"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4\">System Information</h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                      <span className=\"text-sm text-gray-600 dark:text-gray-400\">Created At</span>\r\n                      <span className=\"text-sm text-gray-900 dark:text-gray-100\">{formatDate(society.createdAt)}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                      <span className=\"text-sm text-gray-600 dark:text-gray-400\">Last Updated</span>\r\n                      <span className=\"text-sm text-gray-900 dark:text-gray-100\">{formatDate(society.updatedAt)}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {activeTab === 'sections' && (\r\n            <motion.div key=\"sections\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }}>\r\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4 flex items-center gap-2\">\r\n                  <BarChart3 className=\"w-5 h-5 text-blue-600\" />\r\n                  Section Pulse Details ({sections?.length || 0})\r\n                </h3>\r\n                {sections && sections.length > 0 ? (\r\n                  <div className=\"overflow-x-auto -mx-4 sm:-mx-6\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                      <thead className=\"bg-gray-50 dark:bg-gray-700/50\">\r\n                        <tr>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Date</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Status</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">First Collection</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Last Collection</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">End Time</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Collections</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Total Farmers</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Present</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Absent</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Attendance %</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Inactive Days</th>\r\n                          <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Last Checked</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\r\n                        {sections.map((section) => {\r\n                          const attendancePercent = section.totalFarmers > 0 \r\n                            ? ((section.presentFarmers / section.totalFarmers) * 100).toFixed(1)\r\n                            : '0.0';\r\n                          \r\n                          return (\r\n                            <tr key={section.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\">\r\n                              <td className=\"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-900 dark:text-white font-medium\">\r\n                                {formatDate(section.pulseDate)}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 whitespace-nowrap text-center\">\r\n                                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\r\n                                  ${section.pulseStatus === 'active' ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400' : ''}\r\n                                  ${section.pulseStatus === 'paused' ? 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400' : ''}\r\n                                  ${section.pulseStatus === 'ended' ? 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400' : ''}\r\n                                  ${section.pulseStatus === 'not_started' ? 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400' : ''}\r\n                                  ${section.pulseStatus === 'inactive' ? 'bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-500' : ''}\r\n                                `}>\r\n                                  {section.pulseStatus === 'active' && '● Active'}\r\n                                  {section.pulseStatus === 'paused' && '⏸ Paused'}\r\n                                  {section.pulseStatus === 'ended' && '✓ Ended'}\r\n                                  {section.pulseStatus === 'not_started' && '○ Not Started'}\r\n                                  {section.pulseStatus === 'inactive' && '- Inactive'}\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400\">\r\n                                {section.firstCollectionTime || '-'}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400\">\r\n                                {section.lastCollectionTime || '-'}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400\">\r\n                                {section.sectionEndTime || '-'}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-center whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white\">\r\n                                {formatNumber(section.totalCollections)}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-blue-600 dark:text-blue-400\">\r\n                                {formatNumber(section.totalFarmers)}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400\">\r\n                                {formatNumber(section.presentFarmers)}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-red-600 dark:text-red-400\">\r\n                                {formatNumber(section.absentFarmers)}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-center whitespace-nowrap text-sm\">\r\n                                <span className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold\r\n                                  ${parseFloat(attendancePercent) >= 80 ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400' : ''}\r\n                                  ${parseFloat(attendancePercent) >= 50 && parseFloat(attendancePercent) < 80 ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400' : ''}\r\n                                  ${parseFloat(attendancePercent) < 50 ? 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400' : ''}\r\n                                `}>\r\n                                  {attendancePercent}%\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-center whitespace-nowrap text-sm text-gray-600 dark:text-gray-400\">\r\n                                {section.inactiveDays}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-500 dark:text-gray-500\">\r\n                                {section.lastChecked || '-'}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-8\">\r\n                    <BarChart3 className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                    <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100\">No section data</h3>\r\n                    <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n                      No section pulse data available for this society.\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      {/* Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showNavigateConfirm}\r\n        onClose={() => setShowNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowNavigateConfirm(false);\r\n          if (data?.society) {\r\n            router.push(`/admin/farmer?societyId=${data.society.id}&societyName=${encodeURIComponent(data.society.name)}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to Farmer Management\"\r\n        message={`View all farmers from ${data?.society.name} in the Farmer Management page with filters applied.`}\r\n        confirmText=\"Go to Farmer Management\"\r\n        cancelText=\"Cancel\"\r\n      />\r\n\r\n      {/* Machine Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showMachineNavigateConfirm}\r\n        onClose={() => setShowMachineNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowMachineNavigateConfirm(false);\r\n          if (data?.society) {\r\n            router.push(`/admin/machine?societyId=${data.society.id}&societyName=${encodeURIComponent(data.society.name)}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to Machine Management\"\r\n        message={`View all machines from ${data?.society.name} in the Machine Management page with filters applied.`}\r\n        confirmText=\"Go to Machine Management\"\r\n        cancelText=\"Cancel\"\r\n      />\r\n\r\n      {/* Collection Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showCollectionNavigateConfirm}\r\n        onClose={() => setShowCollectionNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowCollectionNavigateConfirm(false);\r\n          if (data?.society) {\r\n            // Calculate date range: last 30 days\r\n            const today = new Date();\r\n            const thirtyDaysAgo = new Date(today);\r\n            thirtyDaysAgo.setDate(today.getDate() - 30);\r\n            \r\n            const formatDate = (date: Date) => {\r\n              const year = date.getFullYear();\r\n              const month = String(date.getMonth() + 1).padStart(2, '0');\r\n              const day = String(date.getDate()).padStart(2, '0');\r\n              return `${year}-${month}-${day}`;\r\n            };\r\n            \r\n            const fromDate = formatDate(thirtyDaysAgo);\r\n            const toDate = formatDate(today);\r\n            \r\n            router.push(`/admin/reports?societyId=${data.society.societyId}&societyName=${encodeURIComponent(data.society.name)}&fromDate=${fromDate}&toDate=${toDate}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to Reports Management\"\r\n        message={`View all collection reports from ${data?.society.name} for the last 30 days in the Reports Management page with filters applied.`}\r\n        confirmText=\"Go to Reports Management\"\r\n        cancelText=\"Cancel\"\r\n      />\r\n\r\n      {/* Dairy Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showDairyNavigateConfirm}\r\n        onClose={() => setShowDairyNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowDairyNavigateConfirm(false);\r\n          if (data?.society.dairyId) {\r\n            router.push(`/admin/dairy/${data.society.dairyId}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to Dairy Details\"\r\n        message={`View complete details of ${data?.society.dairyName} in the Dairy Management page.`}\r\n        confirmText=\"Go to Dairy Details\"\r\n        cancelText=\"Cancel\"\r\n      />\r\n\r\n      {/* BMC Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showBmcNavigateConfirm}\r\n        onClose={() => setShowBmcNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowBmcNavigateConfirm(false);\r\n          if (data?.society.bmcId) {\r\n            router.push(`/admin/bmc/${data.society.bmcId}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to BMC Details\"\r\n        message={`View complete details of ${data?.society.bmcName} in the BMC Management page.`}\r\n        confirmText=\"Go to BMC Details\"\r\n        cancelText=\"Cancel\"\r\n      />\r\n\r\n      {/* Delete Confirmation Modal with OTP */}\r\n      <DeleteSocietyModal\r\n        isOpen={showDeleteModal}\r\n        onClose={() => setShowDeleteModal(false)}\r\n        onConfirm={handleConfirmDelete}\r\n        societyName={data?.society.name || ''}\r\n        loading={isDeleting}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}