{"version":3,"sources":["turbopack:///[project]/node_modules/ms/index.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/rsc/react.ts","turbopack:///[project]/node_modules/next/dist/compiled/@edge-runtime/cookies/index.js","turbopack:///[project]/src/lib/sectionPulseTracker.ts"],"sourcesContent":["/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-rsc']!.React\n","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  RequestCookies: () => RequestCookies,\n  ResponseCookies: () => ResponseCookies,\n  parseCookie: () => parseCookie,\n  parseSetCookie: () => parseSetCookie,\n  stringifyCookie: () => stringifyCookie\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/serialize.ts\nfunction stringifyCookie(c) {\n  var _a;\n  const attrs = [\n    \"path\" in c && c.path && `Path=${c.path}`,\n    \"expires\" in c && (c.expires || c.expires === 0) && `Expires=${(typeof c.expires === \"number\" ? new Date(c.expires) : c.expires).toUTCString()}`,\n    \"maxAge\" in c && typeof c.maxAge === \"number\" && `Max-Age=${c.maxAge}`,\n    \"domain\" in c && c.domain && `Domain=${c.domain}`,\n    \"secure\" in c && c.secure && \"Secure\",\n    \"httpOnly\" in c && c.httpOnly && \"HttpOnly\",\n    \"sameSite\" in c && c.sameSite && `SameSite=${c.sameSite}`,\n    \"partitioned\" in c && c.partitioned && \"Partitioned\",\n    \"priority\" in c && c.priority && `Priority=${c.priority}`\n  ].filter(Boolean);\n  const stringified = `${c.name}=${encodeURIComponent((_a = c.value) != null ? _a : \"\")}`;\n  return attrs.length === 0 ? stringified : `${stringified}; ${attrs.join(\"; \")}`;\n}\nfunction parseCookie(cookie) {\n  const map = /* @__PURE__ */ new Map();\n  for (const pair of cookie.split(/; */)) {\n    if (!pair)\n      continue;\n    const splitAt = pair.indexOf(\"=\");\n    if (splitAt === -1) {\n      map.set(pair, \"true\");\n      continue;\n    }\n    const [key, value] = [pair.slice(0, splitAt), pair.slice(splitAt + 1)];\n    try {\n      map.set(key, decodeURIComponent(value != null ? value : \"true\"));\n    } catch {\n    }\n  }\n  return map;\n}\nfunction parseSetCookie(setCookie) {\n  if (!setCookie) {\n    return void 0;\n  }\n  const [[name, value], ...attributes] = parseCookie(setCookie);\n  const {\n    domain,\n    expires,\n    httponly,\n    maxage,\n    path,\n    samesite,\n    secure,\n    partitioned,\n    priority\n  } = Object.fromEntries(\n    attributes.map(([key, value2]) => [\n      key.toLowerCase().replace(/-/g, \"\"),\n      value2\n    ])\n  );\n  const cookie = {\n    name,\n    value: decodeURIComponent(value),\n    domain,\n    ...expires && { expires: new Date(expires) },\n    ...httponly && { httpOnly: true },\n    ...typeof maxage === \"string\" && { maxAge: Number(maxage) },\n    path,\n    ...samesite && { sameSite: parseSameSite(samesite) },\n    ...secure && { secure: true },\n    ...priority && { priority: parsePriority(priority) },\n    ...partitioned && { partitioned: true }\n  };\n  return compact(cookie);\n}\nfunction compact(t) {\n  const newT = {};\n  for (const key in t) {\n    if (t[key]) {\n      newT[key] = t[key];\n    }\n  }\n  return newT;\n}\nvar SAME_SITE = [\"strict\", \"lax\", \"none\"];\nfunction parseSameSite(string) {\n  string = string.toLowerCase();\n  return SAME_SITE.includes(string) ? string : void 0;\n}\nvar PRIORITY = [\"low\", \"medium\", \"high\"];\nfunction parsePriority(string) {\n  string = string.toLowerCase();\n  return PRIORITY.includes(string) ? string : void 0;\n}\nfunction splitCookiesString(cookiesString) {\n  if (!cookiesString)\n    return [];\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        lastComma = pos;\n        pos += 1;\n        skipWhitespace();\n        nextStart = pos;\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          cookiesSeparatorFound = true;\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n  return cookiesStrings;\n}\n\n// src/request-cookies.ts\nvar RequestCookies = class {\n  constructor(requestHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    this._headers = requestHeaders;\n    const header = requestHeaders.get(\"cookie\");\n    if (header) {\n      const parsed = parseCookie(header);\n      for (const [name, value] of parsed) {\n        this._parsed.set(name, { name, value });\n      }\n    }\n  }\n  [Symbol.iterator]() {\n    return this._parsed[Symbol.iterator]();\n  }\n  /**\n   * The amount of cookies received from the client\n   */\n  get size() {\n    return this._parsed.size;\n  }\n  get(...args) {\n    const name = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(name);\n  }\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed);\n    if (!args.length) {\n      return all.map(([_, value]) => value);\n    }\n    const name = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter(([n]) => n === name).map(([_, value]) => value);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  set(...args) {\n    const [name, value] = args.length === 1 ? [args[0].name, args[0].value] : args;\n    const map = this._parsed;\n    map.set(name, { name, value });\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value2]) => stringifyCookie(value2)).join(\"; \")\n    );\n    return this;\n  }\n  /**\n   * Delete the cookies matching the passed name or names in the request.\n   */\n  delete(names) {\n    const map = this._parsed;\n    const result = !Array.isArray(names) ? map.delete(names) : names.map((name) => map.delete(name));\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value]) => stringifyCookie(value)).join(\"; \")\n    );\n    return result;\n  }\n  /**\n   * Delete all the cookies in the cookies in the request.\n   */\n  clear() {\n    this.delete(Array.from(this._parsed.keys()));\n    return this;\n  }\n  /**\n   * Format the cookies in the request as a string for logging\n   */\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map((v) => `${v.name}=${encodeURIComponent(v.value)}`).join(\"; \");\n  }\n};\n\n// src/response-cookies.ts\nvar ResponseCookies = class {\n  constructor(responseHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    var _a, _b, _c;\n    this._headers = responseHeaders;\n    const setCookie = (_c = (_b = (_a = responseHeaders.getSetCookie) == null ? void 0 : _a.call(responseHeaders)) != null ? _b : responseHeaders.get(\"set-cookie\")) != null ? _c : [];\n    const cookieStrings = Array.isArray(setCookie) ? setCookie : splitCookiesString(setCookie);\n    for (const cookieString of cookieStrings) {\n      const parsed = parseSetCookie(cookieString);\n      if (parsed)\n        this._parsed.set(parsed.name, parsed);\n    }\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-get CookieStore#get} without the Promise.\n   */\n  get(...args) {\n    const key = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(key);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-getAll CookieStore#getAll} without the Promise.\n   */\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed.values());\n    if (!args.length) {\n      return all;\n    }\n    const key = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter((c) => c.name === key);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-set CookieStore#set} without the Promise.\n   */\n  set(...args) {\n    const [name, value, cookie] = args.length === 1 ? [args[0].name, args[0].value, args[0]] : args;\n    const map = this._parsed;\n    map.set(name, normalizeCookie({ name, value, ...cookie }));\n    replace(map, this._headers);\n    return this;\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-delete CookieStore#delete} without the Promise.\n   */\n  delete(...args) {\n    const [name, options] = typeof args[0] === \"string\" ? [args[0]] : [args[0].name, args[0]];\n    return this.set({ ...options, name, value: \"\", expires: /* @__PURE__ */ new Date(0) });\n  }\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map(stringifyCookie).join(\"; \");\n  }\n};\nfunction replace(bag, headers) {\n  headers.delete(\"set-cookie\");\n  for (const [, value] of bag) {\n    const serialized = stringifyCookie(value);\n    headers.append(\"set-cookie\", serialized);\n  }\n}\nfunction normalizeCookie(cookie = { name: \"\", value: \"\" }) {\n  if (typeof cookie.expires === \"number\") {\n    cookie.expires = new Date(cookie.expires);\n  }\n  if (cookie.maxAge) {\n    cookie.expires = new Date(Date.now() + cookie.maxAge * 1e3);\n  }\n  if (cookie.path === null || cookie.path === void 0) {\n    cookie.path = \"/\";\n  }\n  return cookie;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  RequestCookies,\n  ResponseCookies,\n  parseCookie,\n  parseSetCookie,\n  stringifyCookie\n});\n","import { Sequelize, QueryTypes } from 'sequelize';\r\n\r\n/**\r\n * Section Pulse Tracker\r\n * \r\n * Tracks first and last milk collections per society per day\r\n * Manages section start/end pulse and inactivity periods\r\n */\r\n\r\ninterface PulseUpdateResult {\r\n  societyId: number;\r\n  pulseDate: string;\r\n  firstCollectionTime: Date | null;\r\n  lastCollectionTime: Date | null;\r\n  sectionEndTime: Date | null;\r\n  pulseStatus: 'not_started' | 'active' | 'paused' | 'ended' | 'inactive';\r\n  totalCollections: number;\r\n  inactiveDays: number;\r\n  createdAt?: Date | string | null;\r\n}\r\n\r\nexport class SectionPulseTracker {\r\n  /**\r\n   * Update pulse on new milk collection\r\n   * - Records first collection time (section start pulse)\r\n   * - Updates last collection time\r\n   * - Increments total collections counter (only for new collections)\r\n   * \r\n   * @param sequelize Sequelize instance\r\n   * @param schemaName Admin schema name\r\n   * @param societyId Society database ID\r\n   * @param collectionDateTime Collection datetime (YYYY-MM-DD HH:MM:SS)\r\n   * @param isNewCollection Whether this is a new collection (not a duplicate update)\r\n   */\r\n  static async updatePulseOnCollection(\r\n    sequelize: Sequelize,\r\n    schemaName: string,\r\n    societyId: number,\r\n    collectionDateTime: Date | string,\r\n    isNewCollection: boolean = true\r\n  ): Promise<void> {\r\n    try {\r\n      // Parse collection datetime - handle both string and Date\r\n      // Store as string to preserve IST timezone when passing to MySQL\r\n      let collectionDateStr: string;\r\n      let dateStr: string;\r\n      \r\n      if (typeof collectionDateTime === 'string') {\r\n        // If it's a string like \"2025-12-02 01:00:26\", use it directly\r\n        collectionDateStr = collectionDateTime;\r\n        dateStr = collectionDateTime.split(' ')[0]; // Get \"2025-12-02\"\r\n      } else {\r\n        // Convert Date to IST string format: YYYY-MM-DD HH:MM:SS\r\n        const offset = 5.5 * 60 * 60 * 1000; // IST offset in milliseconds\r\n        const istDate = new Date(collectionDateTime.getTime() + offset);\r\n        collectionDateStr = istDate.toISOString().slice(0, 19).replace('T', ' ');\r\n        dateStr = collectionDateStr.split(' ')[0];\r\n      }\r\n\r\n      console.log(`üìç Updating pulse for society ${societyId} on ${dateStr} at ${collectionDateStr}`);\r\n      console.log(`   üî¢ isNewCollection flag: ${isNewCollection} (will ${isNewCollection ? 'INCREMENT' : 'NOT INCREMENT'} total_collections)`);\r\n\r\n      // Check if pulse record exists for today\r\n      const existingPulse = await sequelize.query<{\r\n        id: number;\r\n        first_collection_time: Date | null;\r\n        total_collections: number;\r\n        pulse_status: string;\r\n      }>(`\r\n        SELECT id, first_collection_time, total_collections, pulse_status\r\n        FROM \\`${schemaName}\\`.section_pulse\r\n        WHERE society_id = ? AND DATE(pulse_date) = ?\r\n      `, {\r\n        replacements: [societyId, dateStr],\r\n        type: QueryTypes.SELECT\r\n      });\r\n\r\n      console.log(`üîç Query result:`, { length: existingPulse?.length, data: existingPulse });\r\n\r\n      if (!existingPulse || existingPulse.length === 0) {\r\n        // First collection of the day - create new pulse record\r\n        await sequelize.query(`\r\n          INSERT INTO \\`${schemaName}\\`.section_pulse (\r\n            society_id,\r\n            pulse_date,\r\n            first_collection_time,\r\n            last_collection_time,\r\n            pulse_status,\r\n            total_collections,\r\n            inactive_days,\r\n            last_checked,\r\n            created_at,\r\n            updated_at\r\n          ) VALUES (?, ?, ?, ?, 'active', 1, 0, NOW(), CONVERT_TZ(NOW(), '+00:00', '+05:30'), CONVERT_TZ(NOW(), '+00:00', '+05:30'))\r\n        `, {\r\n          replacements: [\r\n            societyId,\r\n            dateStr,\r\n            collectionDateStr,\r\n            collectionDateStr\r\n          ]\r\n        });\r\n\r\n        console.log(`üü¢ Section start pulse recorded at ${collectionDateStr}`);\r\n      } else {\r\n        // Update existing pulse record - restart if paused or ended\r\n        const currentStatus = existingPulse[0].pulse_status;\r\n        \r\n        // Only increment total_collections if this is a new collection (not a duplicate update)\r\n        const updateQuery = isNewCollection \r\n          ? `UPDATE \\`${schemaName}\\`.section_pulse\r\n             SET \r\n               last_collection_time = ?,\r\n               total_collections = total_collections + 1,\r\n               pulse_status = 'active',\r\n               section_end_time = NULL,\r\n               last_checked = NOW(),\r\n               updated_at = CONVERT_TZ(NOW(), '+00:00', '+05:30')\r\n             WHERE society_id = ? AND DATE(pulse_date) = ?`\r\n          : `UPDATE \\`${schemaName}\\`.section_pulse\r\n             SET \r\n               last_collection_time = ?,\r\n               pulse_status = 'active',\r\n               section_end_time = NULL,\r\n               last_checked = NOW(),\r\n               updated_at = CONVERT_TZ(NOW(), '+00:00', '+05:30')\r\n             WHERE society_id = ? AND DATE(pulse_date) = ?`;\r\n        \r\n        await sequelize.query(updateQuery, {\r\n          replacements: [collectionDateStr, societyId, dateStr]\r\n        });\r\n\r\n        if (currentStatus === 'paused') {\r\n          console.log(`‚ñ∂Ô∏è Section restarted from pause - collection at ${collectionDateStr}`);\r\n        } else if (currentStatus === 'ended') {\r\n          console.log(`üîÑ Section restarted from ended state - collection at ${collectionDateStr}`);\r\n        } else {\r\n          console.log(`üîµ Pulse updated - last collection at ${collectionDateStr}${isNewCollection ? '' : ' (duplicate, count unchanged)'}`);\r\n        }\r\n      }\r\n\r\n      // Reset inactive days counter since we have activity\r\n      await this.resetInactiveDays(sequelize, schemaName, societyId, dateStr);\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error updating pulse on collection:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check for section pause (5 minutes of inactivity) and section end (60 minutes)\r\n   * Should be called periodically (e.g., every 1-2 minutes)\r\n   * \r\n   * @param sequelize Sequelize instance\r\n   * @param schemaName Admin schema name\r\n   */\r\n  static async checkSectionPauseAndEnd(\r\n    sequelize: Sequelize,\r\n    schemaName: string\r\n  ): Promise<void> {\r\n    try {\r\n      const now = new Date();\r\n      const today = now.toISOString().split('T')[0];\r\n      const fiveMinutesAgo = new Date(now.getTime() - 5 * 60 * 1000);\r\n      const sixtyMinutesAgo = new Date(now.getTime() - 60 * 60 * 1000);\r\n\r\n      // 1. End all active/paused sections from previous days\r\n      const [oldPulses] = await sequelize.query<{\r\n        id: number;\r\n        society_id: number;\r\n        pulse_date: string;\r\n        last_collection_time: Date;\r\n      }>(`\r\n        SELECT id, society_id, pulse_date, last_collection_time\r\n        FROM \\`${schemaName}\\`.section_pulse\r\n        WHERE pulse_status IN ('active', 'paused')\r\n        AND DATE(pulse_date) < ?\r\n        AND section_end_time IS NULL\r\n      `, {\r\n        replacements: [today],\r\n        type: QueryTypes.SELECT\r\n      }) as unknown as [{\r\n        id: number;\r\n        society_id: number;\r\n        pulse_date: string;\r\n        last_collection_time: Date;\r\n      }[]];\r\n\r\n      // Mark old sections as ended\r\n      for (const pulse of (oldPulses || [])) {\r\n        const sectionEndTime = pulse.last_collection_time ? \r\n          new Date(new Date(pulse.last_collection_time).getTime() + 60 * 60 * 1000) : null;\r\n\r\n        await sequelize.query(`\r\n          UPDATE \\`${schemaName}\\`.section_pulse\r\n          SET \r\n            section_end_time = ?,\r\n            pulse_status = 'ended',\r\n            last_checked = NOW(),\r\n            updated_at = CONVERT_TZ(NOW(), '+00:00', '+05:30')\r\n          WHERE id = ?\r\n        `, {\r\n          replacements: [sectionEndTime, pulse.id]\r\n        });\r\n\r\n        console.log(`üî¥ Old section ended for society ${pulse.society_id} (date: ${pulse.pulse_date})`);\r\n      }\r\n\r\n      // 2. Check for sections to pause (5 minutes inactive, currently active, TODAY only)\r\n      const [activePulses] = await sequelize.query<{\r\n        id: number;\r\n        society_id: number;\r\n        pulse_date: string;\r\n        last_collection_time: Date;\r\n      }>(`\r\n        SELECT id, society_id, pulse_date, last_collection_time\r\n        FROM \\`${schemaName}\\`.section_pulse\r\n        WHERE pulse_status = 'active'\r\n        AND DATE(pulse_date) = ?\r\n        AND last_collection_time IS NOT NULL\r\n        AND last_collection_time <= ?\r\n        AND last_collection_time > ?\r\n      `, {\r\n        replacements: [today, fiveMinutesAgo, sixtyMinutesAgo],\r\n        type: QueryTypes.SELECT\r\n      }) as unknown as [{\r\n        id: number;\r\n        society_id: number;\r\n        pulse_date: string;\r\n        last_collection_time: Date;\r\n      }[]];\r\n\r\n      // Mark sections as paused\r\n      for (const pulse of (activePulses || [])) {\r\n        await sequelize.query(`\r\n          UPDATE \\`${schemaName}\\`.section_pulse\r\n          SET \r\n            pulse_status = 'paused',\r\n            last_checked = NOW(),\r\n            updated_at = CONVERT_TZ(NOW(), '+00:00', '+05:30')\r\n          WHERE id = ?\r\n        `, {\r\n          replacements: [pulse.id]\r\n        });\r\n\r\n        console.log(`‚è∏Ô∏è Section paused for society ${pulse.society_id} - no collection for 5 minutes`);\r\n      }\r\n\r\n      // 3. Check for sections to end (60 minutes inactive, currently active or paused, TODAY only)\r\n      const [inactivePulses] = await sequelize.query<{\r\n        id: number;\r\n        society_id: number;\r\n        pulse_date: string;\r\n        last_collection_time: Date;\r\n      }>(`\r\n        SELECT id, society_id, pulse_date, last_collection_time\r\n        FROM \\`${schemaName}\\`.section_pulse\r\n        WHERE pulse_status IN ('active', 'paused')\r\n        AND DATE(pulse_date) = ?\r\n        AND last_collection_time IS NOT NULL\r\n        AND last_collection_time <= ?\r\n        AND section_end_time IS NULL\r\n      `, {\r\n        replacements: [today, sixtyMinutesAgo],\r\n        type: QueryTypes.SELECT\r\n      }) as unknown as [{\r\n        id: number;\r\n        society_id: number;\r\n        pulse_date: string;\r\n        last_collection_time: Date;\r\n      }[]];\r\n\r\n      // Mark sections as ended\r\n      for (const pulse of (inactivePulses || [])) {\r\n        const sectionEndTime = new Date(pulse.last_collection_time.getTime() + 60 * 60 * 1000);\r\n\r\n        await sequelize.query(`\r\n          UPDATE \\`${schemaName}\\`.section_pulse\r\n          SET \r\n            section_end_time = ?,\r\n            pulse_status = 'ended',\r\n            last_checked = CONVERT_TZ(NOW(), '+00:00', '+05:30'),\r\n            updated_at = CONVERT_TZ(NOW(), '+00:00', '+05:30')\r\n          WHERE id = ?\r\n        `, {\r\n          replacements: [sectionEndTime, pulse.id]\r\n        });\r\n\r\n        console.log(`üî¥ Section end pulse recorded for society ${pulse.society_id} at ${sectionEndTime.toISOString()}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Error checking section pause and end:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check for section end (60 minutes of inactivity after last collection)\r\n   * Should be called periodically (e.g., every 10-15 minutes)\r\n   * \r\n   * @deprecated Use checkSectionPauseAndEnd instead for better granularity\r\n   * @param sequelize Sequelize instance\r\n   * @param schemaName Admin schema name\r\n   */\r\n  static async checkSectionEnd(\r\n    sequelize: Sequelize,\r\n    schemaName: string\r\n  ): Promise<void> {\r\n    try {\r\n      const now = new Date();\r\n      const sixtyMinutesAgo = new Date(now.getTime() - 60 * 60 * 1000);\r\n\r\n      // Find active pulses where last collection was > 60 minutes ago\r\n      const [activePulses] = await sequelize.query<{\r\n        id: number;\r\n        society_id: number;\r\n        pulse_date: string;\r\n        last_collection_time: Date;\r\n      }>(`\r\n        SELECT id, society_id, pulse_date, last_collection_time\r\n        FROM \\`${schemaName}\\`.section_pulse\r\n        WHERE pulse_status = 'active'\r\n        AND last_collection_time IS NOT NULL\r\n        AND last_collection_time <= ?\r\n        AND section_end_time IS NULL\r\n      `, {\r\n        replacements: [sixtyMinutesAgo],\r\n        type: QueryTypes.SELECT\r\n      }) as unknown as [{\r\n        id: number;\r\n        society_id: number;\r\n        pulse_date: string;\r\n        last_collection_time: Date;\r\n      }[]];\r\n\r\n      for (const pulse of (activePulses || [])) {\r\n        const sectionEndTime = new Date(pulse.last_collection_time.getTime() + 60 * 60 * 1000);\r\n\r\n        await sequelize.query(`\r\n          UPDATE \\`${schemaName}\\`.section_pulse\r\n          SET \r\n            section_end_time = ?,\r\n            pulse_status = 'ended',\r\n            last_checked = CONVERT_TZ(NOW(), '+00:00', '+05:30'),\r\n            updated_at = CONVERT_TZ(NOW(), '+00:00', '+05:30')\r\n          WHERE id = ?\r\n        `, {\r\n          replacements: [sectionEndTime, pulse.id]\r\n        });\r\n\r\n        console.log(`üî¥ Section end pulse recorded for society ${pulse.society_id} at ${sectionEndTime.toISOString()}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Error checking section end:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check for multi-day inactivity\r\n   * Updates inactive_days counter for societies without collections\r\n   * \r\n   * @param sequelize Sequelize instance\r\n   * @param schemaName Admin schema name\r\n   */\r\n  static async checkInactivity(\r\n    sequelize: Sequelize,\r\n    schemaName: string\r\n  ): Promise<void> {\r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      const yesterday = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString().split('T')[0];\r\n\r\n      // Get all societies\r\n      const [societies] = await sequelize.query<{ id: number }>(`\r\n        SELECT id FROM \\`${schemaName}\\`.societies\r\n        WHERE status = 'active'\r\n      `, {\r\n        type: QueryTypes.SELECT\r\n      }) as unknown as [{ id: number }[]];\r\n\r\n      for (const society of (societies || [])) {\r\n        // Check if society has pulse record for today\r\n        const [todayPulse] = await sequelize.query<{ id: number }>(`\r\n          SELECT id FROM \\`${schemaName}\\`.section_pulse\r\n          WHERE society_id = ? AND DATE(pulse_date) = ?\r\n        `, {\r\n          replacements: [society.id, today],\r\n          type: QueryTypes.SELECT\r\n        }) as unknown as [{ id: number }[]];\r\n\r\n        if (!todayPulse || todayPulse.length === 0) {\r\n          // No pulse today - check yesterday's pulse\r\n          const [yesterdayPulse] = await sequelize.query<{\r\n            inactive_days: number;\r\n            pulse_status: string;\r\n          }>(`\r\n            SELECT inactive_days, pulse_status\r\n            FROM \\`${schemaName}\\`.section_pulse\r\n            WHERE society_id = ? AND DATE(pulse_date) = ?\r\n          `, {\r\n            replacements: [society.id, yesterday],\r\n            type: QueryTypes.SELECT\r\n          }) as unknown as [{\r\n            inactive_days: number;\r\n            pulse_status: string;\r\n          }[]];\r\n\r\n          let inactiveDays = 1;\r\n          if (yesterdayPulse && yesterdayPulse.length > 0) {\r\n            inactiveDays = (yesterdayPulse[0].inactive_days || 0) + 1;\r\n          }\r\n\r\n          // Create today's pulse record with inactive status\r\n          await sequelize.query(`\r\n            INSERT INTO \\`${schemaName}\\`.section_pulse (\r\n              society_id,\r\n              pulse_date,\r\n              pulse_status,\r\n              inactive_days,\r\n              last_checked,\r\n              created_at,\r\n              updated_at\r\n            ) VALUES (?, ?, 'inactive', ?, NOW(), CONVERT_TZ(NOW(), '+00:00', '+05:30'), CONVERT_TZ(NOW(), '+00:00', '+05:30'))\r\n            ON DUPLICATE KEY UPDATE\r\n              pulse_status = 'inactive',\r\n              inactive_days = ?,\r\n              last_checked = NOW(),\r\n              updated_at = CONVERT_TZ(NOW(), '+00:00', '+05:30')\r\n          `, {\r\n            replacements: [society.id, today, inactiveDays, inactiveDays]\r\n          });\r\n\r\n          console.log(`‚ö™ No pulse for society ${society.id} - ${inactiveDays} day(s) inactive`);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Error checking inactivity:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Reset inactive days counter\r\n   */\r\n  private static async resetInactiveDays(\r\n    sequelize: Sequelize,\r\n    schemaName: string,\r\n    societyId: number,\r\n    pulseDate: string\r\n  ): Promise<void> {\r\n    await sequelize.query(`\r\n      UPDATE \\`${schemaName}\\`.section_pulse\r\n      SET inactive_days = 0\r\n      WHERE society_id = ? AND DATE(pulse_date) = ?\r\n    `, {\r\n      replacements: [societyId, pulseDate]\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get pulse status for a society\r\n   * \r\n   * @param sequelize Sequelize instance\r\n   * @param schemaName Admin schema name\r\n   * @param societyId Society database ID\r\n   * @param date Date string (YYYY-MM-DD) - defaults to today\r\n   */\r\n  static async getPulseStatus(\r\n    sequelize: Sequelize,\r\n    schemaName: string,\r\n    societyId: number,\r\n    date?: string\r\n  ): Promise<PulseUpdateResult | null> {\r\n    try {\r\n      const pulseDate = date || new Date().toISOString().split('T')[0];\r\n\r\n      const pulseRecords = await sequelize.query(`\r\n        SELECT \r\n          society_id,\r\n          pulse_date,\r\n          first_collection_time,\r\n          last_collection_time,\r\n          section_end_time,\r\n          pulse_status,\r\n          total_collections,\r\n          inactive_days,\r\n          created_at\r\n        FROM \\`${schemaName}\\`.section_pulse\r\n        WHERE society_id = ? AND DATE(pulse_date) = ?\r\n      `, {\r\n        replacements: [societyId, pulseDate],\r\n        type: QueryTypes.SELECT\r\n      }) as {\r\n        society_id: number;\r\n        pulse_date: string;\r\n        first_collection_time: Date | null;\r\n        last_collection_time: Date | null;\r\n        section_end_time: Date | null;\r\n        pulse_status: 'not_started' | 'active' | 'paused' | 'ended' | 'inactive';\r\n        total_collections: number;\r\n        inactive_days: number;\r\n        created_at: Date | null;\r\n      }[];\r\n\r\n      if (!pulseRecords || pulseRecords.length === 0) {\r\n        // No pulse record exists - section not started\r\n        return {\r\n          societyId,\r\n          pulseDate,\r\n          firstCollectionTime: null,\r\n          lastCollectionTime: null,\r\n          sectionEndTime: null,\r\n          pulseStatus: 'not_started',\r\n          totalCollections: 0,\r\n          inactiveDays: 0,\r\n          createdAt: null\r\n        };\r\n      }\r\n\r\n      const pulse = pulseRecords[0];\r\n      return {\r\n        societyId: pulse.society_id,\r\n        pulseDate: pulse.pulse_date,\r\n        firstCollectionTime: pulse.first_collection_time,\r\n        lastCollectionTime: pulse.last_collection_time,\r\n        sectionEndTime: pulse.section_end_time,\r\n        pulseStatus: pulse.pulse_status,\r\n        totalCollections: pulse.total_collections,\r\n        inactiveDays: pulse.inactive_days,\r\n        createdAt: pulse.created_at\r\n      };\r\n    } catch (error) {\r\n      console.error('‚ùå Error getting pulse status:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get pulse status for all societies\r\n   * \r\n   * @param sequelize Sequelize instance\r\n   * @param schemaName Admin schema name\r\n   * @param date Date string (YYYY-MM-DD) - defaults to today\r\n   */\r\n  static async getAllPulseStatuses(\r\n    sequelize: Sequelize,\r\n    schemaName: string,\r\n    date?: string\r\n  ): Promise<PulseUpdateResult[]> {\r\n    try {\r\n      const pulseDate = date || new Date().toISOString().split('T')[0];\r\n\r\n      const pulseRecords = await sequelize.query(`\r\n        SELECT \r\n          s.id as society_id,\r\n          s.name as society_name,\r\n          COALESCE(sp.pulse_date, ?) as pulse_date,\r\n          sp.first_collection_time,\r\n          sp.last_collection_time,\r\n          sp.section_end_time,\r\n          COALESCE(sp.pulse_status, 'not_started') as pulse_status,\r\n          COALESCE(sp.total_collections, 0) as total_collections,\r\n          COALESCE(sp.inactive_days, 0) as inactive_days,\r\n          sp.created_at\r\n        FROM \\`${schemaName}\\`.societies s\r\n        LEFT JOIN \\`${schemaName}\\`.section_pulse sp \r\n          ON s.id = sp.society_id AND DATE(sp.pulse_date) = ?\r\n        WHERE s.status = 'active'\r\n        ORDER BY s.name\r\n      `, {\r\n        replacements: [pulseDate, pulseDate],\r\n        type: QueryTypes.SELECT\r\n      }) as {\r\n        society_id: number;\r\n        society_name: string;\r\n        pulse_date: string;\r\n        first_collection_time: Date | null;\r\n        last_collection_time: Date | null;\r\n        section_end_time: Date | null;\r\n        pulse_status: 'not_started' | 'active' | 'ended' | 'inactive';\r\n        total_collections: number;\r\n        inactive_days: number;\r\n        created_at: Date | null;\r\n      }[];\r\n\r\n      return (pulseRecords || []).map(pulse => ({\r\n        societyId: pulse.society_id,\r\n        pulseDate: pulse.pulse_date,\r\n        firstCollectionTime: pulse.first_collection_time,\r\n        lastCollectionTime: pulse.last_collection_time,\r\n        sectionEndTime: pulse.section_end_time,\r\n        pulseStatus: pulse.pulse_status,\r\n        totalCollections: pulse.total_collections,\r\n        inactiveDays: pulse.inactive_days,\r\n        createdAt: pulse.created_at\r\n      }));\r\n    } catch (error) {\r\n      console.error('‚ùå Error getting all pulse statuses:', error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","React"],"mappings":"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","ignoreList":[0,1,2,3]}