module.exports=[908520,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(346271),f=a.i(262036),g=a.i(177156),h=a.i(141379),i=a.i(992258),j=a.i(943108),k=a.i(546842),l=a.i(124987),m=a.i(292e3),n=a.i(816201),o=a.i(463910),p=a.i(238246);let q=new Map;async function r(a){if(!/^\d{6}$/.test(a))return{success:!1,error:"Invalid pincode format. Please enter a 6-digit pincode."};if(q.has(a))return{success:!0,data:q.get(a)};try{let b=await fetch(`https://api.postalpincode.in/pincode/${a}`);if(!b.ok)throw Error("Failed to fetch pincode data");let c=await b.json();if(!c||!Array.isArray(c)||0===c.length)return{success:!1,error:"Pincode not found"};let d=c[0];if("Success"!==d.Status||!d.PostOffice||0===d.PostOffice.length)return{success:!1,error:"Invalid pincode or no data available"};let e=d.PostOffice[0],f={pincode:a,city:e.Name||e.Block||e.Division||"",state:e.State||"",district:e.District||"",country:e.Country||"India"};return q.set(a,f),{success:!0,data:f}}catch(a){return console.error("Pincode lookup error:",a),{success:!1,error:"Unable to fetch pincode information. Please enter manually."}}}a.i(16707);var s=a.i(529784),t=a.i(82170);let u=`
  .register-input {
    color: #111827 !important;
    background-color: #ffffff !important;
    -webkit-text-fill-color: #111827 !important;
  }
  .register-input:focus {
    color: #111827 !important;
    background-color: #ffffff !important;
    -webkit-text-fill-color: #111827 !important;
  }
  .register-input::-webkit-autofill,
  .register-input::-webkit-autofill:hover,
  .register-input::-webkit-autofill:focus,
  .register-input::-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px white inset !important;
    -webkit-text-fill-color: #111827 !important;
    color: #111827 !important;
  }
`;function v(){let a=(0,d.useRouter)(),[q,v]=(0,c.useState)({fullName:"",email:"",companyName:"",companyPincode:"",companyCity:"",companyState:"",password:"",confirmPassword:""}),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=document.createElement("style");return a.innerHTML=u,document.head.appendChild(a),document.title="Admin Registration - Poornasree Equipments Cloud",()=>{document.head.removeChild(a)}},[]),(0,c.useEffect)(()=>{(0,t.checkAuthAndRedirect)(a).catch(console.error)},[a]);let U=(0,c.useCallback)(async a=>{if(!a.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){a.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?F({isValid:!1,isAvailable:!1,message:"Invalid email format",type:"error"}):F(null),R(!1);return}H(!0),F(null);try{let b=await fetch("/api/auth/validate-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,deep:!0})}),c=await b.json();if(!b.ok||!c.success){F({isValid:!1,isAvailable:!1,message:"Unable to validate email. Please try again.",type:"error"}),R(!1);return}let d=c.data;if(!d.isValid){F({isValid:!1,isAvailable:!1,message:d.error||"Invalid email format",type:"error"}),R(!1);return}if(!d.isDeliverable){let a=d.suggestion?`Email domain cannot receive emails. Did you mean: ${d.suggestion}?`:"Email domain cannot receive emails";F({isValid:!1,isAvailable:!1,message:a,type:"error"}),R(!1);return}let e=await fetch("/api/auth/check-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});if(e.ok){let a=await e.json();if(a.success&&a.data&&a.data.exists){let b=a.data,c="";switch(b.status){case"active":c="Email already registered and active. Please login instead.";break;case"pending_approval":c="Email registered but pending admin approval.";break;case"pending":c=b.isEmailVerified?"Email registered but account activation pending.":"Email registered but not verified. Check your email for verification code.";break;case"inactive":c="Previous registration with this email was rejected or deactivated.";break;case"suspended":c="Account with this email has been suspended.";break;default:c="Email is already registered."}F({isValid:!0,isAvailable:!1,message:c,type:"error"}),R(!1);return}}let f=d.isFree?"Email is available. Note: Consider using a business email for professional accounts.":"Email is available for registration";F({isValid:!0,isAvailable:!0,message:f,type:d.isFree?"warning":"success"}),R(!0)}catch(a){console.error("Email validation error:",a),F({isValid:!1,isAvailable:!1,message:"Unable to validate email. Please try again.",type:"error"}),R(!1)}finally{H(!1)}},[]),V=async a=>{if(v(b=>({...b,companyPincode:a})),N(""),6===a.length&&/^\d{6}$/.test(a)){L(!0);try{let b=await r(a);b.success&&b.data?v(a=>({...a,companyCity:b.data?.city||"",companyState:b.data?.state||""})):N(b.error||"Invalid pincode or unable to fetch location details")}catch(a){console.error("Pincode validation error:",a),N("Unable to validate pincode. Please enter city and state manually.")}finally{L(!1)}}};(0,c.useEffect)(()=>{T(!!(q.fullName.trim()&&E?.isAvailable&&q.companyName.trim()&&q.companyPincode.trim()&&q.companyCity.trim()&&q.companyState.trim()&&q.password&&q.confirmPassword&&q.password===q.confirmPassword&&0===O.length))},[q,E,O]);let W=async b=>{if(b.preventDefault(),S){B(!0),D("");try{let b=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...q,role:"admin"})}),c=await b.json();b.ok&&c.success?a.push(`/verify-otp?email=${encodeURIComponent(q.email)}`):D(c.message||"Registration failed. Please try again.")}catch(a){console.error("Registration error:",a),D("An unexpected error occurred. Please try again.")}finally{B(!1)}}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-green-900 to-teal-900 relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"absolute inset-0",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-72 h-72 bg-green-500/20 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),(0,b.jsx)("div",{className:"absolute top-0 right-0 w-72 h-72 bg-emerald-500/20 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-2000"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-teal-500/20 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-4000"}),(0,b.jsx)("div",{className:"absolute -bottom-8 -right-8 w-72 h-72 bg-green-500/20 rounded-full mix-blend-multiply filter blur-xl animate-pulse animation-delay-6000"})]}),(0,b.jsxs)("div",{className:"relative z-10 min-h-screen flex",children:[(0,b.jsx)("div",{className:"hidden lg:flex lg:w-1/2 relative",children:(0,b.jsx)("div",{className:"flex flex-col justify-center items-center p-12 text-white w-full",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-lg",children:[(0,b.jsxs)("div",{className:"relative mb-8",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-white rounded-3xl flex items-center justify-center mx-auto shadow-2xl shadow-purple-500/25 overflow-hidden",children:(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-600 to-green-600 rounded-2xl flex items-center justify-center",children:(0,b.jsx)(k.User,{className:"h-8 w-8 text-white"})})}),(0,b.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-3xl opacity-20 blur-lg"})]}),(0,b.jsx)("h1",{className:"text-6xl font-bold mb-6 bg-gradient-to-r from-green-300 via-emerald-300 to-teal-300 bg-clip-text text-transparent",children:"Poornasree"}),(0,b.jsx)("p",{className:"text-2xl font-semibold mb-4 text-gray-200",children:"Equipments Cloud"}),(0,b.jsx)("p",{className:"text-xl text-gray-200 mb-12 leading-relaxed",children:"Join the dairy revolution with our cloud-based platform. Connect with thousands of professionals worldwide."}),(0,b.jsxs)("div",{className:"space-y-6 text-left",children:[(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex items-center space-x-4 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-200 font-medium",children:"Comprehensive User Management"})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"flex items-center space-x-4 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-200 font-medium",children:"Role-based Access Control"})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},className:"flex items-center space-x-4 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-gradient-to-r from-teal-400 to-cyan-400 rounded-full"}),(0,b.jsx)("span",{className:"text-gray-200 font-medium",children:"Cloud-based Infrastructure"})]})]})]})})}),(0,b.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 lg:p-12",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl p-8 w-full max-w-md border border-white/20",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-green-600 to-green-700 rounded-2xl flex items-center justify-center mb-4",children:(0,b.jsx)(k.User,{className:"h-8 w-8 text-white"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Registration"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Create your admin account"})]}),C&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.AlertCircle,{className:"h-5 w-5 text-red-600"}),(0,b.jsx)("p",{className:"text-red-800 text-sm",children:C})]})}),(0,b.jsxs)("form",{onSubmit:W,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.User,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:q.fullName,onChange:a=>v(b=>({...b,fullName:a.target.value})),className:"register-input w-full pl-10 pr-4 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200",placeholder:"Enter your full name",required:!0,style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Mail,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"email",value:q.email,onChange:a=>{var b;return b=a.target.value,void(v(a=>({...a,email:b})),I&&clearTimeout(I),J(setTimeout(()=>{U(b)},800)))},className:"register-input w-full pl-10 pr-12 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200",placeholder:"Enter your email address",required:!0,style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}}),G&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,b.jsx)(s.FlowerSpinner,{size:20})}),!G&&E&&(0,b.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:["success"===E.type&&(0,b.jsx)(n.CheckCircle,{className:"h-5 w-5 text-green-500"}),"warning"===E.type&&(0,b.jsx)(m.AlertCircle,{className:"h-5 w-5 text-amber-500"}),"error"===E.type&&(0,b.jsx)(m.AlertCircle,{className:"h-5 w-5 text-red-500"})]})]}),E&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mt-2 p-3 rounded-lg ${"success"===E.type?"bg-green-50 border border-green-200":"warning"===E.type?"bg-amber-50 border border-amber-200":"bg-red-50 border border-red-200"}`,children:(0,b.jsxs)("p",{className:`text-sm flex items-center gap-2 ${"success"===E.type?"text-green-700":"warning"===E.type?"text-amber-700":"text-red-700"}`,children:["success"===E.type&&(0,b.jsx)(n.CheckCircle,{className:"h-4 w-4"}),"warning"===E.type&&(0,b.jsx)(m.AlertCircle,{className:"h-4 w-4"}),"error"===E.type&&(0,b.jsx)(m.AlertCircle,{className:"h-4 w-4"}),E.message]})})]}),(0,b.jsx)(f.AnimatePresence,{children:Q&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o.Building,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:q.companyName,onChange:a=>v(b=>({...b,companyName:a.target.value})),className:"register-input w-full pl-10 pr-4 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200",placeholder:"Enter company name",required:!0,style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.MapPin,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:q.companyPincode,onChange:a=>V(a.target.value),className:"register-input w-full pl-10 pr-12 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200",placeholder:"Enter 6-digit pincode",maxLength:6,pattern:"[0-9]{6}",required:!0,style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}}),K&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,b.jsx)(s.FlowerSpinner,{size:20})})]}),M&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-2",children:[(0,b.jsx)(m.AlertCircle,{className:"h-4 w-4"}),M]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,b.jsx)("input",{type:"text",value:q.companyCity,onChange:a=>v(b=>({...b,companyCity:a.target.value})),className:"register-input w-full px-4 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200",placeholder:"City",required:!0,style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,b.jsx)("input",{type:"text",value:q.companyState,onChange:a=>v(b=>({...b,companyState:a.target.value})),className:"register-input w-full px-4 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200",placeholder:"State",required:!0,style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:w?"text":"password",value:q.password,onChange:a=>{var b;let c;v(b=>({...b,password:a.target.value})),b=a.target.value,c=[],b.length<8&&c.push("Password must be at least 8 characters long"),/(?=.*[a-z])/.test(b)||c.push("Password must contain at least one lowercase letter"),/(?=.*[A-Z])/.test(b)||c.push("Password must contain at least one uppercase letter"),/(?=.*\d)/.test(b)||c.push("Password must contain at least one number"),/(?=.*[!@#$%^&*])/.test(b)||c.push("Password must contain at least one special character (!@#$%^&*)"),P(c),c.length},className:"register-input w-full pl-10 pr-12 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200",placeholder:"Create a strong password",required:!0,autoComplete:"new-password",style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}}),(0,b.jsx)("button",{type:"button",onClick:()=>x(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:w?(0,b.jsx)(h.EyeOff,{className:"h-5 w-5"}):(0,b.jsx)(g.Eye,{className:"h-5 w-5"})})]}),O.length>0&&(0,b.jsx)("div",{className:"mt-2 space-y-1",children:O.map((a,c)=>(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,b.jsx)(m.AlertCircle,{className:"h-3 w-3"}),a]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)("input",{type:y?"text":"password",value:q.confirmPassword,onChange:a=>v(b=>({...b,confirmPassword:a.target.value})),className:"register-input w-full pl-10 pr-12 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200",placeholder:"Confirm your password",required:!0,autoComplete:"new-password",style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}}),(0,b.jsx)("button",{type:"button",onClick:()=>z(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:y?(0,b.jsx)(h.EyeOff,{className:"h-5 w-5"}):(0,b.jsx)(g.Eye,{className:"h-5 w-5"})})]}),q.confirmPassword&&q.password!==q.confirmPassword&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-2",children:[(0,b.jsx)(m.AlertCircle,{className:"h-4 w-4"}),"Passwords do not match"]})]})]})}),(0,b.jsx)(e.motion.button,{whileHover:{scale:S?1.02:1},whileTap:{scale:S?.98:1},type:"submit",disabled:!S||A,className:`w-full py-4 px-4 rounded-xl font-medium transition-all duration-200 ${S?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:A?(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(s.FlowerSpinner,{size:20}),"Creating Account..."]}):"Create Account"})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,b.jsx)(p.default,{href:"/login",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:"Sign in here"})]})})]})})]})]})}a.s(["default",()=>v],908520)}];

//# sourceMappingURL=src_app_%28auth%29_register_page_tsx_dc5cec95._.js.map