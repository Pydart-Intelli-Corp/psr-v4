module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},738783,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactServerDOMTurbopackClient},935112,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactDOM},732860,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],732860)},292e3,a=>{"use strict";let b=(0,a.i(170106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],292e3)},400210,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},641710,a=>{"use strict";let b=(0,a.i(170106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],641710)},724669,a=>{"use strict";let b=(0,a.i(170106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],724669)},244494,a=>{"use strict";let b=(0,a.i(170106).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["Globe",()=>b],244494)},781560,a=>{"use strict";let b=(0,a.i(170106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],781560)},669520,a=>{"use strict";let b=(0,a.i(170106).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],669520)},369012,a=>{"use strict";let b=(0,a.i(170106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],369012)},104416,a=>{"use strict";let b=(0,a.i(170106).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["ShieldCheck",()=>b],104416)},822969,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(238246),f=a.i(346271),g=a.i(943108),h=a.i(177156),i=a.i(141379),j=a.i(292e3),k=a.i(816201),l=a.i(104416);a.i(16707);var m=a.i(529784);let n=`
  .reset-password-input {
    color: #111827 !important;
    background-color: #ffffff !important;
    -webkit-text-fill-color: #111827 !important;
  }
  .reset-password-input:focus {
    color: #111827 !important;
    background-color: #ffffff !important;
    -webkit-text-fill-color: #111827 !important;
  }
  .reset-password-input::-webkit-autofill,
  .reset-password-input::-webkit-autofill:hover,
  .reset-password-input::-webkit-autofill:focus,
  .reset-password-input::-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px white inset !important;
    -webkit-text-fill-color: #111827 !important;
    color: #111827 !important;
  }
  
  .reset-link {
    color: #2563eb !important;
    text-decoration: none !important;
  }
  .reset-link:hover {
    color: #1d4ed8 !important;
  }
`,o=()=>{let[a,o]=(0,c.useState)({newPassword:"",confirmPassword:""}),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(5),D=(0,d.useRouter)(),E=(0,d.useSearchParams)().get("token");(0,c.useEffect)(()=>{A(!0);let a=document.createElement("style");return a.innerText=n,document.head.appendChild(a),document.title="Reset Password - Poornasree Equipments Cloud",E||w("Invalid or missing reset token. Please request a new password reset link."),()=>{document.head.contains(a)&&document.head.removeChild(a)}},[E]),(0,c.useEffect)(()=>{if(x&&B>0){let a=setTimeout(()=>{C(a=>a-1)},1e3);return()=>clearTimeout(a)}x&&0===B&&D.push("/login")},[x,B,D]);let F=a=>{let{name:b,value:c}=a.target;o(a=>({...a,[b]:c})),v&&w("")},G=async b=>{var c;if(b.preventDefault(),!E)return void w("Invalid or missing reset token. Please request a new password reset link.");if(!a.newPassword||!a.confirmPassword)return void w("Please fill in all fields");if(a.newPassword!==a.confirmPassword)return void w("Passwords do not match");let d=(c=a.newPassword).length<8?"Password must be at least 8 characters long":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(c)?null:"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character (@$!%*?&)";if(d)return void w(d);u(!0),w(""),y(!1);try{let b=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:E,newPassword:a.newPassword,confirmPassword:a.confirmPassword})}),c=await b.json();c.success?(y(!0),w("Password reset successfully! Redirecting to login..."),o({newPassword:"",confirmPassword:""})):w(c.message||"Failed to reset password. Please try again.")}catch(a){console.error("Reset password error:",a),w("An error occurred. Please try again later.")}finally{u(!1)}},H=(a=>{if(!a)return{strength:"",color:"",width:"0%"};let b=0;return(a.length>=8&&b++,/[a-z]/.test(a)&&b++,/[A-Z]/.test(a)&&b++,/\d/.test(a)&&b++,/[@$!%*?&]/.test(a)&&b++,b<=2)?{strength:"Weak",color:"bg-red-500",width:"33%"}:b<=4?{strength:"Medium",color:"bg-yellow-500",width:"66%"}:{strength:"Strong",color:"bg-green-500",width:"100%"}})(a.newPassword);return z?(0,b.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden bg-gradient-to-br from-emerald-50 via-white to-teal-50",children:[(0,b.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute top-20 left-10 w-72 h-72 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"}),(0,b.jsx)("div",{className:"absolute top-40 right-10 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse animation-delay-2000"}),(0,b.jsx)("div",{className:"absolute -bottom-8 left-1/3 w-72 h-72 bg-cyan-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse animation-delay-4000"})]}),(0,b.jsxs)("div",{className:"w-full max-w-md relative z-10",children:[(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl p-8 border border-white/20",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg",children:(0,b.jsx)(l.ShieldCheck,{className:"w-8 h-8 text-white"})})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Reset Password"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Enter your new password below"})]}),(0,b.jsxs)("form",{onSubmit:G,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-700",children:"New Password"}),(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-xl",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:(0,b.jsx)(g.Lock,{className:"h-5 w-5 text-gray-400"})}),(0,b.jsx)("input",{type:p?"text":"password",id:"newPassword",name:"newPassword",value:a.newPassword,onChange:F,required:!0,autoComplete:"new-password",className:"reset-password-input w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 focus:outline-none transition-all duration-200",placeholder:"Enter new password",style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}}),(0,b.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 z-10",children:(0,b.jsx)("button",{type:"button",onClick:()=>q(!p),className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none p-1",children:p?(0,b.jsx)(i.EyeOff,{className:"h-5 w-5"}):(0,b.jsx)(h.Eye,{className:"h-5 w-5"})})})]}),a.newPassword&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Password Strength:"}),(0,b.jsx)("span",{className:`font-semibold ${"Weak"===H.strength?"text-red-600":"Medium"===H.strength?"text-yellow-600":"text-green-600"}`,children:H.strength})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,b.jsx)("div",{className:`h-full ${H.color} transition-all duration-300`,style:{width:H.width}})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700",children:"Confirm Password"}),(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-xl",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10",children:(0,b.jsx)(g.Lock,{className:"h-5 w-5 text-gray-400"})}),(0,b.jsx)("input",{type:r?"text":"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:F,required:!0,autoComplete:"new-password",className:"reset-password-input w-full pl-12 pr-12 py-4 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 focus:outline-none transition-all duration-200",placeholder:"Confirm new password",style:{color:"#111827 !important",backgroundColor:"#ffffff !important",WebkitTextFillColor:"#111827 !important"}}),(0,b.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 z-10",children:(0,b.jsx)("button",{type:"button",onClick:()=>s(!r),className:"text-gray-400 hover:text-gray-600 transition-colors focus:outline-none p-1",children:r?(0,b.jsx)(i.EyeOff,{className:"h-5 w-5"}):(0,b.jsx)(h.Eye,{className:"h-5 w-5"})})})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 text-xs text-gray-600 space-y-1",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-700 mb-2",children:"Password must contain:"}),(0,b.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,b.jsx)("li",{children:"At least 8 characters"}),(0,b.jsx)("li",{children:"One uppercase letter (A-Z)"}),(0,b.jsx)("li",{children:"One lowercase letter (a-z)"}),(0,b.jsx)("li",{children:"One number (0-9)"}),(0,b.jsx)("li",{children:"One special character (@$!%*?&)"})]})]}),v&&(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`flex items-start space-x-3 rounded-xl p-4 ${x?"text-green-700 bg-green-50 border border-green-200":"text-red-700 bg-red-50 border border-red-200"}`,children:[x?(0,b.jsx)(k.CheckCircle,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}):(0,b.jsx)(j.AlertCircle,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("span",{className:"text-sm font-medium block",children:v}),x&&(0,b.jsxs)("span",{className:"text-xs text-green-600 mt-1 block",children:["Redirecting in ",B," seconds..."]})]})]}),(0,b.jsx)("button",{type:"submit",disabled:t||!E||x,className:"w-full bg-gradient-to-r from-emerald-600 via-teal-600 to-emerald-700 text-white font-semibold py-4 px-6 rounded-xl hover:from-emerald-700 hover:via-teal-700 hover:to-emerald-800 focus:ring-2 focus:ring-emerald-500/20 focus:outline-none transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg shadow-emerald-500/25",children:t?(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,b.jsx)(m.FlowerSpinner,{size:20,className:"brightness-200"}),(0,b.jsx)("span",{children:"Resetting Password..."})]}):x?"Password Reset Successfully!":"Reset Password"})]}),!x&&(0,b.jsx)("div",{className:"mt-8 text-center",children:(0,b.jsx)(e.default,{href:"/login",className:"reset-link text-sm font-medium transition-colors",children:"Back to Login"})})]}),(0,b.jsx)("div",{className:"mt-8 text-center",children:(0,b.jsx)(e.default,{href:"/",className:"text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"â† Back to Home"})})]})]}):null};a.s(["default",0,()=>(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)(m.FlowerSpinner,{size:40})}),children:(0,b.jsx)(o,{})})])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2b471a5e._.js.map