module.exports=[226737,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(346271),f=a.i(660246);let g=(0,a.i(170106).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var h=a.i(724669),i=a.i(290669),j=a.i(321161),k=a.i(220005),l=a.i(972692),m=a.i(633508),n=a.i(313949),o=a.i(603314),p=a.i(463910),q=a.i(439760),r=a.i(681010),s=a.i(177156),t=a.i(915618),u=a.i(371727);a.i(16707);var v=a.i(529784),w=a.i(289676),w=w;a.s(["default",0,()=>{let[a,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)("overview"),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)([]),[I,J]=(0,c.useState)(!1),K=(0,d.useRouter)();(0,c.useEffect)(()=>{(async()=>{let a=localStorage.getItem("adminToken"),b=localStorage.getItem("userRole"),c=localStorage.getItem("adminUser");if(!a||"super_admin"!==b||!c)return K.push("/superadmin");try{let a=JSON.parse(c),b={users:{total:1247,superAdmins:1,admins:5,dairy:15,bmc:45,society:150,farmers:1031},system:{databases:3,activeConnections:12,lastBackup:new Date().toISOString().split("T")[0]}};x(a),z(b),F(!1)}catch(a){console.error("Error parsing user data:",a),K.push("/superadmin");return}})()},[K]);let L=async()=>{J(!0);try{let a=await fetch("/api/superadmin/approvals"),b=await a.json();if(b.success){let a=b.data;H(a)}else console.error("Failed to fetch pending approvals:",b.error)}catch(a){console.error("Error fetching pending approvals:",a)}finally{J(!1)}},M=async(a,b)=>{try{let c=await fetch("/api/superadmin/approvals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:a,action:b})}),d=await c.json();d.success?(H(b=>b.filter(b=>b.id!==a)),alert(`Admin ${"approve"===b?"approved":"rejected"} successfully!`)):alert(`Failed to ${b} admin: ${d.error}`)}catch(a){console.error(`Error ${b}ing admin:`,a),alert(`Error ${b}ing admin. Please try again.`)}};if((0,c.useEffect)(()=>{"approvals"===C&&L()},[C]),E)return(0,b.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)(v.FlowerSpinner,{size:64})}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})});let N=[{id:"overview",label:"Overview",icon:i.Activity},{id:"monitoring",label:"Live Monitor",icon:u.Radio},{id:"approvals",label:"Approvals",icon:o.Shield},{id:"users",label:"User Management",icon:f.Users},{id:"machines",label:"Machines",icon:p.Building},{id:"database",label:"Database",icon:g},{id:"settings",label:"Settings",icon:j.Settings}];return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[A&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>B(!1)}),(0,b.jsxs)("div",{className:`fixed left-0 top-0 h-full w-64 bg-gradient-to-b from-green-800 to-emerald-900 text-white transform transition-transform duration-300 ease-in-out z-50 ${A?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center",children:(0,b.jsx)(n.Milk,{className:"h-6 w-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold",children:"Poornasree"}),(0,b.jsx)("p",{className:"text-xs text-green-200",children:"Admin Panel"})]})]}),(0,b.jsx)("button",{onClick:()=>B(!1),className:"lg:hidden text-white hover:text-green-200",children:(0,b.jsx)(m.X,{className:"h-6 w-6"})})]}),(0,b.jsx)("nav",{className:"space-y-2",children:N.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>{D(a.id),B(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors ${C===a.id?"bg-green-600 text-white":"text-green-100 hover:bg-green-700 hover:text-white"}`,children:[(0,b.jsx)(c,{className:"h-5 w-5"}),(0,b.jsx)("span",{className:"font-medium",children:a.label})]},a.id)})})]}),(0,b.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-green-700",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:(0,b.jsx)(o.Shield,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-white",children:a?.username}),(0,b.jsx)("p",{className:"text-xs text-green-200",children:"Super Administrator"})]})]}),(0,b.jsxs)("button",{onClick:()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminRefreshToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUser"),K.push("/superadmin")},className:"w-full flex items-center space-x-3 px-4 py-2 text-green-200 hover:text-white hover:bg-green-700 rounded-lg transition-colors",children:[(0,b.jsx)(k.LogOut,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Logout"})]})]})]}),(0,b.jsxs)("div",{className:"lg:ml-64",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm border-b px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("button",{onClick:()=>B(!0),className:"lg:hidden text-gray-600 hover:text-gray-900",children:(0,b.jsx)(l.Menu,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 capitalize",children:C}),(0,b.jsx)("p",{className:"text-gray-600",children:"Poornasree Equipments Cloud Administration"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("button",{onClick:()=>K.push("/superadmin/monitoring"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",title:"Open Live Monitor",children:[(0,b.jsx)(u.Radio,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline font-medium",children:"Live Monitor"}),(0,b.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a?.username}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Super Administrator"})]})]})]})}),(0,b.jsxs)("main",{className:"p-6",children:["monitoring"===C&&(0,b.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Redirecting to Live Monitor..."}),(0,b.jsxs)("button",{onClick:()=>K.push("/superadmin/monitoring"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[(0,b.jsx)(u.Radio,{className:"w-5 h-5"}),"Open Live Monitor"]})]})}),"overview"===C&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:y?.users.total.toLocaleString()})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,b.jsx)(f.Users,{className:"h-6 w-6 text-blue-600"})})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,b.jsx)(h.TrendingUp,{className:"h-4 w-4 text-green-500 mr-1"}),(0,b.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"+12.5%"}),(0,b.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"vs last month"})]})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Farmers"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:y?.users.farmers.toLocaleString()})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,b.jsx)(r.Home,{className:"h-6 w-6 text-green-600"})})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,b.jsx)(h.TrendingUp,{className:"h-4 w-4 text-green-500 mr-1"}),(0,b.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"+8.2%"}),(0,b.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"vs last month"})]})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Societies"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:y?.users.society})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,b.jsx)(p.Building,{className:"h-6 w-6 text-purple-600"})})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,b.jsx)(h.TrendingUp,{className:"h-4 w-4 text-green-500 mr-1"}),(0,b.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"+15.3%"}),(0,b.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"vs last month"})]})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"BMC Units"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:y?.users.bmc})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:(0,b.jsx)(q.Factory,{className:"h-6 w-6 text-orange-600"})})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,b.jsx)(h.TrendingUp,{className:"h-4 w-4 text-green-500 mr-1"}),(0,b.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"+5.7%"}),(0,b.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"vs last month"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Hierarchy"}),(0,b.jsx)("div",{className:"space-y-4",children:[{role:"Super Admin",count:y?.users.superAdmins||0,color:"bg-red-500"},{role:"Admin",count:y?.users.admins||0,color:"bg-orange-500"},{role:"Dairy",count:y?.users.dairy||0,color:"bg-blue-500"},{role:"BMC",count:y?.users.bmc||0,color:"bg-purple-500"},{role:"Society",count:y?.users.society||0,color:"bg-green-500"},{role:"Farmer",count:y?.users.farmers||0,color:"bg-emerald-500"}].map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${a.color}`}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:a.role})]}),(0,b.jsx)("span",{className:"text-sm font-bold text-gray-900",children:a.count.toLocaleString()})]},a.role))})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Database Status"})]}),(0,b.jsx)("span",{className:"text-sm font-bold text-green-600",children:"Online"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active Connections"})]}),(0,b.jsx)("span",{className:"text-sm font-bold text-gray-900",children:y?.system.activeConnections})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Last Backup"})]}),(0,b.jsx)("span",{className:"text-sm font-bold text-gray-900",children:y?.system.lastBackup})]})]})]})]}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition-colors",children:[(0,b.jsx)(t.Plus,{className:"h-5 w-5 text-blue-600"}),(0,b.jsx)("span",{className:"font-medium text-blue-700",children:"Create New Admin"})]}),(0,b.jsxs)("button",{className:"flex items-center space-x-3 p-4 bg-green-50 hover:bg-green-100 rounded-xl transition-colors",children:[(0,b.jsx)(s.Eye,{className:"h-5 w-5 text-green-600"}),(0,b.jsx)("span",{className:"font-medium text-green-700",children:"View All Users"})]}),(0,b.jsxs)("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition-colors",children:[(0,b.jsx)(g,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)("span",{className:"font-medium text-purple-700",children:"Database Backup"})]})]})]})]}),"approvals"===C&&(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Admin Approvals"}),(0,b.jsx)("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh"})]}),I?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)(v.FlowerSpinner,{size:32})}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading pending approvals..."})]}):0===G.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(o.Shield,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Approvals"}),(0,b.jsx)("p",{className:"text-gray-600",children:"All admin registrations have been processed."})]}):(0,b.jsx)("div",{className:"space-y-4",children:G.map(a=>(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.fullName}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("strong",{children:"Email:"})," ",a.email]}),(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("strong",{children:"UID:"})," ",a.uid]}),(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("strong",{children:"Company:"})," ",a.companyName]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("strong",{children:"Address:"})," ",a.companyCity,", ",a.companyState]}),(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("strong",{children:"Pincode:"})," ",a.companyPincode]}),(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("strong",{children:"Registered:"})," ",new Date(a.createdAt).toLocaleDateString()]})]})]})]}),(0,b.jsxs)("div",{className:"flex space-x-3 ml-6",children:[(0,b.jsxs)("button",{onClick:()=>M(a.id,"approve"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[(0,b.jsx)(o.Shield,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Approve"})]}),(0,b.jsxs)("button",{onClick:()=>M(a.id,"reject"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[(0,b.jsx)(m.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Reject"})]})]})]})},a.id))})]})}),"machines"===C&&(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(w.default,{})}),!["overview","approvals","machines"].includes(C)&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(j.Settings,{className:"h-8 w-8 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Feature Coming Soon"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["The ",C," section is currently under development and will be available soon."]})]})]})]})]})}],226737)}];

//# sourceMappingURL=src_app_superadmin_dashboard_page_tsx_41d1ff81._.js.map