{"version":3,"sources":["turbopack:///[project]/src/app/admin/dairy/[id]/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useUser } from '@/contexts/UserContext';\r\nimport { useLanguage } from '@/contexts/LanguageContext';\r\nimport { \r\n  ArrowLeft,\r\n  Milk,\r\n  MapPin,\r\n  Phone,\r\n  Mail,\r\n  User,\r\n  Calendar,\r\n  Activity,\r\n  Trash2,\r\n  Building2,\r\n  TrendingUp,\r\n  BarChart3,\r\n  AlertCircle,\r\n  X,\r\n  RefreshCw,\r\n  Edit3,\r\n  Eye,\r\n  EyeOff,\r\n  Award,\r\n  Clock,\r\n  Users\r\n} from 'lucide-react';\r\nimport { \r\n  FlowerSpinner,\r\n  LoadingSpinner,\r\n  StatusMessage,\r\n  EmptyState,\r\n  FormInput,\r\n  FormSelect\r\n} from '@/components';\r\nimport DeleteDairyModal from '@/components/modals/DeleteDairyModal';\r\nimport NavigationConfirmModal from '@/components/NavigationConfirmModal';\r\nimport TransferBMCsModal from '@/components/modals/TransferBMCsModal';\r\nimport { formatPhoneInput, validatePhoneOnBlur } from '@/lib/validation/phoneValidation';\r\nimport { validateEmailQuick } from '@/lib/emailValidation';\r\n\r\ninterface DairyDetails {\r\n  id: number;\r\n  name: string;\r\n  dairyId: string;\r\n  location?: string;\r\n  contactPerson?: string;\r\n  phone?: string;\r\n  email?: string;\r\n  capacity?: number;\r\n  password?: string;\r\n  status: 'active' | 'inactive' | 'maintenance';\r\n  createdAt: string;\r\n  lastActivity?: string;\r\n  bmcCount?: number;\r\n  societyCount?: number;\r\n  farmerCount?: number;\r\n  totalMilkProduction?: number;\r\n  monthlyTarget?: number;\r\n}\r\n\r\ninterface BMC {\r\n  id: number;\r\n  bmcId: string;\r\n  name: string;\r\n  location?: string;\r\n  capacity?: number;\r\n  status: string;\r\n  createdAt: string;\r\n  societyCount: number;\r\n  farmerCount: number;\r\n  totalCollections: number;\r\n}\r\n\r\ninterface Society {\r\n  id: number;\r\n  societyId: string;\r\n  name: string;\r\n  location?: string;\r\n  contactPerson?: string;\r\n  phone?: string;\r\n  status: string;\r\n  bmcName: string;\r\n  bmcId: string;\r\n  farmerCount: number;\r\n  totalCollections: number;\r\n}\r\n\r\ninterface Farmer {\r\n  id: number;\r\n  farmerId: string;\r\n  rfId?: string;\r\n  name: string;\r\n  phone?: string;\r\n  status: string;\r\n  societyName: string;\r\n  societyId: string;\r\n  bmcName: string;\r\n  totalCollections: number;\r\n  totalQuantity: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n}\r\n\r\ninterface Machine {\r\n  id: number;\r\n  machineId: string;\r\n  machineType: string;\r\n  status: string;\r\n  isMasterMachine: boolean;\r\n  societyName: string;\r\n  societyId: string;\r\n  bmcName: string;\r\n  totalCollections: number;\r\n  lastCollection?: string;\r\n}\r\n\r\ninterface Collection {\r\n  id: number;\r\n  collectionDate: string;\r\n  shift: string;\r\n  quantity: number;\r\n  fat: number;\r\n  snf: number;\r\n  rate: number;\r\n  totalAmount: number;\r\n  farmerName: string;\r\n  farmerId: string;\r\n  societyName: string;\r\n  societyId: string;\r\n}\r\n\r\ninterface Analytics {\r\n  totalBmcs: number;\r\n  totalSocieties: number;\r\n  totalFarmers: number;\r\n  totalMachines: number;\r\n  totalCollections: number;\r\n  totalQuantity: number;\r\n  totalRevenue: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n  avgRate: number;\r\n}\r\n\r\ninterface DailyTrend {\r\n  date: string;\r\n  collections: number;\r\n  quantity: number;\r\n  revenue: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n}\r\n\r\ninterface ShiftAnalysis {\r\n  shift: string;\r\n  collections: number;\r\n  quantity: number;\r\n  avgFat: number;\r\n  avgSnf: number;\r\n}\r\n\r\ninterface TopPerformer {\r\n  farmerId?: string;\r\n  societyId?: string;\r\n  name: string;\r\n  societyName?: string;\r\n  bmcName?: string;\r\n  farmerCount?: number;\r\n  collections: number;\r\n  totalQuantity: number;\r\n  totalRevenue?: number;\r\n  avgFat?: number;\r\n  avgSnf?: number;\r\n}\r\n\r\ninterface DairyDetailsData {\r\n  dairy: DairyDetails;\r\n  bmcs: BMC[];\r\n  societies: Society[];\r\n  farmers: Farmer[];\r\n  machines: Machine[];\r\n  collections: Collection[];\r\n  analytics: Analytics;\r\n  trends: {\r\n    daily: DailyTrend[];\r\n    byShift: ShiftAnalysis[];\r\n  };\r\n  topPerformers: {\r\n    farmers: TopPerformer[];\r\n    societies: TopPerformer[];\r\n  };\r\n}\r\n\r\ninterface DairyFormData {\r\n  name: string;\r\n  dairyId: string;\r\n  password: string;\r\n  location: string;\r\n  contactPerson: string;\r\n  phone: string;\r\n  email: string;\r\n  capacity: string;\r\n  status: 'active' | 'inactive' | 'maintenance';\r\n  monthlyTarget: string;\r\n}\r\n\r\nexport default function DairyDetails() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const dairyId = params.id;\r\n  const { user } = useUser();\r\n  const { t } = useLanguage();\r\n  \r\n  const [dairyData, setDairyData] = useState<DairyDetailsData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'details'>('overview');\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [saveLoading, setSaveLoading] = useState(false);\r\n  const [validationErrors, setValidationErrors] = useState<{\r\n    phone?: string;\r\n    email?: string;\r\n  }>({});\r\n  const [editFormData, setEditFormData] = useState({\r\n    name: '',\r\n    location: '',\r\n    contactPerson: '',\r\n    phone: '',\r\n    email: '',\r\n    password: '',\r\n    status: 'active' as 'active' | 'inactive' | 'maintenance'\r\n  });\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [showTransferModal, setShowTransferModal] = useState(false);\r\n  const [bmcsForTransfer, setBmcsForTransfer] = useState<Array<{ id: number; name: string; bmcId: string }>>([]);\r\n  const [allDairies, setAllDairies] = useState<Array<{ id: number; name: string }>>([]);\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [showBmcsNavigateConfirm, setShowBmcsNavigateConfirm] = useState(false);\r\n  const [showSocietiesNavigateConfirm, setShowSocietiesNavigateConfirm] = useState(false);\r\n  const [showMachinesNavigateConfirm, setShowMachinesNavigateConfirm] = useState(false);\r\n  const [showFarmersNavigateConfirm, setShowFarmersNavigateConfirm] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [formData, setFormData] = useState<DairyFormData>({\r\n    name: '',\r\n    dairyId: '',\r\n    password: '',\r\n    location: '',\r\n    contactPerson: '',\r\n    phone: '',\r\n    email: '',\r\n    capacity: '',\r\n    status: 'active',\r\n    monthlyTarget: ''\r\n  });\r\n\r\n  // Fetch all dairies for transfer dropdown\r\n  const fetchDairies = useCallback(async () => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      if (!token) return;\r\n\r\n      const response = await fetch('/api/user/dairy', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setAllDairies(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching dairies:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch BMCs for this dairy\r\n  const fetchBMCsForDairy = async (dairyIdToCheck: number) => {\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/bmc', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        const allBmcs = result.data || [];\r\n        const filteredBmcs = allBmcs.filter((b: { dairyFarmId: number }) => b.dairyFarmId === dairyIdToCheck);\r\n        return filteredBmcs.map((b: { id: number; name: string; bmcId: string }) => ({\r\n          id: b.id,\r\n          name: b.name,\r\n          bmcId: b.bmcId\r\n        }));\r\n      }\r\n      return [];\r\n    } catch (error) {\r\n      console.error('Error fetching BMCs:', error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  const fetchDairyDetails = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('authToken');\r\n      if (!token) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n\r\n      // Fetch comprehensive dairy data from new API endpoint\r\n      const response = await fetch(`/api/user/dairy/${dairyId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch dairy details');\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (!result.data) {\r\n        setError('Dairy not found');\r\n        setDairyData(null);\r\n        return;\r\n      }\r\n\r\n      setDairyData(result.data);\r\n    } catch (error) {\r\n      console.error('Error fetching dairy details:', error);\r\n      setError('Failed to load dairy details');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [dairyId, router]);\r\n\r\n  // Handle delete click\r\n  const handleDeleteClick = async () => {\r\n    if (!dairyData?.dairy) return;\r\n    \r\n    // Fetch BMCs for this dairy\r\n    const bmcs = await fetchBMCsForDairy(dairyData.dairy.id);\r\n    setBmcsForTransfer(bmcs);\r\n    \r\n    if (bmcs.length > 0) {\r\n      // Fetch all dairies for transfer dropdown\r\n      await fetchDairies();\r\n      setShowTransferModal(true);\r\n    } else {\r\n      // Store dairy ID for OTP modal (used by DeleteDairyModal component)\r\n      (window as any).selectedDairyIdForDelete = dairyData.dairy.id;\r\n      setShowDeleteModal(true);\r\n    }\r\n  };\r\n\r\n  // Handle transfer and delete (or cascade delete)\r\n  const handleTransferAndDelete = async (newDairyId: number | null, deleteAll: boolean, otp?: string) => {\r\n    if (!dairyData?.dairy) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/dairy', {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          id: dairyData.dairy.id,\r\n          newDairyId,\r\n          deleteAll,\r\n          otp\r\n        })\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        if (deleteAll) {\r\n          setSuccess('Dairy and all related data deleted successfully!');\r\n        } else {\r\n          setSuccess(`${result.data.transferredBMCs} BMC(s) transferred and dairy deleted successfully!`);\r\n        }\r\n        setShowTransferModal(false);\r\n        \r\n        // Redirect to dairy list after 2 seconds\r\n        setTimeout(() => {\r\n          router.push('/admin/dairy');\r\n        }, 2000);\r\n      } else {\r\n        setError(result.message || 'Failed to delete dairy');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting dairy:', error);\r\n      setError('Failed to delete dairy');\r\n    }\r\n  };\r\n\r\n  // Handle simple delete (no BMCs)\r\n  const handleConfirmDelete = async (otp?: string) => {\r\n    if (!dairyData?.dairy) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const body: {\r\n        id: number;\r\n        otp?: string;\r\n      } = { id: dairyData.dairy.id };\r\n      \r\n      if (otp) {\r\n        body.otp = otp;\r\n      }\r\n\r\n      const response = await fetch('/api/user/dairy', {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccess('Dairy deleted successfully!');\r\n        setShowDeleteModal(false);\r\n        \r\n        // Redirect to dairy list after 2 seconds\r\n        setTimeout(() => {\r\n          router.push('/admin/dairy');\r\n        }, 2000);\r\n      } else {\r\n        const error = await response.json();\r\n        setError(error.message || 'Failed to delete dairy');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting dairy:', error);\r\n      setError('Failed to delete dairy');\r\n    }\r\n  };\r\n\r\n  // Update dairy\r\n  const handleUpdateDairy = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!dairyData?.dairy) return;\r\n\r\n    setFormLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const dairy = dairyData.dairy;\r\n      const updateData: {\r\n        id: number;\r\n        name: string;\r\n        location: string;\r\n        contactPerson: string;\r\n        phone: string;\r\n        email: string;\r\n        capacity?: number;\r\n        status?: 'active' | 'inactive' | 'maintenance';\r\n        monthlyTarget?: number;\r\n        password?: string;\r\n      } = {\r\n        id: dairy.id,\r\n        name: formData.name,\r\n        location: formData.location,\r\n        contactPerson: formData.contactPerson,\r\n        phone: formData.phone,\r\n        email: formData.email,\r\n        capacity: formData.capacity ? parseInt(formData.capacity) : undefined,\r\n        status: formData.status,\r\n        monthlyTarget: formData.monthlyTarget ? parseInt(formData.monthlyTarget) : undefined\r\n      };\r\n\r\n      // Only include password if it was changed\r\n      if (formData.password) {\r\n        updateData.password = formData.password;\r\n      }\r\n\r\n      const response = await fetch('/api/user/dairy', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(updateData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccess('Dairy updated successfully!');\r\n        setShowEditForm(false);\r\n        await fetchDairyDetails();\r\n        \r\n        setTimeout(() => setSuccess(''), 3000);\r\n      } else {\r\n        const error = await response.json();\r\n        setError(error.error || 'Failed to update dairy');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating dairy:', error);\r\n      setError('Failed to update dairy');\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (field: keyof DairyFormData, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'active': return 'bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 border-green-200 dark:border-green-800';\r\n      case 'inactive': return 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 border-red-200 dark:border-red-800';\r\n      case 'maintenance': return 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800';\r\n      default: return 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600';\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDairyDetails();\r\n  }, [dairyId, fetchDairyDetails]);\r\n\r\n  // Fetch password when entering edit mode\r\n  useEffect(() => {\r\n    const fetchPassword = async () => {\r\n      if (isEditing && dairyData?.dairy && !currentPassword) {\r\n        try {\r\n          const token = localStorage.getItem('authToken');\r\n          const response = await fetch(`/api/user/dairy/password?id=${dairyData.dairy.id}`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`\r\n            }\r\n          });\r\n          \r\n          if (response.ok) {\r\n            const result = await response.json();\r\n            let fetchedPassword = '';\r\n            \r\n            if (typeof result.data === 'object' && result.data.password) {\r\n              fetchedPassword = String(result.data.password);\r\n            } else if (result.data) {\r\n              fetchedPassword = String(result.data);\r\n            } else if (result.password) {\r\n              fetchedPassword = String(result.password);\r\n            }\r\n            \r\n            setCurrentPassword(fetchedPassword);\r\n            setEditFormData(prev => ({ ...prev, password: fetchedPassword }));\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching password:', error);\r\n        }\r\n      }\r\n    };\r\n    \r\n    fetchPassword();\r\n  }, [isEditing, dairyData, currentPassword]);\r\n\r\n  // Redirect if no user\r\n  useEffect(() => {\r\n    if (!user) {\r\n      router.push('/login');\r\n    }\r\n  }, [user, router]);\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (error || !dairyData) {\r\n    return (\r\n      <EmptyState\r\n        icon={<AlertCircle className=\"w-10 h-10\" />}\r\n        title={`${t.dairyManagement.dairyDetails} ${t.common.noDataAvailable}`}\r\n        message={error || t.dairyManagement.noDairiesFound}\r\n        actionText={`${t.common.back} to ${t.nav.dairyManagement}`}\r\n        onAction={() => router.push('/admin/dairy')}\r\n        showAction={true}\r\n      />\r\n    );\r\n  }\r\n\r\n  const dairy = dairyData.dairy;\r\n  const analytics = dairyData.analytics;\r\n\r\n  return (\r\n    <>\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 lg:pb-8\">\r\n      {/* Header - Mobile Responsive */}\r\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"px-4 sm:px-6 py-3 sm:py-4\">\r\n          {/* Mobile: Stack layout */}\r\n          <div className=\"flex flex-col gap-3 sm:gap-4\">\r\n            {/* Top Row: Back button + Title */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <button\r\n                onClick={() => router.push('/admin/dairy')}\r\n                className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center\"\r\n              >\r\n                <ArrowLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n              </button>\r\n              <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\r\n                <div className=\"p-2 sm:p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg sm:rounded-xl flex-shrink-0\">\r\n                  <Milk className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <h1 className=\"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100 truncate\">{dairy.name}</h1>\r\n                  <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate\">Dairy ID: {dairy.dairyId}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bottom Row: Status + Actions */}\r\n            <div className=\"flex items-center justify-between gap-3\">\r\n              <span className={`px-3 py-1 text-xs sm:text-sm font-medium rounded-full border ${getStatusColor(dairy.status)}`}>\r\n                {dairy.status}\r\n              </span>\r\n              \r\n              <div className=\"flex items-center gap-2 sm:gap-3\">\r\n                <button \r\n                  onClick={fetchDairyDetails}\r\n                  className=\"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm text-blue-600 dark:text-blue-500 border border-blue-600 dark:border-blue-500 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors min-h-[44px]\"\r\n                >\r\n                  <RefreshCw className=\"w-4 h-4 sm:mr-2\" />\r\n                  <span className=\"hidden sm:inline\">{t.common.refresh || 'Refresh'}</span>\r\n                </button>\r\n                <button \r\n                  onClick={handleDeleteClick}\r\n                  className=\"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm text-red-600 dark:text-red-500 border border-red-600 dark:border-red-500 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors min-h-[44px]\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 sm:mr-2\" />\r\n                  <span className=\"hidden sm:inline\">{t.common.delete}</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs - Horizontal Scroll on Mobile */}\r\n          <div className=\"px-4 sm:px-6 overflow-x-auto scrollbar-hide\">\r\n            <div className=\"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0\">\r\n              {[\r\n                { id: 'overview' as const, label: t.dashboard.overview, icon: Building2 },\r\n                { id: 'details' as const, label: 'Details', icon: Activity }\r\n              ].map((tab) => (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${\r\n                    activeTab === tab.id\r\n                      ? 'text-green-600 dark:text-green-500'\r\n                      : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n                  }`}\r\n                >\r\n                  <tab.icon className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                  <span className=\"text-xs sm:text-sm md:text-base\">{tab.label}</span>\r\n                  {activeTab === tab.id && (\r\n                    <motion.div\r\n                      layoutId=\"activeTab\"\r\n                      className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-green-500 to-emerald-500\"\r\n                      initial={false}\r\n                      transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n                    />\r\n                  )}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content - Responsive Padding */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\r\n          <div className=\"p-4 sm:p-6\">\r\n            <AnimatePresence mode=\"wait\">\r\n              {activeTab === 'overview' && (\r\n                <motion.div\r\n                  key=\"overview\"\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: -20 }}\r\n                  transition={{ duration: 0.2 }}\r\n                  className=\"space-y-4 sm:space-y-6\"\r\n                >\r\n                  {/* Comprehensive Statistics Grid - 30 Day Metrics */}\r\n                  <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4\">\r\n                    {/* Total Collections */}\r\n                    <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-shadow\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <Milk className=\"w-8 h-8 text-white/80\" />\r\n                        <div className=\"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center\">\r\n                          <span className=\"text-2xl font-bold text-white\">{analytics.totalCollections || 0}</span>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-white/90 font-medium text-sm\">Collections</p>\r\n                      <p className=\"text-white/70 text-xs mt-1\">Last 30 days</p>\r\n                    </div>\r\n\r\n                    {/* Total Quantity */}\r\n                    <div className=\"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-shadow\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <TrendingUp className=\"w-8 h-8 text-white/80\" />\r\n                        <div className=\"flex-1 text-right\">\r\n                          <span className=\"text-xl sm:text-2xl font-bold text-white block\">{Number(analytics.totalQuantity || 0).toFixed(0)} L</span>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-white/90 font-medium text-sm\">Volume</p>\r\n                      <p className=\"text-white/70 text-xs mt-1\">Last 30 days</p>\r\n                    </div>\r\n\r\n                    {/* Total Revenue */}\r\n                    <div className=\"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-shadow\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <TrendingUp className=\"w-8 h-8 text-white/80\" />\r\n                        <div className=\"flex-1 text-right\">\r\n                          <span className=\"text-lg sm:text-xl font-bold text-white block\">₹{Number(analytics.totalRevenue || 0).toLocaleString()}</span>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-white/90 font-medium text-sm\">Total Revenue</p>\r\n                      <p className=\"text-white/70 text-xs mt-1\">Last 30 days</p>\r\n                    </div>\r\n\r\n                    {/* Average Rate */}\r\n                    <div className=\"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-shadow\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <Award className=\"w-8 h-8 text-white/80\" />\r\n                        <div className=\"flex-1 text-right\">\r\n                          <span className=\"text-xl sm:text-2xl font-bold text-white block\">₹{Number(analytics.avgRate || 0).toFixed(2)}/L</span>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-white/90 font-medium text-sm\">Avg Rate</p>\r\n                      <p className=\"text-white/70 text-xs mt-1\">Last 30 days</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Hierarchy Stats - BMCs, Societies, Machines and Farmers */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                    {/* BMCs Section */}\r\n                    <div \r\n                      onClick={() => (analytics.totalBmcs || 0) > 0 && setShowBmcsNavigateConfirm(true)}\r\n                      className={`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 transition-all ${\r\n                        (analytics.totalBmcs || 0) > 0 ? 'cursor-pointer hover:shadow-md hover:border-purple-300 dark:hover:border-purple-600' : 'cursor-default'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg\">\r\n                            <Building2 className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\r\n                          </div>\r\n                          <h3 className=\"text-base font-semibold text-gray-900 dark:text-white\">BMCs</h3>\r\n                        </div>\r\n                        <span className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">{analytics.totalBmcs || 0}</span>\r\n                      </div>\r\n                      {(analytics.totalBmcs || 0) > 0 && (\r\n                        <p className=\"text-xs text-purple-600 dark:text-purple-400\">Click to view all BMCs →</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Societies Section */}\r\n                    <div \r\n                      onClick={() => (analytics.totalSocieties || 0) > 0 && setShowSocietiesNavigateConfirm(true)}\r\n                      className={`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 transition-all ${\r\n                        (analytics.totalSocieties || 0) > 0 ? 'cursor-pointer hover:shadow-md hover:border-pink-300 dark:hover:border-pink-600' : 'cursor-default'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"p-2 bg-pink-100 dark:bg-pink-900/30 rounded-lg\">\r\n                            <Building2 className=\"w-5 h-5 text-pink-600 dark:text-pink-400\" />\r\n                          </div>\r\n                          <h3 className=\"text-base font-semibold text-gray-900 dark:text-white\">Societies</h3>\r\n                        </div>\r\n                        <span className=\"text-2xl font-bold text-pink-600 dark:text-pink-400\">{analytics.totalSocieties || 0}</span>\r\n                      </div>\r\n                      {(analytics.totalSocieties || 0) > 0 && (\r\n                        <p className=\"text-xs text-pink-600 dark:text-pink-400\">Click to view all societies →</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Machines Section */}\r\n                    <div \r\n                      onClick={() => (analytics.totalMachines || 0) > 0 && setShowMachinesNavigateConfirm(true)}\r\n                      className={`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 transition-all ${\r\n                        (analytics.totalMachines || 0) > 0 ? 'cursor-pointer hover:shadow-md hover:border-cyan-300 dark:hover:border-cyan-600' : 'cursor-default'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"p-2 bg-cyan-100 dark:bg-cyan-900/30 rounded-lg\">\r\n                            <Activity className=\"w-5 h-5 text-cyan-600 dark:text-cyan-400\" />\r\n                          </div>\r\n                          <h3 className=\"text-base font-semibold text-gray-900 dark:text-white\">Machines</h3>\r\n                        </div>\r\n                        <span className=\"text-2xl font-bold text-cyan-600 dark:text-cyan-400\">{analytics.totalMachines || 0}</span>\r\n                      </div>\r\n                      {(analytics.totalMachines || 0) > 0 && (\r\n                        <p className=\"text-xs text-cyan-600 dark:text-cyan-400\">Click to view all machines →</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Farmers Section (new) */}\r\n                    <div \r\n                      onClick={() => (analytics.totalFarmers || 0) > 0 && setShowFarmersNavigateConfirm(true)}\r\n                      className={`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 transition-all ${\r\n                        (analytics.totalFarmers || 0) > 0 ? 'cursor-pointer hover:shadow-md hover:border-cyan-300 dark:hover:border-cyan-600' : 'cursor-default'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"p-2 bg-cyan-100 dark:bg-cyan-900/30 rounded-lg\">\r\n                            <Users className=\"w-5 h-5 text-cyan-600 dark:text-cyan-400\" />\r\n                          </div>\r\n                          <h3 className=\"text-base font-semibold text-gray-900 dark:text-white\">Farmers</h3>\r\n                        </div>\r\n                        <span className=\"text-2xl font-bold text-cyan-600 dark:text-cyan-400\">{analytics.totalFarmers || 0}</span>\r\n                      </div>\r\n                      {(analytics.totalFarmers || 0) > 0 && (\r\n                        <p className=\"text-xs text-cyan-600 dark:text-cyan-400\">Click to view all farmers →</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Top & Bottom Performers - Societies */}\r\n                  {dairyData?.topPerformers?.societies && dairyData.topPerformers.societies.length > 0 && (\r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2\">\r\n                        <Award className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400\" />\r\n                        Society Performance (Last 30 Days)\r\n                      </h3>\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        {/* Best Society */}\r\n                        {dairyData.topPerformers.societies[0] && (\r\n                          <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800\">\r\n                            <div className=\"flex items-start justify-between mb-3\">\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <div className=\"p-2 bg-green-500 rounded-lg\">\r\n                                  <Award className=\"w-4 h-4 text-white\" />\r\n                                </div>\r\n                                <div>\r\n                                  <p className=\"text-xs font-medium text-green-700 dark:text-green-400\">Best Society</p>\r\n                                  <p className=\"text-sm font-bold text-gray-900 dark:text-white\">{dairyData.topPerformers.societies[0].name}</p>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-3 gap-2 text-center\">\r\n                              <div>\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Collections</p>\r\n                                <p className=\"text-sm font-bold text-green-600 dark:text-green-400\">{dairyData.topPerformers.societies[0].collections}</p>\r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Volume</p>\r\n                                <p className=\"text-sm font-bold text-green-600 dark:text-green-400\">{Number(dairyData.topPerformers.societies[0].totalQuantity || 0).toLocaleString()}L</p>\r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Avg Fat</p>\r\n                                <p className=\"text-sm font-bold text-green-600 dark:text-green-400\">{Number(dairyData.topPerformers.societies[0].avgFat || 0).toFixed(2)}%</p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Worst Society */}\r\n                        {dairyData.topPerformers.societies.length > 1 && dairyData.topPerformers.societies[dairyData.topPerformers.societies.length - 1] && (\r\n                          <div className=\"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800\">\r\n                            <div className=\"flex items-start justify-between mb-3\">\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <div className=\"p-2 bg-red-500 rounded-lg\">\r\n                                  <TrendingUp className=\"w-4 h-4 text-white rotate-180\" />\r\n                                </div>\r\n                                <div>\r\n                                  <p className=\"text-xs font-medium text-red-700 dark:text-red-400\">Needs Attention</p>\r\n                                  <p className=\"text-sm font-bold text-gray-900 dark:text-white\">{dairyData.topPerformers.societies[dairyData.topPerformers.societies.length - 1].name}</p>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-3 gap-2 text-center\">\r\n                              <div>\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Collections</p>\r\n                                <p className=\"text-sm font-bold text-red-600 dark:text-red-400\">{dairyData.topPerformers.societies[dairyData.topPerformers.societies.length - 1].collections}</p>\r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Volume</p>\r\n                                <p className=\"text-sm font-bold text-red-600 dark:text-red-400\">{Number(dairyData.topPerformers.societies[dairyData.topPerformers.societies.length - 1].totalQuantity || 0).toLocaleString()}L</p>\r\n                              </div>\r\n                              <div>\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Avg Fat</p>\r\n                                <p className=\"text-sm font-bold text-red-600 dark:text-red-400\">{Number(dairyData.topPerformers.societies[dairyData.topPerformers.societies.length - 1].avgFat || 0).toFixed(2)}%</p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Main Content Grid */}\r\n                  <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n                    {/* Left Column - Dairy Info & Quality Metrics */}\r\n                    <div className=\"lg:col-span-2 space-y-4 sm:space-y-6\">\r\n                      {/* Dairy Information Card */}\r\n                      <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2\">\r\n                          <Milk className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n                          Dairy Information\r\n                        </h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                          {/* Basic Information */}\r\n                          <div className=\"space-y-3\">\r\n                            <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                              <Milk className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                              <div className=\"flex-1 min-w-0\">\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Dairy ID</p>\r\n                                <p className=\"font-medium text-sm text-gray-900 dark:text-white font-mono break-words\">{dairy.dairyId}</p>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {dairy.capacity && (\r\n                              <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                                <Activity className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs text-gray-600 dark:text-gray-400\">Capacity</p>\r\n                                  <p className=\"font-medium text-sm text-gray-900 dark:text-white\">{dairy.capacity.toLocaleString()} L</p>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {dairy.monthlyTarget && dairy.monthlyTarget > 0 && (\r\n                              <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                                <TrendingUp className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs text-gray-600 dark:text-gray-400\">Monthly Target</p>\r\n                                  <p className=\"font-medium text-sm text-gray-900 dark:text-white\">{dairy.monthlyTarget.toLocaleString()} L</p>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n\r\n                          {/* Contact & Location */}\r\n                          <div className=\"space-y-3\">\r\n                            {dairy.location && (\r\n                              <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                                <MapPin className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs text-gray-600 dark:text-gray-400\">Location</p>\r\n                                  <p className=\"font-medium text-sm text-gray-900 dark:text-white break-words\">{dairy.location}</p>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {dairy.contactPerson && (\r\n                              <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                                <User className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs text-gray-600 dark:text-gray-400\">Contact Person</p>\r\n                                  <p className=\"font-medium text-sm text-gray-900 dark:text-white break-words\">{dairy.contactPerson}</p>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {dairy.phone && (\r\n                              <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                                <Phone className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs text-gray-600 dark:text-gray-400\">Contact Phone</p>\r\n                                  <p className=\"font-medium text-sm text-gray-900 dark:text-white break-words\">{dairy.phone}</p>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n\r\n                            {dairy.email && (\r\n                              <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                                <Mail className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"text-xs text-gray-600 dark:text-gray-400\">Email</p>\r\n                                  <p className=\"font-medium text-sm text-gray-900 dark:text-white break-words\">{dairy.email}</p>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Quality Metrics - 30 Days */}\r\n                      <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2\">\r\n                          <Award className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400\" />\r\n                          Quality Metrics (Last 30 Days)\r\n                        </h3>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4\">\r\n                          {/* Fat */}\r\n                          <div className=\"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg\">\r\n                                <Eye className=\"w-5 h-5 text-indigo-600 dark:text-indigo-400\" />\r\n                              </div>\r\n                              <div className=\"flex-1\">\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Avg Fat %</p>\r\n                                <p className=\"text-lg font-bold text-gray-900 dark:text-white\">{Number(analytics.avgFat || 0).toFixed(2)}%</p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* SNF */}\r\n                          <div className=\"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg\">\r\n                                <Award className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\r\n                              </div>\r\n                              <div className=\"flex-1\">\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Avg SNF %</p>\r\n                                <p className=\"text-lg font-bold text-gray-900 dark:text-white\">{Number(analytics.avgSnf || 0).toFixed(2)}%</p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Right Column - Timeline & Status */}\r\n                    <div className=\"space-y-4 sm:space-y-6\">\r\n                      {/* Timeline */}\r\n                      <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2\">\r\n                          <Clock className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n                          Timeline\r\n                        </h3>\r\n                        <div className=\"space-y-3\">\r\n                          <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                            <Calendar className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"text-xs text-gray-600 dark:text-gray-400\">Created At</p>\r\n                              <p className=\"font-medium text-sm text-gray-900 dark:text-white\">{new Date(dairy.createdAt).toLocaleString()}</p>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {dairy.lastActivity && (\r\n                            <div className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                              <Activity className=\"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0\" />\r\n                              <div className=\"flex-1 min-w-0\">\r\n                                <p className=\"text-xs text-gray-600 dark:text-gray-400\">Last Activity</p>\r\n                                <p className=\"font-medium text-sm text-gray-900 dark:text-white\">{new Date(dairy.lastActivity).toLocaleString()}</p>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n\r\n              {activeTab === 'details' && (\r\n                <motion.div\r\n                  key=\"details\"\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: -20 }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-6\">\r\n                <div className=\"space-y-6\">\r\n                  {/* Header with Edit/Save buttons */}\r\n                  <div className=\"flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700\">\r\n                    <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\r\n                      Dairy Details\r\n                    </h3>\r\n                    <div className=\"flex gap-2\">\r\n                      {isEditing ? (\r\n                        <>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                              setIsEditing(false);\r\n                              setShowPassword(false);\r\n                              setCurrentPassword('');\r\n                              setEditFormData({\r\n                                name: dairyData.dairy.name,\r\n                                location: dairyData.dairy.location || '',\r\n                                contactPerson: dairyData.dairy.contactPerson || '',\r\n                                phone: dairyData.dairy.phone || '',\r\n                                email: dairyData.dairy.email || '',\r\n                                password: '',\r\n                                status: dairyData.dairy.status\r\n                              });\r\n                            }}\r\n                            className=\"flex items-center gap-2 px-4 py-2 bg-gray-600 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors\"\r\n                          >\r\n                            <X className=\"w-4 h-4\" />\r\n                            Cancel\r\n                          </button>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={async () => {\r\n                              try {\r\n                                setSaveLoading(true);\r\n                                setError('');\r\n                                const token = localStorage.getItem('authToken');\r\n                                if (!token) {\r\n                                  router.push('/login');\r\n                                  return;\r\n                                }\r\n\r\n                                const updateData: any = {\r\n                                  id: dairyData.dairy.id,\r\n                                  name: editFormData.name,\r\n                                  location: editFormData.location,\r\n                                  contactPerson: editFormData.contactPerson,\r\n                                  phone: editFormData.phone,\r\n                                  email: editFormData.email,\r\n                                  status: editFormData.status\r\n                                };\r\n\r\n                                // Only include password if it was changed\r\n                                if (editFormData.password && editFormData.password !== currentPassword) {\r\n                                  updateData.password = editFormData.password;\r\n                                }\r\n\r\n                                const response = await fetch('/api/user/dairy', {\r\n                                  method: 'PUT',\r\n                                  headers: {\r\n                                    'Content-Type': 'application/json',\r\n                                    Authorization: `Bearer ${token}`,\r\n                                  },\r\n                                  body: JSON.stringify(updateData),\r\n                                });\r\n\r\n                                const data = await response.json();\r\n\r\n                                if (response.ok) {\r\n                                  setSuccess('Dairy details updated successfully!');\r\n                                  setIsEditing(false);\r\n                                  fetchDairyDetails();\r\n                                  setTimeout(() => setSuccess(''), 3000);\r\n                                } else {\r\n                                  setError(data.message || 'Failed to update dairy details');\r\n                                  setTimeout(() => setError(''), 5000);\r\n                                }\r\n                              } catch (err) {\r\n                                console.error('Error updating dairy:', err);\r\n                                setError('Failed to update dairy details. Please try again.');\r\n                                setTimeout(() => setError(''), 5000);\r\n                              } finally {\r\n                                setSaveLoading(false);\r\n                              }\r\n                            }}\r\n                            disabled={saveLoading}\r\n                            className=\"flex items-center gap-2 px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                          >\r\n                            <Edit3 className=\"w-4 h-4\" />\r\n                            {saveLoading ? 'Saving...' : 'Save Changes'}\r\n                          </button>\r\n                        </>\r\n                      ) : (\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            setEditFormData({\r\n                              name: dairyData.dairy.name,\r\n                              location: dairyData.dairy.location || '',\r\n                              contactPerson: dairyData.dairy.contactPerson || '',\r\n                              phone: dairyData.dairy.phone || '',\r\n                              email: dairyData.dairy.email || '',\r\n                              password: '',\r\n                              status: dairyData.dairy.status\r\n                            });\r\n                            setShowPassword(false);\r\n                            setCurrentPassword('');\r\n                            setIsEditing(true);\r\n                          }}\r\n                          className=\"flex items-center gap-2 px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition-colors\"\r\n                        >\r\n                          <Edit3 className=\"w-4 h-4\" />\r\n                          Edit Details\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    {/* Dairy Name */}\r\n                    {isEditing ? (\r\n                      <FormInput\r\n                        label=\"Dairy Name\"\r\n                        type=\"text\"\r\n                        value={editFormData.name}\r\n                        onChange={(value) => setEditFormData({ ...editFormData, name: value })}\r\n                        placeholder=\"Enter dairy name\"\r\n                        required\r\n                      />\r\n                    ) : (\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                          Dairy Name <span className=\"text-red-500\">*</span>\r\n                        </label>\r\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                          <p className=\"text-gray-900 dark:text-white\">{dairyData.dairy.name}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Dairy ID (Read-only) */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Dairy ID\r\n                      </label>\r\n                      <div className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                        <p className=\"text-gray-600 dark:text-gray-400 font-mono\">{dairyData.dairy.dairyId}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Contact Person */}\r\n                    {isEditing ? (\r\n                      <FormInput\r\n                        label=\"Contact Person\"\r\n                        type=\"text\"\r\n                        value={editFormData.contactPerson}\r\n                        onChange={(value) => setEditFormData({ ...editFormData, contactPerson: value })}\r\n                        placeholder=\"Enter contact person\"\r\n                      />\r\n                    ) : (\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                          Contact Person\r\n                        </label>\r\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                          <p className=\"text-gray-900 dark:text-white\">{dairyData.dairy.contactPerson || 'N/A'}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Location */}\r\n                    {isEditing ? (\r\n                      <FormInput\r\n                        label=\"Location\"\r\n                        type=\"text\"\r\n                        value={editFormData.location}\r\n                        onChange={(value) => setEditFormData({ ...editFormData, location: value })}\r\n                        placeholder=\"Enter location\"\r\n                      />\r\n                    ) : (\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                          Location\r\n                        </label>\r\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                          <p className=\"text-gray-900 dark:text-white\">{dairyData.dairy.location || 'N/A'}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Phone */}\r\n                    {isEditing ? (\r\n                      <FormInput\r\n                        label=\"Phone Number\"\r\n                        type=\"tel\"\r\n                        value={editFormData.phone}\r\n                        onChange={(value) => {\r\n                          const formatted = formatPhoneInput(value);\r\n                          setEditFormData({ ...editFormData, phone: formatted });\r\n                          if (validationErrors.phone) {\r\n                            setValidationErrors({ ...validationErrors, phone: undefined });\r\n                          }\r\n                        }}\r\n                        onBlur={() => {\r\n                          if (editFormData.phone) {\r\n                            const error = validatePhoneOnBlur(editFormData.phone);\r\n                            setValidationErrors({ ...validationErrors, phone: error || undefined });\r\n                          }\r\n                        }}\r\n                        maxLength={10}\r\n                        placeholder=\"Enter 10-digit phone number\"\r\n                        error={validationErrors.phone}\r\n                      />\r\n                    ) : (\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                          Phone Number\r\n                        </label>\r\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                          <p className=\"text-gray-900 dark:text-white\">{dairyData.dairy.phone || 'N/A'}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Email */}\r\n                    {isEditing ? (\r\n                      <FormInput\r\n                        label=\"Email\"\r\n                        type=\"email\"\r\n                        value={editFormData.email}\r\n                        onChange={(value) => {\r\n                          setEditFormData({ ...editFormData, email: value });\r\n                          if (validationErrors.email) {\r\n                            setValidationErrors({ ...validationErrors, email: undefined });\r\n                          }\r\n                        }}\r\n                        onBlur={() => {\r\n                          if (editFormData.email) {\r\n                            const error = validateEmailQuick(editFormData.email);\r\n                            setValidationErrors({ ...validationErrors, email: error || undefined });\r\n                          }\r\n                        }}\r\n                        placeholder=\"Enter email\"\r\n                        error={validationErrors.email}\r\n                      />\r\n                    ) : (\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                          Email\r\n                        </label>\r\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                          <p className=\"text-gray-900 dark:text-white\">{dairyData.dairy.email || 'N/A'}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Password */}\r\n                    {isEditing ? (\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                          Password\r\n                        </label>\r\n                        <div className=\"relative\">\r\n                          <input\r\n                            type={showPassword ? 'text' : 'password'}\r\n                            value={editFormData.password || ''}\r\n                            onChange={(e) => setEditFormData({ ...editFormData, password: e.target.value })}\r\n                            placeholder=\"Enter new password (leave blank to keep current)\"\r\n                            className=\"form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none\"\r\n                          />\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => setShowPassword(!showPassword)}\r\n                            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors\"\r\n                            title={showPassword ? 'Hide password' : 'Show password'}\r\n                          >\r\n                            {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                          </button>\r\n                        </div>\r\n                        <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\r\n                          Leave blank to keep current password\r\n                        </p>\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                          Password\r\n                        </label>\r\n                        <div className=\"relative px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 flex items-center justify-between\">\r\n                          <p className=\"text-gray-900 dark:text-white font-mono\">\r\n                            {showPassword && currentPassword ? currentPassword : '••••••••'}\r\n                          </p>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={async () => {\r\n                              if (!showPassword && !currentPassword) {\r\n                                try {\r\n                                  const token = localStorage.getItem('authToken');\r\n                                  const response = await fetch(`/api/user/dairy/password?id=${dairyData.dairy.id}`, {\r\n                                    headers: {\r\n                                      'Authorization': `Bearer ${token}`\r\n                                    }\r\n                                  });\r\n                                  \r\n                                  if (response.ok) {\r\n                                    const result = await response.json();\r\n                                    let fetchedPassword = '';\r\n                                    \r\n                                    if (typeof result.data === 'object' && result.data.password) {\r\n                                      fetchedPassword = String(result.data.password);\r\n                                    } else if (result.data) {\r\n                                      fetchedPassword = String(result.data);\r\n                                    } else if (result.password) {\r\n                                      fetchedPassword = String(result.password);\r\n                                    }\r\n                                    \r\n                                    setCurrentPassword(fetchedPassword);\r\n                                    setShowPassword(true);\r\n                                  }\r\n                                } catch (error) {\r\n                                  console.error('Error fetching password:', error);\r\n                                }\r\n                              } else {\r\n                                setShowPassword(!showPassword);\r\n                              }\r\n                            }}\r\n                            className=\"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 flex-shrink-0 ml-2\"\r\n                          >\r\n                            {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Status */}\r\n                    {isEditing ? (\r\n                      <FormSelect\r\n                        label=\"Status\"\r\n                        value={editFormData.status}\r\n                        onChange={(value) => setEditFormData({ ...editFormData, status: value as 'active' | 'inactive' | 'maintenance' })}\r\n                        options={[\r\n                          { value: 'active', label: 'Active' },\r\n                          { value: 'inactive', label: 'Inactive' },\r\n                          { value: 'maintenance', label: 'Maintenance' }\r\n                        ]}\r\n                        placeholder=\"Select status\"\r\n                      />\r\n                    ) : (\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                          Status\r\n                        </label>\r\n                        <div className=\"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                          <span className={`inline-flex px-3 py-1 text-xs font-medium rounded-full ${getStatusColor(dairyData.dairy.status)}`}>\r\n                            {dairyData.dairy.status}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Capacity */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Capacity (Liters)\r\n                      </label>\r\n                      <div className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600\">\r\n                        <p className=\"text-gray-600 dark:text-gray-400\">{dairyData.dairy.capacity?.toLocaleString() || 'N/A'} L</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Additional Information */}\r\n                  <div className=\"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700\">\r\n                    <h4 className=\"text-base font-semibold text-gray-900 dark:text-gray-100 mb-4\">Additional Information</h4>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                        <span className=\"text-sm text-gray-600 dark:text-gray-400\">Created</span>\r\n                        <span className=\"text-sm text-gray-900 dark:text-gray-100\">{new Date(dairyData.dairy.createdAt).toLocaleDateString()}</span>\r\n                      </div>\r\n                      {dairyData.dairy.monthlyTarget && (\r\n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                          <span className=\"text-sm text-gray-600 dark:text-gray-400\">Monthly Target</span>\r\n                          <span className=\"text-sm text-gray-900 dark:text-gray-100\">{dairyData.dairy.monthlyTarget.toLocaleString()} L</span>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\r\n                        <span className=\"text-sm text-gray-600 dark:text-gray-400\">Total BMCs</span>\r\n                        <span className=\"text-sm text-gray-900 dark:text-gray-100\">{dairyData.bmcs.length}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      {/* Status Messages */}\r\n      <StatusMessage success={success} error={error} />\r\n\r\n      {/* Edit Dairy Modal */}\r\n      <AnimatePresence>\r\n        {showEditForm && dairyData && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-end sm:items-center justify-center z-[9999] p-0 sm:p-4\"\r\n            style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }}\r\n            onClick={(e) => {\r\n              if (e.target === e.currentTarget) {\r\n                setShowEditForm(false);\r\n                setFormData({\r\n                  name: '',\r\n                  dairyId: '',\r\n                  password: '',\r\n                  location: '',\r\n                  contactPerson: '',\r\n                  phone: '',\r\n                  email: '',\r\n                  capacity: '',\r\n                  status: 'active',\r\n                  monthlyTarget: ''\r\n                });\r\n              }\r\n            }}\r\n          >\r\n            <motion.div\r\n              initial={{ y: '100%', opacity: 0 }}\r\n              animate={{ y: 0, opacity: 1 }}\r\n              exit={{ y: '100%', opacity: 0 }}\r\n              transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n              className=\"bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-xl shadow-2xl w-full sm:max-w-lg md:max-w-2xl max-h-[90vh] overflow-y-auto\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {/* Mobile drag handle */}\r\n              <div className=\"sm:hidden flex justify-center pt-3 pb-1\">\r\n                <div className=\"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full\" />\r\n              </div>\r\n\r\n              <div className=\"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100\">\r\n                    Edit {dairyData.dairy.name}\r\n                  </h2>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowEditForm(false);\r\n                      setFormData({\r\n                        name: '',\r\n                        dairyId: '',\r\n                        password: '',\r\n                        location: '',\r\n                        contactPerson: '',\r\n                        phone: '',\r\n                        email: '',\r\n                        capacity: '',\r\n                        status: 'active',\r\n                        monthlyTarget: ''\r\n                      });\r\n                    }}\r\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-gray-600 dark:text-gray-400 touch-target sm:min-h-0 sm:min-w-0\"\r\n                  >\r\n                    <X className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <form onSubmit={handleUpdateDairy} className=\"p-4 sm:p-6\">\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Dairy Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.name}\r\n                      onChange={(e) => handleInputChange('name', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter dairy name\"\r\n                      autoComplete=\"off\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Dairy ID\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.dairyId}\r\n                      className=\"psr-input !bg-gray-100 dark:!bg-gray-700 !text-gray-500 dark:!text-gray-400 cursor-not-allowed\"\r\n                      disabled\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Password (leave blank to keep current)\r\n                    </label>\r\n                    <input\r\n                      type=\"password\"\r\n                      value={formData.password}\r\n                      onChange={(e) => handleInputChange('password', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter new password\"\r\n                      autoComplete=\"new-password\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Contact Person\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.contactPerson}\r\n                      onChange={(e) => handleInputChange('contactPerson', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter contact person name\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Phone Number\r\n                    </label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={formData.phone}\r\n                      onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter phone number\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Email\r\n                    </label>\r\n                    <input\r\n                      type=\"email\"\r\n                      value={formData.email}\r\n                      onChange={(e) => handleInputChange('email', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter email\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Location\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.location}\r\n                      onChange={(e) => handleInputChange('location', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter location\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Capacity (Liters)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={formData.capacity}\r\n                      onChange={(e) => handleInputChange('capacity', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter capacity\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Status\r\n                    </label>\r\n                    <select\r\n                      value={formData.status}\r\n                      onChange={(e) => handleInputChange('status', e.target.value as 'active' | 'inactive' | 'maintenance')}\r\n                      className=\"psr-input !text-gray-900 dark:!text-gray-100\"\r\n                    >\r\n                      <option value=\"active\">Active</option>\r\n                      <option value=\"inactive\">Inactive</option>\r\n                      <option value=\"maintenance\">Maintenance</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Monthly Target (Liters)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={formData.monthlyTarget}\r\n                      onChange={(e) => handleInputChange('monthlyTarget', e.target.value)}\r\n                      className=\"psr-input placeholder:text-gray-300 dark:placeholder:text-gray-600 placeholder:opacity-100 !text-gray-900 dark:!text-gray-100\"\r\n                      placeholder=\"Enter monthly target\"\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col-reverse sm:flex-row gap-3 sm:gap-4 mt-6 sm:mt-8 sm:justify-end\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setShowEditForm(false);\r\n                      setFormData({\r\n                        name: '',\r\n                        dairyId: '',\r\n                        password: '',\r\n                        location: '',\r\n                        contactPerson: '',\r\n                        phone: '',\r\n                        email: '',\r\n                        capacity: '',\r\n                        status: 'active',\r\n                        monthlyTarget: ''\r\n                      });\r\n                    }}\r\n                    className=\"w-full sm:w-auto px-6 py-3 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={formLoading}\r\n                    className=\"w-full sm:w-auto flex items-center justify-center px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 dark:from-green-700 dark:to-emerald-700 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 dark:hover:from-green-600 dark:hover:to-emerald-600 disabled:opacity-50 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n                  >\r\n                    {formLoading ? (\r\n                      <>\r\n                        <FlowerSpinner size={16} className=\"mr-2\" />\r\n                        Updating...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Edit3 className=\"w-4 h-4 mr-2\" />\r\n                        Update Dairy\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <DeleteDairyModal\r\n        isOpen={showDeleteModal}\r\n        onClose={() => setShowDeleteModal(false)}\r\n        onConfirm={handleConfirmDelete}\r\n        dairyName={dairyData?.dairy.name || 'this dairy'}\r\n        bmcCount={dairyData?.analytics?.totalBmcs || 0}\r\n        societyCount={dairyData?.analytics?.totalSocieties || 0}\r\n        farmerCount={dairyData?.analytics?.totalFarmers || 0}\r\n        collectionCount={dairyData?.analytics?.totalCollections || 0}\r\n        machineCount={dairyData?.analytics?.totalMachines || 0}\r\n      />\r\n\r\n      {/* Transfer BMCs Modal */}\r\n      <TransferBMCsModal\r\n        isOpen={showTransferModal}\r\n        onClose={() => {\r\n          setShowTransferModal(false);\r\n          setBmcsForTransfer([]);\r\n        }}\r\n        onConfirm={handleTransferAndDelete}\r\n        bmcs={bmcsForTransfer}\r\n        dairies={allDairies}\r\n        dairyName={dairyData?.dairy.name || ''}\r\n        currentDairyId={dairyData?.dairy.id || 0}\r\n        adminEmail={user?.email || ''}\r\n      />\r\n\r\n      {/* BMCs Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showBmcsNavigateConfirm}\r\n        onClose={() => setShowBmcsNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowBmcsNavigateConfirm(false);\r\n          if (dairyData?.dairy.id) {\r\n            router.push(`/admin/bmc?dairyFilter=${dairyData.dairy.id}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to BMCs\"\r\n        message={`You will be redirected to view all BMCs under ${dairyData?.dairy.name || 'this dairy'}. Any unsaved changes will be lost. Continue?`}\r\n      />\r\n\r\n      {/* Societies Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showSocietiesNavigateConfirm}\r\n        onClose={() => setShowSocietiesNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowSocietiesNavigateConfirm(false);\r\n          if (dairyData?.dairy.id) {\r\n            router.push(`/admin/society?dairyFilter=${dairyData.dairy.id}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to Societies\"\r\n        message={`You will be redirected to view all societies under ${dairyData?.dairy.name || 'this dairy'}. Any unsaved changes will be lost. Continue?`}\r\n      />\r\n\r\n      {/* Machines Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showMachinesNavigateConfirm}\r\n        onClose={() => setShowMachinesNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowMachinesNavigateConfirm(false);\r\n          if (dairyData?.dairy.id) {\r\n            router.push(`/admin/machine?dairyFilter=${dairyData.dairy.id}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to Machines\"\r\n        message={`You will be redirected to view all machines under ${dairyData?.dairy.name || 'this dairy'}. Any unsaved changes will be lost. Continue?`}\r\n      />\r\n\r\n      {/* Farmers Navigation Confirmation Modal */}\r\n      <NavigationConfirmModal\r\n        isOpen={showFarmersNavigateConfirm}\r\n        onClose={() => setShowFarmersNavigateConfirm(false)}\r\n        onConfirm={() => {\r\n          setShowFarmersNavigateConfirm(false);\r\n          if (dairyData?.dairy.id) {\r\n            router.push(`/admin/farmer?dairyFilter=${dairyData.dairy.id}`);\r\n          }\r\n        }}\r\n        title=\"Navigate to Farmers\"\r\n        message={`You will be redirected to view all farmers under ${dairyData?.dairy.name || 'this dairy'}. Any unsaved changes will be lost. Continue?`}\r\n      />\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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"}