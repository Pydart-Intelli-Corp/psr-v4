{"version":3,"sources":["turbopack:///[project]/src/lib/validation/emailValidation.ts","turbopack:///[project]/src/lib/validation/phoneValidation.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/droplets.ts","turbopack:///[project]/src/components/dialogs/PasswordConfirmDialog.tsx","turbopack:///[project]/src/components/modals/DeleteSocietyModal.tsx"],"sourcesContent":["/**\r\n * Email validation utilities for farmer email fields\r\n */\r\n\r\nexport interface EmailValidationResult {\r\n  isValid: boolean;\r\n  error?: string;\r\n  formatted?: string;\r\n}\r\n\r\n/**\r\n * Validates an email address format\r\n * Returns validation result with isValid flag and optional error message\r\n */\r\nexport function validateEmail(email: string): EmailValidationResult {\r\n  // Empty email is valid (optional field)\r\n  if (!email || email.trim() === '') {\r\n    return { isValid: true, formatted: '' };\r\n  }\r\n\r\n  const trimmedEmail = email.trim();\r\n\r\n  // Basic email format validation\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  \r\n  if (!emailRegex.test(trimmedEmail)) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Please enter a valid email address (e.g., farmer@example.com)'\r\n    };\r\n  }\r\n\r\n  // Check email length\r\n  if (trimmedEmail.length > 255) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Email address is too long (max 255 characters)'\r\n    };\r\n  }\r\n\r\n  // Valid email\r\n  return {\r\n    isValid: true,\r\n    formatted: trimmedEmail\r\n  };\r\n}\r\n\r\n/**\r\n * Validates email on blur event for form fields\r\n * Returns error message string (empty if valid)\r\n */\r\nexport function validateEmailOnBlur(email: string): string {\r\n  const result = validateEmail(email);\r\n  return result.error || '';\r\n}\r\n\r\n/**\r\n * Formats email input by trimming whitespace\r\n * Use this on input change to clean the value\r\n */\r\nexport function formatEmailInput(value: string): string {\r\n  // Remove leading/trailing spaces and convert to lowercase for consistency\r\n  return value.trim().toLowerCase();\r\n}\r\n\r\n/**\r\n * Checks if email is required and validates accordingly\r\n * Use this when email is a required field\r\n */\r\nexport function validateRequiredEmail(email: string): EmailValidationResult {\r\n  if (!email || email.trim() === '') {\r\n    return {\r\n      isValid: false,\r\n      error: 'Email address is required'\r\n    };\r\n  }\r\n\r\n  return validateEmail(email);\r\n}\r\n","/**\r\n * Mobile Number Validation Utilities\r\n * \r\n * Validates and formats Indian mobile numbers\r\n * Indian mobile numbers: 10 digits starting with 6-9\r\n */\r\n\r\nexport interface PhoneValidationResult {\r\n  isValid: boolean;\r\n  error?: string;\r\n  formatted?: string;\r\n}\r\n\r\n/**\r\n * Validates Indian mobile number\r\n * @param phone - Phone number to validate\r\n * @returns Validation result with error message if invalid\r\n */\r\nexport function validateIndianPhone(phone: string): PhoneValidationResult {\r\n  if (!phone || phone.trim() === '') {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number is required'\r\n    };\r\n  }\r\n\r\n  // Remove all non-digit characters\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n\r\n  // Check length\r\n  if (cleaned.length !== 10) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number must be exactly 10 digits'\r\n    };\r\n  }\r\n\r\n  // Check if starts with valid digit (6-9)\r\n  if (!/^[6-9]/.test(cleaned)) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number must start with 6, 7, 8, or 9'\r\n    };\r\n  }\r\n\r\n  return {\r\n    isValid: true,\r\n    formatted: cleaned\r\n  };\r\n}\r\n\r\n/**\r\n * Formats phone number input - allows only digits and limits to 10\r\n * @param value - Input value\r\n * @returns Formatted phone number (digits only, max 10)\r\n */\r\nexport function formatPhoneInput(value: string): string {\r\n  // Remove all non-digit characters\r\n  const cleaned = value.replace(/\\D/g, '');\r\n  \r\n  // Limit to 10 digits\r\n  return cleaned.slice(0, 10);\r\n}\r\n\r\n/**\r\n * Checks if phone number is complete (10 digits)\r\n * @param phone - Phone number to check\r\n * @returns True if phone has 10 digits\r\n */\r\nexport function isPhoneComplete(phone: string): boolean {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return cleaned.length === 10;\r\n}\r\n\r\n/**\r\n * Display formatted phone number with spacing\r\n * @param phone - Phone number to format\r\n * @returns Formatted as: XXXXX XXXXX\r\n */\r\nexport function displayPhoneNumber(phone: string): string {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  \r\n  if (cleaned.length <= 5) {\r\n    return cleaned;\r\n  }\r\n  \r\n  return `${cleaned.slice(0, 5)} ${cleaned.slice(5)}`;\r\n}\r\n\r\n/**\r\n * Validates phone on blur - provides detailed error\r\n * @param phone - Phone number to validate\r\n * @returns Error message or empty string if valid\r\n */\r\nexport function validatePhoneOnBlur(phone: string): string {\r\n  if (!phone || phone.trim() === '') {\r\n    return ''; // Don't show error for empty field (let required handle it)\r\n  }\r\n\r\n  const result = validateIndianPhone(phone);\r\n  return result.error || '';\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z',\n      key: '1ptgy4',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97',\n      key: '1sl1rz',\n    },\n  ],\n];\n\n/**\n * @component @name Droplets\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNyAxNi4zYzIuMiAwIDQtMS44MyA0LTQuMDUgMC0xLjE2LS41Ny0yLjI2LTEuNzEtMy4xOVM3LjI5IDYuNzUgNyA1LjNjLS4yOSAxLjQ1LTEuMTQgMi44NC0yLjI5IDMuNzZTMyAxMS4xIDMgMTIuMjVjMCAyLjIyIDEuOCA0LjA1IDQgNC4wNXoiIC8+CiAgPHBhdGggZD0iTTEyLjU2IDYuNkExMC45NyAxMC45NyAwIDAgMCAxNCAzLjAyYy41IDIuNSAyIDQuOSA0IDYuNXMzIDMuNSAzIDUuNWE2Ljk4IDYuOTggMCAwIDEtMTEuOTEgNC45NyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/droplets\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Droplets = createLucideIcon('droplets', __iconNode);\n\nexport default Droplets;\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { AlertTriangle, Eye, X } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface PasswordConfirmDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: (password: string) => Promise<void>;\r\n  title?: string;\r\n  message?: string;\r\n}\r\n\r\nexport default function PasswordConfirmDialog({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title = 'Confirm Deletion',\r\n  message = 'Enter your admin password to confirm this action. This action will be logged for security purposes.'\r\n}: PasswordConfirmDialogProps) {\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!password) {\r\n      setError('Password is required');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      await onConfirm(password);\r\n      setPassword('');\r\n      onClose();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to verify password');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setPassword('');\r\n    setError('');\r\n    onClose();\r\n  };\r\n\r\n  // Render modal in a portal to escape parent overflow-hidden\r\n  const modalContent = (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.div \r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-end sm:items-center justify-center z-[9999] p-0 sm:p-4\"\r\n          style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }}\r\n          onClick={(e) => {\r\n            if (e.target === e.currentTarget) handleClose();\r\n          }}\r\n        >\r\n          <motion.div\r\n            initial={{ y: '100%', opacity: 0 }}\r\n            animate={{ y: 0, opacity: 1 }}\r\n            exit={{ y: '100%', opacity: 0 }}\r\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n            className=\"bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-xl shadow-2xl w-full sm:max-w-md max-h-[90vh] overflow-y-auto\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            {/* Mobile drag handle */}\r\n            <div className=\"sm:hidden flex justify-center pt-3 pb-1\">\r\n              <div className=\"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full\" />\r\n            </div>\r\n\r\n            {/* Modal Header */}\r\n            <div className=\"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100\">\r\n                  {title}\r\n                </h2>\r\n                <button\r\n                  onClick={handleClose}\r\n                  className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors\"\r\n                >\r\n                  <X className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Modal Content */}\r\n            <div className=\"p-4 sm:p-6\">\r\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                {/* Warning Box */}\r\n                <div className=\"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <AlertTriangle className=\"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5\" />\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"text-sm font-medium text-amber-800 dark:text-amber-200 mb-1\">\r\n                        Security Verification Required\r\n                      </h4>\r\n                      <p className=\"text-xs text-amber-700 dark:text-amber-300\">\r\n                        {message}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Password Input - Using FormInput style */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Admin Password <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => {\r\n                      setPassword(e.target.value);\r\n                      setError('');\r\n                    }}\r\n                    placeholder=\"Enter your admin password\"\r\n                    required\r\n                    disabled={loading}\r\n                    className={`form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:outline-none ${error ? 'border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20' : ''}`}\r\n                  />\r\n                  {error && (\r\n                    <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">{error}</p>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex gap-3 pt-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleClose}\r\n                    className=\"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading || !password}\r\n                    className=\"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-red-600 to-red-700 rounded-lg hover:from-red-700 hover:to-red-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2\"\r\n                  >\r\n                    {loading ? (\r\n                      <>\r\n                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                        Verifying...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Eye className=\"w-4 h-4\" />\r\n                        Confirm Delete\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n\r\n  // Only render portal on client side\r\n  if (typeof window === 'undefined') return null;\r\n  \r\n  return createPortal(modalContent, document.body);\r\n}\r\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { AlertTriangle, X, Mail, Trash2 } from 'lucide-react';\r\n\r\ninterface DeleteSocietyModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: (otp: string) => void;\r\n  societyName: string;\r\n  loading?: boolean;\r\n}\r\n\r\nexport default function DeleteSocietyModal({\r\n  isOpen,\r\n  onClose,\r\n  societyName,\r\n  onConfirm,\r\n  loading = false\r\n}: DeleteSocietyModalProps) {\r\n  const [otp, setOtp] = useState<string[]>(Array(6).fill(''));\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [sendingOtp, setSendingOtp] = useState(false);\r\n  const [otpError, setOtpError] = useState('');\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleOtpChange = (index: number, value: string) => {\r\n    if (!/^\\d*$/.test(value)) return;\r\n\r\n    const newOtp = [...otp];\r\n    newOtp[index] = value.slice(-1);\r\n    setOtp(newOtp);\r\n    setOtpError('');\r\n\r\n    // Auto-focus next input\r\n    if (value && index < 5) {\r\n      const nextInput = document.getElementById(`otp-${index + 1}`);\r\n      nextInput?.focus();\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {\r\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\r\n      const prevInput = document.getElementById(`otp-${index - 1}`);\r\n      prevInput?.focus();\r\n    }\r\n  };\r\n\r\n  const handlePaste = (e: React.ClipboardEvent) => {\r\n    e.preventDefault();\r\n    const pastedData = e.clipboardData.getData('text').slice(0, 6);\r\n    if (!/^\\d+$/.test(pastedData)) return;\r\n\r\n    const newOtp = Array(6).fill('');\r\n    pastedData.split('').forEach((char, i) => {\r\n      newOtp[i] = char;\r\n    });\r\n    setOtp(newOtp);\r\n  };\r\n\r\n  const handleSendOtp = async () => {\r\n    setSendingOtp(true);\r\n    setOtpError('');\r\n    \r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const societyId = (window as { selectedSocietyId?: number }).selectedSocietyId;\r\n      \r\n      const response = await fetch('/api/user/society/send-delete-otp', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ societyId })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to send OTP');\r\n      }\r\n\r\n      setOtpSent(true);\r\n    } catch (error) {\r\n      setOtpError(error instanceof Error ? error.message : 'Failed to send OTP');\r\n    } finally {\r\n      setSendingOtp(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    const otpString = otp.join('');\r\n    if (otpString.length !== 6) {\r\n      setOtpError('Please enter complete 6-digit OTP');\r\n      return;\r\n    }\r\n    onConfirm(otpString);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg\">\r\n              <AlertTriangle className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\r\n            </div>\r\n            <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n              Delete Society\r\n            </h2>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors\"\r\n            disabled={loading}\r\n          >\r\n            <X className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6\">\r\n          {/* Warning Message */}\r\n          <div className=\"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 rounded-r\">\r\n            <p className=\"text-sm text-amber-800 dark:text-amber-200 font-semibold mb-2\">\r\n              ⚠️ THIS ACTION CANNOT BE UNDONE!\r\n            </p>\r\n            <p className=\"text-sm text-amber-700 dark:text-amber-300\">\r\n              Deleting <strong className=\"font-bold\">{societyName}</strong> will permanently remove:\r\n            </p>\r\n          </div>\r\n\r\n          {/* Data to be deleted */}\r\n          <div className=\"mb-6 space-y-2 text-sm text-gray-600 dark:text-gray-400\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All farmers under this society</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All machines linked to this society</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All machine statistics</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All machine corrections</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All rate charts and rate chart data</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All milk collections</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All sales records</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All dispatch records</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-1.5 h-1.5 rounded-full bg-red-500\"></div>\r\n              <span>All section pulse tracking data</span>\r\n            </div>\r\n          </div>\r\n\r\n          {!otpSent ? (\r\n            // Send OTP Button\r\n            <button\r\n              onClick={handleSendOtp}\r\n              disabled={sendingOtp}\r\n              className=\"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2\"\r\n            >\r\n              {sendingOtp ? (\r\n                <>\r\n                  <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\r\n                  Sending OTP...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Mail className=\"w-5 h-5\" />\r\n                  Send OTP to Email\r\n                </>\r\n              )}\r\n            </button>\r\n          ) : (\r\n            <>\r\n              {/* OTP Input */}\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-center\">\r\n                  Enter 6-digit OTP sent to your email\r\n                </label>\r\n                <div className=\"flex justify-center gap-2 mb-2\">\r\n                  {otp.map((digit, index) => (\r\n                    <input\r\n                      key={index}\r\n                      id={`otp-${index}`}\r\n                      type=\"text\"\r\n                      inputMode=\"numeric\"\r\n                      maxLength={1}\r\n                      value={digit}\r\n                      onChange={(e) => handleOtpChange(index, e.target.value)}\r\n                      onKeyDown={(e) => handleKeyDown(index, e)}\r\n                      onPaste={index === 0 ? handlePaste : undefined}\r\n                      className=\"w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900/50 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:bg-white dark:focus:bg-gray-700 active:bg-white dark:active:bg-gray-700 focus:text-gray-900 dark:focus:text-white focus:outline-none transition-colors\"\r\n                    />\r\n                  ))}\r\n                </div>\r\n                {otpError && (\r\n                  <p className=\"text-sm text-red-600 dark:text-red-400 text-center\">{otpError}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Resend OTP */}\r\n              <button\r\n                onClick={handleSendOtp}\r\n                disabled={sendingOtp}\r\n                className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline mb-4 w-full text-center\"\r\n              >\r\n                {sendingOtp ? 'Resending...' : 'Resend OTP'}\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        {otpSent && (\r\n          <div className=\"flex gap-3 p-6 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700\">\r\n            <button\r\n              onClick={onClose}\r\n              disabled={loading}\r\n              className=\"flex-1 py-3 px-4 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleConfirm}\r\n              disabled={loading || otp.join('').length !== 6}\r\n              className=\"flex-1 py-3 px-4 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\r\n                  Deleting...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Trash2 className=\"w-5 h-5\" />\r\n                  Delete All\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[2]}