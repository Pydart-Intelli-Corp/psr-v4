module.exports=[300751,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(346271),e=a.i(346158),f=a.i(835466),g=a.i(50944),h=a.i(400210),i=a.i(824569),j=a.i(781560),k=a.i(114548),l=a.i(633508),m=a.i(546842),n=a.i(963519),o=a.i(992258),p=a.i(124987),q=a.i(267900),r=a.i(170106);let s=(0,r.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var t=a.i(660246);let u=(0,r.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),v=(0,r.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),w=(0,r.default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);var x=a.i(797063),y=a.i(104720),z=a.i(724669),A=a.i(839761),B=a.i(941675),C=a.i(275933),D=a.i(842859),E=a.i(715120),F=a.i(164135);a.i(16707);var G=a.i(875643),H=a.i(522849);a.i(152824);var I=a.i(604126),J=a.i(550194);a.s(["default",0,()=>{let a=(0,g.useParams)(),r=(0,g.useSearchParams)(),K=(0,g.useRouter)(),{t:L}=(0,J.useLanguage)(),M=a?.id,N=r?.get("edit")==="true",[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)([]),[S,T]=(0,c.useState)(null),[U,V]=(0,c.useState)(!0),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(N),[$,_]=(0,c.useState)("overview"),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)({}),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)(!1),[ak,al]=(0,c.useState)({farmerId:"",rfId:"",farmerName:"",contactNumber:"",email:"",smsEnabled:"OFF",emailNotificationsEnabled:"ON",bonus:0,address:"",bankName:"",bankAccountNumber:"",ifscCode:"",societyId:"",status:"active",notes:""}),am=(0,c.useCallback)(async()=>{try{let a=localStorage.getItem("authToken"),b=await fetch(`/api/user/farmer?id=${M}`,{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();P(a.data?.[0]||null)}}catch(a){console.error("Error fetching farmer details:",a)}finally{V(!1)}},[M]),an=(0,c.useCallback)(async()=>{if(O)try{let a=localStorage.getItem("authToken"),b=await fetch("/api/user/reports/collections",{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=(await b.json()).filter(a=>a.farmer_id===O.farmerId);if(a.length>0){let b=a.length,c=a.reduce((a,b)=>a+parseFloat(b.quantity||0),0),d=a.reduce((a,b)=>a+parseFloat(b.fat_percentage||0),0),e=a.reduce((a,b)=>a+parseFloat(b.snf_percentage||0),0),f=a.reduce((a,b)=>a+parseFloat(b.rate_per_liter||0),0),g=a.reduce((a,b)=>a+parseFloat(b.total_amount||0),0),h=new Date;h.setDate(h.getDate()-30);let i=a.filter(a=>new Date(a.collection_date)>=h).length;T({totalCollections:b,totalMilk:c,avgFat:b>0?d/b:0,avgSnf:b>0?e/b:0,avgRate:b>0?f/b:0,totalAmount:g,last30Days:i})}else T({totalCollections:0,totalMilk:0,avgFat:0,avgSnf:0,avgRate:0,totalAmount:0,last30Days:0})}}catch(a){console.error("Error fetching collection stats:",a),T({totalCollections:0,totalMilk:0,avgFat:0,avgSnf:0,avgRate:0,totalAmount:0,last30Days:0})}},[O]);(0,c.useEffect)(()=>{M&&(am(),ao())},[M,am]),(0,c.useEffect)(()=>{O&&an()},[O,an]),(0,c.useEffect)(()=>{if(ac){let a=setTimeout(()=>{ad("")},3e3);return()=>clearTimeout(a)}},[ac]),(0,c.useEffect)(()=>{if(aa){let a=setTimeout(()=>{ab("")},5e3);return()=>clearTimeout(a)}},[aa]),(0,c.useEffect)(()=>{O&&al({farmerId:O.farmerId,rfId:O.rfId||"",farmerName:O.farmerName,contactNumber:O.contactNumber||"",email:O.email||"",smsEnabled:O.smsEnabled,emailNotificationsEnabled:O.emailNotificationsEnabled||"ON",bonus:O.bonus,address:O.address||"",bankName:O.bankName||"",bankAccountNumber:O.bankAccountNumber||"",ifscCode:O.ifscCode||"",societyId:O.societyId?.toString()||"",status:O.status,notes:O.notes||""})},[O]);let ao=async()=>{try{let a=localStorage.getItem("authToken"),b=await fetch("/api/user/society",{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();R(a.data||[])}}catch(a){console.error("Error fetching societies:",a)}},ap=async()=>{if(O){if(ab(""),af({}),ak.contactNumber&&""!==ak.contactNumber.trim()){let a=(0,e.validatePhoneOnBlur)(ak.contactNumber);if(a){af({contactNumber:a}),ab("Please correct the validation errors before saving");return}}if(ak.email&&""!==ak.email.trim()){let a=(0,f.validateEmailOnBlur)(ak.email);if(a){af({email:a}),ab("Please correct the validation errors before saving");return}}if(!ak.farmerName||""===ak.farmerName.trim()){af({farmerName:"Farmer name is required"}),ab("Please fill in all required fields");return}X(!0);try{let a=localStorage.getItem("authToken"),b=await fetch("/api/user/farmer",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({id:O.id,farmerId:ak.farmerId,rfId:ak.rfId||null,farmerName:ak.farmerName,contactNumber:ak.contactNumber||null,email:ak.email||null,smsEnabled:ak.smsEnabled,bonus:Number(ak.bonus),address:ak.address||null,bankName:ak.bankName||null,bankAccountNumber:ak.bankAccountNumber||null,ifscCode:ak.ifscCode||null,societyId:ak.societyId?parseInt(ak.societyId):null,status:ak.status,notes:ak.notes||null})});if(b.ok){let a=await b.json();console.log("Farmer updated successfully:",a),ad("Farmer details updated successfully!"),Z(!1),await am(),K.replace(`/admin/farmer/${M}`)}else{let a=await b.json(),c=a.error||a.message||"Failed to save farmer details";af({}),ab(""),c.toLowerCase().includes("farmer id")&&c.toLowerCase().includes("already exists")?af({farmerId:"This Farmer ID already exists"}):c.toLowerCase().includes("farmer name")&&c.toLowerCase().includes("already exists")?af({farmerName:"This Farmer Name already exists"}):c.toLowerCase().includes("email")&&c.toLowerCase().includes("already exists")?af({email:"This email address already exists"}):ab(c)}}catch(a){console.error("Error saving farmer:",a),ab(a?.message||"An error occurred while saving farmer details")}finally{X(!1)}}},aq=async()=>{if(O){aj(!0);try{let a=localStorage.getItem("authToken"),b=await fetch(`/api/user/farmer?id=${O.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}});if(b.ok)ad("Farmer deleted successfully!"),setTimeout(()=>{K.push("/admin/farmer")},1e3);else{let a=await b.json();console.error("Failed to delete farmer:",a),ab(a.message||a.error||"Failed to delete farmer")}}catch(a){console.error("Error deleting farmer:",a),ab(a?.message||"An error occurred while deleting farmer")}finally{aj(!1),ah(!1)}}},ar=[{id:"overview",label:"Overview",icon:x.Info},{id:"details",label:"Details",icon:y.FileText}];return U?(0,b.jsx)(G.LoadingOverlay,{isLoading:!0}):O?(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsx)(H.default,{success:ac,error:aa,onClose:()=>{ad(""),ab("")}}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>K.push("/admin/farmer"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(h.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:O.farmerName}),(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["ID: ",O.farmerId]})]})]}),"details"===$&&(0,b.jsx)("div",{className:"flex items-center gap-3",children:Y?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{Z(!1),K.replace(`/admin/farmer/${M}`)},className:"p-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(l.X,{className:"w-5 h-5"})}),(0,b.jsxs)("button",{onClick:ap,disabled:W,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg transition-colors",children:[(0,b.jsx)(k.Save,{className:"w-4 h-4"}),W?"Saving...":"Save"]})]}):(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(i.Edit,{className:"w-4 h-4"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>ah(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(j.Trash2,{className:"w-4 h-4"}),"Delete"]})]})})]}),(0,b.jsx)("div",{className:"px-4 sm:px-6 overflow-x-auto scrollbar-hide",children:(0,b.jsx)("div",{className:"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0",children:ar.map(a=>(0,b.jsxs)("button",{onClick:()=>_(a.id),className:`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${$===a.id?"text-blue-600 dark:text-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,b.jsx)(a.icon,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:a.label}),$===a.id&&(0,b.jsx)(d.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},a.id))})}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:["overview"===$&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Collection Statistics"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Total Collections"}),(0,b.jsx)(A.BarChart3,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:S?.totalCollections||0})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Total Milk (L)"}),(0,b.jsx)(z.TrendingUp,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:S?.totalMilk?.toFixed(2)||"0.00"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"Total Amount (₹)"}),(0,b.jsx)(w,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:["₹",S?.totalAmount?.toFixed(2)||"0.00"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:"Avg Fat %"}),(0,b.jsx)(A.BarChart3,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:[S?.avgFat?.toFixed(2)||"0.00","%"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-50 to-cyan-100 dark:from-cyan-900/20 dark:to-cyan-800/20 rounded-lg p-4 border border-cyan-200 dark:border-cyan-800",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-cyan-700 dark:text-cyan-300",children:"Avg SNF %"}),(0,b.jsx)(A.BarChart3,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-100",children:[S?.avgSnf?.toFixed(2)||"0.00","%"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 rounded-lg p-4 border border-pink-200 dark:border-pink-800",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-pink-700 dark:text-pink-300",children:"Avg Rate (₹/L)"}),(0,b.jsx)(z.TrendingUp,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-pink-900 dark:text-pink-100",children:["₹",S?.avgRate?.toFixed(2)||"0.00"]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(m.User,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Farmer Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,b.jsx)(u,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Farmer ID"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.farmerId})]})]})}),O.rfId&&(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,b.jsx)(u,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"RF-ID"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.rfId})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,b.jsx)(m.User,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Farmer Name"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.farmerName})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,b.jsx)(n.Phone,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Contact Number"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.contactNumber||"N/A"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,b.jsx)(t.Users,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Society"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.societyName||"N/A"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,b.jsx)(w,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Bonus"}),(0,b.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:["₹",O.bonus]})]})]})})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(B.Calendar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Account Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,b.jsx)(B.Calendar,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Created At"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(O.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})}),O.updatedAt&&(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,b.jsx)(B.Calendar,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Last Updated"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:new Date(O.updatedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,b.jsx)(v,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"SMS Enabled"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:O.smsEnabled})]})]})})]})]})]}),"details"===$&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(m.User,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Basic Details"]}),Y?(0,b.jsxs)(F.default,{children:[(0,b.jsx)(C.default,{label:"Farmer ID",type:"text",value:ak.farmerId,onChange:a=>al({...ak,farmerId:a}),required:!0,readOnly:!0}),(0,b.jsx)(C.default,{label:"RF-ID",type:"text",value:ak.rfId,onChange:a=>al({...ak,rfId:a})}),(0,b.jsx)(C.default,{label:"Farmer Name",type:"text",value:ak.farmerName,onChange:a=>{al({...ak,farmerName:a}),ae.farmerName&&af({...ae,farmerName:""})},required:!0,error:ae.farmerName}),(0,b.jsx)(D.default,{label:"Status",value:ak.status,onChange:a=>al({...ak,status:a}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"},{value:"maintenance",label:"Maintenance"}]})]}):(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,b.jsx)(u,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Farmer ID"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.farmerId})]})]})}),O.rfId&&(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,b.jsx)(u,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"RF-ID"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.rfId})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,b.jsx)(m.User,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Farmer Name"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.farmerName})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,b.jsx)(w,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Bonus"}),(0,b.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:["₹",O.bonus]})]})]})})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(n.Phone,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Contact & Society Information"]}),Y?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(F.default,{children:[(0,b.jsx)(C.default,{label:"Contact Number",type:"tel",value:ak.contactNumber,onChange:a=>{let b=(0,e.formatPhoneInput)(a);al({...ak,contactNumber:b}),ae.contactNumber&&af({...ae,contactNumber:""})},onBlur:()=>{let a=(0,e.validatePhoneOnBlur)(ak.contactNumber);a?af({...ae,contactNumber:a}):af({...ae,contactNumber:""})},error:ae.contactNumber}),(0,b.jsx)(C.default,{label:"Email",type:"email",value:ak.email,onChange:a=>{al({...ak,email:a}),ae.email&&af({...ae,email:""})},onBlur:()=>{let a=(0,f.validateEmailOnBlur)(ak.email);a?af({...ae,email:a}):af({...ae,email:""})},error:ae.email}),(0,b.jsx)(D.default,{label:"SMS Enabled",value:ak.smsEnabled,onChange:a=>al({...ak,smsEnabled:a}),options:[{value:"OFF",label:"OFF"},{value:"ON",label:"ON"}]}),(0,b.jsx)(D.default,{label:"Email Notifications",value:ak.emailNotificationsEnabled,onChange:a=>al({...ak,emailNotificationsEnabled:a}),options:[{value:"OFF",label:"OFF"},{value:"ON",label:"ON"}]}),(0,b.jsx)(D.default,{label:"Society",value:ak.societyId,onChange:a=>al({...ak,societyId:a}),options:[{value:"",label:"Select Society"},...Q.map(a=>({value:a.id.toString(),label:a.name}))]})]}),(0,b.jsx)(E.default,{label:"Address",value:ak.address,onChange:a=>al({...ak,address:a}),rows:3})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,b.jsx)(n.Phone,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Contact Number"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.contactNumber||"N/A"})]})]})}),O.email&&(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:(0,b.jsx)(o.Mail,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Email"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.email})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-pink-100 dark:bg-pink-900/30 rounded-lg",children:(0,b.jsx)(v,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"SMS Enabled"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:O.smsEnabled})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,b.jsx)(t.Users,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Society"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.societyName||"N/A"})]})]})})]}),O.address&&(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-cyan-100 dark:bg-cyan-900/30 rounded-lg",children:(0,b.jsx)(p.MapPin,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Address"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white whitespace-pre-line",children:O.address})]})]})})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(s,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Banking Details"]}),Y?(0,b.jsxs)(F.default,{children:[(0,b.jsx)(C.default,{label:"Bank Name",type:"text",value:ak.bankName,onChange:a=>al({...ak,bankName:a})}),(0,b.jsx)(C.default,{label:"Account Number",type:"number",value:ak.bankAccountNumber,onChange:a=>{let b=a.replace(/\D/g,"");al({...ak,bankAccountNumber:b})},pattern:"[0-9]*",inputMode:"numeric"}),(0,b.jsx)(C.default,{label:"IFSC Code",type:"text",value:ak.ifscCode,onChange:a=>al({...ak,ifscCode:a})}),(0,b.jsx)(C.default,{label:"Bonus",type:"number",value:ak.bonus,onChange:a=>al({...ak,bonus:Number(a)})})]}):(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,b.jsx)(q.Building2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Bank Name"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.bankName||"N/A"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,b.jsx)(s,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Account Number"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white font-mono truncate",children:O.bankAccountNumber||"N/A"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,b.jsx)(u,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"IFSC Code"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white font-mono truncate",children:O.ifscCode||"N/A"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,b.jsx)(w,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Bonus Amount"}),(0,b.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:["₹",O.bonus]})]})]})})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(v,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Additional Information"]}),Y?(0,b.jsx)(E.default,{label:L.farmerManagement.notes,value:ak.notes,onChange:a=>al({...ak,notes:a}),rows:4,placeholder:L.farmerManagement.addAdditionalNotes}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,b.jsx)(v,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:L.farmerManagement.notes}),(0,b.jsx)("p",{className:"text-sm text-gray-900 dark:text-white whitespace-pre-line",children:O.notes||L.farmerManagement.noNotesAvailable})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,b.jsx)(B.Calendar,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Created At"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:new Date(O.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})}),O.updatedAt&&(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,b.jsx)(B.Calendar,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Last Updated"}),(0,b.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:new Date(O.updatedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})})]})]})]})]})]}),W&&(0,b.jsx)(G.LoadingOverlay,{isLoading:!0}),(0,b.jsx)(I.ConfirmDeleteModal,{isOpen:ag,onClose:()=>ah(!1),onConfirm:aq,title:"Delete Farmer",message:O?`Are you sure you want to delete farmer "${O.farmerName}" (${O.farmerId})? This action cannot be undone.`:"Are you sure you want to delete this farmer? This action cannot be undone.",itemName:O?.farmerName||"this farmer"})]}):(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Farmer Not Found"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The requested farmer could not be found."}),(0,b.jsx)("button",{onClick:()=>K.push("/admin/farmer"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Back to Farmers"})]})})}],300751)}];

//# sourceMappingURL=src_app_admin_farmer_%5Bid%5D_page_tsx_93a6e69f._.js.map