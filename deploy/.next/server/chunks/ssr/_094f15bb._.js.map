{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/querystring.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/format-url.ts","turbopack:///[project]/node_modules/next/src/client/use-merged-ref.ts","turbopack:///[project]/node_modules/next/src/shared/lib/utils.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/parse-path.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/add-path-prefix.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/remove-trailing-slash.ts","turbopack:///[project]/node_modules/next/src/client/normalize-trailing-slash.ts","turbopack:///[project]/node_modules/next/src/client/add-base-path.ts","turbopack:///[project]/node_modules/next/src/shared/lib/utils/warn-once.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/html-bots.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/is-bot.ts","turbopack:///[project]/node_modules/next/src/client/components/app-router-utils.ts","turbopack:///[project]/node_modules/next/src/client/components/segment-cache-impl/cache-key.ts","turbopack:///[project]/node_modules/next/src/shared/lib/app-router-types.ts","turbopack:///[project]/node_modules/next/src/client/components/match-segments.ts","turbopack:///[project]/node_modules/next/src/client/components/app-router-headers.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/router-reducer-types.ts","turbopack:///[project]/node_modules/next/src/shared/lib/is-thenable.ts","turbopack:///[project]/node_modules/next/src/client/components/use-action-queue.ts","turbopack:///[project]/node_modules/next/src/client/app-call-server.ts","turbopack:///[project]/node_modules/next/src/client/app-find-source-map-url.ts","turbopack:///[project]/node_modules/next/src/shared/lib/segment-cache/segment-value-encoding.ts","turbopack:///[project]/node_modules/next/src/client/route-params.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/create-href-from-url.ts","turbopack:///[project]/node_modules/next/src/client/flight-data-helpers.ts","turbopack:///[project]/node_modules/next/src/client/app-build-id.ts","turbopack:///[project]/node_modules/next/src/shared/lib/hash.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/cache-busting-search-param.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/set-cache-busting-search-param.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/fetch-server-response.ts","turbopack:///[project]/node_modules/next/src/client/components/segment-cache-impl/tuple-map.ts","turbopack:///[project]/node_modules/next/src/client/components/segment-cache-impl/lru.ts","turbopack:///[project]/node_modules/next/src/shared/lib/page-path/ensure-leading-slash.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/app-paths.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/interception-routes.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/compute-changed-path.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/handle-mutable.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/reducers/navigate-reducer.ts","turbopack:///[project]/node_modules/next/src/shared/lib/segment-cache/output-export-prefetch-encoding.ts","turbopack:///[project]/node_modules/next/src/client/components/segment-cache-impl/cache.ts","turbopack:///[project]/node_modules/next/src/client/components/segment-cache-impl/scheduler.ts","turbopack:///[project]/node_modules/next/src/client/components/segment-cache-impl/prefetch.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/create-router-cache-key.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/is-navigating-to-new-root-layout.ts","turbopack:///[project]/node_modules/next/src/client/components/router-reducer/ppr-navigations.ts","turbopack:///[project]/node_modules/next/src/client/components/segment-cache-impl/navigation.ts","turbopack:///[project]/node_modules/next/src/client/components/segment-cache.ts","turbopack:///[project]/node_modules/next/src/client/components/links.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/path-has-prefix.ts","turbopack:///[project]/node_modules/next/src/client/has-base-path.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/is-local-url.ts","turbopack:///[project]/node_modules/next/src/shared/lib/utils/error-once.ts","turbopack:///[project]/node_modules/next/src/client/app-dir/link.tsx","turbopack:///[project]/node_modules/@swc/helpers/cjs/_interop_require_default.cjs","turbopack:///[project]/node_modules/next/src/shared/lib/image-blur-svg.ts","turbopack:///[project]/node_modules/next/src/shared/lib/image-config.ts","turbopack:///[project]/node_modules/next/src/shared/lib/get-img-props.ts","turbopack:///[project]/node_modules/next/src/shared/lib/side-effect.tsx","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/head-manager-context.ts","turbopack:///[project]/node_modules/next/src/shared/lib/head.tsx","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/image-config-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/router-context.ts","turbopack:///[project]/node_modules/next/src/shared/lib/find-closest-quality.ts","turbopack:///[project]/node_modules/next/src/shared/lib/image-loader.ts","turbopack:///[project]/node_modules/next/src/client/image-component.tsx","turbopack:///[project]/node_modules/next/src/shared/lib/image-external.tsx","turbopack:///[project]/node_modules/next/image.js","turbopack:///[project]/src/components/loading/FlowerSpinner.tsx","turbopack:///[project]/node_modules/framer-motion/dist/es/animation/hooks/use-animation.mjs","turbopack:///[project]/node_modules/framer-motion/dist/es/animation/hooks/animation-controls.mjs","turbopack:///[project]/node_modules/lucide-react/src/icons/house.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/settings.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/chevron-left.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/chevron-right.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/tractor.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/chart-column.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/file-text.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/cog.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/receipt.ts","turbopack:///[project]/src/types/user.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/bell.ts","turbopack:///[project]/src/components/layout/Sidebar.tsx","turbopack:///[project]/src/components/ui/ThemeToggle.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/sun.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/moon.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/search.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/chevron-down.ts","turbopack:///[project]/src/components/layout/Header.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/log-out.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/check.ts","turbopack:///[project]/src/components/layout/DashboardLayout.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/mail.ts","turbopack:///[project]/src/components/auth/EmailVerificationPrompt.tsx","turbopack:///[project]/src/components/ui/Skeleton.tsx","turbopack:///[project]/src/components/ui/Badge.tsx","turbopack:///[project]/src/components/loading/LoadingSpinner.tsx","turbopack:///[project]/src/components/loading/LoadingButton.tsx","turbopack:///[project]/src/components/loading/LoadingOverlay.tsx","turbopack:///[project]/src/components/loading/PageLoading.tsx","turbopack:///[project]/src/components/loading/LoadingProvider.tsx","turbopack:///[project]/src/lib/clientAuth.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/award.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/menu.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/x.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/phone.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/map-pin.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/target.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/beaker.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/facebook.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/youtube.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/linkedin.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/gauge.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/star.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/zap.ts","turbopack:///[project]/src/components/pages/LandingPage.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/save.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/eye.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/eye-off.ts","turbopack:///[project]/src/components/forms/EntityForm.tsx","turbopack:///[project]/src/components/forms/FormModal.tsx","turbopack:///[project]/src/components/forms/FormInput.tsx","turbopack:///[project]/src/components/forms/FormSelect.tsx","turbopack:///[project]/src/components/forms/FormTextarea.tsx","turbopack:///[project]/src/components/forms/FormActions.tsx","turbopack:///[project]/src/components/forms/FormGrid.tsx","turbopack:///[project]/src/components/forms/FormError.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/download.ts","turbopack:///[project]/src/components/forms/ColumnSelector.tsx","turbopack:///[project]/src/components/loading/LoadingDemo.tsx","turbopack:///[project]/src/components/forms/index.ts","turbopack:///[project]/src/components/forms/CSVUploadModal.tsx","turbopack:///[project]/src/components/forms/ColumnSelectionModal.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/plus.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/square-pen.ts","turbopack:///[project]/src/components/management/EntityManager.tsx","turbopack:///[project]/src/components/management/PageHeader.tsx","turbopack:///[project]/src/components/management/StatusMessage.tsx","turbopack:///[project]/src/components/management/StatsCard.tsx","turbopack:///[project]/src/components/management/FilterControls.tsx","turbopack:///[project]/src/components/management/StatusDropdown.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/pen-line.ts","turbopack:///[project]/src/components/management/ItemCard.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/lock.ts","turbopack:///[project]/src/components/management/EmptyState.tsx","turbopack:///[project]/src/components/management/ConfirmDeleteModal.tsx","turbopack:///[project]/src/components/management/ActionButtons.tsx","turbopack:///[project]/src/components/management/SearchAndFilter.tsx","turbopack:///[project]/src/components/management/BulkDeleteConfirmModal.tsx","turbopack:///[project]/src/components/management/BulkActionsToolbar.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/folder.ts","turbopack:///[project]/src/components/management/ViewModeToggle.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/grid-3x3.ts","turbopack:///[project]/src/components/management/FolderView.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/folder-open.ts","turbopack:///[project]/src/components/management/FolderControls.tsx","turbopack:///[project]/src/components/management/FilterSection.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/calendar.ts","turbopack:///[project]/src/components/management/FilterDropdown.tsx","turbopack:///[project]/src/components/management/StatisticsFilterDropdown.tsx","turbopack:///[project]/src/components/management/MachineManager.tsx","turbopack:///[project]/src/components/management/LoadingSnackbar.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/user-check.ts","turbopack:///[project]/src/components/management/ManagementPageHeader.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/upload.ts","turbopack:///[project]/src/components/management/FloatingActionButton.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/factory.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/dollar-sign.ts","turbopack:///[project]/src/components/dairy/DairyMinimalCard.tsx","turbopack:///[project]/src/components/management/BulkSelectionBar.tsx","turbopack:///[project]/src/components/management/index.ts","turbopack:///[project]/src/components/management/StatsGrid.tsx","turbopack:///[project]/src/components/index.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/user-x.ts"],"sourcesContent":["import type { ParsedUrlQuery } from 'querystring'\n\nexport function searchParamsToUrlQuery(\n  searchParams: URLSearchParams\n): ParsedUrlQuery {\n  const query: ParsedUrlQuery = {}\n  for (const [key, value] of searchParams.entries()) {\n    const existing = query[key]\n    if (typeof existing === 'undefined') {\n      query[key] = value\n    } else if (Array.isArray(existing)) {\n      existing.push(value)\n    } else {\n      query[key] = [existing, value]\n    }\n  }\n  return query\n}\n\nfunction stringifyUrlQueryParam(param: unknown): string {\n  if (typeof param === 'string') {\n    return param\n  }\n\n  if (\n    (typeof param === 'number' && !isNaN(param)) ||\n    typeof param === 'boolean'\n  ) {\n    return String(param)\n  } else {\n    return ''\n  }\n}\n\nexport function urlQueryToSearchParams(query: ParsedUrlQuery): URLSearchParams {\n  const searchParams = new URLSearchParams()\n  for (const [key, value] of Object.entries(query)) {\n    if (Array.isArray(value)) {\n      for (const item of value) {\n        searchParams.append(key, stringifyUrlQueryParam(item))\n      }\n    } else {\n      searchParams.set(key, stringifyUrlQueryParam(value))\n    }\n  }\n  return searchParams\n}\n\nexport function assign(\n  target: URLSearchParams,\n  ...searchParamsList: URLSearchParams[]\n): URLSearchParams {\n  for (const searchParams of searchParamsList) {\n    for (const key of searchParams.keys()) {\n      target.delete(key)\n    }\n\n    for (const [key, value] of searchParams.entries()) {\n      target.append(key, value)\n    }\n  }\n\n  return target\n}\n","// Format function modified from nodejs\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport type { UrlObject } from 'url'\nimport type { ParsedUrlQuery } from 'querystring'\nimport * as querystring from './querystring'\n\nconst slashedProtocols = /https?|ftp|gopher|file/\n\nexport function formatUrl(urlObj: UrlObject) {\n  let { auth, hostname } = urlObj\n  let protocol = urlObj.protocol || ''\n  let pathname = urlObj.pathname || ''\n  let hash = urlObj.hash || ''\n  let query = urlObj.query || ''\n  let host: string | false = false\n\n  auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : ''\n\n  if (urlObj.host) {\n    host = auth + urlObj.host\n  } else if (hostname) {\n    host = auth + (~hostname.indexOf(':') ? `[${hostname}]` : hostname)\n    if (urlObj.port) {\n      host += ':' + urlObj.port\n    }\n  }\n\n  if (query && typeof query === 'object') {\n    query = String(querystring.urlQueryToSearchParams(query as ParsedUrlQuery))\n  }\n\n  let search = urlObj.search || (query && `?${query}`) || ''\n\n  if (protocol && !protocol.endsWith(':')) protocol += ':'\n\n  if (\n    urlObj.slashes ||\n    ((!protocol || slashedProtocols.test(protocol)) && host !== false)\n  ) {\n    host = '//' + (host || '')\n    if (pathname && pathname[0] !== '/') pathname = '/' + pathname\n  } else if (!host) {\n    host = ''\n  }\n\n  if (hash && hash[0] !== '#') hash = '#' + hash\n  if (search && search[0] !== '?') search = '?' + search\n\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent)\n  search = search.replace('#', '%23')\n\n  return `${protocol}${host}${pathname}${search}${hash}`\n}\n\nexport const urlObjectKeys = [\n  'auth',\n  'hash',\n  'host',\n  'hostname',\n  'href',\n  'path',\n  'pathname',\n  'port',\n  'protocol',\n  'query',\n  'search',\n  'slashes',\n]\n\nexport function formatWithValidation(url: UrlObject): string {\n  if (process.env.NODE_ENV === 'development') {\n    if (url !== null && typeof url === 'object') {\n      Object.keys(url).forEach((key) => {\n        if (!urlObjectKeys.includes(key)) {\n          console.warn(\n            `Unknown key passed via urlObject into url.format: ${key}`\n          )\n        }\n      })\n    }\n  }\n\n  return formatUrl(url)\n}\n","import { useCallback, useRef, type Ref } from 'react'\n\n// This is a compatibility hook to support React 18 and 19 refs.\n// In 19, a cleanup function from refs may be returned.\n// In 18, returning a cleanup function creates a warning.\n// Since we take userspace refs, we don't know ahead of time if a cleanup function will be returned.\n// This implements cleanup functions with the old behavior in 18.\n// We know refs are always called alternating with `null` and then `T`.\n// So a call with `null` means we need to call the previous cleanup functions.\nexport function useMergedRef<TElement>(\n  refA: Ref<TElement>,\n  refB: Ref<TElement>\n): Ref<TElement> {\n  const cleanupA = useRef<(() => void) | null>(null)\n  const cleanupB = useRef<(() => void) | null>(null)\n\n  // NOTE: In theory, we could skip the wrapping if only one of the refs is non-null.\n  // (this happens often if the user doesn't pass a ref to Link/Form/Image)\n  // But this can cause us to leak a cleanup-ref into user code (previously via `<Link legacyBehavior>`),\n  // and the user might pass that ref into ref-merging library that doesn't support cleanup refs\n  // (because it hasn't been updated for React 19)\n  // which can then cause things to blow up, because a cleanup-returning ref gets called with `null`.\n  // So in practice, it's safer to be defensive and always wrap the ref, even on React 19.\n  return useCallback(\n    (current: TElement | null): void => {\n      if (current === null) {\n        const cleanupFnA = cleanupA.current\n        if (cleanupFnA) {\n          cleanupA.current = null\n          cleanupFnA()\n        }\n        const cleanupFnB = cleanupB.current\n        if (cleanupFnB) {\n          cleanupB.current = null\n          cleanupFnB()\n        }\n      } else {\n        if (refA) {\n          cleanupA.current = applyRef(refA, current)\n        }\n        if (refB) {\n          cleanupB.current = applyRef(refB, current)\n        }\n      }\n    },\n    [refA, refB]\n  )\n}\n\nfunction applyRef<TElement>(\n  refA: NonNullable<Ref<TElement>>,\n  current: TElement\n) {\n  if (typeof refA === 'function') {\n    const cleanup = refA(current)\n    if (typeof cleanup === 'function') {\n      return cleanup\n    } else {\n      return () => refA(null)\n    }\n  } else {\n    refA.current = current\n    return () => {\n      refA.current = null\n    }\n  }\n}\n","import type { HtmlProps } from './html-context.shared-runtime'\nimport type { ComponentType, JSX } from 'react'\nimport type { DomainLocale } from '../../server/config'\nimport type { Env } from '@next/env'\nimport type { IncomingMessage, ServerResponse } from 'http'\nimport type { NextRouter } from './router/router'\nimport type { ParsedUrlQuery } from 'querystring'\nimport type { PreviewData } from '../../types'\nimport type { COMPILER_NAMES } from './constants'\nimport type fs from 'fs'\n\nexport type NextComponentType<\n  Context extends BaseContext = NextPageContext,\n  InitialProps = {},\n  Props = {},\n> = ComponentType<Props> & {\n  /**\n   * Used for initial page load data population. Data returned from `getInitialProps` is serialized when server rendered.\n   * Make sure to return plain `Object` without using `Date`, `Map`, `Set`.\n   * @param context Context of `page`\n   */\n  getInitialProps?(context: Context): InitialProps | Promise<InitialProps>\n}\n\nexport type DocumentType = NextComponentType<\n  DocumentContext,\n  DocumentInitialProps,\n  DocumentProps\n>\n\nexport type AppType<P = {}> = NextComponentType<\n  AppContextType,\n  P,\n  AppPropsType<any, P>\n>\n\nexport type AppTreeType = ComponentType<\n  AppInitialProps & { [name: string]: any }\n>\n\n/**\n * Web vitals provided to _app.reportWebVitals by Core Web Vitals plugin developed by Google Chrome team.\n * https://nextjs.org/blog/next-9-4#integrated-web-vitals-reporting\n */\nexport const WEB_VITALS = ['CLS', 'FCP', 'FID', 'INP', 'LCP', 'TTFB'] as const\nexport type NextWebVitalsMetric = {\n  id: string\n  startTime: number\n  value: number\n  attribution?: { [key: string]: unknown }\n} & (\n  | {\n      label: 'web-vital'\n      name: (typeof WEB_VITALS)[number]\n    }\n  | {\n      label: 'custom'\n      name:\n        | 'Next.js-hydration'\n        | 'Next.js-route-change-to-render'\n        | 'Next.js-render'\n    }\n)\n\nexport type Enhancer<C> = (Component: C) => C\n\nexport type ComponentsEnhancer =\n  | {\n      enhanceApp?: Enhancer<AppType>\n      enhanceComponent?: Enhancer<NextComponentType>\n    }\n  | Enhancer<NextComponentType>\n\nexport type RenderPageResult = {\n  html: string\n  head?: Array<JSX.Element | null>\n}\n\nexport type RenderPage = (\n  options?: ComponentsEnhancer\n) => DocumentInitialProps | Promise<DocumentInitialProps>\n\nexport type BaseContext = {\n  res?: ServerResponse\n  [k: string]: any\n}\n\nexport type NEXT_DATA = {\n  props: Record<string, any>\n  page: string\n  query: ParsedUrlQuery\n  buildId: string\n  assetPrefix?: string\n  nextExport?: boolean\n  autoExport?: boolean\n  isFallback?: boolean\n  isExperimentalCompile?: boolean\n  dynamicIds?: (string | number)[]\n  err?: Error & {\n    statusCode?: number\n    source?: typeof COMPILER_NAMES.server | typeof COMPILER_NAMES.edgeServer\n  }\n  gsp?: boolean\n  gssp?: boolean\n  customServer?: boolean\n  gip?: boolean\n  appGip?: boolean\n  locale?: string\n  locales?: readonly string[]\n  defaultLocale?: string\n  domainLocales?: readonly DomainLocale[]\n  scriptLoader?: any[]\n  isPreview?: boolean\n  notFoundSrcPage?: string\n}\n\n/**\n * `Next` context\n */\nexport interface NextPageContext {\n  /**\n   * Error object if encountered during rendering\n   */\n  err?: (Error & { statusCode?: number }) | null\n  /**\n   * `HTTP` request object.\n   */\n  req?: IncomingMessage\n  /**\n   * `HTTP` response object.\n   */\n  res?: ServerResponse\n  /**\n   * Path section of `URL`.\n   */\n  pathname: string\n  /**\n   * Query string section of `URL` parsed as an object.\n   */\n  query: ParsedUrlQuery\n  /**\n   * `String` of the actual path including query.\n   */\n  asPath?: string\n  /**\n   * The currently active locale\n   */\n  locale?: string\n  /**\n   * All configured locales\n   */\n  locales?: readonly string[]\n  /**\n   * The configured default locale\n   */\n  defaultLocale?: string\n  /**\n   * `Component` the tree of the App to use if needing to render separately\n   */\n  AppTree: AppTreeType\n}\n\nexport type AppContextType<Router extends NextRouter = NextRouter> = {\n  Component: NextComponentType<NextPageContext>\n  AppTree: AppTreeType\n  ctx: NextPageContext\n  router: Router\n}\n\nexport type AppInitialProps<PageProps = any> = {\n  pageProps: PageProps\n}\n\nexport type AppPropsType<\n  Router extends NextRouter = NextRouter,\n  PageProps = {},\n> = AppInitialProps<PageProps> & {\n  Component: NextComponentType<NextPageContext, any, any>\n  router: Router\n  __N_SSG?: boolean\n  __N_SSP?: boolean\n}\n\nexport type DocumentContext = NextPageContext & {\n  renderPage: RenderPage\n  defaultGetInitialProps(\n    ctx: DocumentContext,\n    options?: { nonce?: string }\n  ): Promise<DocumentInitialProps>\n}\n\nexport type DocumentInitialProps = RenderPageResult & {\n  styles?: React.ReactElement[] | Iterable<React.ReactNode> | JSX.Element\n}\n\nexport type DocumentProps = DocumentInitialProps & HtmlProps\n\n/**\n * Next `API` route request\n */\nexport interface NextApiRequest extends IncomingMessage {\n  /**\n   * Object of `query` values from url\n   */\n  query: Partial<{\n    [key: string]: string | string[]\n  }>\n  /**\n   * Object of `cookies` from header\n   */\n  cookies: Partial<{\n    [key: string]: string\n  }>\n\n  body: any\n\n  env: Env\n\n  draftMode?: boolean\n\n  preview?: boolean\n  /**\n   * Preview data set on the request, if any\n   * */\n  previewData?: PreviewData\n}\n\n/**\n * Send body of response\n */\ntype Send<T> = (body: T) => void\n\n/**\n * Next `API` route response\n */\nexport type NextApiResponse<Data = any> = ServerResponse & {\n  /**\n   * Send data `any` data in response\n   */\n  send: Send<Data>\n  /**\n   * Send data `json` data in response\n   */\n  json: Send<Data>\n  status: (statusCode: number) => NextApiResponse<Data>\n  redirect(url: string): NextApiResponse<Data>\n  redirect(status: number, url: string): NextApiResponse<Data>\n\n  /**\n   * Set draft mode\n   */\n  setDraftMode: (options: { enable: boolean }) => NextApiResponse<Data>\n\n  /**\n   * Set preview data for Next.js' prerender mode\n   */\n  setPreviewData: (\n    data: object | string,\n    options?: {\n      /**\n       * Specifies the number (in seconds) for the preview session to last for.\n       * The given number will be converted to an integer by rounding down.\n       * By default, no maximum age is set and the preview session finishes\n       * when the client shuts down (browser is closed).\n       */\n      maxAge?: number\n      /**\n       * Specifies the path for the preview session to work under. By default,\n       * the path is considered the \"default path\", i.e., any pages under \"/\".\n       */\n      path?: string\n    }\n  ) => NextApiResponse<Data>\n\n  /**\n   * Clear preview data for Next.js' prerender mode\n   */\n  clearPreviewData: (options?: { path?: string }) => NextApiResponse<Data>\n\n  /**\n   * Revalidate a specific page and regenerate it using On-Demand Incremental\n   * Static Regeneration.\n   * The path should be an actual path, not a rewritten path. E.g. for\n   * \"/blog/[slug]\" this should be \"/blog/post-1\".\n   * @link https://nextjs.org/docs/app/building-your-application/data-fetching/incremental-static-regeneration#on-demand-revalidation-with-revalidatepath\n   */\n  revalidate: (\n    urlPath: string,\n    opts?: {\n      unstable_onlyGenerated?: boolean\n    }\n  ) => Promise<void>\n}\n\n/**\n * Next `API` route handler\n */\nexport type NextApiHandler<T = any> = (\n  req: NextApiRequest,\n  res: NextApiResponse<T>\n) => unknown | Promise<unknown>\n\n/**\n * Utils\n */\nexport function execOnce<T extends (...args: any[]) => ReturnType<T>>(\n  fn: T\n): T {\n  let used = false\n  let result: ReturnType<T>\n\n  return ((...args: any[]) => {\n    if (!used) {\n      used = true\n      result = fn(...args)\n    }\n    return result\n  }) as T\n}\n\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/\nexport const isAbsoluteUrl = (url: string) => ABSOLUTE_URL_REGEX.test(url)\n\nexport function getLocationOrigin() {\n  const { protocol, hostname, port } = window.location\n  return `${protocol}//${hostname}${port ? ':' + port : ''}`\n}\n\nexport function getURL() {\n  const { href } = window.location\n  const origin = getLocationOrigin()\n  return href.substring(origin.length)\n}\n\nexport function getDisplayName<P>(Component: ComponentType<P>) {\n  return typeof Component === 'string'\n    ? Component\n    : Component.displayName || Component.name || 'Unknown'\n}\n\nexport function isResSent(res: ServerResponse) {\n  return res.finished || res.headersSent\n}\n\nexport function normalizeRepeatedSlashes(url: string) {\n  const urlParts = url.split('?')\n  const urlNoQuery = urlParts[0]\n\n  return (\n    urlNoQuery\n      // first we replace any non-encoded backslashes with forward\n      // then normalize repeated forward slashes\n      .replace(/\\\\/g, '/')\n      .replace(/\\/\\/+/g, '/') +\n    (urlParts[1] ? `?${urlParts.slice(1).join('?')}` : '')\n  )\n}\n\nexport async function loadGetInitialProps<\n  C extends BaseContext,\n  IP = {},\n  P = {},\n>(App: NextComponentType<C, IP, P>, ctx: C): Promise<IP> {\n  if (process.env.NODE_ENV !== 'production') {\n    if (App.prototype?.getInitialProps) {\n      const message = `\"${getDisplayName(\n        App\n      )}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`\n      throw new Error(message)\n    }\n  }\n  // when called from _app `ctx` is nested in `ctx`\n  const res = ctx.res || (ctx.ctx && ctx.ctx.res)\n\n  if (!App.getInitialProps) {\n    if (ctx.ctx && ctx.Component) {\n      // @ts-ignore pageProps default\n      return {\n        pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx),\n      }\n    }\n    return {} as IP\n  }\n\n  const props = await App.getInitialProps(ctx)\n\n  if (res && isResSent(res)) {\n    return props\n  }\n\n  if (!props) {\n    const message = `\"${getDisplayName(\n      App\n    )}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`\n    throw new Error(message)\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.keys(props).length === 0 && !ctx.ctx) {\n      console.warn(\n        `${getDisplayName(\n          App\n        )} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`\n      )\n    }\n  }\n\n  return props\n}\n\nexport const SP = typeof performance !== 'undefined'\nexport const ST =\n  SP &&\n  (['mark', 'measure', 'getEntriesByName'] as const).every(\n    (method) => typeof performance[method] === 'function'\n  )\n\nexport class DecodeError extends Error {}\nexport class NormalizeError extends Error {}\nexport class PageNotFoundError extends Error {\n  code: string\n\n  constructor(page: string) {\n    super()\n    this.code = 'ENOENT'\n    this.name = 'PageNotFoundError'\n    this.message = `Cannot find module for page: ${page}`\n  }\n}\n\nexport class MissingStaticPage extends Error {\n  constructor(page: string, message: string) {\n    super()\n    this.message = `Failed to load static file for page: ${page} ${message}`\n  }\n}\n\nexport class MiddlewareNotFoundError extends Error {\n  code: string\n  constructor() {\n    super()\n    this.code = 'ENOENT'\n    this.message = `Cannot find the middleware module`\n  }\n}\n\nexport interface CacheFs {\n  existsSync: typeof fs.existsSync\n  readFile: typeof fs.promises.readFile\n  readFileSync: typeof fs.readFileSync\n  writeFile(f: string, d: any): Promise<void>\n  mkdir(dir: string): Promise<void | string>\n  stat(f: string): Promise<{ mtime: Date }>\n}\n\nexport function stringifyError(error: Error) {\n  return JSON.stringify({ message: error.message, stack: error.stack })\n}\n","/**\n * Given a path this function will find the pathname, query and hash and return\n * them. This is useful to parse full paths on the client side.\n * @param path A path to parse e.g. /foo/bar?id=1#hash\n */\nexport function parsePath(path: string) {\n  const hashIndex = path.indexOf('#')\n  const queryIndex = path.indexOf('?')\n  const hasQuery = queryIndex > -1 && (hashIndex < 0 || queryIndex < hashIndex)\n\n  if (hasQuery || hashIndex > -1) {\n    return {\n      pathname: path.substring(0, hasQuery ? queryIndex : hashIndex),\n      query: hasQuery\n        ? path.substring(queryIndex, hashIndex > -1 ? hashIndex : undefined)\n        : '',\n      hash: hashIndex > -1 ? path.slice(hashIndex) : '',\n    }\n  }\n\n  return { pathname: path, query: '', hash: '' }\n}\n","import { parsePath } from './parse-path'\n\n/**\n * Adds the provided prefix to the given path. It first ensures that the path\n * is indeed starting with a slash.\n */\nexport function addPathPrefix(path: string, prefix?: string) {\n  if (!path.startsWith('/') || !prefix) {\n    return path\n  }\n\n  const { pathname, query, hash } = parsePath(path)\n  return `${prefix}${pathname}${query}${hash}`\n}\n","/**\n * Removes the trailing slash for a given route or page path. Preserves the\n * root page. Examples:\n *   - `/foo/bar/` -> `/foo/bar`\n *   - `/foo/bar` -> `/foo/bar`\n *   - `/` -> `/`\n */\nexport function removeTrailingSlash(route: string) {\n  return route.replace(/\\/$/, '') || '/'\n}\n","import { removeTrailingSlash } from '../shared/lib/router/utils/remove-trailing-slash'\nimport { parsePath } from '../shared/lib/router/utils/parse-path'\n\n/**\n * Normalizes the trailing slash of a path according to the `trailingSlash` option\n * in `next.config.js`.\n */\nexport const normalizePathTrailingSlash = (path: string) => {\n  if (!path.startsWith('/') || process.env.__NEXT_MANUAL_TRAILING_SLASH) {\n    return path\n  }\n\n  const { pathname, query, hash } = parsePath(path)\n  if (process.env.__NEXT_TRAILING_SLASH) {\n    if (/\\.[^/]+\\/?$/.test(pathname)) {\n      return `${removeTrailingSlash(pathname)}${query}${hash}`\n    } else if (pathname.endsWith('/')) {\n      return `${pathname}${query}${hash}`\n    } else {\n      return `${pathname}/${query}${hash}`\n    }\n  }\n\n  return `${removeTrailingSlash(pathname)}${query}${hash}`\n}\n","import { addPathPrefix } from '../shared/lib/router/utils/add-path-prefix'\nimport { normalizePathTrailingSlash } from './normalize-trailing-slash'\n\nconst basePath = (process.env.__NEXT_ROUTER_BASEPATH as string) || ''\n\nexport function addBasePath(path: string, required?: boolean): string {\n  return normalizePathTrailingSlash(\n    process.env.__NEXT_MANUAL_CLIENT_BASE_PATH && !required\n      ? path\n      : addPathPrefix(path, basePath)\n  )\n}\n","let warnOnce = (_: string) => {}\nif (process.env.NODE_ENV !== 'production') {\n  const warnings = new Set<string>()\n  warnOnce = (msg: string) => {\n    if (!warnings.has(msg)) {\n      console.warn(msg)\n    }\n    warnings.add(msg)\n  }\n}\n\nexport { warnOnce }\n","// This regex contains the bots that we need to do a blocking render for and can't safely stream the response\n// due to how they parse the DOM. For example, they might explicitly check for metadata in the `head` tag, so we can't stream metadata tags after the `head` was sent.\n// Note: The pattern [\\w-]+-Google captures all Google crawlers with \"-Google\" suffix (e.g., Mediapartners-Google, AdsBot-Google, Storebot-Google)\n// as well as crawlers starting with \"Google-\" (e.g., Google-PageRenderer, Google-InspectionTool)\nexport const HTML_LIMITED_BOT_UA_RE =\n  /[\\w-]+-Google|Google-[\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight/i\n","import { HTML_LIMITED_BOT_UA_RE } from './html-bots'\n\n// Bot crawler that will spin up a headless browser and execute JS.\n// Only the main Googlebot search crawler executes JavaScript, not other Google crawlers.\n// x-ref: https://developers.google.com/search/docs/crawling-indexing/google-common-crawlers\n// This regex specifically matches \"Googlebot\" but NOT \"Mediapartners-Google\", \"AdsBot-Google\", etc.\nconst HEADLESS_BROWSER_BOT_UA_RE = /Googlebot(?!-)|Googlebot$/i\n\nexport const HTML_LIMITED_BOT_UA_RE_STRING = HTML_LIMITED_BOT_UA_RE.source\n\nexport { HTML_LIMITED_BOT_UA_RE }\n\nfunction isDomBotUA(userAgent: string) {\n  return HEADLESS_BROWSER_BOT_UA_RE.test(userAgent)\n}\n\nfunction isHtmlLimitedBotUA(userAgent: string) {\n  return HTML_LIMITED_BOT_UA_RE.test(userAgent)\n}\n\nexport function isBot(userAgent: string): boolean {\n  return isDomBotUA(userAgent) || isHtmlLimitedBotUA(userAgent)\n}\n\nexport function getBotType(userAgent: string): 'dom' | 'html' | undefined {\n  if (isDomBotUA(userAgent)) {\n    return 'dom'\n  }\n  if (isHtmlLimitedBotUA(userAgent)) {\n    return 'html'\n  }\n  return undefined\n}\n","import { isBot } from '../../shared/lib/router/utils/is-bot'\nimport { addBasePath } from '../add-base-path'\n\nexport function isExternalURL(url: URL) {\n  return url.origin !== window.location.origin\n}\n\n/**\n * Given a link href, constructs the URL that should be prefetched. Returns null\n * in cases where prefetching should be disabled, like external URLs, or\n * during development.\n * @param href The href passed to <Link>, router.prefetch(), or similar\n * @returns A URL object to prefetch, or null if prefetching should be disabled\n */\nexport function createPrefetchURL(href: string): URL | null {\n  // Don't prefetch for bots as they don't navigate.\n  if (isBot(window.navigator.userAgent)) {\n    return null\n  }\n\n  let url: URL\n  try {\n    url = new URL(addBasePath(href), window.location.href)\n  } catch (_) {\n    // TODO: Does this need to throw or can we just console.error instead? Does\n    // anyone rely on this throwing? (Seems unlikely.)\n    throw new Error(\n      `Cannot prefetch '${href}' because it cannot be converted to a URL.`\n    )\n  }\n\n  // Don't prefetch during development (improves compilation performance)\n  if (process.env.NODE_ENV === 'development') {\n    return null\n  }\n\n  // External urls can't be prefetched in the same way.\n  if (isExternalURL(url)) {\n    return null\n  }\n\n  return url\n}\n","// TypeScript trick to simulate opaque types, like in Flow.\ntype Opaque<K, T> = T & { __brand: K }\n\n// Only functions in this module should be allowed to create CacheKeys.\nexport type NormalizedHref = Opaque<'NormalizedHref', string>\nexport type NormalizedSearch = Opaque<'NormalizedSearch', string>\nexport type NormalizedNextUrl = Opaque<'NormalizedNextUrl', string>\n\nexport type RouteCacheKey = Opaque<\n  'RouteCacheKey',\n  {\n    href: NormalizedHref\n    search: NormalizedSearch\n    nextUrl: NormalizedNextUrl | null\n\n    // TODO: Eventually the dynamic params will be added here, too.\n  }\n>\n\nexport function createCacheKey(\n  originalHref: string,\n  nextUrl: string | null\n): RouteCacheKey {\n  // TODO: We should remove the hash from the href and track that separately.\n  // There's no reason to vary route entries by hash.\n  const originalUrl = new URL(originalHref)\n  const cacheKey = {\n    href: originalHref as NormalizedHref,\n    search: originalUrl.search as NormalizedSearch,\n    nextUrl: nextUrl as NormalizedNextUrl | null,\n  } as RouteCacheKey\n  return cacheKey\n}\n","/**\n * App Router types - Client-safe types for the Next.js App Router\n *\n * This file contains type definitions that can be safely imported\n * by both client-side and server-side code without circular dependencies.\n */\nimport type { FetchServerResponseResult } from '../../client/components/router-reducer/fetch-server-response'\nimport type React from 'react'\n\nexport type LoadingModuleData =\n  | [React.JSX.Element, React.ReactNode, React.ReactNode]\n  | null\n\n/** viewport metadata node */\nexport type HeadData = React.ReactNode\n\nexport type ChildSegmentMap = Map<string, CacheNode>\n\n/**\n * Cache node used in app-router / layout-router.\n */\nexport type CacheNode = ReadyCacheNode | LazyCacheNode\n\nexport type LazyCacheNode = {\n  /**\n   * When rsc is null, this is a lazily-initialized cache node.\n   *\n   * If the app attempts to render it, it triggers a lazy data fetch,\n   * postpones the render, and schedules an update to a new tree.\n   *\n   * TODO: This mechanism should not be used when PPR is enabled, though it\n   * currently is in some cases until we've implemented partial\n   * segment fetching.\n   */\n  rsc: null\n\n  /**\n   * A prefetched version of the segment data. See explanation in corresponding\n   * field of ReadyCacheNode (below).\n   *\n   * Since LazyCacheNode mostly only exists in the non-PPR implementation, this\n   * will usually be null, but it could have been cloned from a previous\n   * CacheNode that was created by the PPR implementation. Eventually we want\n   * to migrate everything away from LazyCacheNode entirely.\n   */\n  prefetchRsc: React.ReactNode\n\n  /**\n   * A pending response for the lazy data fetch. If this is not present\n   * during render, it is lazily created.\n   */\n  lazyData: Promise<FetchServerResponseResult> | null\n\n  prefetchHead: HeadData | null\n\n  head: HeadData\n\n  loading: LoadingModuleData | Promise<LoadingModuleData>\n\n  /**\n   * Child parallel routes.\n   */\n  parallelRoutes: Map<string, ChildSegmentMap>\n\n  /**\n   * The timestamp of the navigation that last updated the CacheNode's data. If\n   * a CacheNode is reused from a previous navigation, this value is not\n   * updated. Used to track the staleness of the data.\n   */\n  navigatedAt: number\n}\n\nexport type ReadyCacheNode = {\n  /**\n   * When rsc is not null, it represents the RSC data for the\n   * corresponding segment.\n   *\n   * `null` is a valid React Node but because segment data is always a\n   * <LayoutRouter> component, we can use `null` to represent empty.\n   *\n   * TODO: For additional type safety, update this type to\n   * Exclude<React.ReactNode, null>. Need to update createEmptyCacheNode to\n   * accept rsc as an argument, or just inline the callers.\n   */\n  rsc: React.ReactNode\n\n  /**\n   * Represents a static version of the segment that can be shown immediately,\n   * and may or may not contain dynamic holes. It's prefetched before a\n   * navigation occurs.\n   *\n   * During rendering, we will choose whether to render `rsc` or `prefetchRsc`\n   * with `useDeferredValue`. As with the `rsc` field, a value of `null` means\n   * no value was provided. In this case, the LayoutRouter will go straight to\n   * rendering the `rsc` value; if that one is also missing, it will suspend and\n   * trigger a lazy fetch.\n   */\n  prefetchRsc: React.ReactNode\n\n  /**\n   * There should never be a lazy data request in this case.\n   */\n  lazyData: null\n  prefetchHead: HeadData | null\n\n  head: HeadData\n\n  loading: LoadingModuleData | Promise<LoadingModuleData>\n\n  parallelRoutes: Map<string, ChildSegmentMap>\n\n  navigatedAt: number\n}\n\nexport type DynamicParamTypes =\n  | 'catchall'\n  | 'catchall-intercepted'\n  | 'optional-catchall'\n  | 'dynamic'\n  | 'dynamic-intercepted'\n\nexport type DynamicParamTypesShort = 'c' | 'ci' | 'oc' | 'd' | 'di'\n\nexport type Segment =\n  | string\n  | [\n      // Param name\n      paramName: string,\n      // Param cache key (almost the same as the value, but arrays are\n      // concatenated into strings)\n      // TODO: We should change this to just be the value. Currently we convert\n      // it back to a value when passing to useParams. It only needs to be\n      // a string when converted to a a cache key, but that doesn't mean we\n      // need to store it as that representation.\n      paramCacheKey: string,\n      // Dynamic param type\n      dynamicParamType: DynamicParamTypesShort,\n    ]\n\n/**\n * Router state\n */\nexport type FlightRouterState = [\n  segment: Segment,\n  parallelRoutes: { [parallelRouterKey: string]: FlightRouterState },\n  url?: string | null,\n  /**\n   * \"refresh\" and \"refetch\", despite being similarly named, have different\n   * semantics:\n   * - \"refetch\" is used during a request to inform the server where rendering\n   *   should start from.\n   *\n   * - \"refresh\" is used by the client to mark that a segment should re-fetch the\n   *   data from the server for the current segment. It uses the \"url\" property\n   *   above to determine where to fetch from.\n   *\n   * - \"inside-shared-layout\" is used during a prefetch request to inform the\n   *   server that even if the segment matches, it should be treated as if it's\n   *   within the \"new\" part of a navigation — inside the shared layout. If\n   *   the segment doesn't match, then it has no effect, since it would be\n   *   treated as new regardless. If it does match, though, the server does not\n   *   need to render it, because the client already has it.\n   *\n   * - \"metadata-only\" instructs the server to skip rendering the segments and\n   *   only send the head data.\n   *\n   *   A bit confusing, but that's because it has only one extremely narrow use\n   *   case — during a non-PPR prefetch, the server uses it to find the first\n   *   loading boundary beneath a shared layout.\n   *\n   *   TODO: We should rethink the protocol for dynamic requests. It might not\n   *   make sense for the client to send a FlightRouterState, since this type is\n   *   overloaded with concerns.\n   */\n  refresh?:\n    | 'refetch'\n    | 'refresh'\n    | 'inside-shared-layout'\n    | 'metadata-only'\n    | null,\n  isRootLayout?: boolean,\n  /**\n   * Only present when responding to a tree prefetch request. Indicates whether\n   * there is a loading boundary somewhere in the tree. The client cache uses\n   * this to determine if it can skip the data prefetch request.\n   */\n  hasLoadingBoundary?: HasLoadingBoundary,\n]\n\nexport const enum HasLoadingBoundary {\n  // There is a loading boundary in this particular segment\n  SegmentHasLoadingBoundary = 1,\n  // There is a loading boundary somewhere in the subtree (but not in\n  // this segment)\n  SubtreeHasLoadingBoundary = 2,\n  // There is no loading boundary in this segment or any of its descendants\n  SubtreeHasNoLoadingBoundary = 3,\n}\n\n/**\n * Individual Flight response path\n */\nexport type FlightSegmentPath =\n  // Uses `any` as repeating pattern can't be typed.\n  | any[]\n  // Looks somewhat like this\n  | [\n      segment: Segment,\n      parallelRouterKey: string,\n      segment: Segment,\n      parallelRouterKey: string,\n      segment: Segment,\n      parallelRouterKey: string,\n    ]\n\n/**\n * Represents a tree of segments and the Flight data (i.e. React nodes) that\n * correspond to each one. The tree is isomorphic to the FlightRouterState;\n * however in the future we want to be able to fetch arbitrary partial segments\n * without having to fetch all its children. So this response format will\n * likely change.\n */\nexport type CacheNodeSeedData = [\n  node: React.ReactNode | null,\n  parallelRoutes: {\n    [parallelRouterKey: string]: CacheNodeSeedData | null\n  },\n  loading: LoadingModuleData | Promise<LoadingModuleData>,\n  isPartial: boolean,\n  /** TODO: this doesn't feel like it belongs here, because it's only used during build, in `collectSegmentData` */\n  hasRuntimePrefetch: boolean,\n]\n\nexport type FlightDataSegment = [\n  /* segment of the rendered slice: */ Segment,\n  /* treePatch */ FlightRouterState,\n  /* cacheNodeSeedData */ CacheNodeSeedData | null, // Can be null during prefetch if there's no loading component\n  /* head: viewport */ HeadData,\n  /* isHeadPartial */ boolean,\n]\n\nexport type FlightDataPath =\n  // Uses `any` as repeating pattern can't be typed.\n  | any[]\n  // Looks somewhat like this\n  | [\n      // Holds full path to the segment.\n      ...FlightSegmentPath[],\n      ...FlightDataSegment,\n    ]\n\n/**\n * The Flight response data\n */\nexport type FlightData = Array<FlightDataPath> | string\n\nexport type ActionResult = Promise<any>\n\nexport type InitialRSCPayload = {\n  /** buildId */\n  b: string\n  /** initialCanonicalUrlParts */\n  c: string[]\n  /** initialRenderedSearch */\n  q: string\n  /** couldBeIntercepted */\n  i: boolean\n  /** initialFlightData */\n  f: FlightDataPath[]\n  /** missingSlots */\n  m: Set<string> | undefined\n  /** GlobalError */\n  G: [React.ComponentType<any>, React.ReactNode | undefined]\n  /** postponed */\n  s: boolean\n  /** prerendered */\n  S: boolean\n}\n\n// Response from `createFromFetch` for normal rendering\nexport type NavigationFlightResponse = {\n  /** buildId */\n  b: string\n  /** flightData */\n  f: FlightData\n  /** prerendered */\n  S: boolean\n}\n\n// Response from `createFromFetch` for server actions. Action's flight data can be null\nexport type ActionFlightResponse = {\n  /** actionResult */\n  a: ActionResult\n  /** buildId */\n  b: string\n  /** flightData */\n  f: FlightData\n}\n\nexport type RSCPayload =\n  | InitialRSCPayload\n  | NavigationFlightResponse\n  | ActionFlightResponse\n","import type { Segment } from '../../shared/lib/app-router-types'\n\nexport const matchSegment = (\n  existingSegment: Segment,\n  segment: Segment\n): boolean => {\n  // segment is either Array or string\n  if (typeof existingSegment === 'string') {\n    if (typeof segment === 'string') {\n      // Common case: segment is just a string\n      return existingSegment === segment\n    }\n    return false\n  }\n\n  if (typeof segment === 'string') {\n    return false\n  }\n  return existingSegment[0] === segment[0] && existingSegment[1] === segment[1]\n}\n","export const RSC_HEADER = 'rsc' as const\nexport const ACTION_HEADER = 'next-action' as const\n// TODO: Instead of sending the full router state, we only need to send the\n// segment path. Saves bytes. Then we could also use this field for segment\n// prefetches, which also need to specify a particular segment.\nexport const NEXT_ROUTER_STATE_TREE_HEADER = 'next-router-state-tree' as const\nexport const NEXT_ROUTER_PREFETCH_HEADER = 'next-router-prefetch' as const\n// This contains the path to the segment being prefetched.\n// TODO: If we change next-router-state-tree to be a segment path, we can use\n// that instead. Then next-router-prefetch and next-router-segment-prefetch can\n// be merged into a single enum.\nexport const NEXT_ROUTER_SEGMENT_PREFETCH_HEADER =\n  'next-router-segment-prefetch' as const\nexport const NEXT_HMR_REFRESH_HEADER = 'next-hmr-refresh' as const\nexport const NEXT_HMR_REFRESH_HASH_COOKIE = '__next_hmr_refresh_hash__' as const\nexport const NEXT_URL = 'next-url' as const\nexport const RSC_CONTENT_TYPE_HEADER = 'text/x-component' as const\n\nexport const FLIGHT_HEADERS = [\n  RSC_HEADER,\n  NEXT_ROUTER_STATE_TREE_HEADER,\n  NEXT_ROUTER_PREFETCH_HEADER,\n  NEXT_HMR_REFRESH_HEADER,\n  NEXT_ROUTER_SEGMENT_PREFETCH_HEADER,\n] as const\n\nexport const NEXT_RSC_UNION_QUERY = '_rsc' as const\n\nexport const NEXT_ROUTER_STALE_TIME_HEADER = 'x-nextjs-stale-time' as const\nexport const NEXT_DID_POSTPONE_HEADER = 'x-nextjs-postponed' as const\nexport const NEXT_REWRITTEN_PATH_HEADER = 'x-nextjs-rewritten-path' as const\nexport const NEXT_REWRITTEN_QUERY_HEADER = 'x-nextjs-rewritten-query' as const\nexport const NEXT_IS_PRERENDER_HEADER = 'x-nextjs-prerender' as const\nexport const NEXT_ACTION_NOT_FOUND_HEADER = 'x-nextjs-action-not-found' as const\nexport const NEXT_REQUEST_ID_HEADER = 'x-nextjs-request-id' as const\nexport const NEXT_HTML_REQUEST_ID_HEADER = 'x-nextjs-html-request-id' as const\n","import type { CacheNode } from '../../../shared/lib/app-router-types'\nimport type {\n  FlightRouterState,\n  FlightSegmentPath,\n} from '../../../shared/lib/app-router-types'\nimport type { FetchServerResponseResult } from './fetch-server-response'\n\nexport const ACTION_REFRESH = 'refresh'\nexport const ACTION_NAVIGATE = 'navigate'\nexport const ACTION_RESTORE = 'restore'\nexport const ACTION_SERVER_PATCH = 'server-patch'\nexport const ACTION_HMR_REFRESH = 'hmr-refresh'\nexport const ACTION_SERVER_ACTION = 'server-action'\n\nexport type RouterChangeByServerResponse = ({\n  navigatedAt,\n  previousTree,\n  serverResponse,\n}: {\n  navigatedAt: number\n  previousTree: FlightRouterState\n  serverResponse: FetchServerResponseResult\n}) => void\n\nexport interface Mutable {\n  mpaNavigation?: boolean\n  patchedTree?: FlightRouterState\n  renderedSearch?: string\n  canonicalUrl?: string\n  scrollableSegments?: FlightSegmentPath[]\n  pendingPush?: boolean\n  cache?: CacheNode\n  hashFragment?: string\n  shouldScroll?: boolean\n  preserveCustomHistoryState?: boolean\n  onlyHashChange?: boolean\n  collectedDebugInfo?: Array<unknown>\n}\n\nexport interface ServerActionMutable extends Mutable {\n  inFlightServerAction?: Promise<any> | null\n}\n\n/**\n * Refresh triggers a refresh of the full page data.\n * - fetches the Flight data and fills rsc at the root of the cache.\n * - The router state is updated at the root.\n */\nexport interface RefreshAction {\n  type: typeof ACTION_REFRESH\n  origin: Location['origin']\n}\n\nexport interface HmrRefreshAction {\n  type: typeof ACTION_HMR_REFRESH\n  origin: Location['origin']\n}\n\nexport type ServerActionDispatcher = (\n  args: Omit<\n    ServerActionAction,\n    'type' | 'mutable' | 'navigate' | 'changeByServerResponse' | 'cache'\n  >\n) => void\n\nexport interface ServerActionAction {\n  type: typeof ACTION_SERVER_ACTION\n  actionId: string\n  actionArgs: any[]\n  resolve: (value: any) => void\n  reject: (reason?: any) => void\n  didRevalidate?: boolean\n}\n\n/**\n * Navigate triggers a navigation to the provided url. It supports two types: `push` and `replace`.\n *\n * `navigateType`:\n * - `push` - pushes a new history entry in the browser history\n * - `replace` - replaces the current history entry in the browser history\n *\n * Navigate has multiple cache heuristics:\n * - page was prefetched\n *  - Apply router state tree from prefetch\n *  - Apply Flight data from prefetch to the cache\n *  - If Flight data is a string, it's a redirect and the state is updated to trigger a redirect\n *  - Check if hard navigation is needed\n *    - Hard navigation happens when a dynamic parameter below the common layout changed\n *    - When hard navigation is needed the cache is invalidated below the flightSegmentPath\n *    - The missing cache nodes of the page will be fetched in layout-router and trigger the SERVER_PATCH action\n *  - If hard navigation is not needed\n *    - The cache is reused\n *    - If any cache nodes are missing they'll be fetched in layout-router and trigger the SERVER_PATCH action\n * - page was not prefetched\n *  - The navigate was called from `next/router` (`router.push()` / `router.replace()`) / `next/link` without prefetched data available (e.g. the prefetch didn't come back from the server before clicking the link)\n *    - Flight data is fetched in the reducer (suspends the reducer)\n *    - Router state tree is created based on Flight data\n *    - Cache is filled based on the Flight data\n *\n * Above steps explain 3 cases:\n * - `soft` - Reuses the existing cache and fetches missing nodes in layout-router.\n * - `hard` - Creates a new cache where cache nodes are removed below the common layout and fetches missing nodes in layout-router.\n * - `optimistic` (explicit no prefetch) - Creates a new cache and kicks off the data fetch in the reducer. The data fetch is awaited in the layout-router.\n */\nexport interface NavigateAction {\n  type: typeof ACTION_NAVIGATE\n  url: URL\n  isExternalUrl: boolean\n  locationSearch: Location['search']\n  navigateType: 'push' | 'replace'\n  shouldScroll: boolean\n}\n\n/**\n * Restore applies the provided router state.\n * - Used for `popstate` (back/forward navigation) where a known router state has to be applied.\n * - Also used when syncing the router state with `pushState`/`replaceState` calls.\n * - Router state is applied as-is from the history state, if available.\n * - If the history state does not contain the router state, the existing router state is used.\n * - If any cache node is missing it will be fetched in layout-router during rendering and the server-patch case.\n * - If existing cache nodes match these are used.\n */\nexport interface RestoreAction {\n  type: typeof ACTION_RESTORE\n  url: URL\n  historyState: AppHistoryState | undefined\n}\n\nexport type AppHistoryState = {\n  tree: FlightRouterState\n  renderedSearch: string\n}\n\n/**\n * Server-patch applies the provided Flight data to the cache and router tree.\n * - Only triggered in layout-router.\n * - Creates a new cache and router state with the Flight data applied.\n */\nexport interface ServerPatchAction {\n  type: typeof ACTION_SERVER_PATCH\n  navigatedAt: number\n  serverResponse: FetchServerResponseResult\n  previousTree: FlightRouterState\n}\n\n/**\n * PrefetchKind defines the type of prefetching that should be done.\n * - `auto` - if the page is dynamic, prefetch the page data partially, if static prefetch the page data fully.\n * - `full` - prefetch the page data fully.\n * - `temporary` - a temporary prefetch entry is added to the cache, this is used when prefetch={false} is used in next/link or when you push a route programmatically.\n */\n\nexport enum PrefetchKind {\n  AUTO = 'auto',\n  FULL = 'full',\n  TEMPORARY = 'temporary',\n}\n\n/**\n * Prefetch adds the provided FlightData to the prefetch cache\n * - Creates the router state tree based on the patch in FlightData\n * - Adds the FlightData to the prefetch cache\n * - In ACTION_NAVIGATE the prefetch cache is checked and the router state tree and FlightData are applied.\n */\n\nexport interface PushRef {\n  /**\n   * If the app-router should push a new history entry in app-router's useEffect()\n   */\n  pendingPush: boolean\n  /**\n   * Multi-page navigation through location.href.\n   */\n  mpaNavigation: boolean\n  /**\n   * Skip applying the router state to the browser history state.\n   */\n  preserveCustomHistoryState: boolean\n}\n\nexport type FocusAndScrollRef = {\n  /**\n   * If focus and scroll should be set in the layout-router's useEffect()\n   */\n  apply: boolean\n  /**\n   * The hash fragment that should be scrolled to.\n   */\n  hashFragment: string | null\n  /**\n   * The paths of the segments that should be focused.\n   */\n  segmentPaths: FlightSegmentPath[]\n  /**\n   * If only the URLs hash fragment changed\n   */\n  onlyHashChange: boolean\n}\n\n/**\n * Handles keeping the state of app-router.\n */\nexport type AppRouterState = {\n  /**\n   * The router state, this is written into the history state in app-router using replaceState/pushState.\n   * - Has to be serializable as it is written into the history state.\n   * - Holds which segments and parallel routes are shown on the screen.\n   */\n  tree: FlightRouterState\n  /**\n   * The cache holds React nodes for every segment that is shown on screen as well as previously shown segments.\n   * It also holds in-progress data requests.\n   */\n  cache: CacheNode\n  /**\n   * Decides if the update should create a new history entry and if the navigation has to trigger a browser navigation.\n   */\n  pushRef: PushRef\n  /**\n   * Decides if the update should apply scroll and focus management.\n   */\n  focusAndScrollRef: FocusAndScrollRef\n  /**\n   * The canonical url that is pushed/replaced.\n   * - This is the url you see in the browser.\n   */\n  canonicalUrl: string\n  renderedSearch: string\n  /**\n   * The underlying \"url\" representing the UI state, which is used for intercepting routes.\n   */\n  nextUrl: string | null\n\n  /**\n   * The previous next-url that was used previous to a dynamic navigation.\n   */\n  previousNextUrl: string | null\n\n  debugInfo: Array<unknown> | null\n}\n\nexport type ReadonlyReducerState = Readonly<AppRouterState>\nexport type ReducerState =\n  | (Promise<AppRouterState> & { _debugInfo?: Array<unknown> })\n  | AppRouterState\nexport type ReducerActions = Readonly<\n  | RefreshAction\n  | NavigateAction\n  | RestoreAction\n  | ServerPatchAction\n  | HmrRefreshAction\n  | ServerActionAction\n>\n","/**\n * Check to see if a value is Thenable.\n *\n * @param promise the maybe-thenable value\n * @returns true if the value is thenable\n */\nexport function isThenable<T = unknown>(\n  promise: Promise<T> | T\n): promise is Promise<T> {\n  return (\n    promise !== null &&\n    typeof promise === 'object' &&\n    'then' in promise &&\n    typeof promise.then === 'function'\n  )\n}\n","import type { Dispatch } from 'react'\nimport React, { use, useMemo } from 'react'\nimport { isThenable } from '../../shared/lib/is-thenable'\nimport type { AppRouterActionQueue } from './app-router-instance'\nimport type {\n  AppRouterState,\n  ReducerActions,\n  ReducerState,\n} from './router-reducer/router-reducer-types'\n\n// The app router state lives outside of React, so we can import the dispatch\n// method directly wherever we need it, rather than passing it around via props\n// or context.\nlet dispatch: Dispatch<ReducerActions> | null = null\n\nexport function dispatchAppRouterAction(action: ReducerActions) {\n  if (dispatch === null) {\n    throw new Error(\n      'Internal Next.js error: Router action dispatched before initialization.'\n    )\n  }\n  dispatch(action)\n}\n\nexport function useActionQueue(\n  actionQueue: AppRouterActionQueue\n): AppRouterState {\n  const [state, setState] = React.useState<ReducerState>(actionQueue.state)\n\n  // Because of a known issue that requires to decode Flight streams inside the\n  // render phase, we have to be a bit clever and assign the dispatch method to\n  // a module-level variable upon initialization. The useState hook in this\n  // module only exists to synchronize state that lives outside of React.\n  // Ideally, what we'd do instead is pass the state as a prop to root.render;\n  // this is conceptually how we're modeling the app router state, despite the\n  // weird implementation details.\n  if (process.env.NODE_ENV !== 'production') {\n    const { useAppDevRenderingIndicator } =\n      require('../../next-devtools/userspace/use-app-dev-rendering-indicator') as typeof import('../../next-devtools/userspace/use-app-dev-rendering-indicator')\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const appDevRenderingIndicator = useAppDevRenderingIndicator()\n\n    dispatch = (action: ReducerActions) => {\n      appDevRenderingIndicator(() => {\n        actionQueue.dispatch(action, setState)\n      })\n    }\n  } else {\n    dispatch = (action: ReducerActions) =>\n      actionQueue.dispatch(action, setState)\n  }\n\n  // When navigating to a non-prefetched route, then App Router state will be\n  // blocked until the server responds. We need to transfer the `_debugInfo`\n  // from the underlying Flight response onto the top-level promise that is\n  // passed to React (via `use`) so that the latency is accurately represented\n  // in the React DevTools.\n  const stateWithDebugInfo = useMemo(() => {\n    if (isThenable(state)) {\n      const debugInfo: Array<unknown> = []\n      const promiseWithDebugInfo = Promise.resolve(state).then((asyncState) => {\n        if (asyncState.debugInfo !== null) {\n          debugInfo.push(...asyncState.debugInfo)\n        }\n        return asyncState\n      }) as Promise<AppRouterState> & { _debugInfo?: Array<unknown> }\n      promiseWithDebugInfo._debugInfo = debugInfo\n      return promiseWithDebugInfo\n    }\n    return state\n  }, [state])\n\n  return isThenable(stateWithDebugInfo)\n    ? use(stateWithDebugInfo)\n    : stateWithDebugInfo\n}\n","import { startTransition } from 'react'\nimport { ACTION_SERVER_ACTION } from './components/router-reducer/router-reducer-types'\nimport { dispatchAppRouterAction } from './components/use-action-queue'\n\nexport async function callServer(actionId: string, actionArgs: any[]) {\n  return new Promise((resolve, reject) => {\n    startTransition(() => {\n      dispatchAppRouterAction({\n        type: ACTION_SERVER_ACTION,\n        actionId,\n        actionArgs,\n        resolve,\n        reject,\n      })\n    })\n  })\n}\n","const basePath = process.env.__NEXT_ROUTER_BASEPATH || ''\nconst pathname = `${basePath}/__nextjs_source-map`\n\nexport const findSourceMapURL =\n  process.env.NODE_ENV === 'development'\n    ? function findSourceMapURL(filename: string): string | null {\n        if (filename === '') {\n          return null\n        }\n\n        if (\n          filename.startsWith(document.location.origin) &&\n          filename.includes('/_next/static')\n        ) {\n          // This is a request for a client chunk. This can only happen when\n          // using Turbopack. In this case, since we control how those source\n          // maps are generated, we can safely assume that the sourceMappingURL\n          // is relative to the filename, with an added `.map` extension. The\n          // browser can just request this file, and it gets served through the\n          // normal dev server, without the need to route this through\n          // the `/__nextjs_source-map` dev middleware.\n          return `${filename}.map`\n        }\n\n        const url = new URL(pathname, document.location.origin)\n        url.searchParams.set('filename', filename)\n\n        return url.href\n      }\n    : undefined\n","import { PAGE_SEGMENT_KEY } from '../segment'\nimport type { Segment as FlightRouterStateSegment } from '../app-router-types'\n\n// TypeScript trick to simulate opaque types, like in Flow.\ntype Opaque<K, T> = T & { __brand: K }\n\nexport type SegmentRequestKeyPart = Opaque<'SegmentRequestKeyPart', string>\nexport type SegmentRequestKey = Opaque<'SegmentRequestKey', string>\nexport type SegmentCacheKeyPart = Opaque<'SegmentCacheKeyPart', string>\nexport type SegmentCacheKey = Opaque<'SegmentCacheKey', string>\n\nexport const ROOT_SEGMENT_REQUEST_KEY = '' as SegmentRequestKey\nexport const ROOT_SEGMENT_CACHE_KEY = '' as SegmentCacheKey\n\nexport function createSegmentRequestKeyPart(\n  segment: FlightRouterStateSegment\n): SegmentRequestKeyPart {\n  if (typeof segment === 'string') {\n    if (segment.startsWith(PAGE_SEGMENT_KEY)) {\n      // The Flight Router State type sometimes includes the search params in\n      // the page segment. However, the Segment Cache tracks this as a separate\n      // key. So, we strip the search params here, and then add them back when\n      // the cache entry is turned back into a FlightRouterState. This is an\n      // unfortunate consequence of the FlightRouteState being used both as a\n      // transport type and as a cache key; we'll address this once more of the\n      // Segment Cache implementation has settled.\n      // TODO: We should hoist the search params out of the FlightRouterState\n      // type entirely, This is our plan for dynamic route params, too.\n      return PAGE_SEGMENT_KEY as SegmentRequestKeyPart\n    }\n    const safeName =\n      // TODO: FlightRouterState encodes Not Found routes as \"/_not-found\".\n      // But params typically don't include the leading slash. We should use\n      // a different encoding to avoid this special case.\n      segment === '/_not-found'\n        ? '_not-found'\n        : encodeToFilesystemAndURLSafeString(segment)\n    // Since this is not a dynamic segment, it's fully encoded. It does not\n    // need to be \"hydrated\" with a param value.\n    return safeName as SegmentRequestKeyPart\n  }\n\n  const name = segment[0]\n  const paramType = segment[2]\n  const safeName = encodeToFilesystemAndURLSafeString(name)\n\n  const encodedName = '$' + paramType + '$' + safeName\n  return encodedName as SegmentRequestKeyPart\n}\n\nexport function appendSegmentRequestKeyPart(\n  parentRequestKey: SegmentRequestKey,\n  parallelRouteKey: string,\n  childRequestKeyPart: SegmentRequestKeyPart\n): SegmentRequestKey {\n  // Aside from being filesystem safe, segment keys are also designed so that\n  // each segment and parallel route creates its own subdirectory. Roughly in\n  // the same shape as the source app directory. This is mostly just for easier\n  // debugging (you can open up the build folder and navigate the output); if\n  // we wanted to do we could just use a flat structure.\n\n  // Omit the parallel route key for children, since this is the most\n  // common case. Saves some bytes (and it's what the app directory does).\n  const slotKey =\n    parallelRouteKey === 'children'\n      ? childRequestKeyPart\n      : `@${encodeToFilesystemAndURLSafeString(parallelRouteKey)}/${childRequestKeyPart}`\n  return (parentRequestKey + '/' + slotKey) as SegmentRequestKey\n}\n\nexport function createSegmentCacheKeyPart(\n  requestKeyPart: SegmentRequestKeyPart,\n  segment: FlightRouterStateSegment\n): SegmentCacheKeyPart {\n  if (typeof segment === 'string') {\n    return requestKeyPart as any as SegmentCacheKeyPart\n  }\n  const paramValue = segment[1]\n  const safeValue = encodeToFilesystemAndURLSafeString(paramValue)\n  return (requestKeyPart + '$' + safeValue) as SegmentCacheKeyPart\n}\n\nexport function appendSegmentCacheKeyPart(\n  parentSegmentKey: SegmentCacheKey,\n  parallelRouteKey: string,\n  childCacheKeyPart: SegmentCacheKeyPart\n): SegmentCacheKey {\n  const slotKey =\n    parallelRouteKey === 'children'\n      ? childCacheKeyPart\n      : `@${encodeToFilesystemAndURLSafeString(parallelRouteKey)}/${childCacheKeyPart}`\n  return (parentSegmentKey + '/' + slotKey) as SegmentCacheKey\n}\n\n// Define a regex pattern to match the most common characters found in a route\n// param. It excludes anything that might not be cross-platform filesystem\n// compatible, like |. It does not need to be precise because the fallback is to\n// just base64url-encode the whole parameter, which is fine; we just don't do it\n// by default for compactness, and for easier debugging.\nconst simpleParamValueRegex = /^[a-zA-Z0-9\\-_@]+$/\n\nfunction encodeToFilesystemAndURLSafeString(value: string) {\n  if (simpleParamValueRegex.test(value)) {\n    return value\n  }\n  // If there are any unsafe characters, base64url-encode the entire value.\n  // We also add a ! prefix so it doesn't collide with the simple case.\n  const base64url = btoa(value)\n    .replace(/\\+/g, '-') // Replace '+' with '-'\n    .replace(/\\//g, '_') // Replace '/' with '_'\n    .replace(/=+$/, '') // Remove trailing '='\n  return '!' + base64url\n}\n\nexport function convertSegmentPathToStaticExportFilename(\n  segmentPath: string\n): string {\n  return `__next${segmentPath.replace(/\\//g, '.')}.txt`\n}\n","import type { DynamicParamTypesShort } from '../shared/lib/app-router-types'\nimport {\n  addSearchParamsIfPageSegment,\n  DEFAULT_SEGMENT_KEY,\n  PAGE_SEGMENT_KEY,\n} from '../shared/lib/segment'\nimport { ROOT_SEGMENT_REQUEST_KEY } from '../shared/lib/segment-cache/segment-value-encoding'\nimport {\n  NEXT_REWRITTEN_PATH_HEADER,\n  NEXT_REWRITTEN_QUERY_HEADER,\n  NEXT_RSC_UNION_QUERY,\n} from './components/app-router-headers'\nimport type { NormalizedSearch } from './components/segment-cache'\nimport type { RSCResponse } from './components/router-reducer/fetch-server-response'\nimport type { ParsedUrlQuery } from 'querystring'\n\nexport type RouteParamValue = string | Array<string> | null\n\nexport type RouteParam = {\n  name: string\n  value: RouteParamValue\n  type: DynamicParamTypesShort\n}\n\nexport function getRenderedSearch(\n  response: RSCResponse<unknown> | Response\n): NormalizedSearch {\n  // If the server performed a rewrite, the search params used to render the\n  // page will be different from the params in the request URL. In this case,\n  // the response will include a header that gives the rewritten search query.\n  const rewrittenQuery = response.headers.get(NEXT_REWRITTEN_QUERY_HEADER)\n  if (rewrittenQuery !== null) {\n    return (\n      rewrittenQuery === '' ? '' : '?' + rewrittenQuery\n    ) as NormalizedSearch\n  }\n  // If the header is not present, there was no rewrite, so we use the search\n  // query of the response URL.\n  return urlToUrlWithoutFlightMarker(new URL(response.url))\n    .search as NormalizedSearch\n}\n\nexport function getRenderedPathname(\n  response: RSCResponse<unknown> | Response\n): string {\n  // If the server performed a rewrite, the pathname used to render the\n  // page will be different from the pathname in the request URL. In this case,\n  // the response will include a header that gives the rewritten pathname.\n  const rewrittenPath = response.headers.get(NEXT_REWRITTEN_PATH_HEADER)\n  return (\n    rewrittenPath ?? urlToUrlWithoutFlightMarker(new URL(response.url)).pathname\n  )\n}\n\nexport function parseDynamicParamFromURLPart(\n  paramType: DynamicParamTypesShort,\n  pathnameParts: Array<string>,\n  partIndex: number\n): RouteParamValue {\n  // This needs to match the behavior in get-dynamic-param.ts.\n  switch (paramType) {\n    // Catchalls\n    case 'c':\n    case 'ci': {\n      // Catchalls receive all the remaining URL parts. If there are no\n      // remaining pathname parts, return an empty array.\n      return partIndex < pathnameParts.length\n        ? pathnameParts.slice(partIndex).map((s) => encodeURIComponent(s))\n        : []\n    }\n    // Optional catchalls\n    case 'oc': {\n      // Optional catchalls receive all the remaining URL parts, unless this is\n      // the end of the pathname, in which case they return null.\n      return partIndex < pathnameParts.length\n        ? pathnameParts.slice(partIndex).map((s) => encodeURIComponent(s))\n        : null\n    }\n    // Dynamic\n    case 'd':\n    case 'di': {\n      if (partIndex >= pathnameParts.length) {\n        // The route tree expected there to be more parts in the URL than there\n        // actually are. This could happen if the x-nextjs-rewritten-path header\n        // is incorrectly set, or potentially due to bug in Next.js. TODO:\n        // Should this be a hard error? During a prefetch, we can just abort.\n        // During a client navigation, we could trigger a hard refresh. But if\n        // it happens during initial render, we don't really have any\n        // recovery options.\n        return ''\n      }\n      return encodeURIComponent(pathnameParts[partIndex])\n    }\n    default:\n      paramType satisfies never\n      return ''\n  }\n}\n\nexport function doesStaticSegmentAppearInURL(segment: string): boolean {\n  // This is not a parameterized segment; however, we need to determine\n  // whether or not this segment appears in the URL. For example, this route\n  // groups do not appear in the URL, so they should be skipped. Any other\n  // special cases must be handled here.\n  // TODO: Consider encoding this directly into the router tree instead of\n  // inferring it on the client based on the segment type. Something like\n  // a `doesAppearInURL` flag in FlightRouterState.\n  if (\n    segment === ROOT_SEGMENT_REQUEST_KEY ||\n    // For some reason, the loader tree sometimes includes extra __PAGE__\n    // \"layouts\" when part of a parallel route. But it's not a leaf node.\n    // Otherwise, we wouldn't need this special case because pages are\n    // always leaf nodes.\n    // TODO: Investigate why the loader produces these fake page segments.\n    segment.startsWith(PAGE_SEGMENT_KEY) ||\n    // Route groups.\n    (segment[0] === '(' && segment.endsWith(')')) ||\n    segment === DEFAULT_SEGMENT_KEY ||\n    segment === '/_not-found'\n  ) {\n    return false\n  } else {\n    // All other segment types appear in the URL\n    return true\n  }\n}\n\nexport function getCacheKeyForDynamicParam(\n  paramValue: RouteParamValue,\n  renderedSearch: NormalizedSearch\n): string {\n  // This needs to match the logic in get-dynamic-param.ts, until we're able to\n  // unify the various implementations so that these are always computed on\n  // the client.\n  if (typeof paramValue === 'string') {\n    // TODO: Refactor or remove this helper function to accept a string rather\n    // than the whole segment type. Also we can probably just append the\n    // search string instead of turning it into JSON.\n    const pageSegmentWithSearchParams = addSearchParamsIfPageSegment(\n      paramValue,\n      Object.fromEntries(new URLSearchParams(renderedSearch))\n    ) as string\n    return pageSegmentWithSearchParams\n  } else if (paramValue === null) {\n    return ''\n  } else {\n    return paramValue.join('/')\n  }\n}\n\nexport function urlToUrlWithoutFlightMarker(url: URL): URL {\n  const urlWithoutFlightParameters = new URL(url)\n  urlWithoutFlightParameters.searchParams.delete(NEXT_RSC_UNION_QUERY)\n  if (process.env.NODE_ENV === 'production') {\n    if (\n      process.env.__NEXT_CONFIG_OUTPUT === 'export' &&\n      urlWithoutFlightParameters.pathname.endsWith('.txt')\n    ) {\n      const { pathname } = urlWithoutFlightParameters\n      const length = pathname.endsWith('/index.txt') ? 10 : 4\n      // Slice off `/index.txt` or `.txt` from the end of the pathname\n      urlWithoutFlightParameters.pathname = pathname.slice(0, -length)\n    }\n  }\n  return urlWithoutFlightParameters\n}\n\nexport function getParamValueFromCacheKey(\n  paramCacheKey: string,\n  paramType: DynamicParamTypesShort\n) {\n  // Turn the cache key string sent by the server (as part of FlightRouterState)\n  // into a value that can be passed to `useParams` and client components.\n  const isCatchAll = paramType === 'c' || paramType === 'oc'\n  if (isCatchAll) {\n    // Catch-all param keys are a concatenation of the path segments.\n    // See equivalent logic in `getSelectedParams`.\n    // TODO: We should just pass the array directly, rather than concatenate\n    // it to a string and then split it back to an array. It needs to be an\n    // array in some places, like when passing a key React, but we can convert\n    // it at runtime in those places.\n    return paramCacheKey.split('/')\n  }\n  return paramCacheKey\n}\n\nexport function urlSearchParamsToParsedUrlQuery(\n  searchParams: URLSearchParams\n): ParsedUrlQuery {\n  // Converts a URLSearchParams object to the same type used by the server when\n  // creating search params props, i.e. the type returned by Node's\n  // \"querystring\" module.\n  const result: ParsedUrlQuery = {}\n  for (const [key, value] of searchParams.entries()) {\n    if (result[key] === undefined) {\n      result[key] = value\n    } else if (Array.isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [result[key], value]\n    }\n  }\n  return result\n}\n","export function createHrefFromUrl(\n  url: Pick<URL, 'pathname' | 'search' | 'hash'>,\n  includeHash: boolean = true\n): string {\n  return url.pathname + url.search + (includeHash ? url.hash : '')\n}\n","import type {\n  CacheNodeSeedData,\n  FlightData,\n  FlightDataPath,\n  FlightRouterState,\n  FlightSegmentPath,\n  Segment,\n  HeadData,\n  InitialRSCPayload,\n} from '../shared/lib/app-router-types'\nimport { PAGE_SEGMENT_KEY } from '../shared/lib/segment'\nimport type { NormalizedSearch } from './components/segment-cache'\nimport {\n  getCacheKeyForDynamicParam,\n  parseDynamicParamFromURLPart,\n  doesStaticSegmentAppearInURL,\n  getRenderedPathname,\n  getRenderedSearch,\n} from './route-params'\nimport { createHrefFromUrl } from './components/router-reducer/create-href-from-url'\n\nexport type NormalizedFlightData = {\n  /**\n   * The full `FlightSegmentPath` inclusive of the final `Segment`\n   */\n  segmentPath: FlightSegmentPath\n  /**\n   * The `FlightSegmentPath` exclusive of the final `Segment`\n   */\n  pathToSegment: FlightSegmentPath\n  segment: Segment\n  tree: FlightRouterState\n  seedData: CacheNodeSeedData | null\n  head: HeadData\n  isHeadPartial: boolean\n  isRootRender: boolean\n}\n\n// TODO: We should only have to export `normalizeFlightData`, however because the initial flight data\n// that gets passed to `createInitialRouterState` doesn't conform to the `FlightDataPath` type (it's missing the root segment)\n// we're currently exporting it so we can use it directly. This should be fixed as part of the unification of\n// the different ways we express `FlightSegmentPath`.\nexport function getFlightDataPartsFromPath(\n  flightDataPath: FlightDataPath\n): NormalizedFlightData {\n  // Pick the last 4 items from the `FlightDataPath` to get the [tree, seedData, viewport, isHeadPartial].\n  const flightDataPathLength = 4\n  // tree, seedData, and head are *always* the last three items in the `FlightDataPath`.\n  const [tree, seedData, head, isHeadPartial] =\n    flightDataPath.slice(-flightDataPathLength)\n  // The `FlightSegmentPath` is everything except the last three items. For a root render, it won't be present.\n  const segmentPath = flightDataPath.slice(0, -flightDataPathLength)\n\n  return {\n    // TODO: Unify these two segment path helpers. We are inconsistently pushing an empty segment (\"\")\n    // to the start of the segment path in some places which makes it hard to use solely the segment path.\n    // Look for \"// TODO-APP: remove ''\" in the codebase.\n    pathToSegment: segmentPath.slice(0, -1),\n    segmentPath,\n    // if the `FlightDataPath` corresponds with the root, there'll be no segment path,\n    // in which case we default to ''.\n    segment: segmentPath[segmentPath.length - 1] ?? '',\n    tree,\n    seedData,\n    head,\n    isHeadPartial,\n    isRootRender: flightDataPath.length === flightDataPathLength,\n  }\n}\n\nexport function createInitialRSCPayloadFromFallbackPrerender(\n  response: Response,\n  fallbackInitialRSCPayload: InitialRSCPayload\n): InitialRSCPayload {\n  // This is a static fallback page. In order to hydrate the page, we need to\n  // parse the client params from the URL, but to account for the possibility\n  // that the page was rewritten, we need to check the response headers\n  // for x-nextjs-rewritten-path or x-nextjs-rewritten-query headers. Since\n  // we can't access the headers of the initial document response, the client\n  // performs a fetch request to the current location. Since it's possible that\n  // the fetch request will be dynamically rewritten to a different path than\n  // the initial document, this fetch request delivers _all_ the hydration data\n  // for the page; it was not inlined into the document, like it normally\n  // would be.\n  //\n  // TODO: Consider treating the case where fetch is rewritten to a different\n  // path from the document as a special deopt case. We should optimistically\n  // assume this won't happen, inline the data into the document, and perform\n  // a minimal request (like a HEAD or range request) to verify that the\n  // response matches. Tricky to get right because we need to account for\n  // all the different deployment environments we support, like output:\n  // \"export\" mode, where we currently don't assume that custom response\n  // headers are present.\n\n  // Patch the Flight data sent by the server with the correct params parsed\n  // from the URL + response object.\n  const renderedPathname = getRenderedPathname(response)\n  const renderedSearch = getRenderedSearch(response)\n  const canonicalUrl = createHrefFromUrl(new URL(location.href))\n  const originalFlightDataPath = fallbackInitialRSCPayload.f[0]\n  const originalFlightRouterState = originalFlightDataPath[0]\n  return {\n    b: fallbackInitialRSCPayload.b,\n    c: canonicalUrl.split('/'),\n    q: renderedSearch,\n    i: fallbackInitialRSCPayload.i,\n    f: [\n      [\n        fillInFallbackFlightRouterState(\n          originalFlightRouterState,\n          renderedPathname,\n          renderedSearch as NormalizedSearch\n        ),\n        originalFlightDataPath[1],\n        originalFlightDataPath[2],\n        originalFlightDataPath[2],\n      ],\n    ],\n    m: fallbackInitialRSCPayload.m,\n    G: fallbackInitialRSCPayload.G,\n    s: fallbackInitialRSCPayload.s,\n    S: fallbackInitialRSCPayload.S,\n  }\n}\n\nfunction fillInFallbackFlightRouterState(\n  flightRouterState: FlightRouterState,\n  renderedPathname: string,\n  renderedSearch: NormalizedSearch\n): FlightRouterState {\n  const pathnameParts = renderedPathname.split('/').filter((p) => p !== '')\n  const index = 0\n  return fillInFallbackFlightRouterStateImpl(\n    flightRouterState,\n    renderedSearch,\n    pathnameParts,\n    index\n  )\n}\n\nfunction fillInFallbackFlightRouterStateImpl(\n  flightRouterState: FlightRouterState,\n  renderedSearch: NormalizedSearch,\n  pathnameParts: Array<string>,\n  pathnamePartsIndex: number\n): FlightRouterState {\n  const originalSegment = flightRouterState[0]\n  let newSegment: Segment\n  let doesAppearInURL: boolean\n  if (typeof originalSegment === 'string') {\n    newSegment = originalSegment\n    doesAppearInURL = doesStaticSegmentAppearInURL(originalSegment)\n  } else {\n    const paramName = originalSegment[0]\n    const paramType = originalSegment[2]\n    const paramValue = parseDynamicParamFromURLPart(\n      paramType,\n      pathnameParts,\n      pathnamePartsIndex\n    )\n    const cacheKey = getCacheKeyForDynamicParam(paramValue, renderedSearch)\n    newSegment = [paramName, cacheKey, paramType]\n    doesAppearInURL = true\n  }\n\n  // Only increment the index if the segment appears in the URL. If it's a\n  // \"virtual\" segment, like a route group, it remains the same.\n  const childPathnamePartsIndex = doesAppearInURL\n    ? pathnamePartsIndex + 1\n    : pathnamePartsIndex\n\n  const children = flightRouterState[1]\n  const newChildren: { [key: string]: FlightRouterState } = {}\n  for (let key in children) {\n    const childFlightRouterState = children[key]\n    newChildren[key] = fillInFallbackFlightRouterStateImpl(\n      childFlightRouterState,\n      renderedSearch,\n      pathnameParts,\n      childPathnamePartsIndex\n    )\n  }\n\n  const newState: FlightRouterState = [\n    newSegment,\n    newChildren,\n    null,\n    flightRouterState[3],\n    flightRouterState[4],\n  ]\n  return newState\n}\n\nexport function getNextFlightSegmentPath(\n  flightSegmentPath: FlightSegmentPath\n): FlightSegmentPath {\n  // Since `FlightSegmentPath` is a repeated tuple of `Segment` and `ParallelRouteKey`, we slice off two items\n  // to get the next segment path.\n  return flightSegmentPath.slice(2)\n}\n\nexport function normalizeFlightData(\n  flightData: FlightData\n): NormalizedFlightData[] | string {\n  // FlightData can be a string when the server didn't respond with a proper flight response,\n  // or when a redirect happens, to signal to the client that it needs to perform an MPA navigation.\n  if (typeof flightData === 'string') {\n    return flightData\n  }\n\n  return flightData.map((flightDataPath) =>\n    getFlightDataPartsFromPath(flightDataPath)\n  )\n}\n\n/**\n * This function is used to prepare the flight router state for the request.\n * It removes markers that are not needed by the server, and are purely used\n * for stashing state on the client.\n * @param flightRouterState - The flight router state to prepare.\n * @param isHmrRefresh - Whether this is an HMR refresh request.\n * @returns The prepared flight router state.\n */\nexport function prepareFlightRouterStateForRequest(\n  flightRouterState: FlightRouterState,\n  isHmrRefresh?: boolean\n): string {\n  // HMR requests need the complete, unmodified state for proper functionality\n  if (isHmrRefresh) {\n    return encodeURIComponent(JSON.stringify(flightRouterState))\n  }\n\n  return encodeURIComponent(\n    JSON.stringify(stripClientOnlyDataFromFlightRouterState(flightRouterState))\n  )\n}\n\n/**\n * Recursively strips client-only data from FlightRouterState while preserving\n * server-needed information for proper rendering decisions.\n */\nfunction stripClientOnlyDataFromFlightRouterState(\n  flightRouterState: FlightRouterState\n): FlightRouterState {\n  const [\n    segment,\n    parallelRoutes,\n    _url, // Intentionally unused - URLs are client-only\n    refreshMarker,\n    isRootLayout,\n    hasLoadingBoundary,\n  ] = flightRouterState\n\n  // __PAGE__ segments are always fetched from the server, so there's\n  // no need to send them up\n  const cleanedSegment = stripSearchParamsFromPageSegment(segment)\n\n  // Recursively process parallel routes\n  const cleanedParallelRoutes: { [key: string]: FlightRouterState } = {}\n  for (const [key, childState] of Object.entries(parallelRoutes)) {\n    cleanedParallelRoutes[key] =\n      stripClientOnlyDataFromFlightRouterState(childState)\n  }\n\n  const result: FlightRouterState = [\n    cleanedSegment,\n    cleanedParallelRoutes,\n    null, // URLs omitted - server reconstructs paths from segments\n    shouldPreserveRefreshMarker(refreshMarker) ? refreshMarker : null,\n  ]\n\n  // Append optional fields if present\n  if (isRootLayout !== undefined) {\n    result[4] = isRootLayout\n  }\n  if (hasLoadingBoundary !== undefined) {\n    result[5] = hasLoadingBoundary\n  }\n\n  return result\n}\n\n/**\n * Strips search parameters from __PAGE__ segments to prevent sensitive\n * client-side data from being sent to the server.\n */\nfunction stripSearchParamsFromPageSegment(segment: Segment): Segment {\n  if (\n    typeof segment === 'string' &&\n    segment.startsWith(PAGE_SEGMENT_KEY + '?')\n  ) {\n    return PAGE_SEGMENT_KEY\n  }\n  return segment\n}\n\n/**\n * Determines whether the refresh marker should be sent to the server\n * Client-only markers like 'refresh' are stripped, while server-needed markers\n * like 'refetch' and 'inside-shared-layout' are preserved.\n */\nfunction shouldPreserveRefreshMarker(\n  refreshMarker: FlightRouterState[3]\n): boolean {\n  return Boolean(refreshMarker && refreshMarker !== 'refresh')\n}\n","// This gets assigned as a side-effect during app initialization. Because it\n// represents the build used to create the JS bundle, it should never change\n// after being set, so we store it in a global variable.\n//\n// When performing RSC requests, if the incoming data has a different build ID,\n// we perform an MPA navigation/refresh to load the updated build and ensure\n// that the client and server in sync.\n\n// Starts as an empty string. In practice, because setAppBuildId is called\n// during initialization before hydration starts, this will always get\n// reassigned to the actual build ID before it's ever needed by a navigation.\n// If for some reasons it didn't, due to a bug or race condition, then on\n// navigation the build comparision would fail and trigger an MPA navigation.\nlet globalBuildId: string = ''\n\nexport function setAppBuildId(buildId: string) {\n  globalBuildId = buildId\n}\n\nexport function getAppBuildId(): string {\n  return globalBuildId\n}\n","// http://www.cse.yorku.ca/~oz/hash.html\n// More specifically, 32-bit hash via djbxor\n// (ref: https://gist.github.com/eplawless/52813b1d8ad9af510d85?permalink_comment_id=3367765#gistcomment-3367765)\n// This is due to number type differences between rust for turbopack to js number types,\n// where rust does not have easy way to repreesnt js's 53-bit float number type for the matching\n// overflow behavior. This is more `correct` in terms of having canonical hash across different runtime / implementation\n// as can gaurantee determinstic output from 32bit hash.\nexport function djb2Hash(str: string) {\n  let hash = 5381\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i)\n    hash = ((hash << 5) + hash + char) & 0xffffffff\n  }\n  return hash >>> 0\n}\n\nexport function hexHash(str: string) {\n  return djb2Hash(str).toString(36).slice(0, 5)\n}\n","import { hexHash } from '../../hash'\n\nexport function computeCacheBustingSearchParam(\n  prefetchHeader: '1' | '2' | '0' | undefined,\n  segmentPrefetchHeader: string | string[] | undefined,\n  stateTreeHeader: string | string[] | undefined,\n  nextUrlHeader: string | string[] | undefined\n): string {\n  if (\n    (prefetchHeader === undefined || prefetchHeader === '0') &&\n    segmentPrefetchHeader === undefined &&\n    stateTreeHeader === undefined &&\n    nextUrlHeader === undefined\n  ) {\n    return ''\n  }\n  return hexHash(\n    [\n      prefetchHeader || '0',\n      segmentPrefetchHeader || '0',\n      stateTreeHeader || '0',\n      nextUrlHeader || '0',\n    ].join(',')\n  )\n}\n","'use client'\n\nimport { computeCacheBustingSearchParam } from '../../../shared/lib/router/utils/cache-busting-search-param'\nimport {\n  NEXT_ROUTER_PREFETCH_HEADER,\n  NEXT_ROUTER_SEGMENT_PREFETCH_HEADER,\n  NEXT_ROUTER_STATE_TREE_HEADER,\n  NEXT_URL,\n  NEXT_RSC_UNION_QUERY,\n} from '../app-router-headers'\nimport type { RequestHeaders } from './fetch-server-response'\n\n/**\n * Mutates the provided URL by adding a cache-busting search parameter for CDNs that don't\n * support custom headers. This helps avoid caching conflicts by making each request unique.\n *\n * Rather than relying on the Vary header which some CDNs ignore, we append a search param\n * to create a unique URL that forces a fresh request.\n *\n * Example:\n * URL before: https://example.com/path?query=1\n * URL after: https://example.com/path?query=1&_rsc=abc123\n *\n * Note: This function mutates the input URL directly and does not return anything.\n *\n * TODO: Since we need to use a search param anyway, we could simplify by removing the custom\n * headers approach entirely and just use search params.\n */\nexport const setCacheBustingSearchParam = (\n  url: URL,\n  headers: RequestHeaders\n): void => {\n  const uniqueCacheKey = computeCacheBustingSearchParam(\n    headers[NEXT_ROUTER_PREFETCH_HEADER],\n    headers[NEXT_ROUTER_SEGMENT_PREFETCH_HEADER],\n    headers[NEXT_ROUTER_STATE_TREE_HEADER],\n    headers[NEXT_URL]\n  )\n  setCacheBustingSearchParamWithHash(url, uniqueCacheKey)\n}\n\n/**\n * Sets a cache-busting search parameter on a URL using a provided hash value.\n *\n * This function performs the same logic as `setCacheBustingSearchParam` but accepts\n * a pre-computed hash instead of computing it from headers.\n *\n * Example:\n * URL before: https://example.com/path?query=1\n * hash: \"abc123\"\n * URL after: https://example.com/path?query=1&_rsc=abc123\n *\n * If the hash is null, we will set `_rsc` search param without a value.\n * Like this: https://example.com/path?query=1&_rsc\n *\n * Note: This function mutates the input URL directly and does not return anything.\n */\nexport const setCacheBustingSearchParamWithHash = (\n  url: URL,\n  hash: string\n): void => {\n  /**\n   * Note that we intentionally do not use `url.searchParams.set` here:\n   *\n   * const url = new URL('https://example.com/search?q=custom%20spacing');\n   * url.searchParams.set('_rsc', 'abc123');\n   * console.log(url.toString()); // Outputs: https://example.com/search?q=custom+spacing&_rsc=abc123\n   *                                                                             ^ <--- this is causing confusion\n   * This is in fact intended based on https://url.spec.whatwg.org/#interface-urlsearchparams, but\n   * we want to preserve the %20 as %20 if that's what the user passed in, hence the custom\n   * logic below.\n   */\n  const existingSearch = url.search\n  const rawQuery = existingSearch.startsWith('?')\n    ? existingSearch.slice(1)\n    : existingSearch\n\n  // Always remove any existing cache busting param and add a fresh one to ensure\n  // we have the correct value based on current request headers\n  const pairs = rawQuery\n    .split('&')\n    .filter((pair) => pair && !pair.startsWith(`${NEXT_RSC_UNION_QUERY}=`))\n\n  if (hash.length > 0) {\n    pairs.push(`${NEXT_RSC_UNION_QUERY}=${hash}`)\n  } else {\n    pairs.push(`${NEXT_RSC_UNION_QUERY}`)\n  }\n  url.search = pairs.length ? `?${pairs.join('&')}` : ''\n}\n","'use client'\n\n// TODO: Explicitly import from client.browser\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  createFromReadableStream as createFromReadableStreamBrowser,\n  createFromFetch as createFromFetchBrowser,\n} from 'react-server-dom-webpack/client'\n\nimport type {\n  FlightRouterState,\n  NavigationFlightResponse,\n} from '../../../shared/lib/app-router-types'\n\nimport type { NEXT_ROUTER_SEGMENT_PREFETCH_HEADER } from '../app-router-headers'\nimport {\n  NEXT_ROUTER_PREFETCH_HEADER,\n  NEXT_ROUTER_STATE_TREE_HEADER,\n  NEXT_RSC_UNION_QUERY,\n  NEXT_URL,\n  RSC_HEADER,\n  RSC_CONTENT_TYPE_HEADER,\n  NEXT_HMR_REFRESH_HEADER,\n  NEXT_DID_POSTPONE_HEADER,\n  NEXT_ROUTER_STALE_TIME_HEADER,\n  NEXT_HTML_REQUEST_ID_HEADER,\n  NEXT_REQUEST_ID_HEADER,\n} from '../app-router-headers'\nimport { callServer } from '../../app-call-server'\nimport { findSourceMapURL } from '../../app-find-source-map-url'\nimport { PrefetchKind } from './router-reducer-types'\nimport {\n  normalizeFlightData,\n  prepareFlightRouterStateForRequest,\n  type NormalizedFlightData,\n} from '../../flight-data-helpers'\nimport { getAppBuildId } from '../../app-build-id'\nimport { setCacheBustingSearchParam } from './set-cache-busting-search-param'\nimport {\n  getRenderedSearch,\n  urlToUrlWithoutFlightMarker,\n} from '../../route-params'\nimport type { NormalizedSearch } from '../segment-cache'\n\nconst createFromReadableStream =\n  createFromReadableStreamBrowser as (typeof import('react-server-dom-webpack/client.browser'))['createFromReadableStream']\nconst createFromFetch =\n  createFromFetchBrowser as (typeof import('react-server-dom-webpack/client.browser'))['createFromFetch']\n\nlet createDebugChannel:\n  | typeof import('../../dev/debug-channel').createDebugChannel\n  | undefined\n\nif (\n  process.env.NODE_ENV !== 'production' &&\n  process.env.__NEXT_REACT_DEBUG_CHANNEL\n) {\n  createDebugChannel = (\n    require('../../dev/debug-channel') as typeof import('../../dev/debug-channel')\n  ).createDebugChannel\n}\n\nexport interface FetchServerResponseOptions {\n  readonly flightRouterState: FlightRouterState\n  readonly nextUrl: string | null\n  readonly prefetchKind?: PrefetchKind\n  readonly isHmrRefresh?: boolean\n}\n\ntype SpaFetchServerResponseResult = {\n  flightData: NormalizedFlightData[]\n  canonicalUrl: URL\n  renderedSearch: NormalizedSearch\n  couldBeIntercepted: boolean\n  prerendered: boolean\n  postponed: boolean\n  staleTime: number\n  debugInfo: Array<any> | null\n}\n\ntype MpaFetchServerResponseResult = string\n\nexport type FetchServerResponseResult =\n  | MpaFetchServerResponseResult\n  | SpaFetchServerResponseResult\n\nexport type RequestHeaders = {\n  [RSC_HEADER]?: '1'\n  [NEXT_ROUTER_STATE_TREE_HEADER]?: string\n  [NEXT_URL]?: string\n  [NEXT_ROUTER_PREFETCH_HEADER]?: '1' | '2'\n  [NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]?: string\n  'x-deployment-id'?: string\n  [NEXT_HMR_REFRESH_HEADER]?: '1'\n  // A header that is only added in test mode to assert on fetch priority\n  'Next-Test-Fetch-Priority'?: RequestInit['priority']\n  [NEXT_HTML_REQUEST_ID_HEADER]?: string // dev-only\n  [NEXT_REQUEST_ID_HEADER]?: string // dev-only\n}\n\nfunction doMpaNavigation(url: string): FetchServerResponseResult {\n  return urlToUrlWithoutFlightMarker(new URL(url, location.origin)).toString()\n}\n\nlet abortController = new AbortController()\n\nif (typeof window !== 'undefined') {\n  // Abort any in-flight requests when the page is unloaded, e.g. due to\n  // reloading the page or performing hard navigations. This allows us to ignore\n  // what would otherwise be a thrown TypeError when the browser cancels the\n  // requests.\n  window.addEventListener('pagehide', () => {\n    abortController.abort()\n  })\n\n  // Use a fresh AbortController instance on pageshow, e.g. when navigating back\n  // and the JavaScript execution context is restored by the browser.\n  window.addEventListener('pageshow', () => {\n    abortController = new AbortController()\n  })\n}\n\n/**\n * Fetch the flight data for the provided url. Takes in the current router state\n * to decide what to render server-side.\n */\nexport async function fetchServerResponse(\n  url: URL,\n  options: FetchServerResponseOptions\n): Promise<FetchServerResponseResult> {\n  const { flightRouterState, nextUrl, prefetchKind } = options\n\n  const headers: RequestHeaders = {\n    // Enable flight response\n    [RSC_HEADER]: '1',\n    // Provide the current router state\n    [NEXT_ROUTER_STATE_TREE_HEADER]: prepareFlightRouterStateForRequest(\n      flightRouterState,\n      options.isHmrRefresh\n    ),\n  }\n\n  /**\n   * Three cases:\n   * - `prefetchKind` is `undefined`, it means it's a normal navigation, so we want to prefetch the page data fully\n   * - `prefetchKind` is `full` - we want to prefetch the whole page so same as above\n   * - `prefetchKind` is `auto` - if the page is dynamic, prefetch the page data partially, if static prefetch the page data fully\n   */\n  if (prefetchKind === PrefetchKind.AUTO) {\n    headers[NEXT_ROUTER_PREFETCH_HEADER] = '1'\n  }\n\n  if (process.env.NODE_ENV === 'development' && options.isHmrRefresh) {\n    headers[NEXT_HMR_REFRESH_HEADER] = '1'\n  }\n\n  if (nextUrl) {\n    headers[NEXT_URL] = nextUrl\n  }\n\n  // In static export mode, we need to modify the URL to request the .txt file,\n  // but we should preserve the original URL for the canonical URL and error handling.\n  const originalUrl = url\n\n  try {\n    // When creating a \"temporary\" prefetch (the \"on-demand\" prefetch that gets created on navigation, if one doesn't exist)\n    // we send the request with a \"high\" priority as it's in response to a user interaction that could be blocking a transition.\n    // Otherwise, all other prefetches are sent with a \"low\" priority.\n    // We use \"auto\" for in all other cases to match the existing default, as this function is shared outside of prefetching.\n    const fetchPriority = prefetchKind\n      ? prefetchKind === PrefetchKind.TEMPORARY\n        ? 'high'\n        : 'low'\n      : 'auto'\n\n    if (process.env.NODE_ENV === 'production') {\n      if (process.env.__NEXT_CONFIG_OUTPUT === 'export') {\n        // In \"output: export\" mode, we can't rely on headers to distinguish\n        // between HTML and RSC requests. Instead, we append an extra prefix\n        // to the request.\n        url = new URL(url)\n        if (url.pathname.endsWith('/')) {\n          url.pathname += 'index.txt'\n        } else {\n          url.pathname += '.txt'\n        }\n      }\n    }\n\n    // Typically, during a navigation, we decode the response using Flight's\n    // `createFromFetch` API, which accepts a `fetch` promise.\n    // TODO: Remove this check once the old PPR flag is removed\n    const isLegacyPPR =\n      process.env.__NEXT_PPR && !process.env.__NEXT_CACHE_COMPONENTS\n    const shouldImmediatelyDecode = !isLegacyPPR\n    const res = await createFetch<NavigationFlightResponse>(\n      url,\n      headers,\n      fetchPriority,\n      shouldImmediatelyDecode,\n      abortController.signal\n    )\n\n    const responseUrl = urlToUrlWithoutFlightMarker(new URL(res.url))\n    const canonicalUrl = res.redirected ? responseUrl : originalUrl\n\n    const contentType = res.headers.get('content-type') || ''\n    const interception = !!res.headers.get('vary')?.includes(NEXT_URL)\n    const postponed = !!res.headers.get(NEXT_DID_POSTPONE_HEADER)\n    const staleTimeHeaderSeconds = res.headers.get(\n      NEXT_ROUTER_STALE_TIME_HEADER\n    )\n    const staleTime =\n      staleTimeHeaderSeconds !== null\n        ? parseInt(staleTimeHeaderSeconds, 10) * 1000\n        : -1\n    let isFlightResponse = contentType.startsWith(RSC_CONTENT_TYPE_HEADER)\n\n    if (process.env.NODE_ENV === 'production') {\n      if (process.env.__NEXT_CONFIG_OUTPUT === 'export') {\n        if (!isFlightResponse) {\n          isFlightResponse = contentType.startsWith('text/plain')\n        }\n      }\n    }\n\n    // If fetch returns something different than flight response handle it like a mpa navigation\n    // If the fetch was not 200, we also handle it like a mpa navigation\n    if (!isFlightResponse || !res.ok || !res.body) {\n      // in case the original URL came with a hash, preserve it before redirecting to the new URL\n      if (url.hash) {\n        responseUrl.hash = url.hash\n      }\n\n      return doMpaNavigation(responseUrl.toString())\n    }\n\n    // We may navigate to a page that requires a different Webpack runtime.\n    // In prod, every page will have the same Webpack runtime.\n    // In dev, the Webpack runtime is minimal for each page.\n    // We need to ensure the Webpack runtime is updated before executing client-side JS of the new page.\n    // TODO: This needs to happen in the Flight Client.\n    // Or Webpack needs to include the runtime update in the Flight response as\n    // a blocking script.\n    if (process.env.NODE_ENV !== 'production' && !process.env.TURBOPACK) {\n      await (\n        require('../../dev/hot-reloader/app/hot-reloader-app') as typeof import('../../dev/hot-reloader/app/hot-reloader-app')\n      ).waitForWebpackRuntimeHotUpdate()\n    }\n\n    let flightResponsePromise = res.flightResponse\n    if (flightResponsePromise === null) {\n      // Typically, `createFetch` would have already started decoding the\n      // Flight response. If it hasn't, though, we need to decode it now.\n      // TODO: This should only be reachable if legacy PPR is enabled (i.e. PPR\n      // without Cache Components). Remove this branch once legacy PPR\n      // is deleted.\n      const flightStream = postponed\n        ? createUnclosingPrefetchStream(res.body)\n        : res.body\n      flightResponsePromise =\n        createFromNextReadableStream<NavigationFlightResponse>(\n          flightStream,\n          headers\n        )\n    }\n\n    const flightResponse = await flightResponsePromise\n\n    if (getAppBuildId() !== flightResponse.b) {\n      return doMpaNavigation(res.url)\n    }\n\n    const normalizedFlightData = normalizeFlightData(flightResponse.f)\n    if (typeof normalizedFlightData === 'string') {\n      return doMpaNavigation(normalizedFlightData)\n    }\n\n    return {\n      flightData: normalizedFlightData,\n      canonicalUrl: canonicalUrl,\n      renderedSearch: getRenderedSearch(res),\n      couldBeIntercepted: interception,\n      prerendered: flightResponse.S,\n      postponed,\n      staleTime,\n      debugInfo: flightResponsePromise._debugInfo ?? null,\n    }\n  } catch (err) {\n    if (!abortController.signal.aborted) {\n      console.error(\n        `Failed to fetch RSC payload for ${originalUrl}. Falling back to browser navigation.`,\n        err\n      )\n    }\n\n    // If fetch fails handle it like a mpa navigation\n    // TODO-APP: Add a test for the case where a CORS request fails, e.g. external url redirect coming from the response.\n    // See https://github.com/vercel/next.js/issues/43605#issuecomment-1451617521 for a reproduction.\n    return originalUrl.toString()\n  }\n}\n\n// This is a subset of the standard Response type. We use a custom type for\n// this so we can limit which details about the response leak into the rest of\n// the codebase. For example, there's some custom logic for manually following\n// redirects, so \"redirected\" in this type could be a composite of multiple\n// browser fetch calls; however, this fact should not leak to the caller.\nexport type RSCResponse<T> = {\n  ok: boolean\n  redirected: boolean\n  headers: Headers\n  body: ReadableStream<Uint8Array> | null\n  status: number\n  url: string\n  flightResponse: (Promise<T> & { _debugInfo?: Array<any> }) | null\n}\n\nexport async function createFetch<T>(\n  url: URL,\n  headers: RequestHeaders,\n  fetchPriority: 'auto' | 'high' | 'low' | null,\n  shouldImmediatelyDecode: boolean,\n  signal?: AbortSignal\n): Promise<RSCResponse<T>> {\n  // TODO: In output: \"export\" mode, the headers do nothing. Omit them (and the\n  // cache busting search param) from the request so they're\n  // maximally cacheable.\n\n  if (process.env.__NEXT_TEST_MODE && fetchPriority !== null) {\n    headers['Next-Test-Fetch-Priority'] = fetchPriority\n  }\n\n  if (process.env.NEXT_DEPLOYMENT_ID) {\n    headers['x-deployment-id'] = process.env.NEXT_DEPLOYMENT_ID\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (self.__next_r) {\n      headers[NEXT_HTML_REQUEST_ID_HEADER] = self.__next_r\n    }\n\n    // Create a new request ID for the server action request. The server uses\n    // this to tag debug information sent via WebSocket to the client, which\n    // then routes those chunks to the debug channel associated with this ID.\n    headers[NEXT_REQUEST_ID_HEADER] = crypto\n      .getRandomValues(new Uint32Array(1))[0]\n      .toString(16)\n  }\n\n  const fetchOptions: RequestInit = {\n    // Backwards compat for older browsers. `same-origin` is the default in modern browsers.\n    credentials: 'same-origin',\n    headers,\n    priority: fetchPriority || undefined,\n    signal,\n  }\n  // `fetchUrl` is slightly different from `url` because we add a cache-busting\n  // search param to it. This should not leak outside of this function, so we\n  // track them separately.\n  let fetchUrl = new URL(url)\n  setCacheBustingSearchParam(fetchUrl, headers)\n  let fetchPromise = fetch(fetchUrl, fetchOptions)\n  // Immediately pass the fetch promise to the Flight client so that the debug\n  // info includes the latency from the client to the server. The internal timer\n  // in React starts as soon as `createFromFetch` is called.\n  //\n  // The only case where we don't do this is during a prefetch, because we have\n  // to do some extra processing of the response stream (see\n  // `createUnclosingPrefetchStream`). But this is fine, because a top-level\n  // prefetch response never blocks a navigation; if it hasn't already been\n  // written into the cache by the time the navigation happens, the router will\n  // go straight to a dynamic request.\n  let flightResponsePromise = shouldImmediatelyDecode\n    ? createFromNextFetch<T>(fetchPromise, headers)\n    : null\n  let browserResponse = await fetchPromise\n\n  // If the server responds with a redirect (e.g. 307), and the redirected\n  // location does not contain the cache busting search param set in the\n  // original request, the response is likely invalid — when following the\n  // redirect, the browser forwards the request headers, but since the cache\n  // busting search param is missing, the server will reject the request due to\n  // a mismatch.\n  //\n  // Ideally, we would be able to intercept the redirect response and perform it\n  // manually, instead of letting the browser automatically follow it, but this\n  // is not allowed by the fetch API.\n  //\n  // So instead, we must \"replay\" the redirect by fetching the new location\n  // again, but this time we'll append the cache busting search param to prevent\n  // a mismatch.\n  //\n  // TODO: We can optimize Next.js's built-in middleware APIs by returning a\n  // custom status code, to prevent the browser from automatically following it.\n  //\n  // This does not affect Server Action-based redirects; those are encoded\n  // differently, as part of the Flight body. It only affects redirects that\n  // occur in a middleware or a third-party proxy.\n\n  let redirected = browserResponse.redirected\n  if (process.env.__NEXT_CLIENT_VALIDATE_RSC_REQUEST_HEADERS) {\n    // This is to prevent a redirect loop. Same limit used by Chrome.\n    const MAX_REDIRECTS = 20\n    for (let n = 0; n < MAX_REDIRECTS; n++) {\n      if (!browserResponse.redirected) {\n        // The server did not perform a redirect.\n        break\n      }\n      const responseUrl = new URL(browserResponse.url, fetchUrl)\n      if (responseUrl.origin !== fetchUrl.origin) {\n        // The server redirected to an external URL. The rest of the logic below\n        // is not relevant, because it only applies to internal redirects.\n        break\n      }\n      if (\n        responseUrl.searchParams.get(NEXT_RSC_UNION_QUERY) ===\n        fetchUrl.searchParams.get(NEXT_RSC_UNION_QUERY)\n      ) {\n        // The redirected URL already includes the cache busting search param.\n        // This was probably intentional. Regardless, there's no reason to\n        // issue another request to this URL because it already has the param\n        // value that we would have added below.\n        break\n      }\n      // The RSC request was redirected. Assume the response is invalid.\n      //\n      // Append the cache busting search param to the redirected URL and\n      // fetch again.\n      // TODO: We should abort the previous request.\n      fetchUrl = new URL(responseUrl)\n      setCacheBustingSearchParam(fetchUrl, headers)\n      fetchPromise = fetch(fetchUrl, fetchOptions)\n      flightResponsePromise = shouldImmediatelyDecode\n        ? createFromNextFetch<T>(fetchPromise, headers)\n        : null\n      browserResponse = await fetchPromise\n      // We just performed a manual redirect, so this is now true.\n      redirected = true\n    }\n  }\n\n  // Remove the cache busting search param from the response URL, to prevent it\n  // from leaking outside of this function.\n  const responseUrl = new URL(browserResponse.url, fetchUrl)\n  responseUrl.searchParams.delete(NEXT_RSC_UNION_QUERY)\n\n  const rscResponse: RSCResponse<T> = {\n    url: responseUrl.href,\n\n    // This is true if any redirects occurred, either automatically by the\n    // browser, or manually by us. So it's different from\n    // `browserResponse.redirected`, which only tells us whether the browser\n    // followed a redirect, and only for the last response in the chain.\n    redirected,\n\n    // These can be copied from the last browser response we received. We\n    // intentionally only expose the subset of fields that are actually used\n    // elsewhere in the codebase.\n    ok: browserResponse.ok,\n    headers: browserResponse.headers,\n    body: browserResponse.body,\n    status: browserResponse.status,\n\n    // This is the exact promise returned by `createFromFetch`. It contains\n    // debug information that we need to transfer to any derived promises that\n    // are later rendered by React.\n    flightResponse: flightResponsePromise,\n  }\n\n  return rscResponse\n}\n\nexport function createFromNextReadableStream<T>(\n  flightStream: ReadableStream<Uint8Array>,\n  requestHeaders: RequestHeaders\n): Promise<T> {\n  return createFromReadableStream(flightStream, {\n    callServer,\n    findSourceMapURL,\n    debugChannel: createDebugChannel && createDebugChannel(requestHeaders),\n  })\n}\n\nfunction createFromNextFetch<T>(\n  promiseForResponse: Promise<Response>,\n  requestHeaders: RequestHeaders\n): Promise<T> & { _debugInfo?: Array<any> } {\n  return createFromFetch(promiseForResponse, {\n    callServer,\n    findSourceMapURL,\n    debugChannel: createDebugChannel && createDebugChannel(requestHeaders),\n  })\n}\n\nfunction createUnclosingPrefetchStream(\n  originalFlightStream: ReadableStream<Uint8Array>\n): ReadableStream<Uint8Array> {\n  // When PPR is enabled, prefetch streams may contain references that never\n  // resolve, because that's how we encode dynamic data access. In the decoded\n  // object returned by the Flight client, these are reified into hanging\n  // promises that suspend during render, which is effectively what we want.\n  // The UI resolves when it switches to the dynamic data stream\n  // (via useDeferredValue(dynamic, static)).\n  //\n  // However, the Flight implementation currently errors if the server closes\n  // the response before all the references are resolved. As a cheat to work\n  // around this, we wrap the original stream in a new stream that never closes,\n  // and therefore doesn't error.\n  const reader = originalFlightStream.getReader()\n  return new ReadableStream({\n    async pull(controller) {\n      while (true) {\n        const { done, value } = await reader.read()\n        if (!done) {\n          // Pass to the target stream and keep consuming the Flight response\n          // from the server.\n          controller.enqueue(value)\n          continue\n        }\n        // The server stream has closed. Exit, but intentionally do not close\n        // the target stream.\n        return\n      }\n    },\n  })\n}\n","// Utility type. Prefix<[A, B, C, D]> matches [A], [A, B], [A, B, C] etc.\nexport type Prefix<T extends any[]> = T extends [infer First, ...infer Rest]\n  ? [] | [First] | [First, ...Prefix<Rest>]\n  : []\n\nexport type TupleMap<Keypath extends Array<any>, V> = {\n  set(keys: Prefix<Keypath>, value: V): void\n  get(keys: Prefix<Keypath>): V | null\n  delete(keys: Prefix<Keypath>): void\n}\n\n/**\n * Creates a map whose keys are tuples. Tuples are compared per-element. This\n * is useful when a key has multiple parts, but you don't want to concatenate\n * them into a single string value.\n *\n * In the Segment Cache, we use this to store cache entries by both their href\n * and their Next-URL.\n *\n * Example:\n *   map.set(['https://localhost', 'foo/bar/baz'], 'yay');\n *   map.get(['https://localhost', 'foo/bar/baz']); // returns 'yay'\n */\nexport function createTupleMap<Keypath extends Array<any>, V>(): TupleMap<\n  Keypath,\n  V\n> {\n  type MapEntryShared = {\n    parent: MapEntry | null\n    key: any\n    map: Map<any, MapEntry> | null\n  }\n\n  type EmptyMapEntry = MapEntryShared & {\n    value: null\n    hasValue: false\n  }\n\n  type FullMapEntry = MapEntryShared & {\n    value: V\n    hasValue: true\n  }\n\n  type MapEntry = EmptyMapEntry | FullMapEntry\n\n  let rootEntry: MapEntry = {\n    parent: null,\n    key: null,\n    hasValue: false,\n    value: null,\n    map: null,\n  }\n\n  // To optimize successive lookups, we cache the last accessed keypath.\n  // Although it's not encoded in the type, these are both null or\n  // both non-null. It uses object equality, so to take advantage of this\n  // optimization, you must pass the same array instance to each successive\n  // method call, and you must also not mutate the array between calls.\n  let lastAccessedEntry: MapEntry | null = null\n  let lastAccessedKeys: Prefix<Keypath> | null = null\n\n  function getOrCreateEntry(keys: Prefix<Keypath>): MapEntry {\n    if (lastAccessedKeys === keys) {\n      return lastAccessedEntry!\n    }\n\n    // Go through each level of keys until we find the entry that matches,\n    // or create a new one if it doesn't already exist.\n    let entry = rootEntry\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      let map = entry.map\n      if (map !== null) {\n        const existingEntry = map.get(key)\n        if (existingEntry !== undefined) {\n          // Found a match. Keep going.\n          entry = existingEntry\n          continue\n        }\n      } else {\n        map = new Map()\n        entry.map = map\n      }\n      // No entry exists yet at this level. Create a new one.\n      const newEntry: MapEntry = {\n        parent: entry,\n        key,\n        value: null,\n        hasValue: false,\n        map: null,\n      }\n      map.set(key, newEntry)\n      entry = newEntry\n    }\n\n    lastAccessedKeys = keys\n    lastAccessedEntry = entry\n\n    return entry\n  }\n\n  function getEntryIfExists(keys: Prefix<Keypath>): MapEntry | null {\n    if (lastAccessedKeys === keys) {\n      return lastAccessedEntry\n    }\n\n    // Go through each level of keys until we find the entry that matches, or\n    // return null if no match exists.\n    let entry = rootEntry\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      let map = entry.map\n      if (map !== null) {\n        const existingEntry = map.get(key)\n        if (existingEntry !== undefined) {\n          // Found a match. Keep going.\n          entry = existingEntry\n          continue\n        }\n      }\n      // No entry exists at this level.\n      return null\n    }\n\n    lastAccessedKeys = keys\n    lastAccessedEntry = entry\n\n    return entry\n  }\n\n  function set(keys: Prefix<Keypath>, value: V): void {\n    const entry = getOrCreateEntry(keys)\n    entry.hasValue = true\n    entry.value = value\n  }\n\n  function get(keys: Prefix<Keypath>): V | null {\n    const entry = getEntryIfExists(keys)\n    if (entry === null || !entry.hasValue) {\n      return null\n    }\n    return entry.value\n  }\n\n  function deleteEntry(keys: Prefix<Keypath>): void {\n    const entry = getEntryIfExists(keys)\n    if (entry === null || !entry.hasValue) {\n      return\n    }\n\n    // Found a match. Delete it from the cache.\n    const deletedEntry: EmptyMapEntry = entry as any\n    deletedEntry.hasValue = false\n    deletedEntry.value = null\n\n    // Check if we can garbage collect the entry.\n    if (deletedEntry.map === null) {\n      // Since this entry has no value, and also no child entries, we can\n      // garbage collect it. Remove it from its parent, and keep garbage\n      // collecting the parents until we reach a non-empty entry.\n\n      // Unlike a `set` operation, these are no longer valid because the entry\n      // itself is being modified, not just the value it contains.\n      lastAccessedEntry = null\n      lastAccessedKeys = null\n\n      let parent = deletedEntry.parent\n      let key = deletedEntry.key\n      while (parent !== null) {\n        const parentMap = parent.map\n        if (parentMap !== null) {\n          parentMap.delete(key)\n          if (parentMap.size === 0) {\n            // We just removed the last entry in the parent map.\n            parent.map = null\n            if (parent.value === null) {\n              // The parent node has no child entries, nor does it have a value\n              // on itself. It can be garbage collected. Keep going.\n              key = parent.key\n              parent = parent.parent\n              continue\n            }\n          }\n        }\n        // The parent is not empty. Stop garbage collecting.\n        break\n      }\n    }\n  }\n\n  return {\n    set,\n    get,\n    delete: deleteEntry,\n  }\n}\n","export type LRU<T extends LRUNode> = {\n  put(node: T): void\n  delete(node: T): void\n  updateSize(node: T, size: number): void\n}\n\n// Doubly-linked list\ntype LRUNode<T = any> = {\n  // Although it's not encoded in the type, these are both null if the node is\n  // not in the LRU; both non-null if it is.\n  prev: T | null\n  next: T | null\n  size: number\n}\n\n// Rather than create an internal LRU node, the passed-in type must conform\n// the LRUNode interface. This is just a memory optimization to avoid creating\n// another object; we only use this for Segment Cache entries so it doesn't need\n// to be general purpose.\nexport function createLRU<T extends LRUNode>(\n  // From the LRU's perspective, the size unit is arbitrary, but for our\n  // purposes this is the byte size.\n  maxLruSize: number,\n  onEviction: (node: T) => void\n): LRU<T> {\n  let head: T | null = null\n  let didScheduleCleanup: boolean = false\n  let lruSize: number = 0\n\n  function put(node: T) {\n    if (head === node) {\n      // Already at the head\n      return\n    }\n    const prev = node.prev\n    const next = node.next\n    if (next === null || prev === null) {\n      // This is an insertion\n      lruSize += node.size\n      // Whenever we add an entry, we need to check if we've exceeded the\n      // max size. We don't evict entries immediately; they're evicted later in\n      // an asynchronous task.\n      ensureCleanupIsScheduled()\n    } else {\n      // This is a move. Remove from its current position.\n      prev.next = next\n      next.prev = prev\n    }\n\n    // Move to the front of the list\n    if (head === null) {\n      // This is the first entry\n      node.prev = node\n      node.next = node\n    } else {\n      // Add to the front of the list\n      const tail = head.prev\n      node.prev = tail\n      tail.next = node\n      node.next = head\n      head.prev = node\n    }\n    head = node\n  }\n\n  function updateSize(node: T, newNodeSize: number) {\n    // This is a separate function from `put` so that we can resize the entry\n    // regardless of whether it's currently being tracked by the LRU.\n    const prevNodeSize = node.size\n    node.size = newNodeSize\n    if (node.next === null) {\n      // This entry is not currently being tracked by the LRU.\n      return\n    }\n    // Update the total LRU size\n    lruSize = lruSize - prevNodeSize + newNodeSize\n    ensureCleanupIsScheduled()\n  }\n\n  function deleteNode(deleted: T) {\n    const next = deleted.next\n    const prev = deleted.prev\n    if (next !== null && prev !== null) {\n      lruSize -= deleted.size\n\n      deleted.next = null\n      deleted.prev = null\n\n      // Remove from the list\n      if (head === deleted) {\n        // Update the head\n        if (next === head) {\n          // This was the last entry\n          head = null\n        } else {\n          head = next\n        }\n      } else {\n        prev.next = next\n        next.prev = prev\n      }\n    } else {\n      // Already deleted\n    }\n  }\n\n  function ensureCleanupIsScheduled() {\n    if (didScheduleCleanup || lruSize <= maxLruSize) {\n      return\n    }\n    didScheduleCleanup = true\n    requestCleanupCallback(cleanup)\n  }\n\n  function cleanup() {\n    didScheduleCleanup = false\n\n    // Evict entries until we're at 90% capacity. We can assume this won't\n    // infinite loop because even if `maxLruSize` were 0, eventually\n    // `deleteNode` sets `head` to `null` when we run out entries.\n    const ninetyPercentMax = maxLruSize * 0.9\n    while (lruSize > ninetyPercentMax && head !== null) {\n      const tail = head.prev\n      deleteNode(tail)\n      onEviction(tail)\n    }\n  }\n\n  return {\n    put,\n    delete: deleteNode,\n    updateSize,\n  }\n}\n\nconst requestCleanupCallback =\n  typeof requestIdleCallback === 'function'\n    ? requestIdleCallback\n    : (cb: () => void) => setTimeout(cb, 0)\n","/**\n * For a given page path, this function ensures that there is a leading slash.\n * If there is not a leading slash, one is added, otherwise it is noop.\n */\nexport function ensureLeadingSlash(path: string) {\n  return path.startsWith('/') ? path : `/${path}`\n}\n","import { ensureLeadingSlash } from '../../page-path/ensure-leading-slash'\nimport { isGroupSegment } from '../../segment'\n\n/**\n * Normalizes an app route so it represents the actual request path. Essentially\n * performing the following transformations:\n *\n * - `/(dashboard)/user/[id]/page` to `/user/[id]`\n * - `/(dashboard)/account/page` to `/account`\n * - `/user/[id]/page` to `/user/[id]`\n * - `/account/page` to `/account`\n * - `/page` to `/`\n * - `/(dashboard)/user/[id]/route` to `/user/[id]`\n * - `/(dashboard)/account/route` to `/account`\n * - `/user/[id]/route` to `/user/[id]`\n * - `/account/route` to `/account`\n * - `/route` to `/`\n * - `/` to `/`\n *\n * @param route the app route to normalize\n * @returns the normalized pathname\n */\nexport function normalizeAppPath(route: string) {\n  return ensureLeadingSlash(\n    route.split('/').reduce((pathname, segment, index, segments) => {\n      // Empty segments are ignored.\n      if (!segment) {\n        return pathname\n      }\n\n      // Groups are ignored.\n      if (isGroupSegment(segment)) {\n        return pathname\n      }\n\n      // Parallel segments are ignored.\n      if (segment[0] === '@') {\n        return pathname\n      }\n\n      // The last segment (if it's a leaf) should be ignored.\n      if (\n        (segment === 'page' || segment === 'route') &&\n        index === segments.length - 1\n      ) {\n        return pathname\n      }\n\n      return `${pathname}/${segment}`\n    }, '')\n  )\n}\n\n/**\n * Strips the `.rsc` extension if it's in the pathname.\n * Since this function is used on full urls it checks `?` for searchParams handling.\n */\nexport function normalizeRscURL(url: string) {\n  return url.replace(\n    /\\.rsc($|\\?)/,\n    // $1 ensures `?` is preserved\n    '$1'\n  )\n}\n","import { normalizeAppPath } from './app-paths'\n\n// order matters here, the first match will be used\nexport const INTERCEPTION_ROUTE_MARKERS = [\n  '(..)(..)',\n  '(.)',\n  '(..)',\n  '(...)',\n] as const\n\nexport function isInterceptionRouteAppPath(path: string): boolean {\n  // TODO-APP: add more serious validation\n  return (\n    path\n      .split('/')\n      .find((segment) =>\n        INTERCEPTION_ROUTE_MARKERS.find((m) => segment.startsWith(m))\n      ) !== undefined\n  )\n}\n\ntype InterceptionRouteInformation = {\n  /**\n   * The intercepting route. This is the route that is being intercepted or the\n   * route that the user was coming from. This is matched by the Next-Url\n   * header.\n   */\n  interceptingRoute: string\n\n  /**\n   * The intercepted route. This is the route that is being intercepted or the\n   * route that the user is going to. This is matched by the request pathname.\n   */\n  interceptedRoute: string\n}\n\nexport function extractInterceptionRouteInformation(\n  path: string\n): InterceptionRouteInformation {\n  let interceptingRoute: string | undefined\n  let marker: (typeof INTERCEPTION_ROUTE_MARKERS)[number] | undefined\n  let interceptedRoute: string | undefined\n\n  for (const segment of path.split('/')) {\n    marker = INTERCEPTION_ROUTE_MARKERS.find((m) => segment.startsWith(m))\n    if (marker) {\n      ;[interceptingRoute, interceptedRoute] = path.split(marker, 2)\n      break\n    }\n  }\n\n  if (!interceptingRoute || !marker || !interceptedRoute) {\n    throw new Error(\n      `Invalid interception route: ${path}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`\n    )\n  }\n\n  interceptingRoute = normalizeAppPath(interceptingRoute) // normalize the path, e.g. /(blog)/feed -> /feed\n\n  switch (marker) {\n    case '(.)':\n      // (.) indicates that we should match with sibling routes, so we just need to append the intercepted route to the intercepting route\n      if (interceptingRoute === '/') {\n        interceptedRoute = `/${interceptedRoute}`\n      } else {\n        interceptedRoute = interceptingRoute + '/' + interceptedRoute\n      }\n      break\n    case '(..)':\n      // (..) indicates that we should match at one level up, so we need to remove the last segment of the intercepting route\n      if (interceptingRoute === '/') {\n        throw new Error(\n          `Invalid interception route: ${path}. Cannot use (..) marker at the root level, use (.) instead.`\n        )\n      }\n      interceptedRoute = interceptingRoute\n        .split('/')\n        .slice(0, -1)\n        .concat(interceptedRoute)\n        .join('/')\n      break\n    case '(...)':\n      // (...) will match the route segment in the root directory, so we need to use the root directory to prepend the intercepted route\n      interceptedRoute = '/' + interceptedRoute\n      break\n    case '(..)(..)':\n      // (..)(..) indicates that we should match at two levels up, so we need to remove the last two segments of the intercepting route\n\n      const splitInterceptingRoute = interceptingRoute.split('/')\n      if (splitInterceptingRoute.length <= 2) {\n        throw new Error(\n          `Invalid interception route: ${path}. Cannot use (..)(..) marker at the root level or one level up.`\n        )\n      }\n\n      interceptedRoute = splitInterceptingRoute\n        .slice(0, -2)\n        .concat(interceptedRoute)\n        .join('/')\n      break\n    default:\n      throw new Error('Invariant: unexpected marker')\n  }\n\n  return { interceptingRoute, interceptedRoute }\n}\n","import type {\n  FlightRouterState,\n  Segment,\n} from '../../../shared/lib/app-router-types'\nimport { INTERCEPTION_ROUTE_MARKERS } from '../../../shared/lib/router/utils/interception-routes'\nimport type { Params } from '../../../server/request/params'\nimport {\n  isGroupSegment,\n  DEFAULT_SEGMENT_KEY,\n  PAGE_SEGMENT_KEY,\n} from '../../../shared/lib/segment'\nimport { matchSegment } from '../match-segments'\n\nconst removeLeadingSlash = (segment: string): string => {\n  return segment[0] === '/' ? segment.slice(1) : segment\n}\n\nconst segmentToPathname = (segment: Segment): string => {\n  if (typeof segment === 'string') {\n    // 'children' is not a valid path -- it's technically a parallel route that corresponds with the current segment's page\n    // if we don't skip it, then the computed pathname might be something like `/children` which doesn't make sense.\n    if (segment === 'children') return ''\n\n    return segment\n  }\n\n  return segment[1]\n}\n\nfunction normalizeSegments(segments: string[]): string {\n  return (\n    segments.reduce((acc, segment) => {\n      segment = removeLeadingSlash(segment)\n      if (segment === '' || isGroupSegment(segment)) {\n        return acc\n      }\n\n      return `${acc}/${segment}`\n    }, '') || '/'\n  )\n}\n\nexport function extractPathFromFlightRouterState(\n  flightRouterState: FlightRouterState\n): string | undefined {\n  const segment = Array.isArray(flightRouterState[0])\n    ? flightRouterState[0][1]\n    : flightRouterState[0]\n\n  if (\n    segment === DEFAULT_SEGMENT_KEY ||\n    INTERCEPTION_ROUTE_MARKERS.some((m) => segment.startsWith(m))\n  )\n    return undefined\n\n  if (segment.startsWith(PAGE_SEGMENT_KEY)) return ''\n\n  const segments = [segmentToPathname(segment)]\n  const parallelRoutes = flightRouterState[1] ?? {}\n\n  const childrenPath = parallelRoutes.children\n    ? extractPathFromFlightRouterState(parallelRoutes.children)\n    : undefined\n\n  if (childrenPath !== undefined) {\n    segments.push(childrenPath)\n  } else {\n    for (const [key, value] of Object.entries(parallelRoutes)) {\n      if (key === 'children') continue\n\n      const childPath = extractPathFromFlightRouterState(value)\n\n      if (childPath !== undefined) {\n        segments.push(childPath)\n      }\n    }\n  }\n\n  return normalizeSegments(segments)\n}\n\nfunction computeChangedPathImpl(\n  treeA: FlightRouterState,\n  treeB: FlightRouterState\n): string | null {\n  const [segmentA, parallelRoutesA] = treeA\n  const [segmentB, parallelRoutesB] = treeB\n\n  const normalizedSegmentA = segmentToPathname(segmentA)\n  const normalizedSegmentB = segmentToPathname(segmentB)\n\n  if (\n    INTERCEPTION_ROUTE_MARKERS.some(\n      (m) =>\n        normalizedSegmentA.startsWith(m) || normalizedSegmentB.startsWith(m)\n    )\n  ) {\n    return ''\n  }\n\n  if (!matchSegment(segmentA, segmentB)) {\n    // once we find where the tree changed, we compute the rest of the path by traversing the tree\n    return extractPathFromFlightRouterState(treeB) ?? ''\n  }\n\n  for (const parallelRouterKey in parallelRoutesA) {\n    if (parallelRoutesB[parallelRouterKey]) {\n      const changedPath = computeChangedPathImpl(\n        parallelRoutesA[parallelRouterKey],\n        parallelRoutesB[parallelRouterKey]\n      )\n      if (changedPath !== null) {\n        return `${segmentToPathname(segmentB)}/${changedPath}`\n      }\n    }\n  }\n\n  return null\n}\n\nexport function computeChangedPath(\n  treeA: FlightRouterState,\n  treeB: FlightRouterState\n): string | null {\n  const changedPath = computeChangedPathImpl(treeA, treeB)\n\n  if (changedPath == null || changedPath === '/') {\n    return changedPath\n  }\n\n  // lightweight normalization to remove route groups\n  return normalizeSegments(changedPath.split('/'))\n}\n\n/**\n * Recursively extracts dynamic parameters from FlightRouterState.\n */\nexport function getSelectedParams(\n  currentTree: FlightRouterState,\n  params: Params = {}\n): Params {\n  const parallelRoutes = currentTree[1]\n\n  for (const parallelRoute of Object.values(parallelRoutes)) {\n    const segment = parallelRoute[0]\n    const isDynamicParameter = Array.isArray(segment)\n    const segmentValue = isDynamicParameter ? segment[1] : segment\n    if (!segmentValue || segmentValue.startsWith(PAGE_SEGMENT_KEY)) continue\n\n    // Ensure catchAll and optional catchall are turned into an array\n    const isCatchAll =\n      isDynamicParameter && (segment[2] === 'c' || segment[2] === 'oc')\n\n    if (isCatchAll) {\n      params[segment[0]] = segment[1].split('/')\n    } else if (isDynamicParameter) {\n      params[segment[0]] = segment[1]\n    }\n\n    params = getSelectedParams(parallelRoute, params)\n  }\n\n  return params\n}\n","import { computeChangedPath } from './compute-changed-path'\nimport type {\n  Mutable,\n  ReadonlyReducerState,\n  ReducerState,\n} from './router-reducer-types'\n\nfunction isNotUndefined<T>(value: T): value is Exclude<T, undefined> {\n  return typeof value !== 'undefined'\n}\n\nexport function handleMutable(\n  state: ReadonlyReducerState,\n  mutable: Mutable\n): ReducerState {\n  // shouldScroll is true by default, can override to false.\n  const shouldScroll = mutable.shouldScroll ?? true\n\n  let previousNextUrl = state.previousNextUrl\n  let nextUrl = state.nextUrl\n\n  if (isNotUndefined(mutable.patchedTree)) {\n    // If we received a patched tree, we need to compute the changed path.\n    const changedPath = computeChangedPath(state.tree, mutable.patchedTree)\n    if (changedPath) {\n      // If the tree changed, we need to update the nextUrl\n      previousNextUrl = nextUrl\n      nextUrl = changedPath\n    } else if (!nextUrl) {\n      // if the tree ends up being the same (ie, no changed path), and we don't have a nextUrl, then we should use the canonicalUrl\n      nextUrl = state.canonicalUrl\n    }\n    // otherwise this will be a no-op and continue to use the existing nextUrl\n  }\n\n  return {\n    // Set href.\n    canonicalUrl: mutable.canonicalUrl ?? state.canonicalUrl,\n    renderedSearch: mutable.renderedSearch ?? state.renderedSearch,\n    pushRef: {\n      pendingPush: isNotUndefined(mutable.pendingPush)\n        ? mutable.pendingPush\n        : state.pushRef.pendingPush,\n      mpaNavigation: isNotUndefined(mutable.mpaNavigation)\n        ? mutable.mpaNavigation\n        : state.pushRef.mpaNavigation,\n      preserveCustomHistoryState: isNotUndefined(\n        mutable.preserveCustomHistoryState\n      )\n        ? mutable.preserveCustomHistoryState\n        : state.pushRef.preserveCustomHistoryState,\n    },\n    // All navigation requires scroll and focus management to trigger.\n    focusAndScrollRef: {\n      apply: shouldScroll\n        ? isNotUndefined(mutable?.scrollableSegments)\n          ? true\n          : state.focusAndScrollRef.apply\n        : // If shouldScroll is false then we should not apply scroll and focus management.\n          false,\n      onlyHashChange: mutable.onlyHashChange || false,\n      hashFragment: shouldScroll\n        ? // Empty hash should trigger default behavior of scrolling layout into view.\n          // #top is handled in layout-router.\n          mutable.hashFragment && mutable.hashFragment !== ''\n          ? // Remove leading # and decode hash to make non-latin hashes work.\n            decodeURIComponent(mutable.hashFragment.slice(1))\n          : state.focusAndScrollRef.hashFragment\n        : // If shouldScroll is false then we should not apply scroll and focus management.\n          null,\n      segmentPaths: shouldScroll\n        ? (mutable?.scrollableSegments ?? state.focusAndScrollRef.segmentPaths)\n        : // If shouldScroll is false then we should not apply scroll and focus management.\n          [],\n    },\n    // Apply cache.\n    cache: mutable.cache ? mutable.cache : state.cache,\n    // Apply patched router state.\n    tree: isNotUndefined(mutable.patchedTree)\n      ? mutable.patchedTree\n      : state.tree,\n    nextUrl,\n    previousNextUrl: previousNextUrl,\n    debugInfo: mutable.collectedDebugInfo ?? null,\n  }\n}\n","import type {\n  FlightRouterState,\n  FlightSegmentPath,\n} from '../../../../shared/lib/app-router-types'\nimport { createHrefFromUrl } from '../create-href-from-url'\nimport type {\n  Mutable,\n  NavigateAction,\n  ReadonlyReducerState,\n  ReducerState,\n} from '../router-reducer-types'\nimport { handleMutable } from '../handle-mutable'\n\nimport {\n  navigate as navigateUsingSegmentCache,\n  NavigationResultTag,\n  type NavigationResult,\n} from '../../segment-cache'\n\n// These values are set by `define-env-plugin` (based on `nextConfig.experimental.staleTimes`)\n// and default to 5 minutes (static) / 0 seconds (dynamic)\nexport const DYNAMIC_STALETIME_MS =\n  Number(process.env.__NEXT_CLIENT_ROUTER_DYNAMIC_STALETIME) * 1000\n\nexport const STATIC_STALETIME_MS =\n  Number(process.env.__NEXT_CLIENT_ROUTER_STATIC_STALETIME) * 1000\n\nexport function handleExternalUrl(\n  state: ReadonlyReducerState,\n  mutable: Mutable,\n  url: string,\n  pendingPush: boolean\n) {\n  mutable.mpaNavigation = true\n  mutable.canonicalUrl = url\n  mutable.pendingPush = pendingPush\n  mutable.scrollableSegments = undefined\n\n  return handleMutable(state, mutable)\n}\n\nexport function generateSegmentsFromPatch(\n  flightRouterPatch: FlightRouterState\n): FlightSegmentPath[] {\n  const segments: FlightSegmentPath[] = []\n  const [segment, parallelRoutes] = flightRouterPatch\n\n  if (Object.keys(parallelRoutes).length === 0) {\n    return [[segment]]\n  }\n\n  for (const [parallelRouteKey, parallelRoute] of Object.entries(\n    parallelRoutes\n  )) {\n    for (const childSegment of generateSegmentsFromPatch(parallelRoute)) {\n      // If the segment is empty, it means we are at the root of the tree\n      if (segment === '') {\n        segments.push([parallelRouteKey, ...childSegment])\n      } else {\n        segments.push([segment, parallelRouteKey, ...childSegment])\n      }\n    }\n  }\n\n  return segments\n}\n\nfunction handleNavigationResult(\n  url: URL,\n  state: ReadonlyReducerState,\n  mutable: Mutable,\n  pendingPush: boolean,\n  result: NavigationResult\n): ReducerState {\n  switch (result.tag) {\n    case NavigationResultTag.MPA: {\n      // Perform an MPA navigation.\n      const newUrl = result.data\n      return handleExternalUrl(state, mutable, newUrl, pendingPush)\n    }\n    case NavigationResultTag.NoOp: {\n      // The server responded with no change to the current page. However, if\n      // the URL changed, we still need to update that.\n      const newCanonicalUrl = result.data.canonicalUrl\n      mutable.canonicalUrl = newCanonicalUrl\n\n      // Check if the only thing that changed was the hash fragment.\n      const oldUrl = new URL(state.canonicalUrl, url)\n      const onlyHashChange =\n        // We don't need to compare the origins, because client-driven\n        // navigations are always same-origin.\n        url.pathname === oldUrl.pathname &&\n        url.search === oldUrl.search &&\n        url.hash !== oldUrl.hash\n      if (onlyHashChange) {\n        // The only updated part of the URL is the hash.\n        mutable.onlyHashChange = true\n        mutable.shouldScroll = result.data.shouldScroll\n        mutable.hashFragment = url.hash\n        // Setting this to an empty array triggers a scroll for all new and\n        // updated segments. See `ScrollAndFocusHandler` for more details.\n        mutable.scrollableSegments = []\n      }\n\n      return handleMutable(state, mutable)\n    }\n    case NavigationResultTag.Success: {\n      // Received a new result.\n      mutable.cache = result.data.cacheNode\n      mutable.patchedTree = result.data.flightRouterState\n      mutable.renderedSearch = result.data.renderedSearch\n      mutable.canonicalUrl = result.data.canonicalUrl\n      mutable.scrollableSegments = result.data.scrollableSegments\n      mutable.shouldScroll = result.data.shouldScroll\n      mutable.hashFragment = result.data.hash\n      return handleMutable(state, mutable)\n    }\n    case NavigationResultTag.Async: {\n      return result.data.then(\n        (asyncResult) =>\n          handleNavigationResult(url, state, mutable, pendingPush, asyncResult),\n        // If the navigation failed, return the current state.\n        // TODO: This matches the current behavior but we need to do something\n        // better here if the network fails.\n        () => {\n          return state\n        }\n      )\n    }\n    default: {\n      result satisfies never\n      return state\n    }\n  }\n}\n\nexport function navigateReducer(\n  state: ReadonlyReducerState,\n  action: NavigateAction\n): ReducerState {\n  const { url, isExternalUrl, navigateType, shouldScroll } = action\n  const mutable: Mutable = {}\n  const href = createHrefFromUrl(url)\n  const pendingPush = navigateType === 'push'\n\n  mutable.preserveCustomHistoryState = false\n  mutable.pendingPush = pendingPush\n\n  if (isExternalUrl) {\n    return handleExternalUrl(state, mutable, url.toString(), pendingPush)\n  }\n\n  // Handles case where `<meta http-equiv=\"refresh\">` tag is present,\n  // which will trigger an MPA navigation.\n  if (document.getElementById('__next-page-redirect')) {\n    return handleExternalUrl(state, mutable, href, pendingPush)\n  }\n\n  // Temporary glue code between the router reducer and the new navigation\n  // implementation. Eventually we'll rewrite the router reducer to a\n  // state machine.\n  const currentUrl = new URL(state.canonicalUrl, location.origin)\n  const result = navigateUsingSegmentCache(\n    url,\n    currentUrl,\n    state.cache,\n    state.tree,\n    state.nextUrl,\n    shouldScroll,\n    mutable\n  )\n  return handleNavigationResult(url, state, mutable, pendingPush, result)\n}\n","// In output: export mode, the build id is added to the start of the HTML\n// document, directly after the doctype declaration. During a prefetch, the\n// client performs a range request to get the build id, so it can check whether\n// the target page belongs to the same build.\n//\n// The first 64 bytes of the document are requested. The exact number isn't\n// too important; it must be larger than the build id + doctype + closing and\n// ending comment markers, but it doesn't need to match the end of the\n// comment exactly.\n//\n// Build ids are 21 bytes long in the default implementation, though this\n// can be overridden in the Next.js config. For the purposes of this check,\n// it's OK to only match the start of the id, so we'll truncate it if exceeds\n// a certain length.\n\nconst DOCTYPE_PREFIX = '<!DOCTYPE html>' // 15 bytes\nconst MAX_BUILD_ID_LENGTH = 24\n\n// Request the first 64 bytes. The Range header is inclusive of the end value.\nexport const DOC_PREFETCH_RANGE_HEADER_VALUE = 'bytes=0-63'\n\nfunction escapeBuildId(buildId: string) {\n  // If the build id is longer than the given limit, it's OK for our purposes\n  // to only match the beginning.\n  const truncated = buildId.slice(0, MAX_BUILD_ID_LENGTH)\n  // Replace hyphens with underscores so it doesn't break the HTML comment.\n  // (Unlikely, but if this did happen it would break the whole document.)\n  return truncated.replace(/-/g, '_')\n}\n\nexport function insertBuildIdComment(originalHtml: string, buildId: string) {\n  if (\n    // Skip if the build id contains a closing comment marker.\n    buildId.includes('-->') ||\n    // React always inserts a doctype at the start of the document. Skip if it\n    // isn't present. Shouldn't happen; suggests an issue elsewhere.\n    !originalHtml.startsWith(DOCTYPE_PREFIX)\n  ) {\n    // Return the original HTML unchanged. This means the document will not\n    // be prefetched.\n    // TODO: The build id comment is currently only used during prefetches, but\n    // if we eventually use this mechanism for regular navigations, we may need\n    // to error during build if we fail to insert it for some reason.\n    return originalHtml\n  }\n  // The comment must be inserted after the doctype.\n  return originalHtml.replace(\n    DOCTYPE_PREFIX,\n    DOCTYPE_PREFIX + '<!--' + escapeBuildId(buildId) + '-->'\n  )\n}\n\nexport function doesExportedHtmlMatchBuildId(\n  partialHtmlDocument: string,\n  buildId: string\n) {\n  // Check whether the document starts with the expected buildId.\n  return partialHtmlDocument.startsWith(\n    DOCTYPE_PREFIX + '<!--' + escapeBuildId(buildId) + '-->'\n  )\n}\n","import type {\n  TreePrefetch,\n  RootTreePrefetch,\n  SegmentPrefetch,\n} from '../../../server/app-render/collect-segment-data'\nimport type {\n  HeadData,\n  LoadingModuleData,\n} from '../../../shared/lib/app-router-types'\nimport type {\n  CacheNodeSeedData,\n  DynamicParamTypesShort,\n  Segment as FlightRouterStateSegment,\n} from '../../../shared/lib/app-router-types'\nimport { HasLoadingBoundary } from '../../../shared/lib/app-router-types'\nimport {\n  NEXT_DID_POSTPONE_HEADER,\n  NEXT_ROUTER_PREFETCH_HEADER,\n  NEXT_ROUTER_SEGMENT_PREFETCH_HEADER,\n  NEXT_ROUTER_STALE_TIME_HEADER,\n  NEXT_ROUTER_STATE_TREE_HEADER,\n  NEXT_URL,\n  RSC_CONTENT_TYPE_HEADER,\n  RSC_HEADER,\n} from '../app-router-headers'\nimport {\n  createFetch,\n  createFromNextReadableStream,\n  type RSCResponse,\n  type RequestHeaders,\n} from '../router-reducer/fetch-server-response'\nimport {\n  pingPrefetchTask,\n  isPrefetchTaskDirty,\n  type PrefetchTask,\n  type PrefetchSubtaskResult,\n  startRevalidationCooldown,\n} from './scheduler'\nimport { getAppBuildId } from '../../app-build-id'\nimport { createHrefFromUrl } from '../router-reducer/create-href-from-url'\nimport type {\n  NormalizedHref,\n  NormalizedNextUrl,\n  NormalizedSearch,\n  RouteCacheKey,\n} from './cache-key'\n// TODO: Rename this module to avoid confusion with other types of cache keys\nimport { createCacheKey as createPrefetchRequestKey } from './cache-key'\nimport {\n  doesStaticSegmentAppearInURL,\n  getCacheKeyForDynamicParam,\n  getParamValueFromCacheKey,\n  getRenderedPathname,\n  getRenderedSearch,\n  parseDynamicParamFromURLPart,\n  type RouteParam,\n} from '../../route-params'\nimport { createTupleMap, type TupleMap, type Prefix } from './tuple-map'\nimport { createLRU } from './lru'\nimport {\n  appendSegmentCacheKeyPart,\n  appendSegmentRequestKeyPart,\n  convertSegmentPathToStaticExportFilename,\n  createSegmentCacheKeyPart,\n  createSegmentRequestKeyPart,\n  ROOT_SEGMENT_CACHE_KEY,\n  ROOT_SEGMENT_REQUEST_KEY,\n  type SegmentCacheKey,\n  type SegmentRequestKey,\n} from '../../../shared/lib/segment-cache/segment-value-encoding'\nimport type {\n  FlightRouterState,\n  NavigationFlightResponse,\n} from '../../../shared/lib/app-router-types'\nimport {\n  normalizeFlightData,\n  prepareFlightRouterStateForRequest,\n} from '../../flight-data-helpers'\nimport { STATIC_STALETIME_MS } from '../router-reducer/reducers/navigate-reducer'\nimport { pingVisibleLinks } from '../links'\nimport { PAGE_SEGMENT_KEY } from '../../../shared/lib/segment'\nimport {\n  DOC_PREFETCH_RANGE_HEADER_VALUE,\n  doesExportedHtmlMatchBuildId,\n} from '../../../shared/lib/segment-cache/output-export-prefetch-encoding'\nimport { FetchStrategy } from '../segment-cache'\nimport { createPromiseWithResolvers } from '../../../shared/lib/promise-with-resolvers'\n\n// A note on async/await when working in the prefetch cache:\n//\n// Most async operations in the prefetch cache should *not* use async/await,\n// Instead, spawn a subtask that writes the results to a cache entry, and attach\n// a \"ping\" listener to notify the prefetch queue to try again.\n//\n// The reason is we need to be able to access the segment cache and traverse its\n// data structures synchronously. For example, if there's a synchronous update\n// we can take an immediate snapshot of the cache to produce something we can\n// render. Limiting the use of async/await also makes it easier to avoid race\n// conditions, which is especially important because is cache is mutable.\n//\n// Another reason is that while we're performing async work, it's possible for\n// existing entries to become stale, or for Link prefetches to be removed from\n// the queue. For optimal scheduling, we need to be able to \"cancel\" subtasks\n// that are no longer needed. So, when a segment is received from the server, we\n// restart from the root of the tree that's being prefetched, to confirm all the\n// parent segments are still cached. If the segment is no longer reachable from\n// the root, then it's effectively canceled. This is similar to the design of\n// Rust Futures, or React Suspense.\n\nexport type RouteTree = {\n  cacheKey: SegmentCacheKey\n  requestKey: SegmentRequestKey\n  // TODO: Remove the `segment` field, now that it can be reconstructed\n  // from `param`.\n  segment: FlightRouterStateSegment\n  param: RouteParam | null\n  slots: null | {\n    [parallelRouteKey: string]: RouteTree\n  }\n  isRootLayout: boolean\n\n  // If this is a dynamic route, indicates whether there is a loading boundary\n  // somewhere in the tree. If not, we can skip the prefetch for the data,\n  // because we know it would be an empty response. (For a static/PPR route,\n  // this value is disregarded, because in that model `loading.tsx` is treated\n  // like any other Suspense boundary.)\n  hasLoadingBoundary: HasLoadingBoundary\n\n  // Indicates whether this route has a runtime prefetch that we can request.\n  // This is determined by the server; it's not purely a user configuration\n  // because the server may determine that a route is fully static and doesn't\n  // need runtime prefetching regardless of the configuration.\n  hasRuntimePrefetch: boolean\n}\n\ntype RouteCacheEntryShared = {\n  staleAt: number\n  // This is false only if we're certain the route cannot be intercepted. It's\n  // true in all other cases, including on initialization when we haven't yet\n  // received a response from the server.\n  couldBeIntercepted: boolean\n\n  // See comment in scheduler.ts for context\n  TODO_metadataStatus: EntryStatus.Empty | EntryStatus.Fulfilled\n  TODO_isHeadDynamic: boolean\n\n  // LRU-related fields\n  keypath: null | Prefix<RouteCacheKeypath>\n  next: null | RouteCacheEntry\n  prev: null | RouteCacheEntry\n  size: number\n}\n\n/**\n * Tracks the status of a cache entry as it progresses from no data (Empty),\n * waiting for server data (Pending), and finished (either Fulfilled or\n * Rejected depending on the response from the server.\n */\nexport const enum EntryStatus {\n  Empty = 0,\n  Pending = 1,\n  Fulfilled = 2,\n  Rejected = 3,\n}\n\ntype PendingRouteCacheEntry = RouteCacheEntryShared & {\n  status: EntryStatus.Empty | EntryStatus.Pending\n  blockedTasks: Set<PrefetchTask> | null\n  canonicalUrl: null\n  renderedSearch: null\n  tree: null\n  head: HeadData | null\n  isHeadPartial: true\n  isPPREnabled: false\n}\n\ntype RejectedRouteCacheEntry = RouteCacheEntryShared & {\n  status: EntryStatus.Rejected\n  blockedTasks: Set<PrefetchTask> | null\n  canonicalUrl: null\n  renderedSearch: null\n  tree: null\n  head: null\n  isHeadPartial: true\n  isPPREnabled: boolean\n}\n\nexport type FulfilledRouteCacheEntry = RouteCacheEntryShared & {\n  status: EntryStatus.Fulfilled\n  blockedTasks: null\n  canonicalUrl: string\n  renderedSearch: NormalizedSearch\n  tree: RouteTree\n  head: HeadData\n  isHeadPartial: boolean\n  isPPREnabled: boolean\n}\n\nexport type RouteCacheEntry =\n  | PendingRouteCacheEntry\n  | FulfilledRouteCacheEntry\n  | RejectedRouteCacheEntry\n\ntype SegmentCacheEntryShared = {\n  staleAt: number\n  fetchStrategy: FetchStrategy\n  revalidating: SegmentCacheEntry | null\n\n  // LRU-related fields\n  keypath: null | Prefix<SegmentCacheKeypath>\n  next: null | SegmentCacheEntry\n  prev: null | SegmentCacheEntry\n  size: number\n}\n\nexport type EmptySegmentCacheEntry = SegmentCacheEntryShared & {\n  status: EntryStatus.Empty\n  rsc: null\n  loading: null\n  isPartial: true\n  promise: null\n}\n\nexport type PendingSegmentCacheEntry = SegmentCacheEntryShared & {\n  status: EntryStatus.Pending\n  rsc: null\n  loading: null\n  isPartial: true\n  promise: null | PromiseWithResolvers<FulfilledSegmentCacheEntry | null>\n}\n\ntype RejectedSegmentCacheEntry = SegmentCacheEntryShared & {\n  status: EntryStatus.Rejected\n  rsc: null\n  loading: null\n  isPartial: true\n  promise: null\n}\n\nexport type FulfilledSegmentCacheEntry = SegmentCacheEntryShared & {\n  status: EntryStatus.Fulfilled\n  rsc: React.ReactNode | null\n  loading: LoadingModuleData | Promise<LoadingModuleData>\n  isPartial: boolean\n  promise: null\n}\n\nexport type SegmentCacheEntry =\n  | EmptySegmentCacheEntry\n  | PendingSegmentCacheEntry\n  | RejectedSegmentCacheEntry\n  | FulfilledSegmentCacheEntry\n\nexport type NonEmptySegmentCacheEntry = Exclude<\n  SegmentCacheEntry,\n  EmptySegmentCacheEntry\n>\n\nconst isOutputExportMode =\n  process.env.NODE_ENV === 'production' &&\n  process.env.__NEXT_CONFIG_OUTPUT === 'export'\n\n/**\n * Ensures a minimum stale time of 30s to avoid issues where the server sends a too\n * short-lived stale time, which would prevent anything from being prefetched.\n */\nfunction getStaleTimeMs(staleTimeSeconds: number): number {\n  return Math.max(staleTimeSeconds, 30) * 1000\n}\n\n// Route cache entries vary on multiple keys: the href and the Next-Url. Each of\n// these parts needs to be included in the internal cache key. Rather than\n// concatenate the keys into a single key, we use a multi-level map, where the\n// first level is keyed by href, the second level is keyed by Next-Url, and so\n// on (if were to add more levels).\ntype RouteCacheKeypath = [NormalizedHref, NormalizedNextUrl]\nlet routeCacheMap: TupleMap<RouteCacheKeypath, RouteCacheEntry> =\n  createTupleMap()\n\n// We use an LRU for memory management. We must update this whenever we add or\n// remove a new cache entry, or when an entry changes size.\n// TODO: I chose the max size somewhat arbitrarily. Consider setting this based\n// on navigator.deviceMemory, or some other heuristic. We should make this\n// customizable via the Next.js config, too.\nconst maxRouteLruSize = 10 * 1024 * 1024 // 10 MB\nlet routeCacheLru = createLRU<RouteCacheEntry>(\n  maxRouteLruSize,\n  onRouteLRUEviction\n)\n\ntype SegmentCacheKeypath = [string, NormalizedSearch]\nlet segmentCacheMap: TupleMap<SegmentCacheKeypath, SegmentCacheEntry> =\n  createTupleMap()\n// NOTE: Segments and Route entries are managed by separate LRUs. We could\n// combine them into a single LRU, but because they are separate types, we'd\n// need to wrap each one in an extra LRU node (to maintain monomorphism, at the\n// cost of additional memory).\nconst maxSegmentLruSize = 50 * 1024 * 1024 // 50 MB\nlet segmentCacheLru = createLRU<SegmentCacheEntry>(\n  maxSegmentLruSize,\n  onSegmentLRUEviction\n)\n\n// All invalidation listeners for the whole cache are tracked in single set.\n// Since we don't yet support tag or path-based invalidation, there's no point\n// tracking them any more granularly than this. Once we add granular\n// invalidation, that may change, though generally the model is to just notify\n// the listeners and allow the caller to poll the prefetch cache with a new\n// prefetch task if desired.\nlet invalidationListeners: Set<PrefetchTask> | null = null\n\n// Incrementing counter used to track cache invalidations.\nlet currentCacheVersion = 0\n\nexport function getCurrentCacheVersion(): number {\n  return currentCacheVersion\n}\n\n/**\n * Used to clear the client prefetch cache when a server action calls\n * revalidatePath or revalidateTag. Eventually we will support only clearing the\n * segments that were actually affected, but there's more work to be done on the\n * server before the client is able to do this correctly.\n */\nexport function revalidateEntireCache(\n  nextUrl: string | null,\n  tree: FlightRouterState\n) {\n  currentCacheVersion++\n\n  // Start a cooldown before re-prefetching to allow CDN cache propagation.\n  startRevalidationCooldown()\n\n  // Clearing the cache also effectively rejects any pending requests, because\n  // when the response is received, it gets written into a cache entry that is\n  // no longer reachable.\n  // TODO: There's an exception to this case that we don't currently handle\n  // correctly: background revalidations. See note in `upsertSegmentEntry`.\n  routeCacheMap = createTupleMap()\n  routeCacheLru = createLRU(maxRouteLruSize, onRouteLRUEviction)\n  segmentCacheMap = createTupleMap()\n  segmentCacheLru = createLRU(maxSegmentLruSize, onSegmentLRUEviction)\n\n  // Prefetch all the currently visible links again, to re-fill the cache.\n  pingVisibleLinks(nextUrl, tree)\n\n  // Similarly, notify all invalidation listeners (i.e. those passed to\n  // `router.prefetch(onInvalidate)`), so they can trigger a new prefetch\n  // if needed.\n  pingInvalidationListeners(nextUrl, tree)\n}\n\nfunction attachInvalidationListener(task: PrefetchTask): void {\n  // This function is called whenever a prefetch task reads a cache entry. If\n  // the task has an onInvalidate function associated with it — i.e. the one\n  // optionally passed to router.prefetch(onInvalidate) — then we attach that\n  // listener to the every cache entry that the task reads. Then, if an entry\n  // is invalidated, we call the function.\n  if (task.onInvalidate !== null) {\n    if (invalidationListeners === null) {\n      invalidationListeners = new Set([task])\n    } else {\n      invalidationListeners.add(task)\n    }\n  }\n}\n\nfunction notifyInvalidationListener(task: PrefetchTask): void {\n  const onInvalidate = task.onInvalidate\n  if (onInvalidate !== null) {\n    // Clear the callback from the task object to guarantee it's not called more\n    // than once.\n    task.onInvalidate = null\n\n    // This is a user-space function, so we must wrap in try/catch.\n    try {\n      onInvalidate()\n    } catch (error) {\n      if (typeof reportError === 'function') {\n        reportError(error)\n      } else {\n        console.error(error)\n      }\n    }\n  }\n}\n\nexport function pingInvalidationListeners(\n  nextUrl: string | null,\n  tree: FlightRouterState\n): void {\n  // The rough equivalent of pingVisibleLinks, but for onInvalidate callbacks.\n  // This is called when the Next-Url or the base tree changes, since those\n  // may affect the result of a prefetch task. It's also called after a\n  // cache invalidation.\n  if (invalidationListeners !== null) {\n    const tasks = invalidationListeners\n    invalidationListeners = null\n    for (const task of tasks) {\n      if (isPrefetchTaskDirty(task, nextUrl, tree)) {\n        notifyInvalidationListener(task)\n      }\n    }\n  }\n}\n\nexport function readExactRouteCacheEntry(\n  now: number,\n  href: NormalizedHref,\n  nextUrl: NormalizedNextUrl | null\n): RouteCacheEntry | null {\n  const keypath: Prefix<RouteCacheKeypath> =\n    nextUrl === null ? [href] : [href, nextUrl]\n  const existingEntry = routeCacheMap.get(keypath)\n  if (existingEntry !== null) {\n    // Check if the entry is stale\n    if (existingEntry.staleAt > now) {\n      // Reuse the existing entry.\n\n      // Since this is an access, move the entry to the front of the LRU.\n      routeCacheLru.put(existingEntry)\n\n      return existingEntry\n    } else {\n      // Evict the stale entry from the cache.\n      deleteRouteFromCache(existingEntry, keypath)\n    }\n  }\n  return null\n}\n\nexport function readRouteCacheEntry(\n  now: number,\n  key: RouteCacheKey\n): RouteCacheEntry | null {\n  // First check if there's a non-intercepted entry. Most routes cannot be\n  // intercepted, so this is the common case.\n  const nonInterceptedEntry = readExactRouteCacheEntry(now, key.href, null)\n  if (nonInterceptedEntry !== null && !nonInterceptedEntry.couldBeIntercepted) {\n    // Found a match, and the route cannot be intercepted. We can reuse it.\n    return nonInterceptedEntry\n  }\n  // There was no match. Check again but include the Next-Url this time.\n  return readExactRouteCacheEntry(now, key.href, key.nextUrl)\n}\n\nexport function getSegmentKeypath(\n  fetchStrategy: FetchStrategy,\n  route: FulfilledRouteCacheEntry,\n  cacheKey: SegmentCacheKey\n): Prefix<SegmentCacheKeypath> {\n  // When a prefetch includes dynamic data, the search params are included\n  // in the result, so we must include the search string in the segment\n  // cache key. (Note that this is true even if the search string is empty.)\n  //\n  // If we're fetching using PPR, we do not need to include the search params in\n  // the cache key, because the search params are treated as dynamic data. The\n  // cache entry is valid for all possible search param values.\n  const isDynamic =\n    fetchStrategy === FetchStrategy.Full ||\n    fetchStrategy === FetchStrategy.PPRRuntime ||\n    !route.isPPREnabled\n  return isDynamic && cacheKey.endsWith('/' + PAGE_SEGMENT_KEY)\n    ? [cacheKey, route.renderedSearch]\n    : [cacheKey]\n}\n\nexport function readSegmentCacheEntry(\n  now: number,\n  route: FulfilledRouteCacheEntry,\n  cacheKey: SegmentCacheKey\n): SegmentCacheEntry | null {\n  if (!cacheKey.endsWith('/' + PAGE_SEGMENT_KEY)) {\n    // Fast path. Search params only exist on page segments.\n    return readExactSegmentCacheEntry(now, [cacheKey])\n  }\n\n  const renderedSearch = route.renderedSearch\n  if (renderedSearch !== null) {\n    // Page segments may or may not contain search params. If they were prefetched\n    // using a dynamic request, then we will have an entry with search params.\n    // Check for that case first.\n    const entryWithSearchParams = readExactSegmentCacheEntry(now, [\n      cacheKey,\n      renderedSearch,\n    ])\n    if (entryWithSearchParams !== null) {\n      return entryWithSearchParams\n    }\n  }\n\n  // If we did not find an entry with the given search params, check for a\n  // \"fallback\" entry, where the search params are treated as dynamic data. This\n  // is the common case because PPR/static prerenders always treat search params\n  // as dynamic.\n  //\n  // See corresponding logic in `getSegmentKeypath`.\n  const entryWithoutSearchParams = readExactSegmentCacheEntry(now, [cacheKey])\n  return entryWithoutSearchParams\n}\n\nfunction readExactSegmentCacheEntry(\n  now: number,\n  keypath: Prefix<SegmentCacheKeypath>\n): SegmentCacheEntry | null {\n  const existingEntry = segmentCacheMap.get(keypath)\n  if (existingEntry !== null) {\n    // Check if the entry is stale\n    if (existingEntry.staleAt > now) {\n      // Reuse the existing entry.\n\n      // Since this is an access, move the entry to the front of the LRU.\n      segmentCacheLru.put(existingEntry)\n\n      return existingEntry\n    } else {\n      // This is a stale entry.\n      const revalidatingEntry = existingEntry.revalidating\n      if (revalidatingEntry !== null) {\n        // There's a revalidation in progress. Upsert it.\n        const upsertedEntry = upsertSegmentEntry(\n          now,\n          keypath,\n          revalidatingEntry\n        )\n        if (upsertedEntry !== null && upsertedEntry.staleAt > now) {\n          // We can use the upserted revalidation entry.\n          return upsertedEntry\n        }\n      } else {\n        // Evict the stale entry from the cache.\n        deleteSegmentFromCache(existingEntry, keypath)\n      }\n    }\n  }\n  return null\n}\n\nfunction readRevalidatingSegmentCacheEntry(\n  now: number,\n  owner: SegmentCacheEntry\n): SegmentCacheEntry | null {\n  const existingRevalidation = owner.revalidating\n  if (existingRevalidation !== null) {\n    if (existingRevalidation.staleAt > now) {\n      // There's already a revalidation in progress. Or a previous revalidation\n      // failed and it has not yet expired.\n      return existingRevalidation\n    } else {\n      // Clear the stale revalidation from its owner.\n      clearRevalidatingSegmentFromOwner(owner)\n    }\n  }\n  return null\n}\n\nexport function waitForSegmentCacheEntry(\n  pendingEntry: PendingSegmentCacheEntry\n): Promise<FulfilledSegmentCacheEntry | null> {\n  // Because the entry is pending, there's already a in-progress request.\n  // Attach a promise to the entry that will resolve when the server responds.\n  let promiseWithResolvers = pendingEntry.promise\n  if (promiseWithResolvers === null) {\n    promiseWithResolvers = pendingEntry.promise =\n      createPromiseWithResolvers<FulfilledSegmentCacheEntry | null>()\n  } else {\n    // There's already a promise we can use\n  }\n  return promiseWithResolvers.promise\n}\n\n/**\n * Checks if an entry for a route exists in the cache. If so, it returns the\n * entry, If not, it adds an empty entry to the cache and returns it.\n */\nexport function readOrCreateRouteCacheEntry(\n  now: number,\n  task: PrefetchTask,\n  key: RouteCacheKey\n): RouteCacheEntry {\n  attachInvalidationListener(task)\n\n  const existingEntry = readRouteCacheEntry(now, key)\n  if (existingEntry !== null) {\n    return existingEntry\n  }\n  // Create a pending entry and add it to the cache.\n  const pendingEntry: PendingRouteCacheEntry = {\n    canonicalUrl: null,\n    status: EntryStatus.Empty,\n    blockedTasks: null,\n    tree: null,\n    head: null,\n    isHeadPartial: true,\n    // Since this is an empty entry, there's no reason to ever evict it. It will\n    // be updated when the data is populated.\n    staleAt: Infinity,\n    // This is initialized to true because we don't know yet whether the route\n    // could be intercepted. It's only set to false once we receive a response\n    // from the server.\n    couldBeIntercepted: true,\n    // Similarly, we don't yet know if the route supports PPR.\n    isPPREnabled: false,\n    renderedSearch: null,\n\n    TODO_metadataStatus: EntryStatus.Empty,\n    TODO_isHeadDynamic: false,\n\n    // LRU-related fields\n    keypath: null,\n    next: null,\n    prev: null,\n    size: 0,\n  }\n  const keypath: Prefix<RouteCacheKeypath> =\n    key.nextUrl === null ? [key.href] : [key.href, key.nextUrl]\n  routeCacheMap.set(keypath, pendingEntry)\n  // Stash the keypath on the entry so we know how to remove it from the map\n  // if it gets evicted from the LRU.\n  pendingEntry.keypath = keypath\n  routeCacheLru.put(pendingEntry)\n  return pendingEntry\n}\n\nexport function requestOptimisticRouteCacheEntry(\n  now: number,\n  requestedUrl: URL,\n  nextUrl: string | null\n): FulfilledRouteCacheEntry | null {\n  // This function is called during a navigation when there was no matching\n  // route tree in the prefetch cache. Before de-opting to a blocking,\n  // unprefetched navigation, we will first attempt to construct an \"optimistic\"\n  // route tree by checking the cache for similar routes.\n  //\n  // Check if there's a route with the same pathname, but with different\n  // search params. We can then base our optimistic route tree on this entry.\n  //\n  // Conceptually, we are simulating what would happen if we did perform a\n  // prefetch the requested URL, under the assumption that the server will\n  // not redirect or rewrite the request in a different manner than the\n  // base route tree. This assumption might not hold, in which case we'll have\n  // to recover when we perform the dynamic navigation request. However, this\n  // is what would happen if a route were dynamically rewritten/redirected\n  // in between the prefetch and the navigation. So the logic needs to exist\n  // to handle this case regardless.\n\n  // Look for a route with the same pathname, but with an empty search string.\n  // TODO: There's nothing inherently special about the empty search string;\n  // it's chosen somewhat arbitrarily, with the rationale that it's the most\n  // likely one to exist. But we should update this to match _any_ search\n  // string. The plan is to generalize this logic alongside other improvements\n  // related to \"fallback\" cache entries.\n  const requestedSearch = requestedUrl.search as NormalizedSearch\n  if (requestedSearch === '') {\n    // The caller would have already checked if a route with an empty search\n    // string is in the cache. So we can bail out here.\n    return null\n  }\n  const urlWithoutSearchParams = new URL(requestedUrl)\n  urlWithoutSearchParams.search = ''\n  const routeWithNoSearchParams = readRouteCacheEntry(\n    now,\n    createPrefetchRequestKey(urlWithoutSearchParams.href, nextUrl)\n  )\n\n  if (\n    routeWithNoSearchParams === null ||\n    routeWithNoSearchParams.status !== EntryStatus.Fulfilled\n  ) {\n    // Bail out of constructing an optimistic route tree. This will result in\n    // a blocking, unprefetched navigation.\n    return null\n  }\n\n  // Now we have a base route tree we can \"patch\" with our optimistic values.\n\n  const TODO_isHeadDynamic = routeWithNoSearchParams.TODO_isHeadDynamic\n  let head\n  let isHeadPartial\n  let TODO_metadataStatus: EntryStatus.Empty | EntryStatus.Fulfilled\n  if (TODO_isHeadDynamic) {\n    // If the head was fetched via dynamic request, then we don't know\n    // whether it accessed search params. So we must be conservative — we\n    // cannot reuse it. The head will stream in during the dynamic navigation.\n    // TODO: When Cache Components is enabled, we should track whether the\n    // head varied on search params.\n    // TODO: Because we're rendering a `null` viewport as the partial state, the\n    // viewport will not block the navigation; it will stream in later,\n    // alongside the metadata. Viewport is supposed to be blocking. This is\n    // a subtle bug in the old implementation that we've preserved here. It's\n    // rare enough that we're not going to fix it for apps that don't enable\n    // Cache Components; when Cache Components is enabled, though, we should\n    // use an infinite promise here to block the navigation. But only if the\n    // entry actually varies on search params.\n    head = [null, null]\n    // Setting this to `true` ensures that on navigation, the head is requested.\n    isHeadPartial = true\n    TODO_metadataStatus = EntryStatus.Empty\n  } else {\n    // The head was fetched via a static/PPR request. So it's guaranteed to\n    // not contain search params. We can reuse it.\n    head = routeWithNoSearchParams.head\n    isHeadPartial = routeWithNoSearchParams.isHeadPartial\n    TODO_metadataStatus = EntryStatus.Empty\n  }\n\n  // Optimistically assume that redirects for the requested pathname do\n  // not vary on the search string. Therefore, if the base route was\n  // redirected to a different search string, then the optimistic route\n  // should be redirected to the same search string. Otherwise, we use\n  // the requested search string.\n  const canonicalUrlForRouteWithNoSearchParams = new URL(\n    routeWithNoSearchParams.canonicalUrl,\n    requestedUrl.origin\n  )\n  const optimisticCanonicalSearch =\n    canonicalUrlForRouteWithNoSearchParams.search !== ''\n      ? // Base route was redirected. Reuse the same redirected search string.\n        canonicalUrlForRouteWithNoSearchParams.search\n      : requestedSearch\n\n  // Similarly, optimistically assume that rewrites for the requested\n  // pathname do not vary on the search string. Therefore, if the base\n  // route was rewritten to a different search string, then the optimistic\n  // route should be rewritten to the same search string. Otherwise, we use\n  // the requested search string.\n  const optimisticRenderedSearch =\n    routeWithNoSearchParams.renderedSearch !== ''\n      ? // Base route was rewritten. Reuse the same rewritten search string.\n        routeWithNoSearchParams.renderedSearch\n      : requestedSearch\n\n  const optimisticUrl = new URL(\n    routeWithNoSearchParams.canonicalUrl,\n    location.origin\n  )\n  optimisticUrl.search = optimisticCanonicalSearch\n  const optimisticCanonicalUrl = createHrefFromUrl(optimisticUrl)\n\n  // Clone the base route tree, and override the relevant fields with our\n  // optimistic values.\n  const optimisticEntry: FulfilledRouteCacheEntry = {\n    canonicalUrl: optimisticCanonicalUrl,\n\n    status: EntryStatus.Fulfilled,\n    // This isn't cloned because it's instance-specific\n    blockedTasks: null,\n    tree: routeWithNoSearchParams.tree,\n    head,\n    isHeadPartial,\n    staleAt: routeWithNoSearchParams.staleAt,\n    couldBeIntercepted: routeWithNoSearchParams.couldBeIntercepted,\n    isPPREnabled: routeWithNoSearchParams.isPPREnabled,\n\n    // Override the rendered search with the optimistic value.\n    renderedSearch: optimisticRenderedSearch,\n\n    TODO_metadataStatus,\n    TODO_isHeadDynamic,\n\n    // LRU-related fields\n    keypath: null,\n    next: null,\n    prev: null,\n    size: 0,\n  }\n\n  // Do not insert this entry into the cache. It only exists so we can\n  // perform the current navigation. Just return it to the caller.\n  return optimisticEntry\n}\n\n/**\n * Checks if an entry for a segment exists in the cache. If so, it returns the\n * entry, If not, it adds an empty entry to the cache and returns it.\n */\nexport function readOrCreateSegmentCacheEntry(\n  now: number,\n  fetchStrategy: FetchStrategy,\n  route: FulfilledRouteCacheEntry,\n  cacheKey: SegmentCacheKey\n): SegmentCacheEntry {\n  const keypath = getSegmentKeypath(fetchStrategy, route, cacheKey)\n  const existingEntry = readExactSegmentCacheEntry(now, keypath)\n  if (existingEntry !== null) {\n    return existingEntry\n  }\n  // Create a pending entry and add it to the cache.\n  const pendingEntry = createDetachedSegmentCacheEntry(route.staleAt)\n  segmentCacheMap.set(keypath, pendingEntry)\n  // Stash the keypath on the entry so we know how to remove it from the map\n  // if it gets evicted from the LRU.\n  pendingEntry.keypath = keypath\n  segmentCacheLru.put(pendingEntry)\n  return pendingEntry\n}\n\nexport function readOrCreateRevalidatingSegmentEntry(\n  now: number,\n  prevEntry: SegmentCacheEntry\n): SegmentCacheEntry {\n  const existingRevalidation = readRevalidatingSegmentCacheEntry(now, prevEntry)\n  if (existingRevalidation !== null) {\n    return existingRevalidation\n  }\n  const pendingEntry = createDetachedSegmentCacheEntry(prevEntry.staleAt)\n\n  // Background revalidations are not stored directly in the cache map or LRU;\n  // they're stashed on the entry that they will (potentially) replace.\n  //\n  // Note that we don't actually ever clear this field, except when the entry\n  // expires. When the revalidation finishes, one of two things will happen:\n  //\n  //  1) the revalidation is successful, `prevEntry` is removed from the cache\n  //     and garbage collected (so there's no point clearing any of its fields)\n  //  2) the revalidation fails, and we'll use the `revalidating` field to\n  //     prevent subsequent revalidation attempts, until it expires.\n  prevEntry.revalidating = pendingEntry\n\n  return pendingEntry\n}\n\nexport function upsertSegmentEntry(\n  now: number,\n  keypath: Prefix<SegmentCacheKeypath>,\n  candidateEntry: SegmentCacheEntry\n): SegmentCacheEntry | null {\n  // We have a new entry that has not yet been inserted into the cache. Before\n  // we do so, we need to confirm whether it takes precedence over the existing\n  // entry (if one exists).\n  // TODO: We should not upsert an entry if its key was invalidated in the time\n  // since the request was made. We can do that by passing the \"owner\" entry to\n  // this function and confirming it's the same as `existingEntry`.\n  const existingEntry = readExactSegmentCacheEntry(now, keypath)\n  if (existingEntry !== null) {\n    // Don't replace a more specific segment with a less-specific one. A case where this\n    // might happen is if the existing segment was fetched via\n    // `<Link prefetch={true}>`.\n    if (\n      // We fetched the new segment using a different, less specific fetch strategy\n      // than the segment we already have in the cache, so it can't have more content.\n      (candidateEntry.fetchStrategy !== existingEntry.fetchStrategy &&\n        !canNewFetchStrategyProvideMoreContent(\n          existingEntry.fetchStrategy,\n          candidateEntry.fetchStrategy\n        )) ||\n      // The existing entry isn't partial, but the new one is.\n      // (TODO: can this be true if `candidateEntry.fetchStrategy >= existingEntry.fetchStrategy`?)\n      (!existingEntry.isPartial && candidateEntry.isPartial)\n    ) {\n      // We're going to leave the entry on the owner's `revalidating` field\n      // so that it doesn't get revalidated again unnecessarily. Downgrade the\n      // Fulfilled entry to Rejected and null out the data so it can be garbage\n      // collected. We leave `staleAt` intact to prevent subsequent revalidation\n      // attempts only until the entry expires.\n      const rejectedEntry: RejectedSegmentCacheEntry = candidateEntry as any\n      rejectedEntry.status = EntryStatus.Rejected\n      rejectedEntry.loading = null\n      rejectedEntry.rsc = null\n      return null\n    }\n\n    // Evict the existing entry from the cache.\n    deleteSegmentFromCache(existingEntry, keypath)\n  }\n  segmentCacheMap.set(keypath, candidateEntry)\n  // Stash the keypath on the entry so we know how to remove it from the map\n  // if it gets evicted from the LRU.\n  candidateEntry.keypath = keypath\n  segmentCacheLru.put(candidateEntry)\n  return candidateEntry\n}\n\nexport function createDetachedSegmentCacheEntry(\n  staleAt: number\n): EmptySegmentCacheEntry {\n  const emptyEntry: EmptySegmentCacheEntry = {\n    status: EntryStatus.Empty,\n    // Default to assuming the fetch strategy will be PPR. This will be updated\n    // when a fetch is actually initiated.\n    fetchStrategy: FetchStrategy.PPR,\n    revalidating: null,\n    rsc: null,\n    loading: null,\n    staleAt,\n    isPartial: true,\n    promise: null,\n\n    // LRU-related fields\n    keypath: null,\n    next: null,\n    prev: null,\n    size: 0,\n  }\n  return emptyEntry\n}\n\nexport function upgradeToPendingSegment(\n  emptyEntry: EmptySegmentCacheEntry,\n  fetchStrategy: FetchStrategy\n): PendingSegmentCacheEntry {\n  const pendingEntry: PendingSegmentCacheEntry = emptyEntry as any\n  pendingEntry.status = EntryStatus.Pending\n  pendingEntry.fetchStrategy = fetchStrategy\n  return pendingEntry\n}\n\nfunction deleteRouteFromCache(\n  entry: RouteCacheEntry,\n  keypath: Prefix<RouteCacheKeypath>\n): void {\n  pingBlockedTasks(entry)\n  routeCacheMap.delete(keypath)\n  routeCacheLru.delete(entry)\n}\n\nfunction deleteSegmentFromCache(\n  entry: SegmentCacheEntry,\n  keypath: Prefix<SegmentCacheKeypath>\n): void {\n  cancelEntryListeners(entry)\n  segmentCacheMap.delete(keypath)\n  segmentCacheLru.delete(entry)\n  clearRevalidatingSegmentFromOwner(entry)\n}\n\nfunction clearRevalidatingSegmentFromOwner(owner: SegmentCacheEntry): void {\n  // Revalidating segments are not stored in the cache directly; they're\n  // stored as a field on the entry that they will (potentially) replace. So\n  // to dispose of an existing revalidation, we just need to null out the field\n  // on the owner.\n  const revalidatingSegment = owner.revalidating\n  if (revalidatingSegment !== null) {\n    cancelEntryListeners(revalidatingSegment)\n    owner.revalidating = null\n  }\n}\n\nexport function resetRevalidatingSegmentEntry(\n  owner: SegmentCacheEntry\n): EmptySegmentCacheEntry {\n  clearRevalidatingSegmentFromOwner(owner)\n  const emptyEntry = createDetachedSegmentCacheEntry(owner.staleAt)\n  owner.revalidating = emptyEntry\n  return emptyEntry\n}\n\nfunction onRouteLRUEviction(entry: RouteCacheEntry): void {\n  // The LRU evicted this entry. Remove it from the map.\n  const keypath = entry.keypath\n  if (keypath !== null) {\n    entry.keypath = null\n    pingBlockedTasks(entry)\n    routeCacheMap.delete(keypath)\n  }\n}\n\nfunction onSegmentLRUEviction(entry: SegmentCacheEntry): void {\n  // The LRU evicted this entry. Remove it from the map.\n  const keypath = entry.keypath\n  if (keypath !== null) {\n    entry.keypath = null\n    cancelEntryListeners(entry)\n    segmentCacheMap.delete(keypath)\n  }\n}\n\nfunction cancelEntryListeners(entry: SegmentCacheEntry): void {\n  if (entry.status === EntryStatus.Pending && entry.promise !== null) {\n    // There were listeners for this entry. Resolve them with `null` to indicate\n    // that the prefetch failed. It's up to the listener to decide how to handle\n    // this case.\n    // NOTE: We don't currently propagate the reason the prefetch was canceled\n    // but we could by accepting a `reason` argument.\n    entry.promise.resolve(null)\n    entry.promise = null\n  }\n}\n\nfunction pingBlockedTasks(entry: {\n  blockedTasks: Set<PrefetchTask> | null\n}): void {\n  const blockedTasks = entry.blockedTasks\n  if (blockedTasks !== null) {\n    for (const task of blockedTasks) {\n      pingPrefetchTask(task)\n    }\n    entry.blockedTasks = null\n  }\n}\n\nfunction fulfillRouteCacheEntry(\n  entry: RouteCacheEntry,\n  tree: RouteTree,\n  head: HeadData,\n  isHeadPartial: boolean,\n  staleAt: number,\n  couldBeIntercepted: boolean,\n  canonicalUrl: string,\n  renderedSearch: NormalizedSearch,\n  isPPREnabled: boolean,\n  isHeadDynamic: boolean\n): FulfilledRouteCacheEntry {\n  const fulfilledEntry: FulfilledRouteCacheEntry = entry as any\n  fulfilledEntry.status = EntryStatus.Fulfilled\n  fulfilledEntry.tree = tree\n  fulfilledEntry.head = head\n  fulfilledEntry.isHeadPartial = isHeadPartial\n  fulfilledEntry.staleAt = staleAt\n  fulfilledEntry.couldBeIntercepted = couldBeIntercepted\n  fulfilledEntry.canonicalUrl = canonicalUrl\n  fulfilledEntry.renderedSearch = renderedSearch\n  fulfilledEntry.isPPREnabled = isPPREnabled\n  fulfilledEntry.TODO_isHeadDynamic = isHeadDynamic\n  pingBlockedTasks(entry)\n  return fulfilledEntry\n}\n\nfunction fulfillSegmentCacheEntry(\n  segmentCacheEntry: PendingSegmentCacheEntry,\n  rsc: React.ReactNode,\n  loading: LoadingModuleData | Promise<LoadingModuleData>,\n  staleAt: number,\n  isPartial: boolean\n): FulfilledSegmentCacheEntry {\n  const fulfilledEntry: FulfilledSegmentCacheEntry = segmentCacheEntry as any\n  fulfilledEntry.status = EntryStatus.Fulfilled\n  fulfilledEntry.rsc = rsc\n  fulfilledEntry.loading = loading\n  fulfilledEntry.staleAt = staleAt\n  fulfilledEntry.isPartial = isPartial\n  // Resolve any listeners that were waiting for this data.\n  if (segmentCacheEntry.promise !== null) {\n    segmentCacheEntry.promise.resolve(fulfilledEntry)\n    // Free the promise for garbage collection.\n    fulfilledEntry.promise = null\n  }\n  return fulfilledEntry\n}\n\nfunction rejectRouteCacheEntry(\n  entry: PendingRouteCacheEntry,\n  staleAt: number\n): void {\n  const rejectedEntry: RejectedRouteCacheEntry = entry as any\n  rejectedEntry.status = EntryStatus.Rejected\n  rejectedEntry.staleAt = staleAt\n  pingBlockedTasks(entry)\n}\n\nfunction rejectSegmentCacheEntry(\n  entry: PendingSegmentCacheEntry,\n  staleAt: number\n): void {\n  const rejectedEntry: RejectedSegmentCacheEntry = entry as any\n  rejectedEntry.status = EntryStatus.Rejected\n  rejectedEntry.staleAt = staleAt\n  if (entry.promise !== null) {\n    // NOTE: We don't currently propagate the reason the prefetch was canceled\n    // but we could by accepting a `reason` argument.\n    entry.promise.resolve(null)\n    entry.promise = null\n  }\n}\n\nfunction convertRootTreePrefetchToRouteTree(\n  rootTree: RootTreePrefetch,\n  renderedPathname: string\n) {\n  // Remove trailing and leading slashes\n  const pathnameParts = renderedPathname.split('/').filter((p) => p !== '')\n  const index = 0\n  const rootSegment = ROOT_SEGMENT_CACHE_KEY\n  return convertTreePrefetchToRouteTree(\n    rootTree.tree,\n    rootSegment,\n    null,\n    ROOT_SEGMENT_REQUEST_KEY,\n    ROOT_SEGMENT_CACHE_KEY,\n    pathnameParts,\n    index\n  )\n}\n\nfunction convertTreePrefetchToRouteTree(\n  prefetch: TreePrefetch,\n  segment: FlightRouterStateSegment,\n  param: RouteParam | null,\n  requestKey: SegmentRequestKey,\n  cacheKey: SegmentCacheKey,\n  pathnameParts: Array<string>,\n  pathnamePartsIndex: number\n): RouteTree {\n  // Converts the route tree sent by the server into the format used by the\n  // cache. The cached version of the tree includes additional fields, such as a\n  // cache key for each segment. Since this is frequently accessed, we compute\n  // it once instead of on every access. This same cache key is also used to\n  // request the segment from the server.\n\n  let slots: { [parallelRouteKey: string]: RouteTree } | null = null\n  const prefetchSlots = prefetch.slots\n  if (prefetchSlots !== null) {\n    slots = {}\n    for (let parallelRouteKey in prefetchSlots) {\n      const childPrefetch = prefetchSlots[parallelRouteKey]\n      const childParamName = childPrefetch.name\n      const childParamType = childPrefetch.paramType\n      const childServerSentParamKey = childPrefetch.paramKey\n\n      let childDoesAppearInURL: boolean\n      let childParam: RouteParam | null = null\n      let childSegment: FlightRouterStateSegment\n      if (childParamType !== null) {\n        // This segment is parameterized. Get the param from the pathname.\n        const childParamValue = parseDynamicParamFromURLPart(\n          childParamType,\n          pathnameParts,\n          pathnamePartsIndex\n        )\n\n        // Assign a cache key to the segment, based on the param value. In the\n        // pre-Segment Cache implementation, the server computes this and sends\n        // it in the body of the response. In the Segment Cache implementation,\n        // the server sends an empty string and we fill it in here.\n\n        // TODO: We're intentionally not adding the search param to page\n        // segments here; it's tracked separately and added back during a read.\n        // This would clearer if we waited to construct the segment until it's\n        // read from the cache, since that's effectively what we're\n        // doing anyway.\n        const renderedSearch = '' as NormalizedSearch\n        const childParamKey =\n          // The server omits this field from the prefetch response when\n          // cacheComponents is enabled.\n          childServerSentParamKey !== null\n            ? childServerSentParamKey\n            : // If no param key was sent, use the value parsed on the client.\n              getCacheKeyForDynamicParam(childParamValue, renderedSearch)\n\n        childParam = {\n          name: childParamName,\n          value: childParamValue,\n          type: childParamType,\n        }\n        childSegment = [childParamName, childParamKey, childParamType]\n        childDoesAppearInURL = true\n      } else {\n        childSegment = childParamName\n        childDoesAppearInURL = doesStaticSegmentAppearInURL(childParamName)\n      }\n\n      // Only increment the index if the segment appears in the URL. If it's a\n      // \"virtual\" segment, like a route group, it remains the same.\n      const childPathnamePartsIndex = childDoesAppearInURL\n        ? pathnamePartsIndex + 1\n        : pathnamePartsIndex\n\n      const childRequestKeyPart = createSegmentRequestKeyPart(childSegment)\n      const childRequestKey = appendSegmentRequestKeyPart(\n        requestKey,\n        parallelRouteKey,\n        childRequestKeyPart\n      )\n      const childCacheKey = appendSegmentCacheKeyPart(\n        cacheKey,\n        parallelRouteKey,\n        createSegmentCacheKeyPart(childRequestKeyPart, childSegment)\n      )\n      slots[parallelRouteKey] = convertTreePrefetchToRouteTree(\n        childPrefetch,\n        childSegment,\n        childParam,\n        childRequestKey,\n        childCacheKey,\n        pathnameParts,\n        childPathnamePartsIndex\n      )\n    }\n  }\n\n  return {\n    cacheKey,\n    requestKey,\n    segment,\n    param,\n    slots,\n    isRootLayout: prefetch.isRootLayout,\n    // This field is only relevant to dynamic routes. For a PPR/static route,\n    // there's always some partial loading state we can fetch.\n    hasLoadingBoundary: HasLoadingBoundary.SegmentHasLoadingBoundary,\n    hasRuntimePrefetch: prefetch.hasRuntimePrefetch,\n  }\n}\n\nfunction convertRootFlightRouterStateToRouteTree(\n  flightRouterState: FlightRouterState\n): RouteTree {\n  return convertFlightRouterStateToRouteTree(\n    flightRouterState,\n    ROOT_SEGMENT_CACHE_KEY,\n    ROOT_SEGMENT_REQUEST_KEY\n  )\n}\n\nfunction convertFlightRouterStateToRouteTree(\n  flightRouterState: FlightRouterState,\n  cacheKey: SegmentCacheKey,\n  requestKey: SegmentRequestKey\n): RouteTree {\n  let slots: { [parallelRouteKey: string]: RouteTree } | null = null\n\n  const parallelRoutes = flightRouterState[1]\n  for (let parallelRouteKey in parallelRoutes) {\n    const childRouterState = parallelRoutes[parallelRouteKey]\n    const childSegment = childRouterState[0]\n    // TODO: Eventually, the param values will not be included in the response\n    // from the server. We'll instead fill them in on the client by parsing\n    // the URL. This is where we'll do that.\n    const childRequestKeyPart = createSegmentRequestKeyPart(childSegment)\n    const childRequestKey = appendSegmentRequestKeyPart(\n      requestKey,\n      parallelRouteKey,\n      childRequestKeyPart\n    )\n    const childCacheKey = appendSegmentCacheKeyPart(\n      cacheKey,\n      parallelRouteKey,\n      createSegmentCacheKeyPart(childRequestKeyPart, childSegment)\n    )\n    const childTree = convertFlightRouterStateToRouteTree(\n      childRouterState,\n      childCacheKey,\n      childRequestKey\n    )\n    if (slots === null) {\n      slots = {\n        [parallelRouteKey]: childTree,\n      }\n    } else {\n      slots[parallelRouteKey] = childTree\n    }\n  }\n  const originalSegment = flightRouterState[0]\n\n  let segment: FlightRouterStateSegment\n  let param: RouteParam | null = null\n  if (Array.isArray(originalSegment)) {\n    const paramCacheKey = originalSegment[1]\n    const paramType = originalSegment[2]\n    const paramValue = getParamValueFromCacheKey(paramCacheKey, paramType)\n    param = {\n      name: originalSegment[0],\n      value: paramValue === undefined ? null : paramValue,\n      type: originalSegment[2] as DynamicParamTypesShort,\n    }\n    segment = originalSegment\n  } else {\n    // The navigation implementation expects the search params to be included\n    // in the segment. However, in the case of a static response, the search\n    // params are omitted. So the client needs to add them back in when reading\n    // from the Segment Cache.\n    //\n    // For consistency, we'll do this for dynamic responses, too.\n    //\n    // TODO: We should move search params out of FlightRouterState and handle\n    // them entirely on the client, similar to our plan for dynamic params.\n    segment =\n      typeof originalSegment === 'string' &&\n      originalSegment.startsWith(PAGE_SEGMENT_KEY)\n        ? PAGE_SEGMENT_KEY\n        : originalSegment\n  }\n\n  return {\n    cacheKey,\n    requestKey,\n    segment,\n    param,\n    slots,\n    isRootLayout: flightRouterState[4] === true,\n    hasLoadingBoundary:\n      flightRouterState[5] !== undefined\n        ? flightRouterState[5]\n        : HasLoadingBoundary.SubtreeHasNoLoadingBoundary,\n\n    // Non-static tree responses are only used by apps that haven't adopted\n    // Cache Components. So this is always false.\n    hasRuntimePrefetch: false,\n  }\n}\n\nexport function convertRouteTreeToFlightRouterState(\n  routeTree: RouteTree\n): FlightRouterState {\n  const parallelRoutes: Record<string, FlightRouterState> = {}\n  if (routeTree.slots !== null) {\n    for (const parallelRouteKey in routeTree.slots) {\n      parallelRoutes[parallelRouteKey] = convertRouteTreeToFlightRouterState(\n        routeTree.slots[parallelRouteKey]\n      )\n    }\n  }\n  const flightRouterState: FlightRouterState = [\n    routeTree.segment,\n    parallelRoutes,\n    null,\n    null,\n    routeTree.isRootLayout,\n  ]\n  return flightRouterState\n}\n\nexport async function fetchRouteOnCacheMiss(\n  entry: PendingRouteCacheEntry,\n  task: PrefetchTask,\n  key: RouteCacheKey\n): Promise<PrefetchSubtaskResult<null> | null> {\n  // This function is allowed to use async/await because it contains the actual\n  // fetch that gets issued on a cache miss. Notice it writes the result to the\n  // cache entry directly, rather than return data that is then written by\n  // the caller.\n  const href = key.href\n  const nextUrl = key.nextUrl\n  const segmentPath = '/_tree' as SegmentRequestKey\n\n  const headers: RequestHeaders = {\n    [RSC_HEADER]: '1',\n    [NEXT_ROUTER_PREFETCH_HEADER]: '1',\n    [NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]: segmentPath,\n  }\n  if (nextUrl !== null) {\n    headers[NEXT_URL] = nextUrl\n  }\n\n  try {\n    let response\n    let urlAfterRedirects\n    if (isOutputExportMode) {\n      // In output: \"export\" mode, we can't use headers to request a particular\n      // segment. Instead, we encode the extra request information into the URL.\n      // This is not part of the \"public\" interface of the app; it's an internal\n      // Next.js implementation detail that the app developer should not need to\n      // concern themselves with.\n      //\n      // For example, to request a segment:\n      //\n      //   Path passed to <Link>:   /path/to/page\n      //   Path passed to fetch:    /path/to/page/__next-segments/_tree\n      //\n      //   (This is not the exact protocol, just an illustration.)\n      //\n      // Before we do that, though, we need to account for redirects. Even in\n      // output: \"export\" mode, a proxy might redirect the page to a different\n      // location, but we shouldn't assume or expect that they also redirect all\n      // the segment files, too.\n      //\n      // To check whether the page is redirected, we perform a range request of\n      // the first N bytes of the HTML document. The canonical URL is determined\n      // from the response.\n      //\n      // Then we can use the canonical URL to request the route tree.\n      //\n      // NOTE: We could embed the route tree into the HTML document, to avoid\n      // a second request. We're not doing that currently because it would make\n      // the HTML document larger and affect normal page loads.\n      const url = new URL(href)\n      const htmlResponse = await fetch(href, {\n        headers: {\n          Range: DOC_PREFETCH_RANGE_HEADER_VALUE,\n        },\n      })\n      const partialHtml = await htmlResponse.text()\n      if (!doesExportedHtmlMatchBuildId(partialHtml, getAppBuildId())) {\n        // The target page is not part of this app, or it belongs to a\n        // different build.\n        rejectRouteCacheEntry(entry, Date.now() + 10 * 1000)\n        return null\n      }\n      urlAfterRedirects = htmlResponse.redirected\n        ? new URL(htmlResponse.url)\n        : url\n      response = await fetchPrefetchResponse(\n        addSegmentPathToUrlInOutputExportMode(urlAfterRedirects, segmentPath),\n        headers\n      )\n    } else {\n      // \"Server\" mode. We can use request headers instead of the pathname.\n      // TODO: The eventual plan is to get rid of our custom request headers and\n      // encode everything into the URL, using a similar strategy to the\n      // \"output: export\" block above.\n      const url = new URL(href)\n      response = await fetchPrefetchResponse(url, headers)\n      urlAfterRedirects =\n        response !== null && response.redirected ? new URL(response.url) : url\n    }\n\n    if (\n      !response ||\n      !response.ok ||\n      // 204 is a Cache miss. Though theoretically this shouldn't happen when\n      // PPR is enabled, because we always respond to route tree requests, even\n      // if it needs to be blockingly generated on demand.\n      response.status === 204 ||\n      !response.body\n    ) {\n      // Server responded with an error, or with a miss. We should still cache\n      // the response, but we can try again after 10 seconds.\n      rejectRouteCacheEntry(entry, Date.now() + 10 * 1000)\n      return null\n    }\n\n    // TODO: The canonical URL is the href without the origin. I think\n    // historically the reason for this is because the initial canonical URL\n    // gets passed as a prop to the top-level React component, which means it\n    // needs to be computed during SSR. If it were to include the origin, it\n    // would need to always be same as location.origin on the client, to prevent\n    // a hydration mismatch. To sidestep this complexity, we omit the origin.\n    //\n    // However, since this is neither a native URL object nor a fully qualified\n    // URL string, we need to be careful about how we use it. To prevent subtle\n    // mistakes, we should create a special type for it, instead of just string.\n    // Or, we should just use a (readonly) URL object instead. The type of the\n    // prop that we pass to seed the initial state does not need to be the same\n    // type as the state itself.\n    const canonicalUrl = createHrefFromUrl(urlAfterRedirects)\n\n    // Check whether the response varies based on the Next-Url header.\n    const varyHeader = response.headers.get('vary')\n    const couldBeIntercepted =\n      varyHeader !== null && varyHeader.includes(NEXT_URL)\n\n    // Track when the network connection closes.\n    const closed = createPromiseWithResolvers<void>()\n\n    // This checks whether the response was served from the per-segment cache,\n    // rather than the old prefetching flow. If it fails, it implies that PPR\n    // is disabled on this route.\n    const routeIsPPREnabled =\n      response.headers.get(NEXT_DID_POSTPONE_HEADER) === '2' ||\n      // In output: \"export\" mode, we can't rely on response headers. But if we\n      // receive a well-formed response, we can assume it's a static response,\n      // because all data is static in this mode.\n      isOutputExportMode\n\n    // Regardless of the type of response, we will never receive dynamic\n    // metadata as part of this prefetch request.\n    const isHeadDynamic = false\n\n    if (routeIsPPREnabled) {\n      const prefetchStream = createPrefetchResponseStream(\n        response.body,\n        closed.resolve,\n        function onResponseSizeUpdate(size) {\n          routeCacheLru.updateSize(entry, size)\n        }\n      )\n      const serverData = await createFromNextReadableStream<RootTreePrefetch>(\n        prefetchStream,\n        headers\n      )\n      if (serverData.buildId !== getAppBuildId()) {\n        // The server build does not match the client. Treat as a 404. During\n        // an actual navigation, the router will trigger an MPA navigation.\n        // TODO: Consider moving the build ID to a response header so we can check\n        // it before decoding the response, and so there's one way of checking\n        // across all response types.\n        // TODO: We should cache the fact that this is an MPA navigation.\n        rejectRouteCacheEntry(entry, Date.now() + 10 * 1000)\n        return null\n      }\n\n      // Get the params that were used to render the target page. These may\n      // be different from the params in the request URL, if the page\n      // was rewritten.\n      const renderedPathname = getRenderedPathname(response)\n      const renderedSearch = getRenderedSearch(response)\n\n      const routeTree = convertRootTreePrefetchToRouteTree(\n        serverData,\n        renderedPathname\n      )\n\n      const staleTimeMs = getStaleTimeMs(serverData.staleTime)\n      fulfillRouteCacheEntry(\n        entry,\n        routeTree,\n        serverData.head,\n        serverData.isHeadPartial,\n        Date.now() + staleTimeMs,\n        couldBeIntercepted,\n        canonicalUrl,\n        renderedSearch,\n        routeIsPPREnabled,\n        isHeadDynamic\n      )\n    } else {\n      // PPR is not enabled for this route. The server responds with a\n      // different format (FlightRouterState) that we need to convert.\n      // TODO: We will unify the responses eventually. I'm keeping the types\n      // separate for now because FlightRouterState has so many\n      // overloaded concerns.\n      const prefetchStream = createPrefetchResponseStream(\n        response.body,\n        closed.resolve,\n        function onResponseSizeUpdate(size) {\n          routeCacheLru.updateSize(entry, size)\n        }\n      )\n      const serverData =\n        await createFromNextReadableStream<NavigationFlightResponse>(\n          prefetchStream,\n          headers\n        )\n      if (serverData.b !== getAppBuildId()) {\n        // The server build does not match the client. Treat as a 404. During\n        // an actual navigation, the router will trigger an MPA navigation.\n        // TODO: Consider moving the build ID to a response header so we can check\n        // it before decoding the response, and so there's one way of checking\n        // across all response types.\n        // TODO: We should cache the fact that this is an MPA navigation.\n        rejectRouteCacheEntry(entry, Date.now() + 10 * 1000)\n        return null\n      }\n\n      writeDynamicTreeResponseIntoCache(\n        Date.now(),\n        task,\n        // The non-PPR response format is what we'd get if we prefetched these segments\n        // using the LoadingBoundary fetch strategy, so mark their cache entries accordingly.\n        FetchStrategy.LoadingBoundary,\n        response as RSCResponse<NavigationFlightResponse>,\n        serverData,\n        entry,\n        couldBeIntercepted,\n        canonicalUrl,\n        routeIsPPREnabled\n      )\n    }\n\n    if (!couldBeIntercepted && nextUrl !== null) {\n      // This route will never be intercepted. So we can use this entry for all\n      // requests to this route, regardless of the Next-Url header. This works\n      // because when reading the cache we always check for a valid\n      // non-intercepted entry first.\n      //\n      // Re-key the entry. Since we're in an async task, we must first confirm\n      // that the entry hasn't been concurrently modified by a different task.\n      const currentKeypath: Prefix<RouteCacheKeypath> = [href, nextUrl]\n      const expectedEntry = routeCacheMap.get(currentKeypath)\n      if (expectedEntry === entry) {\n        routeCacheMap.delete(currentKeypath)\n        const newKeypath: Prefix<RouteCacheKeypath> = [href]\n        routeCacheMap.set(newKeypath, entry)\n        // We don't need to update the LRU because the entry is already in it.\n        // But since we changed the keypath, we do need to update that, so we\n        // know how to remove it from the map if it gets evicted from the LRU.\n        entry.keypath = newKeypath\n      } else {\n        // Something else modified this entry already. Since the re-keying is\n        // just a performance optimization, we can safely skip it.\n      }\n    }\n    // Return a promise that resolves when the network connection closes, so\n    // the scheduler can track the number of concurrent network connections.\n    return { value: null, closed: closed.promise }\n  } catch (error) {\n    // Either the connection itself failed, or something bad happened while\n    // decoding the response.\n    rejectRouteCacheEntry(entry, Date.now() + 10 * 1000)\n    return null\n  }\n}\n\nexport async function fetchSegmentOnCacheMiss(\n  route: FulfilledRouteCacheEntry,\n  segmentCacheEntry: PendingSegmentCacheEntry,\n  routeKey: RouteCacheKey,\n  tree: RouteTree\n): Promise<PrefetchSubtaskResult<FulfilledSegmentCacheEntry> | null> {\n  // This function is allowed to use async/await because it contains the actual\n  // fetch that gets issued on a cache miss. Notice it writes the result to the\n  // cache entry directly, rather than return data that is then written by\n  // the caller.\n  //\n  // Segment fetches are non-blocking so we don't need to ping the scheduler\n  // on completion.\n\n  // Use the canonical URL to request the segment, not the original URL. These\n  // are usually the same, but the canonical URL will be different if the route\n  // tree response was redirected. To avoid an extra waterfall on every segment\n  // request, we pass the redirected URL instead of the original one.\n  const url = new URL(route.canonicalUrl, routeKey.href)\n  const nextUrl = routeKey.nextUrl\n\n  const requestKey = tree.requestKey\n  const normalizedRequestKey =\n    requestKey === ROOT_SEGMENT_REQUEST_KEY\n      ? // The root segment is a special case. To simplify the server-side\n        // handling of these requests, we encode the root segment path as\n        // `_index` instead of as an empty string. This should be treated as\n        // an implementation detail and not as a stable part of the protocol.\n        // It just needs to match the equivalent logic that happens when\n        // prerendering the responses. It should not leak outside of Next.js.\n        ('/_index' as SegmentRequestKey)\n      : requestKey\n\n  const headers: RequestHeaders = {\n    [RSC_HEADER]: '1',\n    [NEXT_ROUTER_PREFETCH_HEADER]: '1',\n    [NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]: normalizedRequestKey,\n  }\n  if (nextUrl !== null) {\n    headers[NEXT_URL] = nextUrl\n  }\n\n  const requestUrl = isOutputExportMode\n    ? // In output: \"export\" mode, we need to add the segment path to the URL.\n      addSegmentPathToUrlInOutputExportMode(url, normalizedRequestKey)\n    : url\n  try {\n    const response = await fetchPrefetchResponse(requestUrl, headers)\n    if (\n      !response ||\n      !response.ok ||\n      response.status === 204 || // Cache miss\n      // This checks whether the response was served from the per-segment cache,\n      // rather than the old prefetching flow. If it fails, it implies that PPR\n      // is disabled on this route. Theoretically this should never happen\n      // because we only issue requests for segments once we've verified that\n      // the route supports PPR.\n      (response.headers.get(NEXT_DID_POSTPONE_HEADER) !== '2' &&\n        // In output: \"export\" mode, we can't rely on response headers. But if\n        // we receive a well-formed response, we can assume it's a static\n        // response, because all data is static in this mode.\n        !isOutputExportMode) ||\n      !response.body\n    ) {\n      // Server responded with an error, or with a miss. We should still cache\n      // the response, but we can try again after 10 seconds.\n      rejectSegmentCacheEntry(segmentCacheEntry, Date.now() + 10 * 1000)\n      return null\n    }\n\n    // Track when the network connection closes.\n    const closed = createPromiseWithResolvers<void>()\n\n    // Wrap the original stream in a new stream that never closes. That way the\n    // Flight client doesn't error if there's a hanging promise.\n    const prefetchStream = createPrefetchResponseStream(\n      response.body,\n      closed.resolve,\n      function onResponseSizeUpdate(size) {\n        segmentCacheLru.updateSize(segmentCacheEntry, size)\n      }\n    )\n    const serverData = await (createFromNextReadableStream(\n      prefetchStream,\n      headers\n    ) as Promise<SegmentPrefetch>)\n    if (serverData.buildId !== getAppBuildId()) {\n      // The server build does not match the client. Treat as a 404. During\n      // an actual navigation, the router will trigger an MPA navigation.\n      // TODO: Consider moving the build ID to a response header so we can check\n      // it before decoding the response, and so there's one way of checking\n      // across all response types.\n      rejectSegmentCacheEntry(segmentCacheEntry, Date.now() + 10 * 1000)\n      return null\n    }\n    return {\n      value: fulfillSegmentCacheEntry(\n        segmentCacheEntry,\n        serverData.rsc,\n        serverData.loading,\n        // TODO: The server does not currently provide per-segment stale time.\n        // So we use the stale time of the route.\n        route.staleAt,\n        serverData.isPartial\n      ),\n      // Return a promise that resolves when the network connection closes, so\n      // the scheduler can track the number of concurrent network connections.\n      closed: closed.promise,\n    }\n  } catch (error) {\n    // Either the connection itself failed, or something bad happened while\n    // decoding the response.\n    rejectSegmentCacheEntry(segmentCacheEntry, Date.now() + 10 * 1000)\n    return null\n  }\n}\n\nexport async function fetchSegmentPrefetchesUsingDynamicRequest(\n  task: PrefetchTask,\n  route: FulfilledRouteCacheEntry,\n  fetchStrategy:\n    | FetchStrategy.LoadingBoundary\n    | FetchStrategy.PPRRuntime\n    | FetchStrategy.Full,\n  dynamicRequestTree: FlightRouterState,\n  spawnedEntries: Map<SegmentCacheKey, PendingSegmentCacheEntry>\n): Promise<PrefetchSubtaskResult<null> | null> {\n  const url = new URL(route.canonicalUrl, task.key.href)\n  const nextUrl = task.key.nextUrl\n  const headers: RequestHeaders = {\n    [RSC_HEADER]: '1',\n    [NEXT_ROUTER_STATE_TREE_HEADER]:\n      prepareFlightRouterStateForRequest(dynamicRequestTree),\n  }\n  if (nextUrl !== null) {\n    headers[NEXT_URL] = nextUrl\n  }\n  switch (fetchStrategy) {\n    case FetchStrategy.Full: {\n      // We omit the prefetch header from a full prefetch because it's essentially\n      // just a navigation request that happens ahead of time — it should include\n      // all the same data in the response.\n      break\n    }\n    case FetchStrategy.PPRRuntime: {\n      headers[NEXT_ROUTER_PREFETCH_HEADER] = '2'\n      break\n    }\n    case FetchStrategy.LoadingBoundary: {\n      headers[NEXT_ROUTER_PREFETCH_HEADER] = '1'\n      break\n    }\n    default: {\n      fetchStrategy satisfies never\n    }\n  }\n\n  try {\n    const response = await fetchPrefetchResponse(url, headers)\n    if (!response || !response.ok || !response.body) {\n      // Server responded with an error, or with a miss. We should still cache\n      // the response, but we can try again after 10 seconds.\n      rejectSegmentEntriesIfStillPending(spawnedEntries, Date.now() + 10 * 1000)\n      return null\n    }\n\n    const renderedSearch = getRenderedSearch(response)\n    if (renderedSearch !== route.renderedSearch) {\n      // The search params that were used to render the target page are\n      // different from the search params in the request URL. This only happens\n      // when there's a dynamic rewrite in between the tree prefetch and the\n      // data prefetch.\n      // TODO: For now, since this is an edge case, we reject the prefetch, but\n      // the proper way to handle this is to evict the stale route tree entry\n      // then fill the cache with the new response.\n      rejectSegmentEntriesIfStillPending(spawnedEntries, Date.now() + 10 * 1000)\n      return null\n    }\n\n    // Track when the network connection closes.\n    const closed = createPromiseWithResolvers<void>()\n\n    let fulfilledEntries: Array<FulfilledSegmentCacheEntry> | null = null\n    const prefetchStream = createPrefetchResponseStream(\n      response.body,\n      closed.resolve,\n      function onResponseSizeUpdate(totalBytesReceivedSoFar) {\n        // When processing a dynamic response, we don't know how large each\n        // individual segment is, so approximate by assiging each segment\n        // the average of the total response size.\n        if (fulfilledEntries === null) {\n          // Haven't received enough data yet to know which segments\n          // were included.\n          return\n        }\n        const averageSize = totalBytesReceivedSoFar / fulfilledEntries.length\n        for (const entry of fulfilledEntries) {\n          segmentCacheLru.updateSize(entry, averageSize)\n        }\n      }\n    )\n    const serverData = await (createFromNextReadableStream(\n      prefetchStream,\n      headers\n    ) as Promise<NavigationFlightResponse>)\n\n    const isResponsePartial =\n      fetchStrategy === FetchStrategy.PPRRuntime\n        ? // A runtime prefetch may have holes.\n          !!response.headers.get(NEXT_DID_POSTPONE_HEADER)\n        : // Full and LoadingBoundary prefetches cannot have holes.\n          // (even if we did set the prefetch header, we only use this codepath for non-PPR-enabled routes)\n          false\n\n    // Aside from writing the data into the cache, this function also returns\n    // the entries that were fulfilled, so we can streamingly update their sizes\n    // in the LRU as more data comes in.\n    fulfilledEntries = writeDynamicRenderResponseIntoCache(\n      Date.now(),\n      task,\n      fetchStrategy,\n      response as RSCResponse<NavigationFlightResponse>,\n      serverData,\n      isResponsePartial,\n      route,\n      spawnedEntries\n    )\n\n    // Return a promise that resolves when the network connection closes, so\n    // the scheduler can track the number of concurrent network connections.\n    return { value: null, closed: closed.promise }\n  } catch (error) {\n    rejectSegmentEntriesIfStillPending(spawnedEntries, Date.now() + 10 * 1000)\n    return null\n  }\n}\n\nfunction writeDynamicTreeResponseIntoCache(\n  now: number,\n  task: PrefetchTask,\n  fetchStrategy:\n    | FetchStrategy.LoadingBoundary\n    | FetchStrategy.PPRRuntime\n    | FetchStrategy.Full,\n  response: RSCResponse<NavigationFlightResponse>,\n  serverData: NavigationFlightResponse,\n  entry: PendingRouteCacheEntry,\n  couldBeIntercepted: boolean,\n  canonicalUrl: string,\n  routeIsPPREnabled: boolean\n) {\n  // Get the URL that was used to render the target page. This may be different\n  // from the URL in the request URL, if the page was rewritten.\n  const renderedSearch = getRenderedSearch(response)\n\n  const normalizedFlightDataResult = normalizeFlightData(serverData.f)\n  if (\n    // A string result means navigating to this route will result in an\n    // MPA navigation.\n    typeof normalizedFlightDataResult === 'string' ||\n    normalizedFlightDataResult.length !== 1\n  ) {\n    rejectRouteCacheEntry(entry, now + 10 * 1000)\n    return\n  }\n  const flightData = normalizedFlightDataResult[0]\n  if (!flightData.isRootRender) {\n    // Unexpected response format.\n    rejectRouteCacheEntry(entry, now + 10 * 1000)\n    return\n  }\n\n  const flightRouterState = flightData.tree\n  // TODO: Extract to function\n  const staleTimeHeaderSeconds = response.headers.get(\n    NEXT_ROUTER_STALE_TIME_HEADER\n  )\n  const staleTimeMs =\n    staleTimeHeaderSeconds !== null\n      ? getStaleTimeMs(parseInt(staleTimeHeaderSeconds, 10))\n      : STATIC_STALETIME_MS\n\n  // If the response contains dynamic holes, then we must conservatively assume\n  // that any individual segment might contain dynamic holes, and also the\n  // head. If it did not contain dynamic holes, then we can assume every segment\n  // and the head is completely static.\n  const isResponsePartial =\n    response.headers.get(NEXT_DID_POSTPONE_HEADER) === '1'\n\n  // Since this is a dynamic response, we must conservatively assume that the\n  // head responded with dynamic data.\n  const isHeadDynamic = true\n\n  const fulfilledEntry = fulfillRouteCacheEntry(\n    entry,\n    convertRootFlightRouterStateToRouteTree(flightRouterState),\n    flightData.head,\n    flightData.isHeadPartial,\n    now + staleTimeMs,\n    couldBeIntercepted,\n    canonicalUrl,\n    renderedSearch,\n    routeIsPPREnabled,\n    isHeadDynamic\n  )\n\n  // If the server sent segment data as part of the response, we should write\n  // it into the cache to prevent a second, redundant prefetch request.\n  //\n  // TODO: When `clientSegmentCache` is enabled, the server does not include\n  // segment data when responding to a route tree prefetch request. However,\n  // when `clientSegmentCache` is set to \"client-only\", and PPR is enabled (or\n  // the page is fully static), the normal check is bypassed and the server\n  // responds with the full page. This is a temporary situation until we can\n  // remove the \"client-only\" option. Then, we can delete this function call.\n  writeDynamicRenderResponseIntoCache(\n    now,\n    task,\n    fetchStrategy,\n    response,\n    serverData,\n    isResponsePartial,\n    fulfilledEntry,\n    null\n  )\n}\n\nfunction rejectSegmentEntriesIfStillPending(\n  entries: Map<SegmentCacheKey, SegmentCacheEntry>,\n  staleAt: number\n): Array<FulfilledSegmentCacheEntry> {\n  const fulfilledEntries = []\n  for (const entry of entries.values()) {\n    if (entry.status === EntryStatus.Pending) {\n      rejectSegmentCacheEntry(entry, staleAt)\n    } else if (entry.status === EntryStatus.Fulfilled) {\n      fulfilledEntries.push(entry)\n    }\n  }\n  return fulfilledEntries\n}\n\nfunction writeDynamicRenderResponseIntoCache(\n  now: number,\n  task: PrefetchTask,\n  fetchStrategy:\n    | FetchStrategy.LoadingBoundary\n    | FetchStrategy.PPRRuntime\n    | FetchStrategy.Full,\n  response: RSCResponse<NavigationFlightResponse>,\n  serverData: NavigationFlightResponse,\n  isResponsePartial: boolean,\n  route: FulfilledRouteCacheEntry,\n  spawnedEntries: Map<SegmentCacheKey, PendingSegmentCacheEntry> | null\n): Array<FulfilledSegmentCacheEntry> | null {\n  if (serverData.b !== getAppBuildId()) {\n    // The server build does not match the client. Treat as a 404. During\n    // an actual navigation, the router will trigger an MPA navigation.\n    // TODO: Consider moving the build ID to a response header so we can check\n    // it before decoding the response, and so there's one way of checking\n    // across all response types.\n    if (spawnedEntries !== null) {\n      rejectSegmentEntriesIfStillPending(spawnedEntries, now + 10 * 1000)\n    }\n    return null\n  }\n\n  const flightDatas = normalizeFlightData(serverData.f)\n  if (typeof flightDatas === 'string') {\n    // This means navigating to this route will result in an MPA navigation.\n    // TODO: We should cache this, too, so that the MPA navigation is immediate.\n    return null\n  }\n\n  const staleTimeHeaderSeconds = response.headers.get(\n    NEXT_ROUTER_STALE_TIME_HEADER\n  )\n  const staleTimeMs =\n    staleTimeHeaderSeconds !== null\n      ? getStaleTimeMs(parseInt(staleTimeHeaderSeconds, 10))\n      : STATIC_STALETIME_MS\n  const staleAt = now + staleTimeMs\n\n  for (const flightData of flightDatas) {\n    const seedData = flightData.seedData\n    if (seedData !== null) {\n      // The data sent by the server represents only a subtree of the app. We\n      // need to find the part of the task tree that matches the response.\n      //\n      // segmentPath represents the parent path of subtree. It's a repeating\n      // pattern of parallel route key and segment:\n      //\n      //   [string, Segment, string, Segment, string, Segment, ...]\n      const segmentPath = flightData.segmentPath\n      let requestKey = ROOT_SEGMENT_REQUEST_KEY\n      let cacheKey = ROOT_SEGMENT_CACHE_KEY\n      for (let i = 0; i < segmentPath.length; i += 2) {\n        const parallelRouteKey: string = segmentPath[i]\n        const segment: FlightRouterStateSegment = segmentPath[i + 1]\n        const requestKeyPart = createSegmentRequestKeyPart(segment)\n        requestKey = appendSegmentRequestKeyPart(\n          requestKey,\n          parallelRouteKey,\n          requestKeyPart\n        )\n        cacheKey = appendSegmentCacheKeyPart(\n          cacheKey,\n          parallelRouteKey,\n          createSegmentCacheKeyPart(requestKeyPart, segment)\n        )\n      }\n\n      writeSeedDataIntoCache(\n        now,\n        task,\n        fetchStrategy,\n        route,\n        staleAt,\n        flightData.tree,\n        seedData,\n        isResponsePartial,\n        cacheKey,\n        requestKey,\n        spawnedEntries\n      )\n    }\n\n    // During a dynamic request, the server sends back new head data for the\n    // page. Overwrite the existing head with the new one. Note that we're\n    // intentionally not taking into account whether the existing head is\n    // already complete, even though the incoming head might not have finished\n    // streaming in yet. This is to prioritize consistency of the head with\n    // the segment data (though it's still not a guarantee, since some of the\n    // segment data may be reused from a previous request).\n    route.head = flightData.head\n    route.isHeadPartial = flightData.isHeadPartial\n    route.TODO_isHeadDynamic = true\n\n    // TODO: Currently the stale time of the route tree represents the\n    // stale time of both the route tree *and* all the segment data. So we\n    // can't just overwrite this field; we have to use whichever value is\n    // lower. In the future, though, the plan is to track segment lifetimes\n    // separately from the route tree lifetime.\n    if (staleAt < route.staleAt) {\n      route.staleAt = staleAt\n    }\n  }\n  // Any entry that's still pending was intentionally not rendered by the\n  // server, because it was inside the loading boundary. Mark them as rejected\n  // so we know not to fetch them again.\n  // TODO: If PPR is enabled on some routes but not others, then it's possible\n  // that a different page is able to do a per-segment prefetch of one of the\n  // segments we're marking as rejected here. We should mark on the segment\n  // somehow that the reason for the rejection is because of a non-PPR prefetch.\n  // That way a per-segment prefetch knows to disregard the rejection.\n  if (spawnedEntries !== null) {\n    const fulfilledEntries = rejectSegmentEntriesIfStillPending(\n      spawnedEntries,\n      now + 10 * 1000\n    )\n    return fulfilledEntries\n  }\n  return null\n}\n\nfunction writeSeedDataIntoCache(\n  now: number,\n  task: PrefetchTask,\n  fetchStrategy:\n    | FetchStrategy.LoadingBoundary\n    | FetchStrategy.PPRRuntime\n    | FetchStrategy.Full,\n  route: FulfilledRouteCacheEntry,\n  staleAt: number,\n  flightRouterState: FlightRouterState,\n  seedData: CacheNodeSeedData,\n  isResponsePartial: boolean,\n  cacheKey: SegmentCacheKey,\n  requestKey: SegmentRequestKey,\n  entriesOwnedByCurrentTask: Map<\n    SegmentCacheKey,\n    PendingSegmentCacheEntry\n  > | null\n) {\n  // This function is used to write the result of a dynamic server request\n  // (CacheNodeSeedData) into the prefetch cache. It's used in cases where we\n  // want to treat a dynamic response as if it were static. The two examples\n  // where this happens are <Link prefetch={true}> (which implicitly opts\n  // dynamic data into being static) and when prefetching a PPR-disabled route\n  const rsc = seedData[0]\n  const loading = seedData[2]\n  const isPartial = rsc === null || isResponsePartial\n\n  // We should only write into cache entries that are owned by us. Or create\n  // a new one and write into that. We must never write over an entry that was\n  // created by a different task, because that causes data races.\n  const ownedEntry =\n    entriesOwnedByCurrentTask !== null\n      ? entriesOwnedByCurrentTask.get(cacheKey)\n      : undefined\n  if (ownedEntry !== undefined) {\n    fulfillSegmentCacheEntry(ownedEntry, rsc, loading, staleAt, isPartial)\n  } else {\n    // There's no matching entry. Attempt to create a new one.\n    const possiblyNewEntry = readOrCreateSegmentCacheEntry(\n      now,\n      fetchStrategy,\n      route,\n      cacheKey\n    )\n    if (possiblyNewEntry.status === EntryStatus.Empty) {\n      // Confirmed this is a new entry. We can fulfill it.\n      const newEntry = possiblyNewEntry\n      fulfillSegmentCacheEntry(\n        upgradeToPendingSegment(newEntry, fetchStrategy),\n        rsc,\n        loading,\n        staleAt,\n        isPartial\n      )\n    } else {\n      // There was already an entry in the cache. But we may be able to\n      // replace it with the new one from the server.\n      const newEntry = fulfillSegmentCacheEntry(\n        upgradeToPendingSegment(\n          createDetachedSegmentCacheEntry(staleAt),\n          fetchStrategy\n        ),\n        rsc,\n        loading,\n        staleAt,\n        isPartial\n      )\n      upsertSegmentEntry(\n        now,\n        getSegmentKeypath(fetchStrategy, route, cacheKey),\n        newEntry\n      )\n    }\n  }\n  // Recursively write the child data into the cache.\n  const flightRouterStateChildren = flightRouterState[1]\n  const seedDataChildren = seedData[1]\n  for (const parallelRouteKey in flightRouterStateChildren) {\n    const childFlightRouterState = flightRouterStateChildren[parallelRouteKey]\n    const childSeedData: CacheNodeSeedData | null | void =\n      seedDataChildren[parallelRouteKey]\n    if (childSeedData !== null && childSeedData !== undefined) {\n      const childSegment = childFlightRouterState[0]\n      const childRequestKeyPart = createSegmentRequestKeyPart(childSegment)\n      const childRequestKey = appendSegmentRequestKeyPart(\n        requestKey,\n        parallelRouteKey,\n        childRequestKeyPart\n      )\n      const childCacheKey = appendSegmentCacheKeyPart(\n        cacheKey,\n        parallelRouteKey,\n        createSegmentCacheKeyPart(childRequestKeyPart, childSegment)\n      )\n      writeSeedDataIntoCache(\n        now,\n        task,\n        fetchStrategy,\n        route,\n        staleAt,\n        childFlightRouterState,\n        childSeedData,\n        isResponsePartial,\n        childCacheKey,\n        childRequestKey,\n        entriesOwnedByCurrentTask\n      )\n    }\n  }\n}\n\nasync function fetchPrefetchResponse<T>(\n  url: URL,\n  headers: RequestHeaders\n): Promise<RSCResponse<T> | null> {\n  const fetchPriority = 'low'\n  // When issuing a prefetch request, don't immediately decode the response; we\n  // use the lower level `createFromResponse` API instead because we need to do\n  // some extra processing of the response stream. See\n  // `createPrefetchResponseStream` for more details.\n  const shouldImmediatelyDecode = false\n  const response = await createFetch<T>(\n    url,\n    headers,\n    fetchPriority,\n    shouldImmediatelyDecode\n  )\n  if (!response.ok) {\n    return null\n  }\n\n  // Check the content type\n  if (isOutputExportMode) {\n    // In output: \"export\" mode, we relaxed about the content type, since it's\n    // not Next.js that's serving the response. If the status is OK, assume the\n    // response is valid. If it's not a valid response, the Flight client won't\n    // be able to decode it, and we'll treat it as a miss.\n  } else {\n    const contentType = response.headers.get('content-type')\n    const isFlightResponse =\n      contentType && contentType.startsWith(RSC_CONTENT_TYPE_HEADER)\n    if (!isFlightResponse) {\n      return null\n    }\n  }\n  return response\n}\n\nfunction createPrefetchResponseStream(\n  originalFlightStream: ReadableStream<Uint8Array>,\n  onStreamClose: () => void,\n  onResponseSizeUpdate: (size: number) => void\n): ReadableStream<Uint8Array> {\n  // When PPR is enabled, prefetch streams may contain references that never\n  // resolve, because that's how we encode dynamic data access. In the decoded\n  // object returned by the Flight client, these are reified into hanging\n  // promises that suspend during render, which is effectively what we want.\n  // The UI resolves when it switches to the dynamic data stream\n  // (via useDeferredValue(dynamic, static)).\n  //\n  // However, the Flight implementation currently errors if the server closes\n  // the response before all the references are resolved. As a cheat to work\n  // around this, we wrap the original stream in a new stream that never closes,\n  // and therefore doesn't error.\n  //\n  // While processing the original stream, we also incrementally update the size\n  // of the cache entry in the LRU.\n  let totalByteLength = 0\n  const reader = originalFlightStream.getReader()\n  return new ReadableStream({\n    async pull(controller) {\n      while (true) {\n        const { done, value } = await reader.read()\n        if (!done) {\n          // Pass to the target stream and keep consuming the Flight response\n          // from the server.\n          controller.enqueue(value)\n\n          // Incrementally update the size of the cache entry in the LRU.\n          // NOTE: Since prefetch responses are delivered in a single chunk,\n          // it's not really necessary to do this streamingly, but I'm doing it\n          // anyway in case this changes in the future.\n          totalByteLength += value.byteLength\n          onResponseSizeUpdate(totalByteLength)\n          continue\n        }\n        // The server stream has closed. Exit, but intentionally do not close\n        // the target stream. We do notify the caller, though.\n        onStreamClose()\n        return\n      }\n    },\n  })\n}\n\nfunction addSegmentPathToUrlInOutputExportMode(\n  url: URL,\n  segmentPath: SegmentRequestKey\n): URL {\n  if (isOutputExportMode) {\n    // In output: \"export\" mode, we cannot use a header to encode the segment\n    // path. Instead, we append it to the end of the pathname.\n    const staticUrl = new URL(url)\n    const routeDir = staticUrl.pathname.endsWith('/')\n      ? staticUrl.pathname.slice(0, -1)\n      : staticUrl.pathname\n    const staticExportFilename =\n      convertSegmentPathToStaticExportFilename(segmentPath)\n    staticUrl.pathname = `${routeDir}/${staticExportFilename}`\n    return staticUrl\n  }\n  return url\n}\n\n/**\n * Checks whether the new fetch strategy is likely to provide more content than the old one.\n *\n * Generally, when an app uses dynamic data, a \"more specific\" fetch strategy is expected to provide more content:\n * - `LoadingBoundary` only provides static layouts\n * - `PPR` can provide shells for each segment (even for segments that use dynamic data)\n * - `PPRRuntime` can additionally include content that uses searchParams, params, or cookies\n * - `Full` includes all the content, even if it uses dynamic data\n *\n * However, it's possible that a more specific fetch strategy *won't* give us more content if:\n * - a segment is fully static\n *   (then, `PPR`/`PPRRuntime`/`Full` will all yield equivalent results)\n * - providing searchParams/params/cookies doesn't reveal any more content, e.g. because of an `await connection()`\n *   (then, `PPR` and `PPRRuntime` will yield equivalent results, only `Full` will give us more)\n * Because of this, when comparing two segments, we should also check if the existing segment is partial.\n * If it's not partial, then there's no need to prefetch it again, even using a \"more specific\" strategy.\n * There's currently no way to know if `PPRRuntime` will yield more data that `PPR`, so we have to assume it will.\n *\n * Also note that, in practice, we don't expect to be comparing `LoadingBoundary` to `PPR`/`PPRRuntime`,\n * because a non-PPR-enabled route wouldn't ever use the latter strategies. It might however use `Full`.\n */\nexport function canNewFetchStrategyProvideMoreContent(\n  currentStrategy: FetchStrategy,\n  newStrategy: FetchStrategy\n): boolean {\n  return currentStrategy < newStrategy\n}\n","import type {\n  FlightRouterState,\n  Segment as FlightRouterStateSegment,\n  Segment,\n} from '../../../shared/lib/app-router-types'\nimport { HasLoadingBoundary } from '../../../shared/lib/app-router-types'\nimport { matchSegment } from '../match-segments'\nimport {\n  readOrCreateRouteCacheEntry,\n  readOrCreateSegmentCacheEntry,\n  fetchRouteOnCacheMiss,\n  fetchSegmentOnCacheMiss,\n  EntryStatus,\n  type FulfilledRouteCacheEntry,\n  type RouteCacheEntry,\n  type SegmentCacheEntry,\n  type RouteTree,\n  fetchSegmentPrefetchesUsingDynamicRequest,\n  type PendingSegmentCacheEntry,\n  convertRouteTreeToFlightRouterState,\n  readOrCreateRevalidatingSegmentEntry,\n  upsertSegmentEntry,\n  type FulfilledSegmentCacheEntry,\n  upgradeToPendingSegment,\n  waitForSegmentCacheEntry,\n  resetRevalidatingSegmentEntry,\n  getSegmentKeypath,\n  canNewFetchStrategyProvideMoreContent,\n} from './cache'\nimport type { RouteCacheKey } from './cache-key'\nimport { createCacheKey } from './cache-key'\nimport {\n  FetchStrategy,\n  type PrefetchTaskFetchStrategy,\n  getCurrentCacheVersion,\n  PrefetchPriority,\n} from '../segment-cache'\nimport {\n  addSearchParamsIfPageSegment,\n  PAGE_SEGMENT_KEY,\n} from '../../../shared/lib/segment'\nimport type { SegmentCacheKey } from '../../../shared/lib/segment-cache/segment-value-encoding'\n\nconst scheduleMicrotask =\n  typeof queueMicrotask === 'function'\n    ? queueMicrotask\n    : (fn: () => unknown) =>\n        Promise.resolve()\n          .then(fn)\n          .catch((error) =>\n            setTimeout(() => {\n              throw error\n            })\n          )\n\nexport type PrefetchTask = {\n  key: RouteCacheKey\n\n  /**\n   * The FlightRouterState at the time the task was initiated. This is needed\n   * when falling back to the non-PPR behavior, which only prefetches up to\n   * the first loading boundary.\n   */\n  treeAtTimeOfPrefetch: FlightRouterState\n\n  /**\n   * The cache version at the time the task was initiated. This is used to\n   * determine if the cache was invalidated since the task was initiated.\n   */\n  cacheVersion: number\n\n  /**\n   * Whether to prefetch dynamic data, in addition to static data. This is\n   * used by `<Link prefetch={true}>`.\n   *\n   * Note that a task with `FetchStrategy.PPR` might need to use\n   * `FetchStrategy.LoadingBoundary` instead if we find out that a route\n   * does not support PPR after doing the initial route prefetch.\n   */\n  fetchStrategy: PrefetchTaskFetchStrategy\n\n  /**\n   * sortId is an incrementing counter\n   *\n   * Newer prefetches are prioritized over older ones, so that as new links\n   * enter the viewport, they are not starved by older links that are no\n   * longer relevant. In the future, we can add additional prioritization\n   * heuristics, like removing prefetches once a link leaves the viewport.\n   *\n   * The sortId is assigned when the prefetch is initiated, and reassigned if\n   * the same task is prefetched again (effectively bumping it to the top of\n   * the queue).\n   *\n   * TODO: We can add additional fields here to indicate what kind of prefetch\n   * it is. For example, was it initiated by a link? Or was it an imperative\n   * call? If it was initiated by a link, we can remove it from the queue when\n   * the link leaves the viewport, but if it was an imperative call, then we\n   * should keep it in the queue until it's fulfilled.\n   *\n   * We can also add priority levels. For example, hovering over a link could\n   * increase the priority of its prefetch.\n   */\n  sortId: number\n\n  /**\n   * The priority of the task. Like sortId, this affects the task's position in\n   * the queue, so it must never be updated without resifting the heap.\n   */\n  priority: PrefetchPriority\n\n  /**\n   * The phase of the task. Tasks are split into multiple phases so that their\n   * priority can be adjusted based on what kind of work they're doing.\n   * Concretely, prefetching the route tree is higher priority than prefetching\n   * segment data.\n   */\n  phase: PrefetchPhase\n\n  /**\n   * These fields are temporary state for tracking the currently running task.\n   * They are reset after each iteration of the task queue.\n   */\n  hasBackgroundWork: boolean\n  spawnedRuntimePrefetches: Set<SegmentCacheKey> | null\n\n  /**\n   * True if the prefetch was cancelled.\n   */\n  isCanceled: boolean\n\n  /**\n   * The callback passed to `router.prefetch`, if given.\n   */\n  onInvalidate: null | (() => void)\n\n  /**\n   * The index of the task in the heap's backing array. Used to efficiently\n   * change the priority of a task by re-sifting it, which requires knowing\n   * where it is in the array. This is only used internally by the heap\n   * algorithm. The naive alternative is indexOf every time a task is queued,\n   * which has O(n) complexity.\n   *\n   * We also use this field to check whether a task is currently in the queue.\n   */\n  _heapIndex: number\n}\n\nconst enum PrefetchTaskExitStatus {\n  /**\n   * The task yielded because there are too many requests in progress.\n   */\n  InProgress,\n\n  /**\n   * The task is blocked. It needs more data before it can proceed.\n   *\n   * Currently the only reason this happens is we're still waiting to receive a\n   * route tree from the server, because we can't start prefetching the segments\n   * until we know what to prefetch.\n   */\n  Blocked,\n\n  /**\n   * There's nothing left to prefetch.\n   */\n  Done,\n}\n\n/**\n * Prefetch tasks are processed in two phases: first the route tree is fetched,\n * then the segments. We use this to priortize tasks that have not yet fetched\n * the route tree.\n */\nconst enum PrefetchPhase {\n  RouteTree = 1,\n  Segments = 0,\n}\n\nexport type PrefetchSubtaskResult<T> = {\n  /**\n   * A promise that resolves when the network connection is closed.\n   */\n  closed: Promise<void>\n  value: T\n}\n\nconst taskHeap: Array<PrefetchTask> = []\n\nlet inProgressRequests = 0\n\nlet sortIdCounter = 0\nlet didScheduleMicrotask = false\n\n// The most recently hovered (or touched, etc) link, i.e. the most recent task\n// scheduled at Intent priority. There's only ever a single task at Intent\n// priority at a time. We reserve special network bandwidth for this task only.\nlet mostRecentlyHoveredLink: PrefetchTask | null = null\n\n// CDN cache propagation delay after revalidation (in milliseconds)\nconst REVALIDATION_COOLDOWN_MS = 300\n\n// Timeout handle for the revalidation cooldown. When non-null, prefetch\n// requests are blocked to allow CDN cache propagation.\nlet revalidationCooldownTimeoutHandle: ReturnType<typeof setTimeout> | null =\n  null\n\n/**\n * Called by the cache when revalidation occurs. Starts a cooldown period\n * during which prefetch requests are blocked to allow CDN cache propagation.\n */\nexport function startRevalidationCooldown(): void {\n  // Clear any existing timeout in case multiple revalidations happen\n  // in quick succession.\n  if (revalidationCooldownTimeoutHandle !== null) {\n    clearTimeout(revalidationCooldownTimeoutHandle)\n  }\n\n  // Schedule the cooldown to expire after the delay.\n  revalidationCooldownTimeoutHandle = setTimeout(() => {\n    revalidationCooldownTimeoutHandle = null\n    // Retry the prefetch queue now that the cooldown has expired.\n    ensureWorkIsScheduled()\n  }, REVALIDATION_COOLDOWN_MS)\n}\n\nexport type IncludeDynamicData = null | 'full' | 'dynamic'\n\n/**\n * Initiates a prefetch task for the given URL. If a prefetch for the same URL\n * is already in progress, this will bump it to the top of the queue.\n *\n * This is not a user-facing function. By the time this is called, the href is\n * expected to be validated and normalized.\n *\n * @param key The RouteCacheKey to prefetch.\n * @param treeAtTimeOfPrefetch The app's current FlightRouterState\n * @param fetchStrategy Whether to prefetch dynamic data, in addition to\n * static data. This is used by `<Link prefetch={true}>`.\n */\nexport function schedulePrefetchTask(\n  key: RouteCacheKey,\n  treeAtTimeOfPrefetch: FlightRouterState,\n  fetchStrategy: PrefetchTaskFetchStrategy,\n  priority: PrefetchPriority,\n  onInvalidate: null | (() => void)\n): PrefetchTask {\n  // Spawn a new prefetch task\n  const task: PrefetchTask = {\n    key,\n    treeAtTimeOfPrefetch,\n    cacheVersion: getCurrentCacheVersion(),\n    priority,\n    phase: PrefetchPhase.RouteTree,\n    hasBackgroundWork: false,\n    spawnedRuntimePrefetches: null,\n    fetchStrategy,\n    sortId: sortIdCounter++,\n    isCanceled: false,\n    onInvalidate,\n    _heapIndex: -1,\n  }\n\n  trackMostRecentlyHoveredLink(task)\n\n  heapPush(taskHeap, task)\n\n  // Schedule an async task to process the queue.\n  //\n  // The main reason we process the queue in an async task is for batching.\n  // It's common for a single JS task/event to trigger multiple prefetches.\n  // By deferring to a microtask, we only process the queue once per JS task.\n  // If they have different priorities, it also ensures they are processed in\n  // the optimal order.\n  ensureWorkIsScheduled()\n\n  return task\n}\n\nexport function cancelPrefetchTask(task: PrefetchTask): void {\n  // Remove the prefetch task from the queue. If the task already completed,\n  // then this is a no-op.\n  //\n  // We must also explicitly mark the task as canceled so that a blocked task\n  // does not get added back to the queue when it's pinged by the network.\n  task.isCanceled = true\n  heapDelete(taskHeap, task)\n}\n\nexport function reschedulePrefetchTask(\n  task: PrefetchTask,\n  treeAtTimeOfPrefetch: FlightRouterState,\n  fetchStrategy: PrefetchTaskFetchStrategy,\n  priority: PrefetchPriority\n): void {\n  // Bump the prefetch task to the top of the queue, as if it were a fresh\n  // task. This is essentially the same as canceling the task and scheduling\n  // a new one, except it reuses the original object.\n  //\n  // The primary use case is to increase the priority of a Link-initated\n  // prefetch on hover.\n\n  // Un-cancel the task, in case it was previously canceled.\n  task.isCanceled = false\n  task.phase = PrefetchPhase.RouteTree\n\n  // Assign a new sort ID to move it ahead of all other tasks at the same\n  // priority level. (Higher sort IDs are processed first.)\n  task.sortId = sortIdCounter++\n  task.priority =\n    // If this task is the most recently hovered link, maintain its\n    // Intent priority, even if the rescheduled priority is lower.\n    task === mostRecentlyHoveredLink ? PrefetchPriority.Intent : priority\n\n  task.treeAtTimeOfPrefetch = treeAtTimeOfPrefetch\n  task.fetchStrategy = fetchStrategy\n\n  trackMostRecentlyHoveredLink(task)\n\n  if (task._heapIndex !== -1) {\n    // The task is already in the queue.\n    heapResift(taskHeap, task)\n  } else {\n    heapPush(taskHeap, task)\n  }\n  ensureWorkIsScheduled()\n}\n\nexport function isPrefetchTaskDirty(\n  task: PrefetchTask,\n  nextUrl: string | null,\n  tree: FlightRouterState\n): boolean {\n  // This is used to quickly bail out of a prefetch task if the result is\n  // guaranteed to not have changed since the task was initiated. This is\n  // strictly an optimization — theoretically, if it always returned true, no\n  // behavior should change because a full prefetch task will effectively\n  // perform the same checks.\n  const currentCacheVersion = getCurrentCacheVersion()\n  return (\n    task.cacheVersion !== currentCacheVersion ||\n    task.treeAtTimeOfPrefetch !== tree ||\n    task.key.nextUrl !== nextUrl\n  )\n}\n\nfunction trackMostRecentlyHoveredLink(task: PrefetchTask) {\n  // Track the mostly recently hovered link, i.e. the most recently scheduled\n  // task at Intent priority. There must only be one such task at a time.\n  if (\n    task.priority === PrefetchPriority.Intent &&\n    task !== mostRecentlyHoveredLink\n  ) {\n    if (mostRecentlyHoveredLink !== null) {\n      // Bump the previously hovered link's priority down to Default.\n      if (mostRecentlyHoveredLink.priority !== PrefetchPriority.Background) {\n        mostRecentlyHoveredLink.priority = PrefetchPriority.Default\n        heapResift(taskHeap, mostRecentlyHoveredLink)\n      }\n    }\n    mostRecentlyHoveredLink = task\n  }\n}\n\nfunction ensureWorkIsScheduled() {\n  if (didScheduleMicrotask) {\n    // Already scheduled a task to process the queue\n    return\n  }\n  didScheduleMicrotask = true\n  scheduleMicrotask(processQueueInMicrotask)\n}\n\n/**\n * Checks if we've exceeded the maximum number of concurrent prefetch requests,\n * to avoid saturating the browser's internal network queue. This is a\n * cooperative limit — prefetch tasks should check this before issuing\n * new requests.\n *\n * Also checks if we're within the revalidation cooldown window, during which\n * prefetch requests are delayed to allow CDN cache propagation.\n */\nfunction hasNetworkBandwidth(task: PrefetchTask): boolean {\n  // Check if we're within the revalidation cooldown window\n  if (revalidationCooldownTimeoutHandle !== null) {\n    // We're within the cooldown window. Return false to prevent prefetching.\n    // When the cooldown expires, the timeout will call ensureWorkIsScheduled()\n    // to retry the queue.\n    return false\n  }\n\n  // TODO: Also check if there's an in-progress navigation. We should never\n  // add prefetch requests to the network queue if an actual navigation is\n  // taking place, to ensure there's sufficient bandwidth for render-blocking\n  // data and resources.\n\n  // TODO: Consider reserving some amount of bandwidth for static prefetches.\n\n  if (task.priority === PrefetchPriority.Intent) {\n    // The most recently hovered link is allowed to exceed the default limit.\n    //\n    // The goal is to always have enough bandwidth to start a new prefetch\n    // request when hovering over a link.\n    //\n    // However, because we don't abort in-progress requests, it's still possible\n    // we'll run out of bandwidth. When links are hovered in quick succession,\n    // there could be multiple hover requests running simultaneously.\n    return inProgressRequests < 12\n  }\n\n  // The default limit is lower than the limit for a hovered link.\n  return inProgressRequests < 4\n}\n\nfunction spawnPrefetchSubtask<T>(\n  prefetchSubtask: Promise<PrefetchSubtaskResult<T> | null>\n): Promise<T | null> {\n  // When the scheduler spawns an async task, we don't await its result.\n  // Instead, the async task writes its result directly into the cache, then\n  // pings the scheduler to continue.\n  //\n  // We process server responses streamingly, so the prefetch subtask will\n  // likely resolve before we're finished receiving all the data. The subtask\n  // result includes a promise that resolves once the network connection is\n  // closed. The scheduler uses this to control network bandwidth by tracking\n  // and limiting the number of concurrent requests.\n  inProgressRequests++\n  return prefetchSubtask.then((result) => {\n    if (result === null) {\n      // The prefetch task errored before it could start processing the\n      // network stream. Assume the connection is closed.\n      onPrefetchConnectionClosed()\n      return null\n    }\n    // Wait for the connection to close before freeing up more bandwidth.\n    result.closed.then(onPrefetchConnectionClosed)\n    return result.value\n  })\n}\n\nfunction onPrefetchConnectionClosed(): void {\n  inProgressRequests--\n\n  // Notify the scheduler that we have more bandwidth, and can continue\n  // processing tasks.\n  ensureWorkIsScheduled()\n}\n\n/**\n * Notify the scheduler that we've received new data for an in-progress\n * prefetch. The corresponding task will be added back to the queue (unless the\n * task has been canceled in the meantime).\n */\nexport function pingPrefetchTask(task: PrefetchTask) {\n  // \"Ping\" a prefetch that's already in progress to notify it of new data.\n  if (\n    // Check if prefetch was canceled.\n    task.isCanceled ||\n    // Check if prefetch is already queued.\n    task._heapIndex !== -1\n  ) {\n    return\n  }\n  // Add the task back to the queue.\n  heapPush(taskHeap, task)\n  ensureWorkIsScheduled()\n}\n\nfunction processQueueInMicrotask() {\n  didScheduleMicrotask = false\n\n  // We aim to minimize how often we read the current time. Since nearly all\n  // functions in the prefetch scheduler are synchronous, we can read the time\n  // once and pass it as an argument wherever it's needed.\n  const now = Date.now()\n\n  // Process the task queue until we run out of network bandwidth.\n  let task = heapPeek(taskHeap)\n  while (task !== null && hasNetworkBandwidth(task)) {\n    task.cacheVersion = getCurrentCacheVersion()\n\n    const exitStatus = pingRoute(now, task)\n\n    // These fields are only valid for a single attempt. Reset them after each\n    // iteration of the task queue.\n    const hasBackgroundWork = task.hasBackgroundWork\n    task.hasBackgroundWork = false\n    task.spawnedRuntimePrefetches = null\n\n    switch (exitStatus) {\n      case PrefetchTaskExitStatus.InProgress:\n        // The task yielded because there are too many requests in progress.\n        // Stop processing tasks until we have more bandwidth.\n        return\n      case PrefetchTaskExitStatus.Blocked:\n        // The task is blocked. It needs more data before it can proceed.\n        // Keep the task out of the queue until the server responds.\n        heapPop(taskHeap)\n        // Continue to the next task\n        task = heapPeek(taskHeap)\n        continue\n      case PrefetchTaskExitStatus.Done:\n        if (task.phase === PrefetchPhase.RouteTree) {\n          // Finished prefetching the route tree. Proceed to prefetching\n          // the segments.\n          task.phase = PrefetchPhase.Segments\n          heapResift(taskHeap, task)\n        } else if (hasBackgroundWork) {\n          // The task spawned additional background work. Reschedule the task\n          // at background priority.\n          task.priority = PrefetchPriority.Background\n          heapResift(taskHeap, task)\n        } else {\n          // The prefetch is complete. Continue to the next task.\n          heapPop(taskHeap)\n        }\n        task = heapPeek(taskHeap)\n        continue\n      default:\n        exitStatus satisfies never\n    }\n  }\n}\n\n/**\n * Check this during a prefetch task to determine if background work can be\n * performed. If so, it evaluates to `true`. Otherwise, it returns `false`,\n * while also scheduling a background task to run later. Usage:\n *\n * @example\n * if (background(task)) {\n *   // Perform background-pri work\n * }\n */\nfunction background(task: PrefetchTask): boolean {\n  if (task.priority === PrefetchPriority.Background) {\n    return true\n  }\n  task.hasBackgroundWork = true\n  return false\n}\n\nfunction pingRoute(now: number, task: PrefetchTask): PrefetchTaskExitStatus {\n  const key = task.key\n  const route = readOrCreateRouteCacheEntry(now, task, key)\n  const exitStatus = pingRootRouteTree(now, task, route)\n\n  if (exitStatus !== PrefetchTaskExitStatus.InProgress && key.search !== '') {\n    // If the URL has a non-empty search string, also prefetch the pathname\n    // without the search string. We use the searchless route tree as a base for\n    // optimistic routing; see requestOptimisticRouteCacheEntry for details.\n    //\n    // Note that we don't need to prefetch any of the segment data. Just the\n    // route tree.\n    //\n    // TODO: This is a temporary solution; the plan is to replace this by adding\n    // a wildcard lookup method to the TupleMap implementation. This is\n    // non-trivial to implement because it needs to account for things like\n    // fallback route entries, hence this temporary workaround.\n    const url = new URL(key.href)\n    url.search = ''\n    const keyWithoutSearch = createCacheKey(url.href, key.nextUrl)\n    const routeWithoutSearch = readOrCreateRouteCacheEntry(\n      now,\n      task,\n      keyWithoutSearch\n    )\n    switch (routeWithoutSearch.status) {\n      case EntryStatus.Empty: {\n        if (background(task)) {\n          routeWithoutSearch.status = EntryStatus.Pending\n          spawnPrefetchSubtask(\n            fetchRouteOnCacheMiss(routeWithoutSearch, task, keyWithoutSearch)\n          )\n        }\n        break\n      }\n      case EntryStatus.Pending:\n      case EntryStatus.Fulfilled:\n      case EntryStatus.Rejected: {\n        // Either the route tree is already cached, or there's already a\n        // request in progress. Since we don't need to fetch any segment data\n        // for this route, there's nothing left to do.\n        break\n      }\n      default:\n        routeWithoutSearch satisfies never\n    }\n  }\n\n  return exitStatus\n}\n\nfunction pingRootRouteTree(\n  now: number,\n  task: PrefetchTask,\n  route: RouteCacheEntry\n): PrefetchTaskExitStatus {\n  switch (route.status) {\n    case EntryStatus.Empty: {\n      // Route is not yet cached, and there's no request already in progress.\n      // Spawn a task to request the route, load it into the cache, and ping\n      // the task to continue.\n\n      // TODO: There are multiple strategies in the <Link> API for prefetching\n      // a route. Currently we've only implemented the main one: per-segment,\n      // static-data only.\n      //\n      // There's also `<Link prefetch={true}>`\n      // which prefetch both static *and* dynamic data.\n      // Similarly, we need to fallback to the old, per-page\n      // behavior if PPR is disabled for a route (via the incremental opt-in).\n      //\n      // Those cases will be handled here.\n      spawnPrefetchSubtask(fetchRouteOnCacheMiss(route, task, task.key))\n\n      // If the request takes longer than a minute, a subsequent request should\n      // retry instead of waiting for this one. When the response is received,\n      // this value will be replaced by a new value based on the stale time sent\n      // from the server.\n      // TODO: We should probably also manually abort the fetch task, to reclaim\n      // server bandwidth.\n      route.staleAt = now + 60 * 1000\n\n      // Upgrade to Pending so we know there's already a request in progress\n      route.status = EntryStatus.Pending\n\n      // Intentional fallthrough to the Pending branch\n    }\n    case EntryStatus.Pending: {\n      // Still pending. We can't start prefetching the segments until the route\n      // tree has loaded. Add the task to the set of blocked tasks so that it\n      // is notified when the route tree is ready.\n      const blockedTasks = route.blockedTasks\n      if (blockedTasks === null) {\n        route.blockedTasks = new Set([task])\n      } else {\n        blockedTasks.add(task)\n      }\n      return PrefetchTaskExitStatus.Blocked\n    }\n    case EntryStatus.Rejected: {\n      // Route tree failed to load. Treat as a 404.\n      return PrefetchTaskExitStatus.Done\n    }\n    case EntryStatus.Fulfilled: {\n      if (task.phase !== PrefetchPhase.Segments) {\n        // Do not prefetch segment data until we've entered the segment phase.\n        return PrefetchTaskExitStatus.Done\n      }\n      // Recursively fill in the segment tree.\n      if (!hasNetworkBandwidth(task)) {\n        // Stop prefetching segments until there's more bandwidth.\n        return PrefetchTaskExitStatus.InProgress\n      }\n      const tree = route.tree\n\n      // A task's fetch strategy gets set to `PPR` for any \"auto\" prefetch.\n      // If it turned out that the route isn't PPR-enabled, we need to use `LoadingBoundary` instead.\n      // We don't need to do this for runtime prefetches, because those are only available in\n      // `cacheComponents`, where every route is PPR.\n      const fetchStrategy =\n        task.fetchStrategy === FetchStrategy.PPR\n          ? route.isPPREnabled\n            ? FetchStrategy.PPR\n            : FetchStrategy.LoadingBoundary\n          : task.fetchStrategy\n\n      switch (fetchStrategy) {\n        case FetchStrategy.PPR: {\n          // For Cache Components pages, each segment may be prefetched\n          // statically or using a runtime request, based on various\n          // configurations and heuristics. We'll do this in two passes: first\n          // traverse the tree and perform all the static prefetches.\n          //\n          // Then, if there are any segments that need a runtime request,\n          // do another pass to perform a runtime prefetch.\n          const exitStatus = pingSharedPartOfCacheComponentsTree(\n            now,\n            task,\n            route,\n            task.treeAtTimeOfPrefetch,\n            tree\n          )\n          if (exitStatus === PrefetchTaskExitStatus.InProgress) {\n            // Child yielded without finishing.\n            return PrefetchTaskExitStatus.InProgress\n          }\n          const spawnedRuntimePrefetches = task.spawnedRuntimePrefetches\n          if (spawnedRuntimePrefetches !== null) {\n            // During the first pass, we discovered segments that require a\n            // runtime prefetch. Do a second pass to construct a request tree.\n            const spawnedEntries = new Map<\n              SegmentCacheKey,\n              PendingSegmentCacheEntry\n            >()\n            const requestTree = pingRuntimePrefetches(\n              now,\n              task,\n              route,\n              tree,\n              spawnedRuntimePrefetches,\n              spawnedEntries\n            )\n            let needsDynamicRequest = spawnedEntries.size > 0\n            if (needsDynamicRequest) {\n              // Perform a dynamic prefetch request and populate the cache with\n              // the result.\n              spawnPrefetchSubtask(\n                fetchSegmentPrefetchesUsingDynamicRequest(\n                  task,\n                  route,\n                  FetchStrategy.PPRRuntime,\n                  requestTree,\n                  spawnedEntries\n                )\n              )\n            }\n          }\n          return PrefetchTaskExitStatus.Done\n        }\n        case FetchStrategy.Full:\n        case FetchStrategy.PPRRuntime:\n        case FetchStrategy.LoadingBoundary: {\n          // Prefetch multiple segments using a single dynamic request.\n          // TODO: We can consolidate this branch with previous one by modeling\n          // it as if the first segment in the new tree has runtime prefetching\n          // enabled. Will do this as a follow-up refactor. Might want to remove\n          // the special metatdata case below first. In the meantime, it's not\n          // really that much duplication, just would be nice to remove one of\n          // these codepaths.\n          const spawnedEntries = new Map<\n            SegmentCacheKey,\n            PendingSegmentCacheEntry\n          >()\n          const dynamicRequestTree = diffRouteTreeAgainstCurrent(\n            now,\n            task,\n            route,\n            task.treeAtTimeOfPrefetch,\n            tree,\n            spawnedEntries,\n            fetchStrategy\n          )\n\n          let needsDynamicRequest = spawnedEntries.size > 0\n\n          if (\n            !needsDynamicRequest &&\n            route.isHeadPartial &&\n            route.TODO_metadataStatus === EntryStatus.Empty\n          ) {\n            // All the segment data is already cached, however, we need to issue\n            // a request anyway so we can prefetch the head. Update the status\n            // field to prevent additional requests from being spawned while\n            // this one is in progress.\n            // TODO: This is a temporary, targeted solution to fix a regression\n            // we found. It exists to prevent the scheduler from sending a\n            // redundant request if there's already one in progress.\n            // Essentially, it will attempt once at most, then give up until the\n            // route entry expires or is evicted by other means. But because\n            // this doesn't have its own stale time separate from the route\n            // itself, there will be edge cases where the metadata fails to be\n            // fully prefetched. Consider caching metadata using a separate\n            // entry type so we can model this more cleanly. The circumstances\n            // that lead to this branch running in the first place are\n            // relatively rare, so it's not critical.\n            route.TODO_metadataStatus = EntryStatus.Fulfilled\n            needsDynamicRequest = true\n            // This instructs the server to only send the metadata.\n            dynamicRequestTree[3] = 'metadata-only'\n            // We can null out the children to reduce the request size, since\n            // they won't be needed.\n            dynamicRequestTree[1] = {}\n          }\n\n          if (needsDynamicRequest) {\n            // Perform a dynamic prefetch request and populate the cache with\n            // the result\n            spawnPrefetchSubtask(\n              fetchSegmentPrefetchesUsingDynamicRequest(\n                task,\n                route,\n                fetchStrategy,\n                dynamicRequestTree,\n                spawnedEntries\n              )\n            )\n          }\n          return PrefetchTaskExitStatus.Done\n        }\n        default:\n          fetchStrategy satisfies never\n      }\n      break\n    }\n    default: {\n      route satisfies never\n    }\n  }\n  return PrefetchTaskExitStatus.Done\n}\n\nfunction pingSharedPartOfCacheComponentsTree(\n  now: number,\n  task: PrefetchTask,\n  route: FulfilledRouteCacheEntry,\n  oldTree: FlightRouterState,\n  newTree: RouteTree\n): PrefetchTaskExitStatus {\n  // When Cache Components is enabled (or PPR, or a fully static route when PPR\n  // is disabled; those cases are treated equivalently to Cache Components), we\n  // start by prefetching each segment individually. Once we reach the \"new\"\n  // part of the tree — the part that doesn't exist on the current page — we\n  // may choose to switch to a runtime prefetch instead, based on the\n  // information sent by the server in the route tree.\n  //\n  // The traversal starts in the \"shared\" part of the tree. Once we reach the\n  // \"new\" part of the tree, we switch to a different traversal,\n  // pingNewPartOfCacheComponentsTree.\n\n  // Prefetch this segment's static data.\n  const segment = readOrCreateSegmentCacheEntry(\n    now,\n    task.fetchStrategy,\n    route,\n    newTree.cacheKey\n  )\n  pingStaticSegmentData(now, task, route, segment, task.key, newTree)\n\n  // Recursively ping the children.\n  const oldTreeChildren = oldTree[1]\n  const newTreeChildren = newTree.slots\n  if (newTreeChildren !== null) {\n    for (const parallelRouteKey in newTreeChildren) {\n      if (!hasNetworkBandwidth(task)) {\n        // Stop prefetching segments until there's more bandwidth.\n        return PrefetchTaskExitStatus.InProgress\n      }\n      const newTreeChild = newTreeChildren[parallelRouteKey]\n      const newTreeChildSegment = newTreeChild.segment\n      const oldTreeChild: FlightRouterState | void =\n        oldTreeChildren[parallelRouteKey]\n      const oldTreeChildSegment: FlightRouterStateSegment | void =\n        oldTreeChild?.[0]\n      let childExitStatus\n      if (\n        oldTreeChildSegment !== undefined &&\n        doesCurrentSegmentMatchCachedSegment(\n          route,\n          newTreeChildSegment,\n          oldTreeChildSegment\n        )\n      ) {\n        // We're still in the \"shared\" part of the tree.\n        childExitStatus = pingSharedPartOfCacheComponentsTree(\n          now,\n          task,\n          route,\n          oldTreeChild,\n          newTreeChild\n        )\n      } else {\n        // We've entered the \"new\" part of the tree. Switch\n        // traversal functions.\n        childExitStatus = pingNewPartOfCacheComponentsTree(\n          now,\n          task,\n          route,\n          newTreeChild\n        )\n      }\n      if (childExitStatus === PrefetchTaskExitStatus.InProgress) {\n        // Child yielded without finishing.\n        return PrefetchTaskExitStatus.InProgress\n      }\n    }\n  }\n\n  return PrefetchTaskExitStatus.Done\n}\n\nfunction pingNewPartOfCacheComponentsTree(\n  now: number,\n  task: PrefetchTask,\n  route: FulfilledRouteCacheEntry,\n  tree: RouteTree\n): PrefetchTaskExitStatus.InProgress | PrefetchTaskExitStatus.Done {\n  // We're now prefetching in the \"new\" part of the tree, the part that doesn't\n  // exist on the current page. (In other words, we're deeper than the\n  // shared layouts.) Segments in here default to being prefetched statically.\n  // However, if the server instructs us to, we may switch to a runtime\n  // prefetch instead. Traverse the tree and check at each segment.\n  if (tree.hasRuntimePrefetch) {\n    // This route has a runtime prefetch response. Since we're below the shared\n    // layout, everything from this point should be prefetched using a single,\n    // combined runtime request, rather than using per-segment static requests.\n    // This is true even if some of the child segments are known to be fully\n    // static — once we've decided to perform a runtime prefetch, we might as\n    // well respond with the static segments in the same roundtrip. (That's how\n    // regular navigations work, too.) We'll still skip over segments that are\n    // already cached, though.\n    //\n    // It's the server's responsibility to set a reasonable value of\n    // `hasRuntimePrefetch`. Currently it's user-defined, but eventually, the\n    // server may send a value of `false` even if the user opts in, if it\n    // determines during build that the route is always fully static. There are\n    // more optimizations we can do once we implement fallback param\n    // tracking, too.\n    //\n    // Use the task object to collect the segments that need a runtime prefetch.\n    // This will signal to the outer task queue that a second traversal is\n    // required to construct a request tree.\n    if (task.spawnedRuntimePrefetches === null) {\n      task.spawnedRuntimePrefetches = new Set([tree.cacheKey])\n    } else {\n      task.spawnedRuntimePrefetches.add(tree.cacheKey)\n    }\n    // Then exit the traversal without prefetching anything further.\n    return PrefetchTaskExitStatus.Done\n  }\n\n  // This segment should not be runtime prefetched. Prefetch its static data.\n  const segment = readOrCreateSegmentCacheEntry(\n    now,\n    task.fetchStrategy,\n    route,\n    tree.cacheKey\n  )\n  pingStaticSegmentData(now, task, route, segment, task.key, tree)\n  if (tree.slots !== null) {\n    if (!hasNetworkBandwidth(task)) {\n      // Stop prefetching segments until there's more bandwidth.\n      return PrefetchTaskExitStatus.InProgress\n    }\n    // Recursively ping the children.\n    for (const parallelRouteKey in tree.slots) {\n      const childTree = tree.slots[parallelRouteKey]\n      const childExitStatus = pingNewPartOfCacheComponentsTree(\n        now,\n        task,\n        route,\n        childTree\n      )\n      if (childExitStatus === PrefetchTaskExitStatus.InProgress) {\n        // Child yielded without finishing.\n        return PrefetchTaskExitStatus.InProgress\n      }\n    }\n  }\n  // This segment and all its children have finished prefetching.\n  return PrefetchTaskExitStatus.Done\n}\n\nfunction diffRouteTreeAgainstCurrent(\n  now: number,\n  task: PrefetchTask,\n  route: FulfilledRouteCacheEntry,\n  oldTree: FlightRouterState,\n  newTree: RouteTree,\n  spawnedEntries: Map<string, PendingSegmentCacheEntry>,\n  fetchStrategy:\n    | FetchStrategy.Full\n    | FetchStrategy.PPRRuntime\n    | FetchStrategy.LoadingBoundary\n): FlightRouterState {\n  // This is a single recursive traversal that does multiple things:\n  // - Finds the parts of the target route (newTree) that are not part of\n  //   of the current page (oldTree) by diffing them, using the same algorithm\n  //   as a real navigation.\n  // - Constructs a request tree (FlightRouterState) that describes which\n  //   segments need to be prefetched and which ones are already cached.\n  // - Creates a set of pending cache entries for the segments that need to\n  //   be prefetched, so that a subsequent prefetch task does not request the\n  //   same segments again.\n  const oldTreeChildren = oldTree[1]\n  const newTreeChildren = newTree.slots\n  let requestTreeChildren: Record<string, FlightRouterState> = {}\n  if (newTreeChildren !== null) {\n    for (const parallelRouteKey in newTreeChildren) {\n      const newTreeChild = newTreeChildren[parallelRouteKey]\n      const newTreeChildSegment = newTreeChild.segment\n      const oldTreeChild: FlightRouterState | void =\n        oldTreeChildren[parallelRouteKey]\n      const oldTreeChildSegment: FlightRouterStateSegment | void =\n        oldTreeChild?.[0]\n      if (\n        oldTreeChildSegment !== undefined &&\n        doesCurrentSegmentMatchCachedSegment(\n          route,\n          newTreeChildSegment,\n          oldTreeChildSegment\n        )\n      ) {\n        // This segment is already part of the current route. Keep traversing.\n        const requestTreeChild = diffRouteTreeAgainstCurrent(\n          now,\n          task,\n          route,\n          oldTreeChild,\n          newTreeChild,\n          spawnedEntries,\n          fetchStrategy\n        )\n        requestTreeChildren[parallelRouteKey] = requestTreeChild\n      } else {\n        // This segment is not part of the current route. We're entering a\n        // part of the tree that we need to prefetch (unless everything is\n        // already cached).\n        switch (fetchStrategy) {\n          case FetchStrategy.LoadingBoundary: {\n            // When PPR is disabled, we can't prefetch per segment. We must\n            // fallback to the old prefetch behavior and send a dynamic request.\n            // Only routes that include a loading boundary can be prefetched in\n            // this way.\n            //\n            // This is simlar to a \"full\" prefetch, but we're much more\n            // conservative about which segments to include in the request.\n            //\n            // The server will only render up to the first loading boundary\n            // inside new part of the tree. If there's no loading boundary\n            // anywhere in the tree, the server will never return any data, so\n            // we can skip the request.\n            const subtreeHasLoadingBoundary =\n              newTreeChild.hasLoadingBoundary !==\n              HasLoadingBoundary.SubtreeHasNoLoadingBoundary\n            const requestTreeChild = subtreeHasLoadingBoundary\n              ? pingPPRDisabledRouteTreeUpToLoadingBoundary(\n                  now,\n                  task,\n                  route,\n                  newTreeChild,\n                  null,\n                  spawnedEntries\n                )\n              : // There's no loading boundary within this tree. Bail out.\n                convertRouteTreeToFlightRouterState(newTreeChild)\n            requestTreeChildren[parallelRouteKey] = requestTreeChild\n            break\n          }\n          case FetchStrategy.PPRRuntime: {\n            // This is a runtime prefetch. Fetch all cacheable data in the tree,\n            // not just the static PPR shell.\n            const requestTreeChild = pingRouteTreeAndIncludeDynamicData(\n              now,\n              task,\n              route,\n              newTreeChild,\n              false,\n              spawnedEntries,\n              fetchStrategy\n            )\n            requestTreeChildren[parallelRouteKey] = requestTreeChild\n            break\n          }\n          case FetchStrategy.Full: {\n            // This is a \"full\" prefetch. Fetch all the data in the tree, both\n            // static and dynamic. We issue roughly the same request that we\n            // would during a real navigation. The goal is that once the\n            // navigation occurs, the router should not have to fetch any\n            // additional data.\n            //\n            // Although the response will include dynamic data, opting into a\n            // Full prefetch — via <Link prefetch={true}> — implicitly\n            // instructs the cache to treat the response as \"static\", or non-\n            // dynamic, since the whole point is to cache it for\n            // future navigations.\n            //\n            // Construct a tree (currently a FlightRouterState) that represents\n            // which segments need to be prefetched and which ones are already\n            // cached. If the tree is empty, then we can exit. Otherwise, we'll\n            // send the request tree to the server and use the response to\n            // populate the segment cache.\n            const requestTreeChild = pingRouteTreeAndIncludeDynamicData(\n              now,\n              task,\n              route,\n              newTreeChild,\n              false,\n              spawnedEntries,\n              fetchStrategy\n            )\n            requestTreeChildren[parallelRouteKey] = requestTreeChild\n            break\n          }\n          default:\n            fetchStrategy satisfies never\n        }\n      }\n    }\n  }\n  const requestTree: FlightRouterState = [\n    newTree.segment,\n    requestTreeChildren,\n    null,\n    null,\n    newTree.isRootLayout,\n  ]\n  return requestTree\n}\n\nfunction pingPPRDisabledRouteTreeUpToLoadingBoundary(\n  now: number,\n  task: PrefetchTask,\n  route: FulfilledRouteCacheEntry,\n  tree: RouteTree,\n  refetchMarkerContext: 'refetch' | 'inside-shared-layout' | null,\n  spawnedEntries: Map<string, PendingSegmentCacheEntry>\n): FlightRouterState {\n  // This function is similar to pingRouteTreeAndIncludeDynamicData, except the\n  // server is only going to return a minimal loading state — it will stop\n  // rendering at the first loading boundary. Whereas a Full prefetch is\n  // intentionally aggressive and tries to pretfetch all the data that will be\n  // needed for a navigation, a LoadingBoundary prefetch is much more\n  // conservative. For example, it will omit from the request tree any segment\n  // that is already cached, regardles of whether it's partial or full. By\n  // contrast, a Full prefetch will refetch partial segments.\n\n  // \"inside-shared-layout\" tells the server where to start looking for a\n  // loading boundary.\n  let refetchMarker: 'refetch' | 'inside-shared-layout' | null =\n    refetchMarkerContext === null ? 'inside-shared-layout' : null\n\n  const segment = readOrCreateSegmentCacheEntry(\n    now,\n    task.fetchStrategy,\n    route,\n    tree.cacheKey\n  )\n  switch (segment.status) {\n    case EntryStatus.Empty: {\n      // This segment is not cached. Add a refetch marker so the server knows\n      // to start rendering here.\n      // TODO: Instead of a \"refetch\" marker, we could just omit this subtree's\n      // FlightRouterState from the request tree. I think this would probably\n      // already work even without any updates to the server. For consistency,\n      // though, I'll send the full tree and we'll look into this later as part\n      // of a larger redesign of the request protocol.\n\n      // Add the pending cache entry to the result map.\n      spawnedEntries.set(\n        tree.cacheKey,\n        upgradeToPendingSegment(\n          segment,\n          // Set the fetch strategy to LoadingBoundary to indicate that the server\n          // might not include it in the pending response. If another route is able\n          // to issue a per-segment request, we'll do that in the background.\n          FetchStrategy.LoadingBoundary\n        )\n      )\n      if (refetchMarkerContext !== 'refetch') {\n        refetchMarker = refetchMarkerContext = 'refetch'\n      } else {\n        // There's already a parent with a refetch marker, so we don't need\n        // to add another one.\n      }\n      break\n    }\n    case EntryStatus.Fulfilled: {\n      // The segment is already cached.\n      const segmentHasLoadingBoundary =\n        tree.hasLoadingBoundary === HasLoadingBoundary.SegmentHasLoadingBoundary\n      if (segmentHasLoadingBoundary) {\n        // This segment has a loading boundary, which means the server won't\n        // render its children. So there's nothing left to prefetch along this\n        // path. We can bail out.\n        return convertRouteTreeToFlightRouterState(tree)\n      }\n      // NOTE: If the cached segment were fetched using PPR, then it might be\n      // partial. We could get a more complete version of the segment by\n      // including it in this non-PPR request.\n      //\n      // We're intentionally choosing not to, though, because it's generally\n      // better to avoid doing a full prefetch whenever possible.\n      break\n    }\n    case EntryStatus.Pending: {\n      // There's another prefetch currently in progress. Don't add the refetch\n      // marker yet, so the server knows it can skip rendering this segment.\n      break\n    }\n    case EntryStatus.Rejected: {\n      // The segment failed to load. We shouldn't issue another request until\n      // the stale time has elapsed.\n      break\n    }\n    default:\n      segment satisfies never\n  }\n  const requestTreeChildren: Record<string, FlightRouterState> = {}\n  if (tree.slots !== null) {\n    for (const parallelRouteKey in tree.slots) {\n      const childTree = tree.slots[parallelRouteKey]\n      requestTreeChildren[parallelRouteKey] =\n        pingPPRDisabledRouteTreeUpToLoadingBoundary(\n          now,\n          task,\n          route,\n          childTree,\n          refetchMarkerContext,\n          spawnedEntries\n        )\n    }\n  }\n  const requestTree: FlightRouterState = [\n    tree.segment,\n    requestTreeChildren,\n    null,\n    refetchMarker,\n    tree.isRootLayout,\n  ]\n  return requestTree\n}\n\nfunction pingRouteTreeAndIncludeDynamicData(\n  now: number,\n  task: PrefetchTask,\n  route: FulfilledRouteCacheEntry,\n  tree: RouteTree,\n  isInsideRefetchingParent: boolean,\n  spawnedEntries: Map<string, PendingSegmentCacheEntry>,\n  fetchStrategy: FetchStrategy.Full | FetchStrategy.PPRRuntime\n): FlightRouterState {\n  // The tree we're constructing is the same shape as the tree we're navigating\n  // to. But even though this is a \"new\" tree, some of the individual segments\n  // may be cached as a result of other route prefetches.\n  //\n  // So we need to find the first uncached segment along each path add an\n  // explicit \"refetch\" marker so the server knows where to start rendering.\n  // Once the server starts rendering along a path, it keeps rendering the\n  // entire subtree.\n  const segment = readOrCreateSegmentCacheEntry(\n    now,\n    // Note that `fetchStrategy` might be different from `task.fetchStrategy`,\n    // and we have to use the former here.\n    // We can have a task with `FetchStrategy.PPR` where some of its segments are configured to\n    // always use runtime prefetching (via `export const prefetch`), and those should check for\n    // entries that include search params.\n    fetchStrategy,\n    route,\n    tree.cacheKey\n  )\n\n  let spawnedSegment: PendingSegmentCacheEntry | null = null\n\n  switch (segment.status) {\n    case EntryStatus.Empty: {\n      // This segment is not cached. Include it in the request.\n      spawnedSegment = upgradeToPendingSegment(segment, fetchStrategy)\n      break\n    }\n    case EntryStatus.Fulfilled: {\n      // The segment is already cached.\n      if (\n        segment.isPartial &&\n        canNewFetchStrategyProvideMoreContent(\n          segment.fetchStrategy,\n          fetchStrategy\n        )\n      ) {\n        // The cached segment contains dynamic holes, and was prefetched using a less specific strategy than the current one.\n        // This means we're in one of these cases:\n        //   - we have a static prefetch, and we're doing a runtime prefetch\n        //   - we have a static or runtime prefetch, and we're doing a Full prefetch (or a navigation).\n        // In either case, we need to include it in the request to get a more specific (or full) version.\n        spawnedSegment = pingFullSegmentRevalidation(\n          now,\n          route,\n          segment,\n          tree,\n          fetchStrategy\n        )\n      }\n      break\n    }\n    case EntryStatus.Pending:\n    case EntryStatus.Rejected: {\n      // There's either another prefetch currently in progress, or the previous\n      // attempt failed. If the new strategy can provide more content, fetch it again.\n      if (\n        canNewFetchStrategyProvideMoreContent(\n          segment.fetchStrategy,\n          fetchStrategy\n        )\n      ) {\n        spawnedSegment = pingFullSegmentRevalidation(\n          now,\n          route,\n          segment,\n          tree,\n          fetchStrategy\n        )\n      }\n      break\n    }\n    default:\n      segment satisfies never\n  }\n  const requestTreeChildren: Record<string, FlightRouterState> = {}\n  if (tree.slots !== null) {\n    for (const parallelRouteKey in tree.slots) {\n      const childTree = tree.slots[parallelRouteKey]\n      requestTreeChildren[parallelRouteKey] =\n        pingRouteTreeAndIncludeDynamicData(\n          now,\n          task,\n          route,\n          childTree,\n          isInsideRefetchingParent || spawnedSegment !== null,\n          spawnedEntries,\n          fetchStrategy\n        )\n    }\n  }\n\n  if (spawnedSegment !== null) {\n    // Add the pending entry to the result map.\n    spawnedEntries.set(tree.cacheKey, spawnedSegment)\n  }\n\n  // Don't bother to add a refetch marker if one is already present in a parent.\n  const refetchMarker =\n    !isInsideRefetchingParent && spawnedSegment !== null ? 'refetch' : null\n\n  const requestTree: FlightRouterState = [\n    tree.segment,\n    requestTreeChildren,\n    null,\n    refetchMarker,\n    tree.isRootLayout,\n  ]\n  return requestTree\n}\n\nfunction pingRuntimePrefetches(\n  now: number,\n  task: PrefetchTask,\n  route: FulfilledRouteCacheEntry,\n  tree: RouteTree,\n  spawnedRuntimePrefetches: Set<SegmentCacheKey>,\n  spawnedEntries: Map<string, PendingSegmentCacheEntry>\n): FlightRouterState {\n  // Construct a request tree (FlightRouterState) for a runtime prefetch. If\n  // a segment is part of the runtime prefetch, the tree is constructed by\n  // diffing against what's already in the prefetch cache. Otherwise, we send\n  // a regular FlightRouterState with no special markers.\n  //\n  // See pingRouteTreeAndIncludeDynamicData for details.\n  if (spawnedRuntimePrefetches.has(tree.cacheKey)) {\n    // This segment needs a runtime prefetch.\n    return pingRouteTreeAndIncludeDynamicData(\n      now,\n      task,\n      route,\n      tree,\n      false,\n      spawnedEntries,\n      FetchStrategy.PPRRuntime\n    )\n  }\n  let requestTreeChildren: Record<string, FlightRouterState> = {}\n  const slots = tree.slots\n  if (slots !== null) {\n    for (const parallelRouteKey in slots) {\n      const childTree = slots[parallelRouteKey]\n      requestTreeChildren[parallelRouteKey] = pingRuntimePrefetches(\n        now,\n        task,\n        route,\n        childTree,\n        spawnedRuntimePrefetches,\n        spawnedEntries\n      )\n    }\n  }\n\n  // This segment is not part of the runtime prefetch. Clone the base tree.\n  const requestTree: FlightRouterState = [\n    tree.segment,\n    requestTreeChildren,\n    null,\n    null,\n  ]\n  return requestTree\n}\n\nfunction pingStaticSegmentData(\n  now: number,\n  task: PrefetchTask,\n  route: FulfilledRouteCacheEntry,\n  segment: SegmentCacheEntry,\n  routeKey: RouteCacheKey,\n  tree: RouteTree\n): void {\n  switch (segment.status) {\n    case EntryStatus.Empty:\n      // Upgrade to Pending so we know there's already a request in progress\n      spawnPrefetchSubtask(\n        fetchSegmentOnCacheMiss(\n          route,\n          upgradeToPendingSegment(segment, FetchStrategy.PPR),\n          routeKey,\n          tree\n        )\n      )\n      break\n    case EntryStatus.Pending: {\n      // There's already a request in progress. Depending on what kind of\n      // request it is, we may want to revalidate it.\n      switch (segment.fetchStrategy) {\n        case FetchStrategy.PPR:\n        case FetchStrategy.PPRRuntime:\n        case FetchStrategy.Full:\n          // There's already a request in progress. Don't do anything.\n          break\n        case FetchStrategy.LoadingBoundary:\n          // There's a pending request, but because it's using the old\n          // prefetching strategy, we can't be sure if it will be fulfilled by\n          // the response — it might be inside the loading boundary. Perform\n          // a revalidation, but because it's speculative, wait to do it at\n          // background priority.\n          if (background(task)) {\n            // TODO: Instead of speculatively revalidating, consider including\n            // `hasLoading` in the route tree prefetch response.\n            pingPPRSegmentRevalidation(\n              now,\n              task,\n              segment,\n              route,\n              routeKey,\n              tree\n            )\n          }\n          break\n        default:\n          segment.fetchStrategy satisfies never\n      }\n      break\n    }\n    case EntryStatus.Rejected: {\n      // The existing entry in the cache was rejected. Depending on how it\n      // was originally fetched, we may or may not want to revalidate it.\n      switch (segment.fetchStrategy) {\n        case FetchStrategy.PPR:\n        case FetchStrategy.PPRRuntime:\n        case FetchStrategy.Full:\n          // The previous attempt to fetch this entry failed. Don't attempt to\n          // fetch it again until the entry expires.\n          break\n        case FetchStrategy.LoadingBoundary:\n          // There's a rejected entry, but it was fetched using the loading\n          // boundary strategy. So the reason it wasn't returned by the server\n          // might just be because it was inside a loading boundary. Or because\n          // there was a dynamic rewrite. Revalidate it using the per-\n          // segment strategy.\n          //\n          // Because a rejected segment will definitely prevent the segment (and\n          // all of its children) from rendering, we perform this revalidation\n          // immediately instead of deferring it to a background task.\n          pingPPRSegmentRevalidation(now, task, segment, route, routeKey, tree)\n          break\n        default:\n          segment.fetchStrategy satisfies never\n      }\n      break\n    }\n    case EntryStatus.Fulfilled:\n      // Segment is already cached. There's nothing left to prefetch.\n      break\n    default:\n      segment satisfies never\n  }\n\n  // Segments do not have dependent tasks, so once the prefetch is initiated,\n  // there's nothing else for us to do (except write the server data into the\n  // entry, which is handled by `fetchSegmentOnCacheMiss`).\n}\n\nfunction pingPPRSegmentRevalidation(\n  now: number,\n  task: PrefetchTask,\n  currentSegment: SegmentCacheEntry,\n  route: FulfilledRouteCacheEntry,\n  routeKey: RouteCacheKey,\n  tree: RouteTree\n): void {\n  const revalidatingSegment = readOrCreateRevalidatingSegmentEntry(\n    now,\n    currentSegment\n  )\n  switch (revalidatingSegment.status) {\n    case EntryStatus.Empty:\n      // Spawn a prefetch request and upsert the segment into the cache\n      // upon completion.\n      upsertSegmentOnCompletion(\n        task.fetchStrategy,\n        route,\n        tree.cacheKey,\n        spawnPrefetchSubtask(\n          fetchSegmentOnCacheMiss(\n            route,\n            upgradeToPendingSegment(revalidatingSegment, FetchStrategy.PPR),\n            routeKey,\n            tree\n          )\n        )\n      )\n      break\n    case EntryStatus.Pending:\n      // There's already a revalidation in progress.\n      break\n    case EntryStatus.Fulfilled:\n    case EntryStatus.Rejected:\n      // A previous revalidation attempt finished, but we chose not to replace\n      // the existing entry in the cache. Don't try again until or unless the\n      // revalidation entry expires.\n      break\n    default:\n      revalidatingSegment satisfies never\n  }\n}\n\nfunction pingFullSegmentRevalidation(\n  now: number,\n  route: FulfilledRouteCacheEntry,\n  currentSegment: SegmentCacheEntry,\n  tree: RouteTree,\n  fetchStrategy: FetchStrategy.Full | FetchStrategy.PPRRuntime\n): PendingSegmentCacheEntry | null {\n  const revalidatingSegment = readOrCreateRevalidatingSegmentEntry(\n    now,\n    currentSegment\n  )\n  if (revalidatingSegment.status === EntryStatus.Empty) {\n    // During a Full/PPRRuntime prefetch, a single dynamic request is made for all the\n    // segments that we need. So we don't initiate a request here directly. By\n    // returning a pending entry from this function, it signals to the caller\n    // that this segment should be included in the request that's sent to\n    // the server.\n    const pendingSegment = upgradeToPendingSegment(\n      revalidatingSegment,\n      fetchStrategy\n    )\n    upsertSegmentOnCompletion(\n      fetchStrategy,\n      route,\n      tree.cacheKey,\n      waitForSegmentCacheEntry(pendingSegment)\n    )\n    return pendingSegment\n  } else {\n    // There's already a revalidation in progress.\n    const nonEmptyRevalidatingSegment = revalidatingSegment\n    if (\n      canNewFetchStrategyProvideMoreContent(\n        nonEmptyRevalidatingSegment.fetchStrategy,\n        fetchStrategy\n      )\n    ) {\n      // The existing revalidation was fetched using a less specific strategy.\n      // Reset it and start a new revalidation.\n      const emptySegment = resetRevalidatingSegmentEntry(\n        nonEmptyRevalidatingSegment\n      )\n      const pendingSegment = upgradeToPendingSegment(\n        emptySegment,\n        fetchStrategy\n      )\n      upsertSegmentOnCompletion(\n        fetchStrategy,\n        route,\n        tree.cacheKey,\n        waitForSegmentCacheEntry(pendingSegment)\n      )\n      return pendingSegment\n    }\n    switch (nonEmptyRevalidatingSegment.status) {\n      case EntryStatus.Pending:\n        // There's already an in-progress prefetch that includes this segment.\n        return null\n      case EntryStatus.Fulfilled:\n      case EntryStatus.Rejected:\n        // A previous revalidation attempt finished, but we chose not to replace\n        // the existing entry in the cache. Don't try again until or unless the\n        // revalidation entry expires.\n        return null\n      default:\n        nonEmptyRevalidatingSegment satisfies never\n        return null\n    }\n  }\n}\n\nconst noop = () => {}\n\nfunction upsertSegmentOnCompletion(\n  fetchStrategy: FetchStrategy,\n  route: FulfilledRouteCacheEntry,\n  cacheKey: SegmentCacheKey,\n  promise: Promise<FulfilledSegmentCacheEntry | null>\n) {\n  // Wait for a segment to finish loading, then upsert it into the cache\n  promise.then((fulfilled) => {\n    if (fulfilled !== null) {\n      // Received new data. Attempt to replace the existing entry in the cache.\n      const keypath = getSegmentKeypath(fetchStrategy, route, cacheKey)\n      upsertSegmentEntry(Date.now(), keypath, fulfilled)\n    }\n  }, noop)\n}\n\nfunction doesCurrentSegmentMatchCachedSegment(\n  route: FulfilledRouteCacheEntry,\n  currentSegment: Segment,\n  cachedSegment: Segment\n): boolean {\n  if (cachedSegment === PAGE_SEGMENT_KEY) {\n    // In the FlightRouterState stored by the router, the page segment has the\n    // rendered search params appended to the name of the segment. In the\n    // prefetch cache, however, this is stored separately. So, when comparing\n    // the router's current FlightRouterState to the cached FlightRouterState,\n    // we need to make sure we compare both parts of the segment.\n    // TODO: This is not modeled clearly. We use the same type,\n    // FlightRouterState, for both the CacheNode tree _and_ the prefetch cache\n    // _and_ the server response format, when conceptually those are three\n    // different things and treated in different ways. We should encode more of\n    // this information into the type design so mistakes are less likely.\n    return (\n      currentSegment ===\n      addSearchParamsIfPageSegment(\n        PAGE_SEGMENT_KEY,\n        Object.fromEntries(new URLSearchParams(route.renderedSearch))\n      )\n    )\n  }\n  // Non-page segments are compared using the same function as the server\n  return matchSegment(cachedSegment, currentSegment)\n}\n\n// -----------------------------------------------------------------------------\n// The remainder of the module is a MinHeap implementation. Try not to put any\n// logic below here unless it's related to the heap algorithm. We can extract\n// this to a separate module if/when we need multiple kinds of heaps.\n// -----------------------------------------------------------------------------\n\nfunction compareQueuePriority(a: PrefetchTask, b: PrefetchTask) {\n  // Since the queue is a MinHeap, this should return a positive number if b is\n  // higher priority than a, and a negative number if a is higher priority\n  // than b.\n\n  // `priority` is an integer, where higher numbers are higher priority.\n  const priorityDiff = b.priority - a.priority\n  if (priorityDiff !== 0) {\n    return priorityDiff\n  }\n\n  // If the priority is the same, check which phase the prefetch is in — is it\n  // prefetching the route tree, or the segments? Route trees are prioritized.\n  const phaseDiff = b.phase - a.phase\n  if (phaseDiff !== 0) {\n    return phaseDiff\n  }\n\n  // Finally, check the insertion order. `sortId` is an incrementing counter\n  // assigned to prefetches. We want to process the newest prefetches first.\n  return b.sortId - a.sortId\n}\n\nfunction heapPush(heap: Array<PrefetchTask>, node: PrefetchTask): void {\n  const index = heap.length\n  heap.push(node)\n  node._heapIndex = index\n  heapSiftUp(heap, node, index)\n}\n\nfunction heapPeek(heap: Array<PrefetchTask>): PrefetchTask | null {\n  return heap.length === 0 ? null : heap[0]\n}\n\nfunction heapPop(heap: Array<PrefetchTask>): PrefetchTask | null {\n  if (heap.length === 0) {\n    return null\n  }\n  const first = heap[0]\n  first._heapIndex = -1\n  const last = heap.pop() as PrefetchTask\n  if (last !== first) {\n    heap[0] = last\n    last._heapIndex = 0\n    heapSiftDown(heap, last, 0)\n  }\n  return first\n}\n\nfunction heapDelete(heap: Array<PrefetchTask>, node: PrefetchTask): void {\n  const index = node._heapIndex\n  if (index !== -1) {\n    node._heapIndex = -1\n    if (heap.length !== 0) {\n      const last = heap.pop() as PrefetchTask\n      if (last !== node) {\n        heap[index] = last\n        last._heapIndex = index\n        heapSiftDown(heap, last, index)\n      }\n    }\n  }\n}\n\nfunction heapResift(heap: Array<PrefetchTask>, node: PrefetchTask): void {\n  const index = node._heapIndex\n  if (index !== -1) {\n    if (index === 0) {\n      heapSiftDown(heap, node, 0)\n    } else {\n      const parentIndex = (index - 1) >>> 1\n      const parent = heap[parentIndex]\n      if (compareQueuePriority(parent, node) > 0) {\n        // The parent is larger. Sift up.\n        heapSiftUp(heap, node, index)\n      } else {\n        // The parent is smaller (or equal). Sift down.\n        heapSiftDown(heap, node, index)\n      }\n    }\n  }\n}\n\nfunction heapSiftUp(\n  heap: Array<PrefetchTask>,\n  node: PrefetchTask,\n  i: number\n): void {\n  let index = i\n  while (index > 0) {\n    const parentIndex = (index - 1) >>> 1\n    const parent = heap[parentIndex]\n    if (compareQueuePriority(parent, node) > 0) {\n      // The parent is larger. Swap positions.\n      heap[parentIndex] = node\n      node._heapIndex = parentIndex\n      heap[index] = parent\n      parent._heapIndex = index\n\n      index = parentIndex\n    } else {\n      // The parent is smaller. Exit.\n      return\n    }\n  }\n}\n\nfunction heapSiftDown(\n  heap: Array<PrefetchTask>,\n  node: PrefetchTask,\n  i: number\n): void {\n  let index = i\n  const length = heap.length\n  const halfLength = length >>> 1\n  while (index < halfLength) {\n    const leftIndex = (index + 1) * 2 - 1\n    const left = heap[leftIndex]\n    const rightIndex = leftIndex + 1\n    const right = heap[rightIndex]\n\n    // If the left or right node is smaller, swap with the smaller of those.\n    if (compareQueuePriority(left, node) < 0) {\n      if (rightIndex < length && compareQueuePriority(right, left) < 0) {\n        heap[index] = right\n        right._heapIndex = index\n        heap[rightIndex] = node\n        node._heapIndex = rightIndex\n\n        index = rightIndex\n      } else {\n        heap[index] = left\n        left._heapIndex = index\n        heap[leftIndex] = node\n        node._heapIndex = leftIndex\n\n        index = leftIndex\n      }\n    } else if (rightIndex < length && compareQueuePriority(right, node) < 0) {\n      heap[index] = right\n      right._heapIndex = index\n      heap[rightIndex] = node\n      node._heapIndex = rightIndex\n\n      index = rightIndex\n    } else {\n      // Neither child is smaller. Exit.\n      return\n    }\n  }\n}\n","import type { FlightRouterState } from '../../../shared/lib/app-router-types'\nimport { createPrefetchURL } from '../app-router-utils'\nimport { createCacheKey } from './cache-key'\nimport { schedulePrefetchTask } from './scheduler'\nimport {\n  PrefetchPriority,\n  type PrefetchTaskFetchStrategy,\n} from '../segment-cache'\n\n/**\n * Entrypoint for prefetching a URL into the Segment Cache.\n * @param href - The URL to prefetch. Typically this will come from a <Link>,\n * or router.prefetch. It must be validated before we attempt to prefetch it.\n * @param nextUrl - A special header used by the server for interception routes.\n * Roughly corresponds to the current URL.\n * @param treeAtTimeOfPrefetch - The FlightRouterState at the time the prefetch\n * was requested. This is only used when PPR is disabled.\n * @param fetchStrategy - Whether to prefetch dynamic data, in addition to\n * static data. This is used by `<Link prefetch={true}>`.\n * @param onInvalidate - A callback that will be called when the prefetch cache\n * When called, it signals to the listener that the data associated with the\n * prefetch may have been invalidated from the cache. This is not a live\n * subscription — it's called at most once per `prefetch` call. The only\n * supported use case is to trigger a new prefetch inside the listener, if\n * desired. It also may be called even in cases where the associated data is\n * still cached. Prefetching is a poll-based (pull) operation, not an event-\n * based (push) one. Rather than subscribe to specific cache entries, you\n * occasionally poll the prefetch cache to check if anything is missing.\n */\nexport function prefetch(\n  href: string,\n  nextUrl: string | null,\n  treeAtTimeOfPrefetch: FlightRouterState,\n  fetchStrategy: PrefetchTaskFetchStrategy,\n  onInvalidate: null | (() => void)\n) {\n  const url = createPrefetchURL(href)\n  if (url === null) {\n    // This href should not be prefetched.\n    return\n  }\n  const cacheKey = createCacheKey(url.href, nextUrl)\n  schedulePrefetchTask(\n    cacheKey,\n    treeAtTimeOfPrefetch,\n    fetchStrategy,\n    PrefetchPriority.Default,\n    onInvalidate\n  )\n}\n","import type { Segment } from '../../../shared/lib/app-router-types'\nimport { PAGE_SEGMENT_KEY } from '../../../shared/lib/segment'\n\nexport function createRouterCacheKey(\n  segment: Segment,\n  withoutSearchParameters: boolean = false\n) {\n  // if the segment is an array, it means it's a dynamic segment\n  // for example, ['lang', 'en', 'd']. We need to convert it to a string to store it as a cache node key.\n  if (Array.isArray(segment)) {\n    return `${segment[0]}|${segment[1]}|${segment[2]}`\n  }\n\n  // Page segments might have search parameters, ie __PAGE__?foo=bar\n  // When `withoutSearchParameters` is true, we only want to return the page segment\n  if (withoutSearchParameters && segment.startsWith(PAGE_SEGMENT_KEY)) {\n    return PAGE_SEGMENT_KEY\n  }\n\n  return segment\n}\n","import type { FlightRouterState } from '../../../shared/lib/app-router-types'\n\nexport function isNavigatingToNewRootLayout(\n  currentTree: FlightRouterState,\n  nextTree: FlightRouterState\n): boolean {\n  // Compare segments\n  const currentTreeSegment = currentTree[0]\n  const nextTreeSegment = nextTree[0]\n\n  // If any segment is different before we find the root layout, the root layout has changed.\n  // E.g. /same/(group1)/layout.js -> /same/(group2)/layout.js\n  // First segment is 'same' for both, keep looking. (group1) changed to (group2) before the root layout was found, it must have changed.\n  if (Array.isArray(currentTreeSegment) && Array.isArray(nextTreeSegment)) {\n    // Compare dynamic param name and type but ignore the value, different values would not affect the current root layout\n    // /[name] - /slug1 and /slug2, both values (slug1 & slug2) still has the same layout /[name]/layout.js\n    if (\n      currentTreeSegment[0] !== nextTreeSegment[0] ||\n      currentTreeSegment[2] !== nextTreeSegment[2]\n    ) {\n      return true\n    }\n  } else if (currentTreeSegment !== nextTreeSegment) {\n    return true\n  }\n\n  // Current tree root layout found\n  if (currentTree[4]) {\n    // If the next tree doesn't have the root layout flag, it must have changed.\n    return !nextTree[4]\n  }\n  // Current tree didn't have its root layout here, must have changed.\n  if (nextTree[4]) {\n    return true\n  }\n  // We can't assume it's `parallelRoutes.children` here in case the root layout is `app/@something/layout.js`\n  // But it's not possible to be more than one parallelRoutes before the root layout is found\n  // TODO-APP: change to traverse all parallel routes\n  const currentTreeChild = Object.values(currentTree[1])[0]\n  const nextTreeChild = Object.values(nextTree[1])[0]\n  if (!currentTreeChild || !nextTreeChild) return true\n  return isNavigatingToNewRootLayout(currentTreeChild, nextTreeChild)\n}\n","import type {\n  CacheNodeSeedData,\n  FlightRouterState,\n  FlightSegmentPath,\n  Segment,\n} from '../../../shared/lib/app-router-types'\nimport type {\n  CacheNode,\n  ChildSegmentMap,\n  ReadyCacheNode,\n} from '../../../shared/lib/app-router-types'\nimport type {\n  HeadData,\n  LoadingModuleData,\n} from '../../../shared/lib/app-router-types'\nimport { DEFAULT_SEGMENT_KEY } from '../../../shared/lib/segment'\nimport { matchSegment } from '../match-segments'\nimport { createHrefFromUrl } from './create-href-from-url'\nimport { createRouterCacheKey } from './create-router-cache-key'\nimport type { FetchServerResponseResult } from './fetch-server-response'\nimport { isNavigatingToNewRootLayout } from './is-navigating-to-new-root-layout'\nimport { DYNAMIC_STALETIME_MS } from './reducers/navigate-reducer'\n\n// This is yet another tree type that is used to track pending promises that\n// need to be fulfilled once the dynamic data is received. The terminal nodes of\n// this tree represent the new Cache Node trees that were created during this\n// request. We can't use the Cache Node tree or Route State tree directly\n// because those include reused nodes, too. This tree is discarded as soon as\n// the navigation response is received.\ntype SPANavigationTask = {\n  // The router state that corresponds to the tree that this Task represents.\n  route: FlightRouterState\n  // The CacheNode that corresponds to the tree that this Task represents. If\n  // `children` is null (i.e. if this is a terminal task node), then `node`\n  // represents a brand new Cache Node tree, which way or may not need to be\n  // filled with dynamic data from the server.\n  node: CacheNode | null\n  // The tree sent to the server during the dynamic request. This is the\n  // same as `route`, except with the `refetch` marker set on dynamic segments.\n  // If all the segments are static, then this will be null, and no server\n  // request is required.\n  dynamicRequestTree: FlightRouterState | null\n  children: Map<string, SPANavigationTask> | null\n}\n\n// A special type used to bail out and trigger a full-page navigation.\ntype MPANavigationTask = {\n  // MPA tasks are distinguised from SPA tasks by having a null `route`.\n  route: null\n  node: null\n  dynamicRequestTree: null\n  children: null\n}\n\nconst MPA_NAVIGATION_TASK: MPANavigationTask = {\n  route: null,\n  node: null,\n  dynamicRequestTree: null,\n  children: null,\n}\n\nexport type Task = SPANavigationTask | MPANavigationTask\n\n// Creates a new Cache Node tree (i.e. copy-on-write) that represents the\n// optimistic result of a navigation, using both the current Cache Node tree and\n// data that was prefetched prior to navigation.\n//\n// At the moment we call this function, we haven't yet received the navigation\n// response from the server. It could send back something completely different\n// from the tree that was prefetched — due to rewrites, default routes, parallel\n// routes, etc.\n//\n// But in most cases, it will return the same tree that we prefetched, just with\n// the dynamic holes filled in. So we optimistically assume this will happen,\n// and accept that the real result could be arbitrarily different.\n//\n// We'll reuse anything that was already in the previous tree, since that's what\n// the server does.\n//\n// New segments (ones that don't appear in the old tree) are assigned an\n// unresolved promise. The data for these promises will be fulfilled later, when\n// the navigation response is received.\n//\n// The tree can be rendered immediately after it is created (that's why this is\n// a synchronous function). Any new trees that do not have prefetch data will\n// suspend during rendering, until the dynamic data streams in.\n//\n// Returns a Task object, which contains both the updated Cache Node and a path\n// to the pending subtrees that need to be resolved by the navigation response.\n//\n// A return value of `null` means there were no changes, and the previous tree\n// can be reused without initiating a server request.\nexport function startPPRNavigation(\n  navigatedAt: number,\n  oldUrl: URL,\n  oldCacheNode: CacheNode,\n  oldRouterState: FlightRouterState,\n  newRouterState: FlightRouterState,\n  prefetchData: CacheNodeSeedData | null,\n  prefetchHead: HeadData | null,\n  isPrefetchHeadPartial: boolean,\n  isSamePageNavigation: boolean,\n  scrollableSegmentsResult: Array<FlightSegmentPath>\n): Task | null {\n  const segmentPath: Array<FlightSegmentPath> = []\n  return updateCacheNodeOnNavigation(\n    navigatedAt,\n    oldUrl,\n    oldCacheNode,\n    oldRouterState,\n    newRouterState,\n    false,\n    prefetchData,\n    prefetchHead,\n    isPrefetchHeadPartial,\n    isSamePageNavigation,\n    segmentPath,\n    scrollableSegmentsResult\n  )\n}\n\nfunction updateCacheNodeOnNavigation(\n  navigatedAt: number,\n  oldUrl: URL,\n  oldCacheNode: CacheNode,\n  oldRouterState: FlightRouterState,\n  newRouterState: FlightRouterState,\n  didFindRootLayout: boolean,\n  prefetchData: CacheNodeSeedData | null,\n  prefetchHead: HeadData | null,\n  isPrefetchHeadPartial: boolean,\n  isSamePageNavigation: boolean,\n  segmentPath: FlightSegmentPath,\n  scrollableSegmentsResult: Array<FlightSegmentPath>\n): Task | null {\n  // Diff the old and new trees to reuse the shared layouts.\n  const oldRouterStateChildren = oldRouterState[1]\n  const newRouterStateChildren = newRouterState[1]\n  const prefetchDataChildren = prefetchData !== null ? prefetchData[1] : null\n\n  if (!didFindRootLayout) {\n    // We're currently traversing the part of the tree that was also part of\n    // the previous route. If we discover a root layout, then we don't need to\n    // trigger an MPA navigation. See beginRenderingNewRouteTree for context.\n    const isRootLayout = newRouterState[4] === true\n    if (isRootLayout) {\n      // Found a matching root layout.\n      didFindRootLayout = true\n    }\n  }\n\n  const oldParallelRoutes = oldCacheNode.parallelRoutes\n\n  // Clone the current set of segment children, even if they aren't active in\n  // the new tree.\n  // TODO: We currently retain all the inactive segments indefinitely, until\n  // there's an explicit refresh, or a parent layout is lazily refreshed. We\n  // rely on this for popstate navigations, which update the Router State Tree\n  // but do not eagerly perform a data fetch, because they expect the segment\n  // data to already be in the Cache Node tree. For highly static sites that\n  // are mostly read-only, this may happen only rarely, causing memory to\n  // leak. We should figure out a better model for the lifetime of inactive\n  // segments, so we can maintain instant back/forward navigations without\n  // leaking memory indefinitely.\n  const prefetchParallelRoutes = new Map(oldParallelRoutes)\n\n  // As we diff the trees, we may sometimes modify (copy-on-write, not mutate)\n  // the Route Tree that was returned by the server — for example, in the case\n  // of default parallel routes, we preserve the currently active segment. To\n  // avoid mutating the original tree, we clone the router state children along\n  // the return path.\n  let patchedRouterStateChildren: {\n    [parallelRouteKey: string]: FlightRouterState\n  } = {}\n  let taskChildren = null\n\n  // Most navigations require a request to fetch additional data from the\n  // server, either because the data was not already prefetched, or because the\n  // target route contains dynamic data that cannot be prefetched.\n  //\n  // However, if the target route is fully static, and it's already completely\n  // loaded into the segment cache, then we can skip the server request.\n  //\n  // This starts off as `false`, and is set to `true` if any of the child\n  // routes requires a dynamic request.\n  let needsDynamicRequest = false\n  // As we traverse the children, we'll construct a FlightRouterState that can\n  // be sent to the server to request the dynamic data. If it turns out that\n  // nothing in the subtree is dynamic (i.e. needsDynamicRequest is false at the\n  // end), then this will be discarded.\n  // TODO: We can probably optimize the format of this data structure to only\n  // include paths that are dynamic. Instead of reusing the\n  // FlightRouterState type.\n  let dynamicRequestTreeChildren: {\n    [parallelRouteKey: string]: FlightRouterState\n  } = {}\n\n  for (let parallelRouteKey in newRouterStateChildren) {\n    const newRouterStateChild: FlightRouterState =\n      newRouterStateChildren[parallelRouteKey]\n    const oldRouterStateChild: FlightRouterState | void =\n      oldRouterStateChildren[parallelRouteKey]\n    const oldSegmentMapChild = oldParallelRoutes.get(parallelRouteKey)\n    const prefetchDataChild: CacheNodeSeedData | void | null =\n      prefetchDataChildren !== null\n        ? prefetchDataChildren[parallelRouteKey]\n        : null\n\n    const newSegmentChild = newRouterStateChild[0]\n    const newSegmentPathChild = segmentPath.concat([\n      parallelRouteKey,\n      newSegmentChild,\n    ])\n    const newSegmentKeyChild = createRouterCacheKey(newSegmentChild)\n\n    const oldSegmentChild =\n      oldRouterStateChild !== undefined ? oldRouterStateChild[0] : undefined\n\n    const oldCacheNodeChild =\n      oldSegmentMapChild !== undefined\n        ? oldSegmentMapChild.get(newSegmentKeyChild)\n        : undefined\n\n    let taskChild: Task | null\n    if (newSegmentChild === DEFAULT_SEGMENT_KEY) {\n      // This is another kind of leaf segment — a default route.\n      //\n      // Default routes have special behavior. When there's no matching segment\n      // for a parallel route, Next.js preserves the currently active segment\n      // during a client navigation — but not for initial render. The server\n      // leaves it to the client to account for this. So we need to handle\n      // it here.\n      if (oldRouterStateChild !== undefined) {\n        // Reuse the existing Router State for this segment. We spawn a \"task\"\n        // just to keep track of the updated router state; unlike most, it's\n        // already fulfilled and won't be affected by the dynamic response.\n        taskChild = reuseActiveSegmentInDefaultSlot(oldUrl, oldRouterStateChild)\n      } else {\n        // There's no currently active segment. Switch to the \"create\" path.\n        taskChild = beginRenderingNewRouteTree(\n          navigatedAt,\n          oldRouterStateChild,\n          newRouterStateChild,\n          oldCacheNodeChild,\n          didFindRootLayout,\n          prefetchDataChild !== undefined ? prefetchDataChild : null,\n          prefetchHead,\n          isPrefetchHeadPartial,\n          newSegmentPathChild,\n          scrollableSegmentsResult\n        )\n      }\n    } else if (\n      isSamePageNavigation &&\n      // Check if this is a page segment.\n      // TODO: We're not consistent about how we do this check. Some places\n      // check if the segment starts with PAGE_SEGMENT_KEY, but most seem to\n      // check if there any any children, which is why I'm doing it here. We\n      // should probably encode an empty children set as `null` though. Either\n      // way, we should update all the checks to be consistent.\n      Object.keys(newRouterStateChild[1]).length === 0\n    ) {\n      // We special case navigations to the exact same URL as the current\n      // location. It's a common UI pattern for apps to refresh when you click a\n      // link to the current page. So when this happens, we refresh the dynamic\n      // data in the page segments.\n      //\n      // Note that this does not apply if the any part of the hash or search\n      // query has changed. This might feel a bit weird but it makes more sense\n      // when you consider that the way to trigger this behavior is to click\n      // the same link multiple times.\n      //\n      // TODO: We should probably refresh the *entire* route when this case\n      // occurs, not just the page segments. Essentially treating it the same as\n      // a refresh() triggered by an action, which is the more explicit way of\n      // modeling the UI pattern described above.\n      //\n      // Also note that this only refreshes the dynamic data, not static/\n      // cached data. If the page segment is fully static and prefetched, the\n      // request is skipped. (This is also how refresh() works.)\n      taskChild = beginRenderingNewRouteTree(\n        navigatedAt,\n        oldRouterStateChild,\n        newRouterStateChild,\n        oldCacheNodeChild,\n        didFindRootLayout,\n        prefetchDataChild !== undefined ? prefetchDataChild : null,\n        prefetchHead,\n        isPrefetchHeadPartial,\n        newSegmentPathChild,\n        scrollableSegmentsResult\n      )\n    } else if (\n      oldRouterStateChild !== undefined &&\n      oldSegmentChild !== undefined &&\n      matchSegment(newSegmentChild, oldSegmentChild)\n    ) {\n      if (\n        oldCacheNodeChild !== undefined &&\n        oldRouterStateChild !== undefined\n      ) {\n        // This segment exists in both the old and new trees. Recursively update\n        // the children.\n        taskChild = updateCacheNodeOnNavigation(\n          navigatedAt,\n          oldUrl,\n          oldCacheNodeChild,\n          oldRouterStateChild,\n          newRouterStateChild,\n          didFindRootLayout,\n          prefetchDataChild,\n          prefetchHead,\n          isPrefetchHeadPartial,\n          isSamePageNavigation,\n          newSegmentPathChild,\n          scrollableSegmentsResult\n        )\n      } else {\n        // There's no existing Cache Node for this segment. Switch to the\n        // \"create\" path.\n        taskChild = beginRenderingNewRouteTree(\n          navigatedAt,\n          oldRouterStateChild,\n          newRouterStateChild,\n          oldCacheNodeChild,\n          didFindRootLayout,\n          prefetchDataChild !== undefined ? prefetchDataChild : null,\n          prefetchHead,\n          isPrefetchHeadPartial,\n          newSegmentPathChild,\n          scrollableSegmentsResult\n        )\n      }\n    } else {\n      // This is a new tree. Switch to the \"create\" path.\n      taskChild = beginRenderingNewRouteTree(\n        navigatedAt,\n        oldRouterStateChild,\n        newRouterStateChild,\n        oldCacheNodeChild,\n        didFindRootLayout,\n        prefetchDataChild !== undefined ? prefetchDataChild : null,\n        prefetchHead,\n        isPrefetchHeadPartial,\n        newSegmentPathChild,\n        scrollableSegmentsResult\n      )\n    }\n\n    if (taskChild !== null) {\n      // Recursively propagate up the child tasks.\n\n      if (taskChild.route === null) {\n        // One of the child tasks discovered a change to the root layout.\n        // Immediately unwind from this recursive traversal.\n        return MPA_NAVIGATION_TASK\n      }\n\n      if (taskChildren === null) {\n        taskChildren = new Map()\n      }\n      taskChildren.set(parallelRouteKey, taskChild)\n      const newCacheNodeChild = taskChild.node\n      if (newCacheNodeChild !== null) {\n        const newSegmentMapChild: ChildSegmentMap = new Map(oldSegmentMapChild)\n        newSegmentMapChild.set(newSegmentKeyChild, newCacheNodeChild)\n        prefetchParallelRoutes.set(parallelRouteKey, newSegmentMapChild)\n      }\n\n      // The child tree's route state may be different from the prefetched\n      // route sent by the server. We need to clone it as we traverse back up\n      // the tree.\n      const taskChildRoute = taskChild.route\n      patchedRouterStateChildren[parallelRouteKey] = taskChildRoute\n\n      const dynamicRequestTreeChild = taskChild.dynamicRequestTree\n      if (dynamicRequestTreeChild !== null) {\n        // Something in the child tree is dynamic.\n        needsDynamicRequest = true\n        dynamicRequestTreeChildren[parallelRouteKey] = dynamicRequestTreeChild\n      } else {\n        dynamicRequestTreeChildren[parallelRouteKey] = taskChildRoute\n      }\n    } else {\n      // The child didn't change. We can use the prefetched router state.\n      patchedRouterStateChildren[parallelRouteKey] = newRouterStateChild\n      dynamicRequestTreeChildren[parallelRouteKey] = newRouterStateChild\n    }\n  }\n\n  if (taskChildren === null) {\n    // No new tasks were spawned.\n    return null\n  }\n\n  const newCacheNode: ReadyCacheNode = {\n    lazyData: null,\n    rsc: oldCacheNode.rsc,\n    // We intentionally aren't updating the prefetchRsc field, since this node\n    // is already part of the current tree, because it would be weird for\n    // prefetch data to be newer than the final data. It probably won't ever be\n    // observable anyway, but it could happen if the segment is unmounted then\n    // mounted again, because LayoutRouter will momentarily switch to rendering\n    // prefetchRsc, via useDeferredValue.\n    prefetchRsc: oldCacheNode.prefetchRsc,\n    head: oldCacheNode.head,\n    prefetchHead: oldCacheNode.prefetchHead,\n    loading: oldCacheNode.loading,\n\n    // Everything is cloned except for the children, which we computed above.\n    parallelRoutes: prefetchParallelRoutes,\n\n    navigatedAt,\n  }\n\n  return {\n    // Return a cloned copy of the router state with updated children.\n    route: patchRouterStateWithNewChildren(\n      newRouterState,\n      patchedRouterStateChildren\n    ),\n    node: newCacheNode,\n    dynamicRequestTree: needsDynamicRequest\n      ? patchRouterStateWithNewChildren(\n          newRouterState,\n          dynamicRequestTreeChildren\n        )\n      : null,\n    children: taskChildren,\n  }\n}\n\nfunction beginRenderingNewRouteTree(\n  navigatedAt: number,\n  oldRouterState: FlightRouterState | void,\n  newRouterState: FlightRouterState,\n  existingCacheNode: CacheNode | void,\n  didFindRootLayout: boolean,\n  prefetchData: CacheNodeSeedData | null,\n  possiblyPartialPrefetchHead: HeadData | null,\n  isPrefetchHeadPartial: boolean,\n  segmentPath: FlightSegmentPath,\n  scrollableSegmentsResult: Array<FlightSegmentPath>\n): Task {\n  if (!didFindRootLayout) {\n    // The route tree changed before we reached a layout. (The highest-level\n    // layout in a route tree is referred to as the \"root\" layout.) This could\n    // mean that we're navigating between two different root layouts. When this\n    // happens, we perform a full-page (MPA-style) navigation.\n    //\n    // However, the algorithm for deciding where to start rendering a route\n    // (i.e. the one performed in order to reach this function) is stricter\n    // than the one used to detect a change in the root layout. So just because\n    // we're re-rendering a segment outside of the root layout does not mean we\n    // should trigger a full-page navigation.\n    //\n    // Specifically, we handle dynamic parameters differently: two segments are\n    // considered the same even if their parameter values are different.\n    //\n    // Refer to isNavigatingToNewRootLayout for details.\n    //\n    // Note that we only have to perform this extra traversal if we didn't\n    // already discover a root layout in the part of the tree that is unchanged.\n    // In the common case, this branch is skipped completely.\n    if (\n      oldRouterState === undefined ||\n      isNavigatingToNewRootLayout(oldRouterState, newRouterState)\n    ) {\n      // The root layout changed. Perform a full-page navigation.\n      return MPA_NAVIGATION_TASK\n    }\n  }\n  return createCacheNodeOnNavigation(\n    navigatedAt,\n    newRouterState,\n    existingCacheNode,\n    prefetchData,\n    possiblyPartialPrefetchHead,\n    isPrefetchHeadPartial,\n    segmentPath,\n    scrollableSegmentsResult\n  )\n}\n\nfunction createCacheNodeOnNavigation(\n  navigatedAt: number,\n  routerState: FlightRouterState,\n  existingCacheNode: CacheNode | void,\n  prefetchData: CacheNodeSeedData | null,\n  possiblyPartialPrefetchHead: HeadData | null,\n  isPrefetchHeadPartial: boolean,\n  segmentPath: FlightSegmentPath,\n  scrollableSegmentsResult: Array<FlightSegmentPath>\n): SPANavigationTask {\n  // Same traversal as updateCacheNodeNavigation, but we switch to this path\n  // once we reach the part of the tree that was not in the previous route. We\n  // don't need to diff against the old tree, we just need to create a new one.\n\n  // The head is assigned to every leaf segment delivered by the server. Based\n  // on corresponding logic in fill-lazy-items-till-leaf-with-head.ts\n  const routerStateChildren = routerState[1]\n  const isLeafSegment = Object.keys(routerStateChildren).length === 0\n\n  // Even we're rendering inside the \"new\" part of the target tree, we may have\n  // a locally cached segment that we can reuse. This may come from either 1)\n  // the CacheNode tree, which lives in React state and is populated by previous\n  // navigations; or 2) the prefetch cache, which is a separate cache that is\n  // populated by prefetches.\n  let rsc: React.ReactNode\n  let loading: LoadingModuleData | Promise<LoadingModuleData>\n  let head: HeadData | null\n  let cacheNodeNavigatedAt: number\n  if (\n    existingCacheNode !== undefined &&\n    // DYNAMIC_STALETIME_MS defaults to 0, but it can be increased using\n    // the experimental.staleTimes.dynamic config. When set, we'll avoid\n    // refetching dynamic data if it was fetched within the given threshold.\n    existingCacheNode.navigatedAt + DYNAMIC_STALETIME_MS > navigatedAt\n  ) {\n    // We have an existing CacheNode for this segment, and it's not stale. We\n    // should reuse it rather than request a new one.\n    rsc = existingCacheNode.rsc\n    loading = existingCacheNode.loading\n    head = existingCacheNode.head\n\n    // Don't update the navigatedAt timestamp, since we're reusing stale data.\n    cacheNodeNavigatedAt = existingCacheNode.navigatedAt\n  } else if (prefetchData !== null) {\n    // There's no existing CacheNode for this segment, but we do have prefetch\n    // data. If the prefetch data is fully static (i.e. does not contain any\n    // dynamic holes), we don't need to request it from the server.\n    rsc = prefetchData[0]\n    loading = prefetchData[2]\n    head = isLeafSegment ? possiblyPartialPrefetchHead : null\n    // Even though we're accessing the data from the prefetch cache, this is\n    // conceptually a new segment, not a reused one. So we should update the\n    // navigatedAt timestamp.\n    cacheNodeNavigatedAt = navigatedAt\n    const isPrefetchRscPartial = prefetchData[3]\n    if (\n      // Check if the segment data is partial\n      isPrefetchRscPartial ||\n      // Check if the head is partial (only relevant if this is a leaf segment)\n      (isPrefetchHeadPartial && isLeafSegment)\n    ) {\n      // We only have partial data from this segment. Like missing segments, we\n      // must request the full data from the server.\n      return spawnPendingTask(\n        navigatedAt,\n        routerState,\n        prefetchData,\n        possiblyPartialPrefetchHead,\n        isPrefetchHeadPartial,\n        segmentPath,\n        scrollableSegmentsResult\n      )\n    } else {\n      // The prefetch data is fully static, so we can omit it from the\n      // navigation request.\n    }\n  } else {\n    // There's no prefetch for this segment. Everything from this point will be\n    // requested from the server, even if there are static children below it.\n    // Create a terminal task node that will later be fulfilled by\n    // server response.\n    return spawnPendingTask(\n      navigatedAt,\n      routerState,\n      null,\n      possiblyPartialPrefetchHead,\n      isPrefetchHeadPartial,\n      segmentPath,\n      scrollableSegmentsResult\n    )\n  }\n\n  // We already have a full segment we can render, so we don't need to request a\n  // new one from the server. Keep traversing down the tree until we reach\n  // something that requires a dynamic request.\n  const prefetchDataChildren = prefetchData !== null ? prefetchData[1] : null\n  const taskChildren = new Map()\n  const existingCacheNodeChildren =\n    existingCacheNode !== undefined ? existingCacheNode.parallelRoutes : null\n  const cacheNodeChildren = new Map(existingCacheNodeChildren)\n  let dynamicRequestTreeChildren: {\n    [parallelRouteKey: string]: FlightRouterState\n  } = {}\n  let needsDynamicRequest = false\n  if (isLeafSegment) {\n    // The segment path of every leaf segment (i.e. page) is collected into\n    // a result array. This is used by the LayoutRouter to scroll to ensure that\n    // new pages are visible after a navigation.\n    // TODO: We should use a string to represent the segment path instead of\n    // an array. We already use a string representation for the path when\n    // accessing the Segment Cache, so we can use the same one.\n    scrollableSegmentsResult.push(segmentPath)\n  } else {\n    for (let parallelRouteKey in routerStateChildren) {\n      const routerStateChild: FlightRouterState =\n        routerStateChildren[parallelRouteKey]\n      const prefetchDataChild: CacheNodeSeedData | void | null =\n        prefetchDataChildren !== null\n          ? prefetchDataChildren[parallelRouteKey]\n          : null\n      const existingSegmentMapChild =\n        existingCacheNodeChildren !== null\n          ? existingCacheNodeChildren.get(parallelRouteKey)\n          : undefined\n      const segmentChild = routerStateChild[0]\n      const segmentPathChild = segmentPath.concat([\n        parallelRouteKey,\n        segmentChild,\n      ])\n      const segmentKeyChild = createRouterCacheKey(segmentChild)\n\n      const existingCacheNodeChild =\n        existingSegmentMapChild !== undefined\n          ? existingSegmentMapChild.get(segmentKeyChild)\n          : undefined\n\n      const taskChild = createCacheNodeOnNavigation(\n        navigatedAt,\n        routerStateChild,\n        existingCacheNodeChild,\n        prefetchDataChild,\n        possiblyPartialPrefetchHead,\n        isPrefetchHeadPartial,\n        segmentPathChild,\n        scrollableSegmentsResult\n      )\n      taskChildren.set(parallelRouteKey, taskChild)\n      const dynamicRequestTreeChild = taskChild.dynamicRequestTree\n      if (dynamicRequestTreeChild !== null) {\n        // Something in the child tree is dynamic.\n        needsDynamicRequest = true\n        dynamicRequestTreeChildren[parallelRouteKey] = dynamicRequestTreeChild\n      } else {\n        dynamicRequestTreeChildren[parallelRouteKey] = routerStateChild\n      }\n      const newCacheNodeChild = taskChild.node\n      if (newCacheNodeChild !== null) {\n        const newSegmentMapChild: ChildSegmentMap = new Map()\n        newSegmentMapChild.set(segmentKeyChild, newCacheNodeChild)\n        cacheNodeChildren.set(parallelRouteKey, newSegmentMapChild)\n      }\n    }\n  }\n\n  return {\n    // Since we're inside a new route tree, unlike the\n    // `updateCacheNodeOnNavigation` path, the router state on the children\n    // tasks is always the same as the router state we pass in. So we don't need\n    // to clone/modify it.\n    route: routerState,\n    node: {\n      lazyData: null,\n      // Since this segment is already full, we don't need to use the\n      // `prefetchRsc` field.\n      rsc,\n      prefetchRsc: null,\n      head,\n      prefetchHead: null,\n      loading,\n      parallelRoutes: cacheNodeChildren,\n      navigatedAt: cacheNodeNavigatedAt,\n    },\n    dynamicRequestTree: needsDynamicRequest\n      ? patchRouterStateWithNewChildren(routerState, dynamicRequestTreeChildren)\n      : null,\n    children: taskChildren,\n  }\n}\n\nfunction patchRouterStateWithNewChildren(\n  baseRouterState: FlightRouterState,\n  newChildren: { [parallelRouteKey: string]: FlightRouterState }\n): FlightRouterState {\n  const clone: FlightRouterState = [baseRouterState[0], newChildren]\n  // Based on equivalent logic in apply-router-state-patch-to-tree, but should\n  // confirm whether we need to copy all of these fields. Not sure the server\n  // ever sends, e.g. the refetch marker.\n  if (2 in baseRouterState) {\n    clone[2] = baseRouterState[2]\n  }\n  if (3 in baseRouterState) {\n    clone[3] = baseRouterState[3]\n  }\n  if (4 in baseRouterState) {\n    clone[4] = baseRouterState[4]\n  }\n  return clone\n}\n\nfunction spawnPendingTask(\n  navigatedAt: number,\n  routerState: FlightRouterState,\n  prefetchData: CacheNodeSeedData | null,\n  prefetchHead: HeadData | null,\n  isPrefetchHeadPartial: boolean,\n  segmentPath: FlightSegmentPath,\n  scrollableSegmentsResult: Array<FlightSegmentPath>\n): SPANavigationTask {\n  // Create a task that will later be fulfilled by data from the server.\n\n  // Clone the prefetched route tree and the `refetch` marker to it. We'll send\n  // this to the server so it knows where to start rendering.\n  const dynamicRequestTree = patchRouterStateWithNewChildren(\n    routerState,\n    routerState[1]\n  )\n  dynamicRequestTree[3] = 'refetch'\n\n  const newTask: Task = {\n    route: routerState,\n\n    // Corresponds to the part of the route that will be rendered on the server.\n    node: createPendingCacheNode(\n      navigatedAt,\n      routerState,\n      prefetchData,\n      prefetchHead,\n      isPrefetchHeadPartial,\n      segmentPath,\n      scrollableSegmentsResult\n    ),\n    // Because this is non-null, and it gets propagated up through the parent\n    // tasks, the root task will know that it needs to perform a server request.\n    dynamicRequestTree,\n    children: null,\n  }\n  return newTask\n}\n\nfunction reuseActiveSegmentInDefaultSlot(\n  oldUrl: URL,\n  oldRouterState: FlightRouterState\n): Task {\n  // This is a \"default\" segment. These are never sent by the server during a\n  // soft navigation; instead, the client reuses whatever segment was already\n  // active in that slot on the previous route. This means if we later need to\n  // refresh the segment, it will have to be refetched from the previous route's\n  // URL. We store it in the Flight Router State.\n  //\n  // TODO: We also mark the segment with a \"refresh\" marker but I think we can\n  // get rid of that eventually by making sure we only add URLs to page segments\n  // that are reused. Then the presence of the URL alone is enough.\n  let reusedRouterState\n\n  const oldRefreshMarker = oldRouterState[3]\n  if (oldRefreshMarker === 'refresh') {\n    // This segment was already reused from an even older route. Keep its\n    // existing URL and refresh marker.\n    reusedRouterState = oldRouterState\n  } else {\n    // This segment was not previously reused, and it's not on the new route.\n    // So it must have been delivered in the old route.\n    reusedRouterState = patchRouterStateWithNewChildren(\n      oldRouterState,\n      oldRouterState[1]\n    )\n    reusedRouterState[2] = createHrefFromUrl(oldUrl)\n    reusedRouterState[3] = 'refresh'\n  }\n\n  return {\n    route: reusedRouterState,\n    node: null,\n    dynamicRequestTree: null,\n    children: null,\n  }\n}\n\n// Writes a dynamic server response into the tree created by\n// updateCacheNodeOnNavigation. All pending promises that were spawned by the\n// navigation will be resolved, either with dynamic data from the server, or\n// `null` to indicate that the data is missing.\n//\n// A `null` value will trigger a lazy fetch during render, which will then patch\n// up the tree using the same mechanism as the non-PPR implementation\n// (serverPatchReducer).\n//\n// Usually, the server will respond with exactly the subset of data that we're\n// waiting for — everything below the nearest shared layout. But technically,\n// the server can return anything it wants.\n//\n// This does _not_ create a new tree; it modifies the existing one in place.\n// Which means it must follow the Suspense rules of cache safety.\nexport function listenForDynamicRequest(\n  task: SPANavigationTask,\n  responsePromise: Promise<FetchServerResponseResult>\n) {\n  responsePromise.then(\n    (result: FetchServerResponseResult) => {\n      if (typeof result === 'string') {\n        // Happens when navigating to page in `pages` from `app`. We shouldn't\n        // get here because should have already handled this during\n        // the prefetch.\n        return\n      }\n      const { flightData, debugInfo } = result\n      for (const normalizedFlightData of flightData) {\n        const {\n          segmentPath,\n          tree: serverRouterState,\n          seedData: dynamicData,\n          head: dynamicHead,\n        } = normalizedFlightData\n\n        if (!dynamicData) {\n          // This shouldn't happen. PPR should always send back a response.\n          // However, `FlightDataPath` is a shared type and the pre-PPR handling of\n          // this might return null.\n          continue\n        }\n\n        writeDynamicDataIntoPendingTask(\n          task,\n          segmentPath,\n          serverRouterState,\n          dynamicData,\n          dynamicHead,\n          debugInfo\n        )\n      }\n\n      // Now that we've exhausted all the data we received from the server, if\n      // there are any remaining pending tasks in the tree, abort them now.\n      // If there's any missing data, it will trigger a lazy fetch.\n      abortTask(task, null, debugInfo)\n    },\n    (error: any) => {\n      // This will trigger an error during render\n      abortTask(task, error, null)\n    }\n  )\n}\n\nfunction writeDynamicDataIntoPendingTask(\n  rootTask: SPANavigationTask,\n  segmentPath: FlightSegmentPath,\n  serverRouterState: FlightRouterState,\n  dynamicData: CacheNodeSeedData,\n  dynamicHead: HeadData,\n  debugInfo: Array<any> | null\n) {\n  // The data sent by the server represents only a subtree of the app. We need\n  // to find the part of the task tree that matches the server response, and\n  // fulfill it using the dynamic data.\n  //\n  // segmentPath represents the parent path of subtree. It's a repeating pattern\n  // of parallel route key and segment:\n  //\n  //   [string, Segment, string, Segment, string, Segment, ...]\n  //\n  // Iterate through the path and finish any tasks that match this payload.\n  let task = rootTask\n  for (let i = 0; i < segmentPath.length; i += 2) {\n    const parallelRouteKey: string = segmentPath[i]\n    const segment: Segment = segmentPath[i + 1]\n    const taskChildren = task.children\n    if (taskChildren !== null) {\n      const taskChild = taskChildren.get(parallelRouteKey)\n      if (taskChild !== undefined) {\n        const taskSegment = taskChild.route[0]\n        if (matchSegment(segment, taskSegment)) {\n          // Found a match for this task. Keep traversing down the task tree.\n          task = taskChild\n          continue\n        }\n      }\n    }\n    // We didn't find a child task that matches the server data. Exit. We won't\n    // abort the task, though, because a different FlightDataPath may be able to\n    // fulfill it (see loop in listenForDynamicRequest). We only abort tasks\n    // once we've run out of data.\n    return\n  }\n\n  finishTaskUsingDynamicDataPayload(\n    task,\n    serverRouterState,\n    dynamicData,\n    dynamicHead,\n    debugInfo\n  )\n}\n\nfunction finishTaskUsingDynamicDataPayload(\n  task: SPANavigationTask,\n  serverRouterState: FlightRouterState,\n  dynamicData: CacheNodeSeedData,\n  dynamicHead: HeadData,\n  debugInfo: Array<any> | null\n) {\n  if (task.dynamicRequestTree === null) {\n    // Everything in this subtree is already complete. Bail out.\n    return\n  }\n\n  // dynamicData may represent a larger subtree than the task. Before we can\n  // finish the task, we need to line them up.\n  const taskChildren = task.children\n  const taskNode = task.node\n  if (taskChildren === null) {\n    // We've reached the leaf node of the pending task. The server data tree\n    // lines up the pending Cache Node tree. We can now switch to the\n    // normal algorithm.\n    if (taskNode !== null) {\n      finishPendingCacheNode(\n        taskNode,\n        task.route,\n        serverRouterState,\n        dynamicData,\n        dynamicHead,\n        debugInfo\n      )\n      // Set this to null to indicate that this task is now complete.\n      task.dynamicRequestTree = null\n    }\n    return\n  }\n  // The server returned more data than we need to finish the task. Skip over\n  // the extra segments until we reach the leaf task node.\n  const serverChildren = serverRouterState[1]\n  const dynamicDataChildren = dynamicData[1]\n\n  for (const parallelRouteKey in serverRouterState) {\n    const serverRouterStateChild: FlightRouterState =\n      serverChildren[parallelRouteKey]\n    const dynamicDataChild: CacheNodeSeedData | null | void =\n      dynamicDataChildren[parallelRouteKey]\n\n    const taskChild = taskChildren.get(parallelRouteKey)\n    if (taskChild !== undefined) {\n      const taskSegment = taskChild.route[0]\n      if (\n        matchSegment(serverRouterStateChild[0], taskSegment) &&\n        dynamicDataChild !== null &&\n        dynamicDataChild !== undefined\n      ) {\n        // Found a match for this task. Keep traversing down the task tree.\n        return finishTaskUsingDynamicDataPayload(\n          taskChild,\n          serverRouterStateChild,\n          dynamicDataChild,\n          dynamicHead,\n          debugInfo\n        )\n      }\n    }\n    // We didn't find a child task that matches the server data. We won't abort\n    // the task, though, because a different FlightDataPath may be able to\n    // fulfill it (see loop in listenForDynamicRequest). We only abort tasks\n    // once we've run out of data.\n  }\n}\n\nfunction createPendingCacheNode(\n  navigatedAt: number,\n  routerState: FlightRouterState,\n  prefetchData: CacheNodeSeedData | null,\n  prefetchHead: HeadData | null,\n  isPrefetchHeadPartial: boolean,\n  segmentPath: FlightSegmentPath,\n  scrollableSegmentsResult: Array<FlightSegmentPath>\n): ReadyCacheNode {\n  const routerStateChildren = routerState[1]\n  const prefetchDataChildren = prefetchData !== null ? prefetchData[1] : null\n\n  const parallelRoutes = new Map()\n  for (let parallelRouteKey in routerStateChildren) {\n    const routerStateChild: FlightRouterState =\n      routerStateChildren[parallelRouteKey]\n    const prefetchDataChild: CacheNodeSeedData | null | void =\n      prefetchDataChildren !== null\n        ? prefetchDataChildren[parallelRouteKey]\n        : null\n\n    const segmentChild = routerStateChild[0]\n    const segmentPathChild = segmentPath.concat([\n      parallelRouteKey,\n      segmentChild,\n    ])\n    const segmentKeyChild = createRouterCacheKey(segmentChild)\n\n    const newCacheNodeChild = createPendingCacheNode(\n      navigatedAt,\n      routerStateChild,\n      prefetchDataChild === undefined ? null : prefetchDataChild,\n      prefetchHead,\n      isPrefetchHeadPartial,\n      segmentPathChild,\n      scrollableSegmentsResult\n    )\n\n    const newSegmentMapChild: ChildSegmentMap = new Map()\n    newSegmentMapChild.set(segmentKeyChild, newCacheNodeChild)\n    parallelRoutes.set(parallelRouteKey, newSegmentMapChild)\n  }\n\n  // The head is assigned to every leaf segment delivered by the server. Based\n  // on corresponding logic in fill-lazy-items-till-leaf-with-head.ts\n  const isLeafSegment = parallelRoutes.size === 0\n\n  if (isLeafSegment) {\n    // The segment path of every leaf segment (i.e. page) is collected into\n    // a result array. This is used by the LayoutRouter to scroll to ensure that\n    // new pages are visible after a navigation.\n    // TODO: We should use a string to represent the segment path instead of\n    // an array. We already use a string representation for the path when\n    // accessing the Segment Cache, so we can use the same one.\n    scrollableSegmentsResult.push(segmentPath)\n  }\n\n  const maybePrefetchRsc = prefetchData !== null ? prefetchData[0] : null\n  return {\n    lazyData: null,\n    parallelRoutes: parallelRoutes,\n\n    prefetchRsc: maybePrefetchRsc !== undefined ? maybePrefetchRsc : null,\n    prefetchHead: isLeafSegment ? prefetchHead : [null, null],\n\n    // Create a deferred promise. This will be fulfilled once the dynamic\n    // response is received from the server.\n    rsc: createDeferredRsc() as React.ReactNode,\n    head: isLeafSegment ? (createDeferredRsc() as React.ReactNode) : null,\n\n    // TODO: Technically, a loading boundary could contain dynamic data. We must\n    // have separate `loading` and `prefetchLoading` fields to handle this, like\n    // we do for the segment data and head.\n    loading:\n      prefetchData !== null\n        ? (prefetchData[2] ?? null)\n        : // If we don't have a prefetch, then we don't know if there's a loading component.\n          // We'll fulfill it based on the dynamic response, just like `rsc` and `head`.\n          createDeferredRsc<LoadingModuleData>(),\n\n    navigatedAt,\n  }\n}\n\nfunction finishPendingCacheNode(\n  cacheNode: CacheNode,\n  taskState: FlightRouterState,\n  serverState: FlightRouterState,\n  dynamicData: CacheNodeSeedData,\n  dynamicHead: HeadData,\n  debugInfo: Array<any> | null\n): void {\n  // Writes a dynamic response into an existing Cache Node tree. This does _not_\n  // create a new tree, it updates the existing tree in-place. So it must follow\n  // the Suspense rules of cache safety — it can resolve pending promises, but\n  // it cannot overwrite existing data. It can add segments to the tree (because\n  // a missing segment will cause the layout router to suspend).\n  // but it cannot delete them.\n  //\n  // We must resolve every promise in the tree, or else it will suspend\n  // indefinitely. If we did not receive data for a segment, we will resolve its\n  // data promise to `null` to trigger a lazy fetch during render.\n  const taskStateChildren = taskState[1]\n  const serverStateChildren = serverState[1]\n  const dataChildren = dynamicData[1]\n\n  // The router state that we traverse the tree with (taskState) is the same one\n  // that we used to construct the pending Cache Node tree. That way we're sure\n  // to resolve all the pending promises.\n  const parallelRoutes = cacheNode.parallelRoutes\n  for (let parallelRouteKey in taskStateChildren) {\n    const taskStateChild: FlightRouterState =\n      taskStateChildren[parallelRouteKey]\n    const serverStateChild: FlightRouterState | void =\n      serverStateChildren[parallelRouteKey]\n    const dataChild: CacheNodeSeedData | null | void =\n      dataChildren[parallelRouteKey]\n\n    const segmentMapChild = parallelRoutes.get(parallelRouteKey)\n    const taskSegmentChild = taskStateChild[0]\n    const taskSegmentKeyChild = createRouterCacheKey(taskSegmentChild)\n\n    const cacheNodeChild =\n      segmentMapChild !== undefined\n        ? segmentMapChild.get(taskSegmentKeyChild)\n        : undefined\n\n    if (cacheNodeChild !== undefined) {\n      if (\n        serverStateChild !== undefined &&\n        matchSegment(taskSegmentChild, serverStateChild[0])\n      ) {\n        if (dataChild !== undefined && dataChild !== null) {\n          // This is the happy path. Recursively update all the children.\n          finishPendingCacheNode(\n            cacheNodeChild,\n            taskStateChild,\n            serverStateChild,\n            dataChild,\n            dynamicHead,\n            debugInfo\n          )\n        } else {\n          // The server never returned data for this segment. Trigger a lazy\n          // fetch during render. This shouldn't happen because the Route Tree\n          // and the Seed Data tree sent by the server should always be the same\n          // shape when part of the same server response.\n          abortPendingCacheNode(taskStateChild, cacheNodeChild, null, debugInfo)\n        }\n      } else {\n        // The server never returned data for this segment. Trigger a lazy\n        // fetch during render.\n        abortPendingCacheNode(taskStateChild, cacheNodeChild, null, debugInfo)\n      }\n    } else {\n      // The server response matches what was expected to receive, but there's\n      // no matching Cache Node in the task tree. This is a bug in the\n      // implementation because we should have created a node for every\n      // segment in the tree that's associated with this task.\n    }\n  }\n\n  // Use the dynamic data from the server to fulfill the deferred RSC promise\n  // on the Cache Node.\n  const rsc = cacheNode.rsc\n  const dynamicSegmentData = dynamicData[0]\n  if (rsc === null) {\n    // This is a lazy cache node. We can overwrite it. This is only safe\n    // because we know that the LayoutRouter suspends if `rsc` is `null`.\n    cacheNode.rsc = dynamicSegmentData\n  } else if (isDeferredRsc(rsc)) {\n    // This is a deferred RSC promise. We can fulfill it with the data we just\n    // received from the server. If it was already resolved by a different\n    // navigation, then this does nothing because we can't overwrite data.\n    rsc.resolve(dynamicSegmentData, debugInfo)\n  } else {\n    // This is not a deferred RSC promise, nor is it empty, so it must have\n    // been populated by a different navigation. We must not overwrite it.\n  }\n\n  // If we navigated without a prefetch, then `loading` will be a deferred promise too.\n  // Fulfill it using the dynamic response so that we can display the loading boundary.\n  const loading = cacheNode.loading\n  if (isDeferredRsc(loading)) {\n    const dynamicLoading = dynamicData[2]\n    loading.resolve(dynamicLoading, debugInfo)\n  }\n\n  // Check if this is a leaf segment. If so, it will have a `head` property with\n  // a pending promise that needs to be resolved with the dynamic head from\n  // the server.\n  const head = cacheNode.head\n  if (isDeferredRsc(head)) {\n    head.resolve(dynamicHead, debugInfo)\n  }\n}\n\nexport function abortTask(\n  task: SPANavigationTask,\n  error: any,\n  debugInfo: Array<any> | null\n): void {\n  const cacheNode = task.node\n  if (cacheNode === null) {\n    // This indicates the task is already complete.\n    return\n  }\n\n  const taskChildren = task.children\n  if (taskChildren === null) {\n    // Reached the leaf task node. This is the root of a pending cache\n    // node tree.\n    abortPendingCacheNode(task.route, cacheNode, error, debugInfo)\n  } else {\n    // This is an intermediate task node. Keep traversing until we reach a\n    // task node with no children. That will be the root of the cache node tree\n    // that needs to be resolved.\n    for (const taskChild of taskChildren.values()) {\n      abortTask(taskChild, error, debugInfo)\n    }\n  }\n\n  // Set this to null to indicate that this task is now complete.\n  task.dynamicRequestTree = null\n}\n\nfunction abortPendingCacheNode(\n  routerState: FlightRouterState,\n  cacheNode: CacheNode,\n  error: any,\n  debugInfo: Array<any> | null\n): void {\n  // For every pending segment in the tree, resolve its `rsc` promise to `null`\n  // to trigger a lazy fetch during render.\n  //\n  // Or, if an error object is provided, it will error instead.\n  const routerStateChildren = routerState[1]\n  const parallelRoutes = cacheNode.parallelRoutes\n  for (let parallelRouteKey in routerStateChildren) {\n    const routerStateChild: FlightRouterState =\n      routerStateChildren[parallelRouteKey]\n    const segmentMapChild = parallelRoutes.get(parallelRouteKey)\n    if (segmentMapChild === undefined) {\n      // This shouldn't happen because we're traversing the same tree that was\n      // used to construct the cache nodes in the first place.\n      continue\n    }\n    const segmentChild = routerStateChild[0]\n    const segmentKeyChild = createRouterCacheKey(segmentChild)\n    const cacheNodeChild = segmentMapChild.get(segmentKeyChild)\n    if (cacheNodeChild !== undefined) {\n      abortPendingCacheNode(routerStateChild, cacheNodeChild, error, debugInfo)\n    } else {\n      // This shouldn't happen because we're traversing the same tree that was\n      // used to construct the cache nodes in the first place.\n    }\n  }\n\n  const rsc = cacheNode.rsc\n  if (isDeferredRsc(rsc)) {\n    if (error === null) {\n      // This will trigger a lazy fetch during render.\n      rsc.resolve(null, debugInfo)\n    } else {\n      // This will trigger an error during rendering.\n      rsc.reject(error, debugInfo)\n    }\n  }\n\n  const loading = cacheNode.loading\n  if (isDeferredRsc(loading)) {\n    loading.resolve(null, debugInfo)\n  }\n\n  // Check if this is a leaf segment. If so, it will have a `head` property with\n  // a pending promise that needs to be resolved. If an error was provided, we\n  // will not resolve it with an error, since this is rendered at the root of\n  // the app. We want the segment to error, not the entire app.\n  const head = cacheNode.head\n  if (isDeferredRsc(head)) {\n    head.resolve(null, debugInfo)\n  }\n}\n\nexport function updateCacheNodeOnPopstateRestoration(\n  oldCacheNode: CacheNode,\n  routerState: FlightRouterState\n): ReadyCacheNode {\n  // A popstate navigation reads data from the local cache. It does not issue\n  // new network requests (unless the cache entries have been evicted). So, we\n  // update the cache to drop the prefetch data for any segment whose dynamic\n  // data was already received. This prevents an unnecessary flash back to PPR\n  // state during a back/forward navigation.\n  //\n  // This function clones the entire cache node tree and sets the `prefetchRsc`\n  // field to `null` to prevent it from being rendered. We can't mutate the node\n  // in place because this is a concurrent data structure.\n\n  const routerStateChildren = routerState[1]\n  const oldParallelRoutes = oldCacheNode.parallelRoutes\n  const newParallelRoutes = new Map(oldParallelRoutes)\n  for (let parallelRouteKey in routerStateChildren) {\n    const routerStateChild: FlightRouterState =\n      routerStateChildren[parallelRouteKey]\n    const segmentChild = routerStateChild[0]\n    const segmentKeyChild = createRouterCacheKey(segmentChild)\n    const oldSegmentMapChild = oldParallelRoutes.get(parallelRouteKey)\n    if (oldSegmentMapChild !== undefined) {\n      const oldCacheNodeChild = oldSegmentMapChild.get(segmentKeyChild)\n      if (oldCacheNodeChild !== undefined) {\n        const newCacheNodeChild = updateCacheNodeOnPopstateRestoration(\n          oldCacheNodeChild,\n          routerStateChild\n        )\n        const newSegmentMapChild = new Map(oldSegmentMapChild)\n        newSegmentMapChild.set(segmentKeyChild, newCacheNodeChild)\n        newParallelRoutes.set(parallelRouteKey, newSegmentMapChild)\n      }\n    }\n  }\n\n  // Only show prefetched data if the dynamic data is still pending.\n  //\n  // Tehnically, what we're actually checking is whether the dynamic network\n  // response was received. But since it's a streaming response, this does not\n  // mean that all the dynamic data has fully streamed in. It just means that\n  // _some_ of the dynamic data was received. But as a heuristic, we assume that\n  // the rest dynamic data will stream in quickly, so it's still better to skip\n  // the prefetch state.\n  const rsc = oldCacheNode.rsc\n  const shouldUsePrefetch = isDeferredRsc(rsc) && rsc.status === 'pending'\n\n  return {\n    lazyData: null,\n    rsc,\n    head: oldCacheNode.head,\n\n    prefetchHead: shouldUsePrefetch ? oldCacheNode.prefetchHead : [null, null],\n    prefetchRsc: shouldUsePrefetch ? oldCacheNode.prefetchRsc : null,\n    loading: oldCacheNode.loading,\n\n    // These are the cloned children we computed above\n    parallelRoutes: newParallelRoutes,\n\n    navigatedAt: oldCacheNode.navigatedAt,\n  }\n}\n\nconst DEFERRED = Symbol()\n\ntype PendingDeferredRsc<T> = Promise<T> & {\n  status: 'pending'\n  resolve: (value: T, debugInfo: Array<any> | null) => void\n  reject: (error: any, debugInfo: Array<any> | null) => void\n  tag: Symbol\n  _debugInfo: Array<any>\n}\n\ntype FulfilledDeferredRsc<T> = Promise<T> & {\n  status: 'fulfilled'\n  value: T\n  resolve: (value: T, debugInfo: Array<any> | null) => void\n  reject: (error: any, debugInfo: Array<any> | null) => void\n  tag: Symbol\n  _debugInfo: Array<any>\n}\n\ntype RejectedDeferredRsc<T> = Promise<T> & {\n  status: 'rejected'\n  reason: any\n  resolve: (value: T, debugInfo: Array<any> | null) => void\n  reject: (error: any, debugInfo: Array<any> | null) => void\n  tag: Symbol\n  _debugInfo: Array<any>\n}\n\ntype DeferredRsc<T extends React.ReactNode = React.ReactNode> =\n  | PendingDeferredRsc<T>\n  | FulfilledDeferredRsc<T>\n  | RejectedDeferredRsc<T>\n\n// This type exists to distinguish a DeferredRsc from a Flight promise. It's a\n// compromise to avoid adding an extra field on every Cache Node, which would be\n// awkward because the pre-PPR parts of codebase would need to account for it,\n// too. We can remove it once type Cache Node type is more settled.\nfunction isDeferredRsc(value: any): value is DeferredRsc {\n  return value && typeof value === 'object' && value.tag === DEFERRED\n}\n\nfunction createDeferredRsc<\n  T extends React.ReactNode = React.ReactNode,\n>(): PendingDeferredRsc<T> {\n  // Create an unresolved promise that represents data derived from a Flight\n  // response. The promise will be resolved later as soon as we start receiving\n  // data from the server, i.e. as soon as the Flight client decodes and returns\n  // the top-level response object.\n\n  // The `_debugInfo` field contains profiling information. Promises that are\n  // created by Flight already have this info added by React; for any derived\n  // promise created by the router, we need to transfer the Flight debug info\n  // onto the derived promise.\n  //\n  // The debug info represents the latency between the start of the navigation\n  // and the start of rendering. (It does not represent the time it takes for\n  // whole stream to finish.)\n  const debugInfo: Array<any> = []\n\n  let resolve: any\n  let reject: any\n  const pendingRsc = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  }) as PendingDeferredRsc<T>\n  pendingRsc.status = 'pending'\n  pendingRsc.resolve = (value: T, responseDebugInfo: Array<any> | null) => {\n    if (pendingRsc.status === 'pending') {\n      const fulfilledRsc: FulfilledDeferredRsc<T> = pendingRsc as any\n      fulfilledRsc.status = 'fulfilled'\n      fulfilledRsc.value = value\n      if (responseDebugInfo !== null) {\n        // Transfer the debug info to the derived promise.\n        debugInfo.push.apply(debugInfo, responseDebugInfo)\n      }\n      resolve(value)\n    }\n  }\n  pendingRsc.reject = (error: any, responseDebugInfo: Array<any> | null) => {\n    if (pendingRsc.status === 'pending') {\n      const rejectedRsc: RejectedDeferredRsc<T> = pendingRsc as any\n      rejectedRsc.status = 'rejected'\n      rejectedRsc.reason = error\n      if (responseDebugInfo !== null) {\n        // Transfer the debug info to the derived promise.\n        debugInfo.push.apply(debugInfo, responseDebugInfo)\n      }\n      reject(error)\n    }\n  }\n  pendingRsc.tag = DEFERRED\n  pendingRsc._debugInfo = debugInfo\n\n  return pendingRsc\n}\n","import type {\n  CacheNodeSeedData,\n  FlightRouterState,\n  FlightSegmentPath,\n} from '../../../shared/lib/app-router-types'\nimport type { CacheNode } from '../../../shared/lib/app-router-types'\nimport type {\n  HeadData,\n  LoadingModuleData,\n} from '../../../shared/lib/app-router-types'\nimport type { NormalizedFlightData } from '../../flight-data-helpers'\nimport { fetchServerResponse } from '../router-reducer/fetch-server-response'\nimport {\n  startPPRNavigation,\n  listenForDynamicRequest,\n  type Task as PPRNavigationTask,\n} from '../router-reducer/ppr-navigations'\nimport { createHrefFromUrl } from '../router-reducer/create-href-from-url'\nimport {\n  EntryStatus,\n  readRouteCacheEntry,\n  readSegmentCacheEntry,\n  waitForSegmentCacheEntry,\n  requestOptimisticRouteCacheEntry,\n  type RouteTree,\n  type FulfilledRouteCacheEntry,\n} from './cache'\nimport { createCacheKey } from './cache-key'\nimport { addSearchParamsIfPageSegment } from '../../../shared/lib/segment'\nimport { NavigationResultTag } from '../segment-cache'\n\ntype MPANavigationResult = {\n  tag: NavigationResultTag.MPA\n  data: string\n}\n\ntype NoOpNavigationResult = {\n  tag: NavigationResultTag.NoOp\n  data: {\n    canonicalUrl: string\n    shouldScroll: boolean\n  }\n}\n\ntype SuccessfulNavigationResult = {\n  tag: NavigationResultTag.Success\n  data: {\n    flightRouterState: FlightRouterState\n    cacheNode: CacheNode\n    canonicalUrl: string\n    renderedSearch: string\n    scrollableSegments: Array<FlightSegmentPath>\n    shouldScroll: boolean\n    hash: string\n  }\n}\n\ntype AsyncNavigationResult = {\n  tag: NavigationResultTag.Async\n  data: Promise<\n    MPANavigationResult | NoOpNavigationResult | SuccessfulNavigationResult\n  >\n}\n\nexport type NavigationResult =\n  | MPANavigationResult\n  | SuccessfulNavigationResult\n  | NoOpNavigationResult\n  | AsyncNavigationResult\n\n/**\n * Navigate to a new URL, using the Segment Cache to construct a response.\n *\n * To allow for synchronous navigations whenever possible, this is not an async\n * function. It returns a promise only if there's no matching prefetch in\n * the cache. Otherwise it returns an immediate result and uses Suspense/RSC to\n * stream in any missing data.\n */\nexport function navigate(\n  url: URL,\n  currentUrl: URL,\n  currentCacheNode: CacheNode,\n  currentFlightRouterState: FlightRouterState,\n  nextUrl: string | null,\n  shouldScroll: boolean,\n  accumulation: { collectedDebugInfo?: Array<unknown> }\n): NavigationResult {\n  const now = Date.now()\n  const href = url.href\n\n  // We special case navigations to the exact same URL as the current location.\n  // It's a common UI pattern for apps to refresh when you click a link to the\n  // current page. So when this happens, we refresh the dynamic data in the page\n  // segments.\n  //\n  // Note that this does not apply if the any part of the hash or search query\n  // has changed. This might feel a bit weird but it makes more sense when you\n  // consider that the way to trigger this behavior is to click the same link\n  // multiple times.\n  //\n  // TODO: We should probably refresh the *entire* route when this case occurs,\n  // not just the page segments. Essentially treating it the same as a refresh()\n  // triggered by an action, which is the more explicit way of modeling the UI\n  // pattern described above.\n  //\n  // Also note that this only refreshes the dynamic data, not static/ cached\n  // data. If the page segment is fully static and prefetched, the request is\n  // skipped. (This is also how refresh() works.)\n  const isSamePageNavigation =\n    // TODO: This is not the only place we read from the location, but we should\n    // consider storing the current URL in the router state instead of reading\n    // from the location object. In practice I don't think this matters much\n    // since we keep them in sync anyway, but having two sources of truth can\n    // lead to subtle bugs and race conditions.\n    href === window.location.href\n\n  const cacheKey = createCacheKey(href, nextUrl)\n  const route = readRouteCacheEntry(now, cacheKey)\n  if (route !== null && route.status === EntryStatus.Fulfilled) {\n    // We have a matching prefetch.\n    const snapshot = readRenderSnapshotFromCache(now, route, route.tree)\n    const prefetchFlightRouterState = snapshot.flightRouterState\n    const prefetchSeedData = snapshot.seedData\n    const prefetchHead = route.head\n    const isPrefetchHeadPartial = route.isHeadPartial\n    const newCanonicalUrl = route.canonicalUrl\n    const renderedSearch = route.renderedSearch\n    return navigateUsingPrefetchedRouteTree(\n      now,\n      url,\n      currentUrl,\n      nextUrl,\n      isSamePageNavigation,\n      currentCacheNode,\n      currentFlightRouterState,\n      prefetchFlightRouterState,\n      prefetchSeedData,\n      prefetchHead,\n      isPrefetchHeadPartial,\n      newCanonicalUrl,\n      renderedSearch,\n      shouldScroll,\n      url.hash\n    )\n  }\n\n  // There was no matching route tree in the cache. Let's see if we can\n  // construct an \"optimistic\" route tree.\n  //\n  // Do not construct an optimistic route tree if there was a cache hit, but\n  // the entry has a rejected status, since it may have been rejected due to a\n  // rewrite or redirect based on the search params.\n  //\n  // TODO: There are multiple reasons a prefetch might be rejected; we should\n  // track them explicitly and choose what to do here based on that.\n  if (route === null || route.status !== EntryStatus.Rejected) {\n    const optimisticRoute = requestOptimisticRouteCacheEntry(now, url, nextUrl)\n    if (optimisticRoute !== null) {\n      // We have an optimistic route tree. Proceed with the normal flow.\n      const snapshot = readRenderSnapshotFromCache(\n        now,\n        optimisticRoute,\n        optimisticRoute.tree\n      )\n      const prefetchFlightRouterState = snapshot.flightRouterState\n      const prefetchSeedData = snapshot.seedData\n      const prefetchHead = optimisticRoute.head\n      const isPrefetchHeadPartial = optimisticRoute.isHeadPartial\n      const newCanonicalUrl = optimisticRoute.canonicalUrl\n      const newRenderedSearch = optimisticRoute.renderedSearch\n      return navigateUsingPrefetchedRouteTree(\n        now,\n        url,\n        currentUrl,\n        nextUrl,\n        isSamePageNavigation,\n        currentCacheNode,\n        currentFlightRouterState,\n        prefetchFlightRouterState,\n        prefetchSeedData,\n        prefetchHead,\n        isPrefetchHeadPartial,\n        newCanonicalUrl,\n        newRenderedSearch,\n        shouldScroll,\n        url.hash\n      )\n    }\n  }\n\n  // There's no matching prefetch for this route in the cache.\n  let collectedDebugInfo = accumulation.collectedDebugInfo ?? []\n  if (accumulation.collectedDebugInfo === undefined) {\n    collectedDebugInfo = accumulation.collectedDebugInfo = []\n  }\n  return {\n    tag: NavigationResultTag.Async,\n    data: navigateDynamicallyWithNoPrefetch(\n      now,\n      url,\n      currentUrl,\n      nextUrl,\n      isSamePageNavigation,\n      currentCacheNode,\n      currentFlightRouterState,\n      shouldScroll,\n      url.hash,\n      collectedDebugInfo\n    ),\n  }\n}\n\nfunction navigateUsingPrefetchedRouteTree(\n  now: number,\n  url: URL,\n  currentUrl: URL,\n  nextUrl: string | null,\n  isSamePageNavigation: boolean,\n  currentCacheNode: CacheNode,\n  currentFlightRouterState: FlightRouterState,\n  prefetchFlightRouterState: FlightRouterState,\n  prefetchSeedData: CacheNodeSeedData | null,\n  prefetchHead: HeadData | null,\n  isPrefetchHeadPartial: boolean,\n  canonicalUrl: string,\n  renderedSearch: string,\n  shouldScroll: boolean,\n  hash: string\n): SuccessfulNavigationResult | NoOpNavigationResult | MPANavigationResult {\n  // Recursively construct a prefetch tree by reading from the Segment Cache. To\n  // maintain compatibility, we output the same data structures as the old\n  // prefetching implementation: FlightRouterState and CacheNodeSeedData.\n  // TODO: Eventually updateCacheNodeOnNavigation (or the equivalent) should\n  // read from the Segment Cache directly. It's only structured this way for now\n  // so we can share code with the old prefetching implementation.\n  const scrollableSegments: Array<FlightSegmentPath> = []\n  const task = startPPRNavigation(\n    now,\n    currentUrl,\n    currentCacheNode,\n    currentFlightRouterState,\n    prefetchFlightRouterState,\n    prefetchSeedData,\n    prefetchHead,\n    isPrefetchHeadPartial,\n    isSamePageNavigation,\n    scrollableSegments\n  )\n  if (task !== null) {\n    const dynamicRequestTree = task.dynamicRequestTree\n    if (dynamicRequestTree !== null) {\n      const promiseForDynamicServerResponse = fetchServerResponse(\n        new URL(canonicalUrl, url.origin),\n        {\n          flightRouterState: dynamicRequestTree,\n          nextUrl,\n        }\n      )\n      listenForDynamicRequest(task, promiseForDynamicServerResponse)\n    } else {\n      // The prefetched tree does not contain dynamic holes — it's\n      // fully static. We can skip the dynamic request.\n    }\n    return navigationTaskToResult(\n      task,\n      currentCacheNode,\n      canonicalUrl,\n      renderedSearch,\n      scrollableSegments,\n      shouldScroll,\n      hash\n    )\n  }\n  // The server sent back an empty tree patch. There's nothing to update, except\n  // possibly the URL.\n  return {\n    tag: NavigationResultTag.NoOp,\n    data: {\n      canonicalUrl,\n      shouldScroll,\n    },\n  }\n}\n\nfunction navigationTaskToResult(\n  task: PPRNavigationTask,\n  currentCacheNode: CacheNode,\n  canonicalUrl: string,\n  renderedSearch: string,\n  scrollableSegments: Array<FlightSegmentPath>,\n  shouldScroll: boolean,\n  hash: string\n): SuccessfulNavigationResult | MPANavigationResult {\n  const flightRouterState = task.route\n  if (flightRouterState === null) {\n    // When no router state is provided, it signals that we should perform an\n    // MPA navigation.\n    return {\n      tag: NavigationResultTag.MPA,\n      data: canonicalUrl,\n    }\n  }\n  const newCacheNode = task.node\n  return {\n    tag: NavigationResultTag.Success,\n    data: {\n      flightRouterState,\n      cacheNode: newCacheNode !== null ? newCacheNode : currentCacheNode,\n      canonicalUrl,\n      renderedSearch,\n      scrollableSegments,\n      shouldScroll,\n      hash,\n    },\n  }\n}\n\nfunction readRenderSnapshotFromCache(\n  now: number,\n  route: FulfilledRouteCacheEntry,\n  tree: RouteTree\n): { flightRouterState: FlightRouterState; seedData: CacheNodeSeedData } {\n  let childRouterStates: { [parallelRouteKey: string]: FlightRouterState } = {}\n  let childSeedDatas: {\n    [parallelRouteKey: string]: CacheNodeSeedData | null\n  } = {}\n  const slots = tree.slots\n  if (slots !== null) {\n    for (const parallelRouteKey in slots) {\n      const childTree = slots[parallelRouteKey]\n      const childResult = readRenderSnapshotFromCache(now, route, childTree)\n      childRouterStates[parallelRouteKey] = childResult.flightRouterState\n      childSeedDatas[parallelRouteKey] = childResult.seedData\n    }\n  }\n\n  let rsc: React.ReactNode | null = null\n  let loading: LoadingModuleData | Promise<LoadingModuleData> = null\n  let isPartial: boolean = true\n\n  const segmentEntry = readSegmentCacheEntry(now, route, tree.cacheKey)\n  if (segmentEntry !== null) {\n    switch (segmentEntry.status) {\n      case EntryStatus.Fulfilled: {\n        // Happy path: a cache hit\n        rsc = segmentEntry.rsc\n        loading = segmentEntry.loading\n        isPartial = segmentEntry.isPartial\n        break\n      }\n      case EntryStatus.Pending: {\n        // We haven't received data for this segment yet, but there's already\n        // an in-progress request. Since it's extremely likely to arrive\n        // before the dynamic data response, we might as well use it.\n        const promiseForFulfilledEntry = waitForSegmentCacheEntry(segmentEntry)\n        rsc = promiseForFulfilledEntry.then((entry) =>\n          entry !== null ? entry.rsc : null\n        )\n        loading = promiseForFulfilledEntry.then((entry) =>\n          entry !== null ? entry.loading : null\n        )\n        // Since we don't know yet whether the segment is partial or fully\n        // static, we must assume it's partial; we can't skip the\n        // dynamic request.\n        isPartial = true\n        break\n      }\n      case EntryStatus.Empty:\n      case EntryStatus.Rejected:\n        break\n      default:\n        segmentEntry satisfies never\n    }\n  }\n\n  // The navigation implementation expects the search params to be\n  // included in the segment. However, the Segment Cache tracks search\n  // params separately from the rest of the segment key. So we need to\n  // add them back here.\n  //\n  // See corresponding comment in convertFlightRouterStateToTree.\n  //\n  // TODO: What we should do instead is update the navigation diffing\n  // logic to compare search params explicitly. This is a temporary\n  // solution until more of the Segment Cache implementation has settled.\n  const segment = addSearchParamsIfPageSegment(\n    tree.segment,\n    Object.fromEntries(new URLSearchParams(route.renderedSearch))\n  )\n\n  // We don't need this information in a render snapshot, so this can just be a placeholder.\n  const hasRuntimePrefetch = false\n\n  return {\n    flightRouterState: [\n      segment,\n      childRouterStates,\n      null,\n      null,\n      tree.isRootLayout,\n    ],\n    seedData: [rsc, childSeedDatas, loading, isPartial, hasRuntimePrefetch],\n  }\n}\n\nasync function navigateDynamicallyWithNoPrefetch(\n  now: number,\n  url: URL,\n  currentUrl: URL,\n  nextUrl: string | null,\n  isSamePageNavigation: boolean,\n  currentCacheNode: CacheNode,\n  currentFlightRouterState: FlightRouterState,\n  shouldScroll: boolean,\n  hash: string,\n  collectedDebugInfo: Array<unknown>\n): Promise<\n  MPANavigationResult | SuccessfulNavigationResult | NoOpNavigationResult\n> {\n  // Runs when a navigation happens but there's no cached prefetch we can use.\n  // Don't bother to wait for a prefetch response; go straight to a full\n  // navigation that contains both static and dynamic data in a single stream.\n  // (This is unlike the old navigation implementation, which instead blocks\n  // the dynamic request until a prefetch request is received.)\n  //\n  // To avoid duplication of logic, we're going to pretend that the tree\n  // returned by the dynamic request is, in fact, a prefetch tree. Then we can\n  // use the same server response to write the actual data into the CacheNode\n  // tree. So it's the same flow as the \"happy path\" (prefetch, then\n  // navigation), except we use a single server response for both stages.\n\n  const promiseForDynamicServerResponse = fetchServerResponse(url, {\n    flightRouterState: currentFlightRouterState,\n    nextUrl,\n  })\n  const result = await promiseForDynamicServerResponse\n  if (typeof result === 'string') {\n    // This is an MPA navigation.\n    const newUrl = result\n    return {\n      tag: NavigationResultTag.MPA,\n      data: newUrl,\n    }\n  }\n\n  const {\n    flightData,\n    canonicalUrl,\n    renderedSearch,\n    debugInfo: debugInfoFromResponse,\n  } = result\n  if (debugInfoFromResponse !== null) {\n    collectedDebugInfo.push(...debugInfoFromResponse)\n  }\n\n  // Since the response format of dynamic requests and prefetches is slightly\n  // different, we'll need to massage the data a bit. Create FlightRouterState\n  // tree that simulates what we'd receive as the result of a prefetch.\n  const prefetchFlightRouterState = simulatePrefetchTreeUsingDynamicTreePatch(\n    currentFlightRouterState,\n    flightData\n  )\n\n  // In our simulated prefetch payload, we pretend that there's no seed data\n  // nor a prefetch head.\n  const prefetchSeedData = null\n  const prefetchHead = null\n  const isPrefetchHeadPartial = true\n\n  // Now we proceed exactly as we would for normal navigation.\n  const scrollableSegments: Array<FlightSegmentPath> = []\n  const task = startPPRNavigation(\n    now,\n    currentUrl,\n    currentCacheNode,\n    currentFlightRouterState,\n    prefetchFlightRouterState,\n    prefetchSeedData,\n    prefetchHead,\n    isPrefetchHeadPartial,\n    isSamePageNavigation,\n    scrollableSegments\n  )\n  if (task !== null) {\n    // In this case, we've already sent the dynamic request, so we don't\n    // actually use the request tree created by `startPPRNavigation`,\n    // except to check if it contains dynamic holes.\n    //\n    // This is almost always true, but it could be false if all the segment data\n    // was present in the cache, but the route tree was not. E.g. navigating\n    // to a URL that was not prefetched but rewrites to a different URL\n    // that was.\n    const hasDynamicHoles = task.dynamicRequestTree !== null\n    if (hasDynamicHoles) {\n      listenForDynamicRequest(task, promiseForDynamicServerResponse)\n    } else {\n      // The prefetched tree does not contain dynamic holes — it's\n      // fully static. We don't need to process the server response further.\n    }\n    return navigationTaskToResult(\n      task,\n      currentCacheNode,\n      createHrefFromUrl(canonicalUrl),\n      renderedSearch,\n      scrollableSegments,\n      shouldScroll,\n      hash\n    )\n  }\n  // The server sent back an empty tree patch. There's nothing to update, except\n  // possibly the URL.\n  return {\n    tag: NavigationResultTag.NoOp,\n    data: {\n      canonicalUrl: createHrefFromUrl(canonicalUrl),\n      shouldScroll,\n    },\n  }\n}\n\nfunction simulatePrefetchTreeUsingDynamicTreePatch(\n  currentTree: FlightRouterState,\n  flightData: Array<NormalizedFlightData>\n): FlightRouterState {\n  // Takes the current FlightRouterState and applies the router state patch\n  // received from the server, to create a full FlightRouterState tree that we\n  // can pretend was returned by a prefetch.\n  //\n  // (It sounds similar to what applyRouterStatePatch does, but it doesn't need\n  // to handle stuff like interception routes or diffing since that will be\n  // handled later.)\n  let baseTree = currentTree\n  for (const { segmentPath, tree: treePatch } of flightData) {\n    // If the server sends us multiple tree patches, we only need to clone the\n    // base tree when applying the first patch. After the first patch, we can\n    // apply the remaining patches in place without copying.\n    const canMutateInPlace = baseTree !== currentTree\n    baseTree = simulatePrefetchTreeUsingDynamicTreePatchImpl(\n      baseTree,\n      treePatch,\n      segmentPath,\n      canMutateInPlace,\n      0\n    )\n  }\n\n  return baseTree\n}\n\nfunction simulatePrefetchTreeUsingDynamicTreePatchImpl(\n  baseRouterState: FlightRouterState,\n  patch: FlightRouterState,\n  segmentPath: FlightSegmentPath,\n  canMutateInPlace: boolean,\n  index: number\n) {\n  if (index === segmentPath.length) {\n    // We reached the part of the tree that we need to patch.\n    return patch\n  }\n\n  // segmentPath represents the parent path of subtree. It's a repeating\n  // pattern of parallel route key and segment:\n  //\n  //   [string, Segment, string, Segment, string, Segment, ...]\n  //\n  // This path tells us which part of the base tree to apply the tree patch.\n  //\n  // NOTE: In the case of a fully dynamic request with no prefetch, we receive\n  // the FlightRouterState patch in the same request as the dynamic data.\n  // Therefore we don't need to worry about diffing the segment values; we can\n  // assume the server sent us a correct result.\n  const updatedParallelRouteKey: string = segmentPath[index]\n  // const segment: Segment = segmentPath[index + 1] <-- Not used, see note above\n\n  const baseChildren = baseRouterState[1]\n  const newChildren: { [parallelRouteKey: string]: FlightRouterState } = {}\n  for (const parallelRouteKey in baseChildren) {\n    if (parallelRouteKey === updatedParallelRouteKey) {\n      const childBaseRouterState = baseChildren[parallelRouteKey]\n      newChildren[parallelRouteKey] =\n        simulatePrefetchTreeUsingDynamicTreePatchImpl(\n          childBaseRouterState,\n          patch,\n          segmentPath,\n          canMutateInPlace,\n          // Advance the index by two and keep cloning until we reach\n          // the end of the segment path.\n          index + 2\n        )\n    } else {\n      // This child is not being patched. Copy it over as-is.\n      newChildren[parallelRouteKey] = baseChildren[parallelRouteKey]\n    }\n  }\n\n  if (canMutateInPlace) {\n    // We can mutate the base tree in place, because the base tree is already\n    // a clone.\n    baseRouterState[1] = newChildren\n    return baseRouterState\n  }\n\n  // Clone all the fields except the children.\n  //\n  // Based on equivalent logic in apply-router-state-patch-to-tree, but should\n  // confirm whether we need to copy all of these fields. Not sure the server\n  // ever sends, e.g. the refetch marker.\n  const clone: FlightRouterState = [baseRouterState[0], newChildren]\n  if (2 in baseRouterState) {\n    clone[2] = baseRouterState[2]\n  }\n  if (3 in baseRouterState) {\n    clone[3] = baseRouterState[3]\n  }\n  if (4 in baseRouterState) {\n    clone[4] = baseRouterState[4]\n  }\n  return clone\n}\n","/**\n * Entry point to the Segment Cache implementation.\n *\n * All code related to the Segment Cache lives `segment-cache-impl` directory.\n * Callers access it through this indirection.\n *\n * This is to ensure the code is dead code eliminated from the bundle if the\n * flag is disabled.\n *\n * TODO: This is super tedious. Since experimental flags are an essential part\n * of our workflow, we should establish a better pattern for dead code\n * elimination. Ideally it would be done at the bundler level, like how React's\n * build process works. In the React repo, you don't even need to add any extra\n * configuration per experiment — if the code is not reachable, it gets stripped\n * from the build automatically by Rollup. Or, shorter term, we could stub out\n * experimental modules at build time by updating the build config, i.e. a more\n * automated version of what I'm doing manually in this file.\n */\n\nexport type { NavigationResult } from './segment-cache-impl/navigation'\nexport type { PrefetchTask } from './segment-cache-impl/scheduler'\nexport type { NormalizedSearch } from './segment-cache-impl/cache-key'\n\nconst notEnabled: any = () => {\n  throw new Error(\n    'Segment Cache experiment is not enabled. This is a bug in Next.js.'\n  )\n}\n\nexport const prefetch: typeof import('./segment-cache-impl/prefetch').prefetch =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/prefetch') as typeof import('./segment-cache-impl/prefetch')\n        ).prefetch(...args)\n      }\n    : notEnabled\n\nexport const navigate: typeof import('./segment-cache-impl/navigation').navigate =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/navigation') as typeof import('./segment-cache-impl/navigation')\n        ).navigate(...args)\n      }\n    : notEnabled\n\nexport const revalidateEntireCache: typeof import('./segment-cache-impl/cache').revalidateEntireCache =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/cache') as typeof import('./segment-cache-impl/cache')\n        ).revalidateEntireCache(...args)\n      }\n    : notEnabled\n\nexport const getCurrentCacheVersion: typeof import('./segment-cache-impl/cache').getCurrentCacheVersion =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/cache') as typeof import('./segment-cache-impl/cache')\n        ).getCurrentCacheVersion(...args)\n      }\n    : notEnabled\n\nexport const schedulePrefetchTask: typeof import('./segment-cache-impl/scheduler').schedulePrefetchTask =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/scheduler') as typeof import('./segment-cache-impl/scheduler')\n        ).schedulePrefetchTask(...args)\n      }\n    : notEnabled\n\nexport const cancelPrefetchTask: typeof import('./segment-cache-impl/scheduler').cancelPrefetchTask =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/scheduler') as typeof import('./segment-cache-impl/scheduler')\n        ).cancelPrefetchTask(...args)\n      }\n    : notEnabled\n\nexport const reschedulePrefetchTask: typeof import('./segment-cache-impl/scheduler').reschedulePrefetchTask =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/scheduler') as typeof import('./segment-cache-impl/scheduler')\n        ).reschedulePrefetchTask(...args)\n      }\n    : notEnabled\n\nexport const isPrefetchTaskDirty: typeof import('./segment-cache-impl/scheduler').isPrefetchTaskDirty =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/scheduler') as typeof import('./segment-cache-impl/scheduler')\n        ).isPrefetchTaskDirty(...args)\n      }\n    : notEnabled\n\nexport const createCacheKey: typeof import('./segment-cache-impl/cache-key').createCacheKey =\n  process.env.__NEXT_CLIENT_SEGMENT_CACHE\n    ? function (...args) {\n        return (\n          require('./segment-cache-impl/cache-key') as typeof import('./segment-cache-impl/cache-key')\n        ).createCacheKey(...args)\n      }\n    : notEnabled\n\n/**\n * Below are public constants. They're small enough that we don't need to\n * DCE them.\n */\n\nexport const enum NavigationResultTag {\n  MPA,\n  Success,\n  NoOp,\n  Async,\n}\n\n/**\n * The priority of the prefetch task. Higher numbers are higher priority.\n */\nexport const enum PrefetchPriority {\n  /**\n   * Assigned to the most recently hovered/touched link. Special network\n   * bandwidth is reserved for this task only. There's only ever one Intent-\n   * priority task at a time; when a new Intent task is scheduled, the previous\n   * one is bumped down to Default.\n   */\n  Intent = 2,\n  /**\n   * The default priority for prefetch tasks.\n   */\n  Default = 1,\n  /**\n   * Assigned to tasks when they spawn non-blocking background work, like\n   * revalidating a partially cached entry to see if more data is available.\n   */\n  Background = 0,\n}\n\nexport const enum FetchStrategy {\n  // Deliberately ordered so we can easily compare two segments\n  // and determine if one segment is \"more specific\" than another\n  // (i.e. if it's likely that it contains more data)\n  LoadingBoundary = 0,\n  PPR = 1,\n  PPRRuntime = 2,\n  Full = 3,\n}\n\n/**\n * A subset of fetch strategies used for prefetch tasks.\n * A prefetch task can't know if it should use `PPR` or `LoadingBoundary`\n * until we complete the initial tree prefetch request, so we use `PPR` to signal both cases\n * and adjust it based on the route when actually fetching.\n * */\nexport type PrefetchTaskFetchStrategy =\n  | FetchStrategy.PPR\n  | FetchStrategy.PPRRuntime\n  | FetchStrategy.Full\n","import type { FlightRouterState } from '../../shared/lib/app-router-types'\nimport type { AppRouterInstance } from '../../shared/lib/app-router-context.shared-runtime'\nimport {\n  FetchStrategy,\n  isPrefetchTaskDirty,\n  type PrefetchTaskFetchStrategy,\n} from './segment-cache'\nimport { createCacheKey } from './segment-cache'\nimport {\n  type PrefetchTask,\n  PrefetchPriority,\n  schedulePrefetchTask as scheduleSegmentPrefetchTask,\n  cancelPrefetchTask,\n  reschedulePrefetchTask,\n} from './segment-cache'\nimport { startTransition } from 'react'\nimport { PrefetchKind } from './router-reducer/router-reducer-types'\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\ntype LinkElement = HTMLAnchorElement | SVGAElement\n\ntype Element = LinkElement | HTMLFormElement\n\n// Properties that are shared between Link and Form instances. We use the same\n// shape for both to prevent a polymorphic de-opt in the VM.\ntype LinkOrFormInstanceShared = {\n  router: AppRouterInstance\n  fetchStrategy: PrefetchTaskFetchStrategy\n\n  isVisible: boolean\n\n  // The most recently initiated prefetch task. It may or may not have\n  // already completed. The same prefetch task object can be reused across\n  // multiple prefetches of the same link.\n  prefetchTask: PrefetchTask | null\n}\n\nexport type FormInstance = LinkOrFormInstanceShared & {\n  prefetchHref: string\n  setOptimisticLinkStatus: null\n}\n\ntype PrefetchableLinkInstance = LinkOrFormInstanceShared & {\n  prefetchHref: string\n  setOptimisticLinkStatus: (status: { pending: boolean }) => void\n}\n\ntype NonPrefetchableLinkInstance = LinkOrFormInstanceShared & {\n  prefetchHref: null\n  setOptimisticLinkStatus: (status: { pending: boolean }) => void\n}\n\ntype PrefetchableInstance = PrefetchableLinkInstance | FormInstance\n\nexport type LinkInstance =\n  | PrefetchableLinkInstance\n  | NonPrefetchableLinkInstance\n\n// Tracks the most recently navigated link instance. When null, indicates\n// the current navigation was not initiated by a link click.\nlet linkForMostRecentNavigation: LinkInstance | null = null\n\n// Status object indicating link is pending\nexport const PENDING_LINK_STATUS = { pending: true }\n\n// Status object indicating link is idle\nexport const IDLE_LINK_STATUS = { pending: false }\n\n// Updates the loading state when navigating between links\n// - Resets the previous link's loading state\n// - Sets the new link's loading state\n// - Updates tracking of current navigation\nexport function setLinkForCurrentNavigation(link: LinkInstance | null) {\n  startTransition(() => {\n    linkForMostRecentNavigation?.setOptimisticLinkStatus(IDLE_LINK_STATUS)\n    link?.setOptimisticLinkStatus(PENDING_LINK_STATUS)\n    linkForMostRecentNavigation = link\n  })\n}\n\n// Unmounts the current link instance from navigation tracking\nexport function unmountLinkForCurrentNavigation(link: LinkInstance) {\n  if (linkForMostRecentNavigation === link) {\n    linkForMostRecentNavigation = null\n  }\n}\n\n// Use a WeakMap to associate a Link instance with its DOM element. This is\n// used by the IntersectionObserver to track the link's visibility.\nconst prefetchable:\n  | WeakMap<Element, PrefetchableInstance>\n  | Map<Element, PrefetchableInstance> =\n  typeof WeakMap === 'function' ? new WeakMap() : new Map()\n\n// A Set of the currently visible links. We re-prefetch visible links after a\n// cache invalidation, or when the current URL changes. It's a separate data\n// structure from the WeakMap above because only the visible links need to\n// be enumerated.\nconst prefetchableAndVisible: Set<PrefetchableInstance> = new Set()\n\n// A single IntersectionObserver instance shared by all <Link> components.\nconst observer: IntersectionObserver | null =\n  typeof IntersectionObserver === 'function'\n    ? new IntersectionObserver(handleIntersect, {\n        rootMargin: '200px',\n      })\n    : null\n\nfunction observeVisibility(element: Element, instance: PrefetchableInstance) {\n  const existingInstance = prefetchable.get(element)\n  if (existingInstance !== undefined) {\n    // This shouldn't happen because each <Link> component should have its own\n    // anchor tag instance, but it's defensive coding to avoid a memory leak in\n    // case there's a logical error somewhere else.\n    unmountPrefetchableInstance(element)\n  }\n  // Only track prefetchable links that have a valid prefetch URL\n  prefetchable.set(element, instance)\n  if (observer !== null) {\n    observer.observe(element)\n  }\n}\n\nfunction coercePrefetchableUrl(href: string): URL | null {\n  if (typeof window !== 'undefined') {\n    const { createPrefetchURL } =\n      require('./app-router-utils') as typeof import('./app-router-utils')\n\n    try {\n      return createPrefetchURL(href)\n    } catch {\n      // createPrefetchURL sometimes throws an error if an invalid URL is\n      // provided, though I'm not sure if it's actually necessary.\n      // TODO: Consider removing the throw from the inner function, or change it\n      // to reportError. Or maybe the error isn't even necessary for automatic\n      // prefetches, just navigations.\n      const reportErrorFn =\n        typeof reportError === 'function' ? reportError : console.error\n      reportErrorFn(\n        `Cannot prefetch '${href}' because it cannot be converted to a URL.`\n      )\n      return null\n    }\n  } else {\n    return null\n  }\n}\n\nexport function mountLinkInstance(\n  element: LinkElement,\n  href: string,\n  router: AppRouterInstance,\n  fetchStrategy: PrefetchTaskFetchStrategy,\n  prefetchEnabled: boolean,\n  setOptimisticLinkStatus: (status: { pending: boolean }) => void\n): LinkInstance {\n  if (prefetchEnabled) {\n    const prefetchURL = coercePrefetchableUrl(href)\n    if (prefetchURL !== null) {\n      const instance: PrefetchableLinkInstance = {\n        router,\n        fetchStrategy,\n        isVisible: false,\n        prefetchTask: null,\n        prefetchHref: prefetchURL.href,\n        setOptimisticLinkStatus,\n      }\n      // We only observe the link's visibility if it's prefetchable. For\n      // example, this excludes links to external URLs.\n      observeVisibility(element, instance)\n      return instance\n    }\n  }\n  // If the link is not prefetchable, we still create an instance so we can\n  // track its optimistic state (i.e. useLinkStatus).\n  const instance: NonPrefetchableLinkInstance = {\n    router,\n    fetchStrategy,\n    isVisible: false,\n    prefetchTask: null,\n    prefetchHref: null,\n    setOptimisticLinkStatus,\n  }\n  return instance\n}\n\nexport function mountFormInstance(\n  element: HTMLFormElement,\n  href: string,\n  router: AppRouterInstance,\n  fetchStrategy: PrefetchTaskFetchStrategy\n): void {\n  const prefetchURL = coercePrefetchableUrl(href)\n  if (prefetchURL === null) {\n    // This href is not prefetchable, so we don't track it.\n    // TODO: We currently observe/unobserve a form every time its href changes.\n    // For Links, this isn't a big deal because the href doesn't usually change,\n    // but for forms it's extremely common. We should optimize this.\n    return\n  }\n  const instance: FormInstance = {\n    router,\n    fetchStrategy,\n    isVisible: false,\n    prefetchTask: null,\n    prefetchHref: prefetchURL.href,\n    setOptimisticLinkStatus: null,\n  }\n  observeVisibility(element, instance)\n}\n\nexport function unmountPrefetchableInstance(element: Element) {\n  const instance = prefetchable.get(element)\n  if (instance !== undefined) {\n    prefetchable.delete(element)\n    prefetchableAndVisible.delete(instance)\n    const prefetchTask = instance.prefetchTask\n    if (prefetchTask !== null) {\n      cancelPrefetchTask(prefetchTask)\n    }\n  }\n  if (observer !== null) {\n    observer.unobserve(element)\n  }\n}\n\nfunction handleIntersect(entries: Array<IntersectionObserverEntry>) {\n  for (const entry of entries) {\n    // Some extremely old browsers or polyfills don't reliably support\n    // isIntersecting so we check intersectionRatio instead. (Do we care? Not\n    // really. But whatever this is fine.)\n    const isVisible = entry.intersectionRatio > 0\n    onLinkVisibilityChanged(entry.target as HTMLAnchorElement, isVisible)\n  }\n}\n\nexport function onLinkVisibilityChanged(element: Element, isVisible: boolean) {\n  if (process.env.NODE_ENV !== 'production') {\n    // Prefetching on viewport is disabled in development for performance\n    // reasons, because it requires compiling the target page.\n    // TODO: Investigate re-enabling this.\n    return\n  }\n\n  const instance = prefetchable.get(element)\n  if (instance === undefined) {\n    return\n  }\n\n  instance.isVisible = isVisible\n  if (isVisible) {\n    prefetchableAndVisible.add(instance)\n  } else {\n    prefetchableAndVisible.delete(instance)\n  }\n  rescheduleLinkPrefetch(instance, PrefetchPriority.Default)\n}\n\nexport function onNavigationIntent(\n  element: HTMLAnchorElement | SVGAElement,\n  unstable_upgradeToDynamicPrefetch: boolean\n) {\n  const instance = prefetchable.get(element)\n  if (instance === undefined) {\n    return\n  }\n  // Prefetch the link on hover/touchstart.\n  if (instance !== undefined) {\n    if (\n      process.env.__NEXT_DYNAMIC_ON_HOVER &&\n      unstable_upgradeToDynamicPrefetch\n    ) {\n      // Switch to a full prefetch\n      instance.fetchStrategy = FetchStrategy.Full\n    }\n    rescheduleLinkPrefetch(instance, PrefetchPriority.Intent)\n  }\n}\n\nfunction rescheduleLinkPrefetch(\n  instance: PrefetchableInstance,\n  priority: PrefetchPriority.Default | PrefetchPriority.Intent\n) {\n  // Ensures that app-router-instance is not compiled in the server bundle\n  if (typeof window !== 'undefined') {\n    const existingPrefetchTask = instance.prefetchTask\n\n    if (!instance.isVisible) {\n      // Cancel any in-progress prefetch task. (If it already finished then this\n      // is a no-op.)\n      if (existingPrefetchTask !== null) {\n        cancelPrefetchTask(existingPrefetchTask)\n      }\n      // We don't need to reset the prefetchTask to null upon cancellation; an\n      // old task object can be rescheduled with reschedulePrefetchTask. This is a\n      // micro-optimization but also makes the code simpler (don't need to\n      // worry about whether an old task object is stale).\n      return\n    }\n\n    if (!process.env.__NEXT_CLIENT_SEGMENT_CACHE) {\n      // The old prefetch implementation does not have different priority levels.\n      // Just schedule a new prefetch task.\n      prefetchWithOldCacheImplementation(instance)\n      return\n    }\n\n    const { getCurrentAppRouterState } =\n      require('./app-router-instance') as typeof import('./app-router-instance')\n\n    const appRouterState = getCurrentAppRouterState()\n    if (appRouterState !== null) {\n      const treeAtTimeOfPrefetch = appRouterState.tree\n      if (existingPrefetchTask === null) {\n        // Initiate a prefetch task.\n        const nextUrl = appRouterState.nextUrl\n        const cacheKey = createCacheKey(instance.prefetchHref, nextUrl)\n        instance.prefetchTask = scheduleSegmentPrefetchTask(\n          cacheKey,\n          treeAtTimeOfPrefetch,\n          instance.fetchStrategy,\n          priority,\n          null\n        )\n      } else {\n        // We already have an old task object that we can reschedule. This is\n        // effectively the same as canceling the old task and creating a new one.\n        reschedulePrefetchTask(\n          existingPrefetchTask,\n          treeAtTimeOfPrefetch,\n          instance.fetchStrategy,\n          priority\n        )\n      }\n    }\n  }\n}\n\nexport function pingVisibleLinks(\n  nextUrl: string | null,\n  tree: FlightRouterState\n) {\n  // For each currently visible link, cancel the existing prefetch task (if it\n  // exists) and schedule a new one. This is effectively the same as if all the\n  // visible links left and then re-entered the viewport.\n  //\n  // This is called when the Next-Url or the base tree changes, since those\n  // may affect the result of a prefetch task. It's also called after a\n  // cache invalidation.\n  for (const instance of prefetchableAndVisible) {\n    const task = instance.prefetchTask\n    if (task !== null && !isPrefetchTaskDirty(task, nextUrl, tree)) {\n      // The cache has not been invalidated, and none of the inputs have\n      // changed. Bail out.\n      continue\n    }\n    // Something changed. Cancel the existing prefetch task and schedule a\n    // new one.\n    if (task !== null) {\n      cancelPrefetchTask(task)\n    }\n    const cacheKey = createCacheKey(instance.prefetchHref, nextUrl)\n    instance.prefetchTask = scheduleSegmentPrefetchTask(\n      cacheKey,\n      tree,\n      instance.fetchStrategy,\n      PrefetchPriority.Default,\n      null\n    )\n  }\n}\n\nfunction prefetchWithOldCacheImplementation(instance: PrefetchableInstance) {\n  // This is the path used when the Segment Cache is not enabled.\n  if (typeof window === 'undefined') {\n    return\n  }\n\n  const doPrefetch = async () => {\n    // note that `appRouter.prefetch()` is currently sync,\n    // so we have to wrap this call in an async function to be able to catch() errors below.\n\n    let prefetchKind: PrefetchKind\n    switch (instance.fetchStrategy) {\n      case FetchStrategy.PPR: {\n        prefetchKind = PrefetchKind.AUTO\n        break\n      }\n      case FetchStrategy.Full: {\n        prefetchKind = PrefetchKind.FULL\n        break\n      }\n      case FetchStrategy.PPRRuntime: {\n        // We can only get here if Client Segment Cache is off, and in that case\n        // it shouldn't be possible for a link to request a runtime prefetch.\n        throw new InvariantError(\n          'FetchStrategy.PPRRuntime should never be used when `experimental.clientSegmentCache` is disabled'\n        )\n      }\n      default: {\n        instance.fetchStrategy satisfies never\n        // Unreachable, but otherwise typescript will consider the variable unassigned\n        prefetchKind = undefined!\n      }\n    }\n\n    return instance.router.prefetch(instance.prefetchHref, {\n      kind: prefetchKind,\n    })\n  }\n\n  // Prefetch the page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n  doPrefetch().catch((err) => {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err\n    }\n  })\n}\n","import { parsePath } from './parse-path'\n\n/**\n * Checks if a given path starts with a given prefix. It ensures it matches\n * exactly without containing extra chars. e.g. prefix /docs should replace\n * for /docs, /docs/, /docs/a but not /docsss\n * @param path The path to check.\n * @param prefix The prefix to check against.\n */\nexport function pathHasPrefix(path: string, prefix: string) {\n  if (typeof path !== 'string') {\n    return false\n  }\n\n  const { pathname } = parsePath(path)\n  return pathname === prefix || pathname.startsWith(prefix + '/')\n}\n","import { pathHasPrefix } from '../shared/lib/router/utils/path-has-prefix'\n\nconst basePath = (process.env.__NEXT_ROUTER_BASEPATH as string) || ''\n\nexport function hasBasePath(path: string): boolean {\n  return pathHasPrefix(path, basePath)\n}\n","import { isAbsoluteUrl, getLocationOrigin } from '../../utils'\nimport { hasBasePath } from '../../../../client/has-base-path'\n\n/**\n * Detects whether a given url is routable by the Next.js router (browser only).\n */\nexport function isLocalURL(url: string): boolean {\n  // prevent a hydration mismatch on href for url with anchor refs\n  if (!isAbsoluteUrl(url)) return true\n  try {\n    // absolute urls can be local if they are on the same origin\n    const locationOrigin = getLocationOrigin()\n    const resolved = new URL(url, locationOrigin)\n    return resolved.origin === locationOrigin && hasBasePath(resolved.pathname)\n  } catch (_) {\n    return false\n  }\n}\n","let errorOnce = (_: string) => {}\nif (process.env.NODE_ENV !== 'production') {\n  const errors = new Set<string>()\n  errorOnce = (msg: string) => {\n    if (!errors.has(msg)) {\n      console.error(msg)\n    }\n    errors.add(msg)\n  }\n}\n\nexport { errorOnce }\n","'use client'\n\nimport React, { createContext, useContext, useOptimistic, useRef } from 'react'\nimport type { UrlObject } from 'url'\nimport { formatUrl } from '../../shared/lib/router/utils/format-url'\nimport { AppRouterContext } from '../../shared/lib/app-router-context.shared-runtime'\nimport { useMergedRef } from '../use-merged-ref'\nimport { isAbsoluteUrl } from '../../shared/lib/utils'\nimport { addBasePath } from '../add-base-path'\nimport { warnOnce } from '../../shared/lib/utils/warn-once'\nimport type { PENDING_LINK_STATUS } from '../components/links'\nimport {\n  IDLE_LINK_STATUS,\n  mountLinkInstance,\n  onNavigationIntent,\n  unmountLinkForCurrentNavigation,\n  unmountPrefetchableInstance,\n  type LinkInstance,\n} from '../components/links'\nimport { isLocalURL } from '../../shared/lib/router/utils/is-local-url'\nimport {\n  FetchStrategy,\n  type PrefetchTaskFetchStrategy,\n} from '../components/segment-cache'\nimport { errorOnce } from '../../shared/lib/utils/error-once'\n\ntype Url = string | UrlObject\ntype RequiredKeys<T> = {\n  [K in keyof T]-?: {} extends Pick<T, K> ? never : K\n}[keyof T]\ntype OptionalKeys<T> = {\n  [K in keyof T]-?: {} extends Pick<T, K> ? K : never\n}[keyof T]\n\ntype OnNavigateEventHandler = (event: { preventDefault: () => void }) => void\n\ntype InternalLinkProps = {\n  /**\n   * **Required**. The path or URL to navigate to. It can also be an object (similar to `URL`).\n   *\n   * @example\n   * ```tsx\n   * // Navigate to /dashboard:\n   * <Link href=\"/dashboard\">Dashboard</Link>\n   *\n   * // Navigate to /about?name=test:\n   * <Link href={{ pathname: '/about', query: { name: 'test' } }}>\n   *   About\n   * </Link>\n   * ```\n   *\n   * @remarks\n   * - For external URLs, use a fully qualified URL such as `https://...`.\n   * - In the App Router, dynamic routes must not include bracketed segments in `href`.\n   */\n  href: Url\n\n  /**\n   * @deprecated v10.0.0: `href` props pointing to a dynamic route are\n   * automatically resolved and no longer require the `as` prop.\n   */\n  as?: Url\n\n  /**\n   * Replace the current `history` state instead of adding a new URL into the stack.\n   *\n   * @defaultValue `false`\n   *\n   * @example\n   * ```tsx\n   * <Link href=\"/about\" replace>\n   *   About (replaces the history state)\n   * </Link>\n   * ```\n   */\n  replace?: boolean\n\n  /**\n   * Whether to override the default scroll behavior. If `true`, Next.js attempts to maintain\n   * the scroll position if the newly navigated page is still visible. If not, it scrolls to the top.\n   *\n   * If `false`, Next.js will not modify the scroll behavior at all.\n   *\n   * @defaultValue `true`\n   *\n   * @example\n   * ```tsx\n   * <Link href=\"/dashboard\" scroll={false}>\n   *   No auto scroll\n   * </Link>\n   * ```\n   */\n  scroll?: boolean\n\n  /**\n   * Update the path of the current page without rerunning data fetching methods\n   * like `getStaticProps`, `getServerSideProps`, or `getInitialProps`.\n   *\n   * @remarks\n   * `shallow` only applies to the Pages Router. For the App Router, see the\n   * [following documentation](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#using-the-native-history-api).\n   *\n   * @defaultValue `false`\n   *\n   * @example\n   * ```tsx\n   * <Link href=\"/blog\" shallow>\n   *   Shallow navigation\n   * </Link>\n   * ```\n   */\n  shallow?: boolean\n\n  /**\n   * Forces `Link` to pass its `href` to the child component. Useful if the child is a custom\n   * component that wraps an `<a>` tag, or if you're using certain styling libraries.\n   *\n   * @defaultValue `false`\n   *\n   * @example\n   * ```tsx\n   * <Link href=\"/dashboard\" passHref legacyBehavior>\n   *   <MyStyledAnchor>Dashboard</MyStyledAnchor>\n   * </Link>\n   * ```\n   */\n  passHref?: boolean\n\n  /**\n   * Prefetch the page in the background.\n   * Any `<Link />` that is in the viewport (initially or through scroll) will be prefetched.\n   * Prefetch can be disabled by passing `prefetch={false}`.\n   *\n   * @remarks\n   * Prefetching is only enabled in production.\n   *\n   * - In the **App Router**:\n   *   - `\"auto\"`, `null`, `undefined` (default): Prefetch behavior depends on static vs dynamic routes:\n   *     - Static routes: fully prefetched\n   *     - Dynamic routes: partial prefetch to the nearest segment with a `loading.js`\n   *   - `true`: Always prefetch the full route and data.\n   *   - `false`: Disable prefetching on both viewport and hover.\n   * - In the **Pages Router**:\n   *   - `true` (default): Prefetches the route and data in the background on viewport or hover.\n   *   - `false`: Prefetch only on hover, not on viewport.\n   *\n   * @defaultValue `true` (Pages Router) or `null` (App Router)\n   *\n   * @example\n   * ```tsx\n   * <Link href=\"/dashboard\" prefetch={false}>\n   *   Dashboard\n   * </Link>\n   * ```\n   */\n  prefetch?: boolean | 'auto' | null | 'unstable_forceStale'\n\n  /**\n   * (unstable) Switch to a full prefetch on hover. Effectively the same as\n   * updating the prefetch prop to `true` in a mouse event.\n   */\n  unstable_dynamicOnHover?: boolean\n\n  /**\n   * The active locale is automatically prepended in the Pages Router. `locale` allows for providing\n   * a different locale, or can be set to `false` to opt out of automatic locale behavior.\n   *\n   * @remarks\n   * Note: locale only applies in the Pages Router and is ignored in the App Router.\n   *\n   * @example\n   * ```tsx\n   * // Use the 'fr' locale:\n   * <Link href=\"/about\" locale=\"fr\">\n   *   About (French)\n   * </Link>\n   *\n   * // Disable locale prefix:\n   * <Link href=\"/about\" locale={false}>\n   *   About (no locale prefix)\n   * </Link>\n   * ```\n   */\n  locale?: string | false\n\n  /**\n   * Enable legacy link behavior.\n   *\n   * @deprecated This will be removed in a future version\n   * @defaultValue `false`\n   * @see https://github.com/vercel/next.js/commit/489e65ed98544e69b0afd7e0cfc3f9f6c2b803b7\n   */\n  legacyBehavior?: boolean\n\n  /**\n   * Optional event handler for when the mouse pointer is moved onto the `<Link>`.\n   */\n  onMouseEnter?: React.MouseEventHandler<HTMLAnchorElement>\n\n  /**\n   * Optional event handler for when the `<Link>` is touched.\n   */\n  onTouchStart?: React.TouchEventHandler<HTMLAnchorElement>\n\n  /**\n   * Optional event handler for when the `<Link>` is clicked.\n   */\n  onClick?: React.MouseEventHandler<HTMLAnchorElement>\n\n  /**\n   * Optional event handler for when the `<Link>` is navigated.\n   */\n  onNavigate?: OnNavigateEventHandler\n}\n\n// TODO-APP: Include the full set of Anchor props\n// adding this to the publicly exported type currently breaks existing apps\n\n// `RouteInferType` is a stub here to avoid breaking `typedRoutes` when the type\n// isn't generated yet. It will be replaced when type generation runs.\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport type LinkProps<RouteInferType = any> = InternalLinkProps\ntype LinkPropsRequired = RequiredKeys<LinkProps>\ntype LinkPropsOptional = OptionalKeys<Omit<InternalLinkProps, 'locale'>>\n\nfunction isModifiedEvent(event: React.MouseEvent): boolean {\n  const eventTarget = event.currentTarget as HTMLAnchorElement | SVGAElement\n  const target = eventTarget.getAttribute('target')\n  return (\n    (target && target !== '_self') ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey || // triggers resource download\n    (event.nativeEvent && event.nativeEvent.which === 2)\n  )\n}\n\nfunction linkClicked(\n  e: React.MouseEvent,\n  href: string,\n  as: string,\n  linkInstanceRef: React.RefObject<LinkInstance | null>,\n  replace?: boolean,\n  scroll?: boolean,\n  onNavigate?: OnNavigateEventHandler\n): void {\n  if (typeof window !== 'undefined') {\n    const { nodeName } = e.currentTarget\n\n    // anchors inside an svg have a lowercase nodeName\n    const isAnchorNodeName = nodeName.toUpperCase() === 'A'\n    if (\n      (isAnchorNodeName && isModifiedEvent(e)) ||\n      e.currentTarget.hasAttribute('download')\n    ) {\n      // ignore click for browser’s default behavior\n      return\n    }\n\n    if (!isLocalURL(href)) {\n      if (replace) {\n        // browser default behavior does not replace the history state\n        // so we need to do it manually\n        e.preventDefault()\n        location.replace(href)\n      }\n\n      // ignore click for browser’s default behavior\n      return\n    }\n\n    e.preventDefault()\n\n    if (onNavigate) {\n      let isDefaultPrevented = false\n\n      onNavigate({\n        preventDefault: () => {\n          isDefaultPrevented = true\n        },\n      })\n\n      if (isDefaultPrevented) {\n        return\n      }\n    }\n\n    const { dispatchNavigateAction } =\n      require('../components/app-router-instance') as typeof import('../components/app-router-instance')\n\n    React.startTransition(() => {\n      dispatchNavigateAction(\n        as || href,\n        replace ? 'replace' : 'push',\n        scroll ?? true,\n        linkInstanceRef.current\n      )\n    })\n  }\n}\n\nfunction formatStringOrUrl(urlObjOrString: UrlObject | string): string {\n  if (typeof urlObjOrString === 'string') {\n    return urlObjOrString\n  }\n\n  return formatUrl(urlObjOrString)\n}\n\n/**\n * A React component that extends the HTML `<a>` element to provide\n * [prefetching](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#2-prefetching)\n * and client-side navigation. This is the primary way to navigate between routes in Next.js.\n *\n * @remarks\n * - Prefetching is only enabled in production.\n *\n * @see https://nextjs.org/docs/app/api-reference/components/link\n */\nexport default function LinkComponent(\n  props: LinkProps & {\n    children: React.ReactNode\n    ref: React.Ref<HTMLAnchorElement>\n  }\n) {\n  const [linkStatus, setOptimisticLinkStatus] = useOptimistic(IDLE_LINK_STATUS)\n\n  let children: React.ReactNode\n\n  const linkInstanceRef = useRef<LinkInstance | null>(null)\n\n  const {\n    href: hrefProp,\n    as: asProp,\n    children: childrenProp,\n    prefetch: prefetchProp = null,\n    passHref,\n    replace,\n    shallow,\n    scroll,\n    onClick,\n    onMouseEnter: onMouseEnterProp,\n    onTouchStart: onTouchStartProp,\n    legacyBehavior = false,\n    onNavigate,\n    ref: forwardedRef,\n    unstable_dynamicOnHover,\n    ...restProps\n  } = props\n\n  children = childrenProp\n\n  if (\n    legacyBehavior &&\n    (typeof children === 'string' || typeof children === 'number')\n  ) {\n    children = <a>{children}</a>\n  }\n\n  const router = React.useContext(AppRouterContext)\n\n  const prefetchEnabled = prefetchProp !== false\n\n  const fetchStrategy =\n    prefetchProp !== false\n      ? getFetchStrategyFromPrefetchProp(prefetchProp)\n      : // TODO: it makes no sense to assign a fetchStrategy when prefetching is disabled.\n        FetchStrategy.PPR\n\n  if (process.env.NODE_ENV !== 'production') {\n    function createPropError(args: {\n      key: string\n      expected: string\n      actual: string\n    }) {\n      return new Error(\n        `Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` +\n          (typeof window !== 'undefined'\n            ? \"\\nOpen your browser's console to view the Component stack trace.\"\n            : '')\n      )\n    }\n\n    // TypeScript trick for type-guarding:\n    const requiredPropsGuard: Record<LinkPropsRequired, true> = {\n      href: true,\n    } as const\n    const requiredProps: LinkPropsRequired[] = Object.keys(\n      requiredPropsGuard\n    ) as LinkPropsRequired[]\n    requiredProps.forEach((key: LinkPropsRequired) => {\n      if (key === 'href') {\n        if (\n          props[key] == null ||\n          (typeof props[key] !== 'string' && typeof props[key] !== 'object')\n        ) {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key],\n          })\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        const _: never = key\n      }\n    })\n\n    // TypeScript trick for type-guarding:\n    const optionalPropsGuard: Record<LinkPropsOptional, true> = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      unstable_dynamicOnHover: true,\n      onClick: true,\n      onMouseEnter: true,\n      onTouchStart: true,\n      legacyBehavior: true,\n      onNavigate: true,\n    } as const\n    const optionalProps: LinkPropsOptional[] = Object.keys(\n      optionalPropsGuard\n    ) as LinkPropsOptional[]\n    optionalProps.forEach((key: LinkPropsOptional) => {\n      const valType = typeof props[key]\n\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: valType,\n          })\n        }\n      } else if (\n        key === 'onClick' ||\n        key === 'onMouseEnter' ||\n        key === 'onTouchStart' ||\n        key === 'onNavigate'\n      ) {\n        if (props[key] && valType !== 'function') {\n          throw createPropError({\n            key,\n            expected: '`function`',\n            actual: valType,\n          })\n        }\n      } else if (\n        key === 'replace' ||\n        key === 'scroll' ||\n        key === 'shallow' ||\n        key === 'passHref' ||\n        key === 'legacyBehavior' ||\n        key === 'unstable_dynamicOnHover'\n      ) {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key,\n            expected: '`boolean`',\n            actual: valType,\n          })\n        }\n      } else if (key === 'prefetch') {\n        if (\n          props[key] != null &&\n          valType !== 'boolean' &&\n          props[key] !== 'auto' &&\n          props[key] !== 'unstable_forceStale'\n        ) {\n          throw createPropError({\n            key,\n            expected: '`boolean | \"auto\" | \"unstable_forceStale\"`',\n            actual: valType,\n          })\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        const _: never = key\n      }\n    })\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (props.locale) {\n      warnOnce(\n        'The `locale` prop is not supported in `next/link` while using the `app` router. Read more about app router internalization: https://nextjs.org/docs/app/building-your-application/routing/internationalization'\n      )\n    }\n    if (!asProp) {\n      let href: string | undefined\n      if (typeof hrefProp === 'string') {\n        href = hrefProp\n      } else if (\n        typeof hrefProp === 'object' &&\n        typeof hrefProp.pathname === 'string'\n      ) {\n        href = hrefProp.pathname\n      }\n\n      if (href) {\n        const hasDynamicSegment = href\n          .split('/')\n          .some((segment) => segment.startsWith('[') && segment.endsWith(']'))\n\n        if (hasDynamicSegment) {\n          throw new Error(\n            `Dynamic href \\`${href}\\` found in <Link> while using the \\`/app\\` router, this is not supported. Read more: https://nextjs.org/docs/messages/app-dir-dynamic-href`\n          )\n        }\n      }\n    }\n  }\n\n  const { href, as } = React.useMemo(() => {\n    const resolvedHref = formatStringOrUrl(hrefProp)\n    return {\n      href: resolvedHref,\n      as: asProp ? formatStringOrUrl(asProp) : resolvedHref,\n    }\n  }, [hrefProp, asProp])\n\n  // This will return the first child, if multiple are provided it will throw an error\n  let child: any\n  if (legacyBehavior) {\n    if ((children as any)?.$$typeof === Symbol.for('react.lazy')) {\n      throw new Error(\n        `\\`<Link legacyBehavior>\\` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's \\`<a>\\` tag.`\n      )\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      if (onClick) {\n        console.warn(\n          `\"onClick\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onClick be set on the child of next/link`\n        )\n      }\n      if (onMouseEnterProp) {\n        console.warn(\n          `\"onMouseEnter\" was passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but \"legacyBehavior\" was set. The legacy behavior requires onMouseEnter be set on the child of next/link`\n        )\n      }\n      try {\n        child = React.Children.only(children)\n      } catch (err) {\n        if (!children) {\n          throw new Error(\n            `No children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but one child is required https://nextjs.org/docs/messages/link-no-children`\n          )\n        }\n        throw new Error(\n          `Multiple children were passed to <Link> with \\`href\\` of \\`${hrefProp}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` +\n            (typeof window !== 'undefined'\n              ? \" \\nOpen your browser's console to view the Component stack trace.\"\n              : '')\n        )\n      }\n    } else {\n      child = React.Children.only(children)\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if ((children as any)?.type === 'a') {\n        throw new Error(\n          'Invalid <Link> with <a> child. Please remove <a> or use <Link legacyBehavior>.\\nLearn more: https://nextjs.org/docs/messages/invalid-new-link-with-extra-anchor'\n        )\n      }\n    }\n  }\n\n  const childRef: any = legacyBehavior\n    ? child && typeof child === 'object' && child.ref\n    : forwardedRef\n\n  // Use a callback ref to attach an IntersectionObserver to the anchor tag on\n  // mount. In the future we will also use this to keep track of all the\n  // currently mounted <Link> instances, e.g. so we can re-prefetch them after\n  // a revalidation or refresh.\n  const observeLinkVisibilityOnMount = React.useCallback(\n    (element: HTMLAnchorElement | SVGAElement) => {\n      if (router !== null) {\n        linkInstanceRef.current = mountLinkInstance(\n          element,\n          href,\n          router,\n          fetchStrategy,\n          prefetchEnabled,\n          setOptimisticLinkStatus\n        )\n      }\n\n      return () => {\n        if (linkInstanceRef.current) {\n          unmountLinkForCurrentNavigation(linkInstanceRef.current)\n          linkInstanceRef.current = null\n        }\n        unmountPrefetchableInstance(element)\n      }\n    },\n    [prefetchEnabled, href, router, fetchStrategy, setOptimisticLinkStatus]\n  )\n\n  const mergedRef = useMergedRef(observeLinkVisibilityOnMount, childRef)\n\n  const childProps: {\n    onTouchStart?: React.TouchEventHandler<HTMLAnchorElement>\n    onMouseEnter: React.MouseEventHandler<HTMLAnchorElement>\n    onClick: React.MouseEventHandler<HTMLAnchorElement>\n    href?: string\n    ref?: any\n  } = {\n    ref: mergedRef,\n    onClick(e) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!e) {\n          throw new Error(\n            `Component rendered inside next/link has to pass click event to \"onClick\" prop.`\n          )\n        }\n      }\n\n      if (!legacyBehavior && typeof onClick === 'function') {\n        onClick(e)\n      }\n\n      if (\n        legacyBehavior &&\n        child.props &&\n        typeof child.props.onClick === 'function'\n      ) {\n        child.props.onClick(e)\n      }\n\n      if (!router) {\n        return\n      }\n      if (e.defaultPrevented) {\n        return\n      }\n      linkClicked(e, href, as, linkInstanceRef, replace, scroll, onNavigate)\n    },\n    onMouseEnter(e) {\n      if (!legacyBehavior && typeof onMouseEnterProp === 'function') {\n        onMouseEnterProp(e)\n      }\n\n      if (\n        legacyBehavior &&\n        child.props &&\n        typeof child.props.onMouseEnter === 'function'\n      ) {\n        child.props.onMouseEnter(e)\n      }\n\n      if (!router) {\n        return\n      }\n      if (!prefetchEnabled || process.env.NODE_ENV === 'development') {\n        return\n      }\n\n      const upgradeToDynamicPrefetch = unstable_dynamicOnHover === true\n      onNavigationIntent(\n        e.currentTarget as HTMLAnchorElement | SVGAElement,\n        upgradeToDynamicPrefetch\n      )\n    },\n    onTouchStart: process.env.__NEXT_LINK_NO_TOUCH_START\n      ? undefined\n      : function onTouchStart(e) {\n          if (!legacyBehavior && typeof onTouchStartProp === 'function') {\n            onTouchStartProp(e)\n          }\n\n          if (\n            legacyBehavior &&\n            child.props &&\n            typeof child.props.onTouchStart === 'function'\n          ) {\n            child.props.onTouchStart(e)\n          }\n\n          if (!router) {\n            return\n          }\n          if (!prefetchEnabled) {\n            return\n          }\n\n          const upgradeToDynamicPrefetch = unstable_dynamicOnHover === true\n          onNavigationIntent(\n            e.currentTarget as HTMLAnchorElement | SVGAElement,\n            upgradeToDynamicPrefetch\n          )\n        },\n  }\n\n  // If the url is absolute, we can bypass the logic to prepend the basePath.\n  if (isAbsoluteUrl(as)) {\n    childProps.href = as\n  } else if (\n    !legacyBehavior ||\n    passHref ||\n    (child.type === 'a' && !('href' in child.props))\n  ) {\n    childProps.href = addBasePath(as)\n  }\n\n  let link: React.ReactNode\n\n  if (legacyBehavior) {\n    if (process.env.NODE_ENV === 'development') {\n      errorOnce(\n        '`legacyBehavior` is deprecated and will be removed in a future ' +\n          'release. A codemod is available to upgrade your components:\\n\\n' +\n          'npx @next/codemod@latest new-link .\\n\\n' +\n          'Learn more: https://nextjs.org/docs/app/building-your-application/upgrading/codemods#remove-a-tags-from-link-components'\n      )\n    }\n    link = React.cloneElement(child, childProps)\n  } else {\n    link = (\n      <a {...restProps} {...childProps}>\n        {children}\n      </a>\n    )\n  }\n\n  return (\n    <LinkStatusContext.Provider value={linkStatus}>\n      {link}\n    </LinkStatusContext.Provider>\n  )\n}\n\nconst LinkStatusContext = createContext<\n  typeof PENDING_LINK_STATUS | typeof IDLE_LINK_STATUS\n>(IDLE_LINK_STATUS)\n\nexport const useLinkStatus = () => {\n  return useContext(LinkStatusContext)\n}\n\nfunction getFetchStrategyFromPrefetchProp(\n  prefetchProp: Exclude<LinkProps['prefetch'], undefined | false>\n): PrefetchTaskFetchStrategy {\n  if (\n    process.env.__NEXT_CACHE_COMPONENTS &&\n    process.env.__NEXT_CLIENT_SEGMENT_CACHE\n  ) {\n    // In the new implementation:\n    // - `prefetch={true}` is a runtime prefetch\n    //   (includes cached IO + params + cookies, with dynamic holes for uncached IO).\n    // - `unstable_forceStale` is a \"full\" prefetch\n    //   (forces inclusion of all dynamic data, i.e. the old behavior of `prefetch={true}`)\n    if (prefetchProp === true) {\n      return FetchStrategy.PPRRuntime\n    }\n    if (prefetchProp === 'unstable_forceStale') {\n      return FetchStrategy.Full\n    }\n\n    // `null` or `\"auto\"`: this is the default \"auto\" mode, where we will prefetch partially if the link is in the viewport.\n    // This will also include invalid prop values that don't match the types specified here.\n    // (although those should've been filtered out by prop validation in dev)\n    prefetchProp satisfies null | 'auto'\n    // In `clientSegmentCache`, we default to PPR, and we'll discover whether or not the route supports it with the initial prefetch.\n    // If we're not using `clientSegmentCache`, this will be converted into a `PrefetchKind.AUTO`.\n    return FetchStrategy.PPR\n  } else {\n    return prefetchProp === null || prefetchProp === 'auto'\n      ? // In `clientSegmentCache`, we default to PPR, and we'll discover whether or not the route supports it with the initial prefetch.\n        // If we're not using `clientSegmentCache`, this will be converted into a `PrefetchKind.AUTO`.\n        FetchStrategy.PPR\n      : // In the old implementation without runtime prefetches, `prefetch={true}` forces all dynamic data to be prefetched.\n        // To preserve backwards-compatibility, anything other than `false`, `null`, or `\"auto\"` results in a full prefetch.\n        // (although invalid values should've been filtered out by prop validation in dev)\n        FetchStrategy.Full\n  }\n}\n","\"use strict\";\n\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nexports._ = _interop_require_default;\n","/**\n * A shared function, used on both client and server, to generate a SVG blur placeholder.\n */\nexport function getImageBlurSvg({\n  widthInt,\n  heightInt,\n  blurWidth,\n  blurHeight,\n  blurDataURL,\n  objectFit,\n}: {\n  widthInt?: number\n  heightInt?: number\n  blurWidth?: number\n  blurHeight?: number\n  blurDataURL: string\n  objectFit?: string\n}): string {\n  const std = 20\n  const svgWidth = blurWidth ? blurWidth * 40 : widthInt\n  const svgHeight = blurHeight ? blurHeight * 40 : heightInt\n\n  const viewBox =\n    svgWidth && svgHeight ? `viewBox='0 0 ${svgWidth} ${svgHeight}'` : ''\n  const preserveAspectRatio = viewBox\n    ? 'none'\n    : objectFit === 'contain'\n      ? 'xMidYMid'\n      : objectFit === 'cover'\n        ? 'xMidYMid slice'\n        : 'none'\n\n  return `%3Csvg xmlns='http://www.w3.org/2000/svg' ${viewBox}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='${std}'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='${std}'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${preserveAspectRatio}' style='filter: url(%23b);' href='${blurDataURL}'/%3E%3C/svg%3E`\n}\n","export const VALID_LOADERS = [\n  'default',\n  'imgix',\n  'cloudinary',\n  'akamai',\n  'custom',\n] as const\n\nexport type LoaderValue = (typeof VALID_LOADERS)[number]\n\nexport type ImageLoaderProps = {\n  src: string\n  width: number\n  quality?: number\n}\n\nexport type ImageLoaderPropsWithConfig = ImageLoaderProps & {\n  config: Readonly<ImageConfig>\n}\n\nexport type LocalPattern = {\n  /**\n   * Can be literal or wildcard.\n   * Single `*` matches a single path segment.\n   * Double `**` matches any number of path segments.\n   */\n  pathname?: string\n\n  /**\n   * Can be literal query string such as `?v=1` or\n   * empty string meaning no query string.\n   */\n  search?: string\n}\n\nexport type RemotePattern = {\n  /**\n   * Must be `http` or `https`.\n   */\n  protocol?: 'http' | 'https'\n\n  /**\n   * Can be literal or wildcard.\n   * Single `*` matches a single subdomain.\n   * Double `**` matches any number of subdomains.\n   */\n  hostname: string\n\n  /**\n   * Can be literal port such as `8080` or empty string\n   * meaning no port.\n   */\n  port?: string\n\n  /**\n   * Can be literal or wildcard.\n   * Single `*` matches a single path segment.\n   * Double `**` matches any number of path segments.\n   */\n  pathname?: string\n\n  /**\n   * Can be literal query string such as `?v=1` or\n   * empty string meaning no query string.\n   */\n  search?: string\n}\n\ntype ImageFormat = 'image/avif' | 'image/webp'\n\n/**\n * Image configurations\n *\n * @see [Image configuration options](https://nextjs.org/docs/api-reference/next/image#configuration-options)\n */\nexport type ImageConfigComplete = {\n  /** @see [Device sizes documentation](https://nextjs.org/docs/api-reference/next/image#device-sizes) */\n  deviceSizes: number[]\n\n  /** @see [Image sizing documentation](https://nextjs.org/docs/app/building-your-application/optimizing/images#image-sizing) */\n  imageSizes: number[]\n\n  /** @see [Image loaders configuration](https://nextjs.org/docs/api-reference/next/legacy/image#loader) */\n  loader: LoaderValue\n\n  /** @see [Image loader configuration](https://nextjs.org/docs/app/api-reference/components/image#path) */\n  path: string\n\n  /** @see [Image loader configuration](https://nextjs.org/docs/api-reference/next/image#loader-configuration) */\n  loaderFile: string\n\n  /**\n   * @deprecated Use `remotePatterns` instead.\n   */\n  domains: string[]\n\n  /** @see [Disable static image import configuration](https://nextjs.org/docs/api-reference/next/image#disable-static-imports) */\n  disableStaticImages: boolean\n\n  /** @see [Cache behavior](https://nextjs.org/docs/api-reference/next/image#caching-behavior) */\n  minimumCacheTTL: number\n\n  /** @see [Acceptable formats](https://nextjs.org/docs/api-reference/next/image#acceptable-formats) */\n  formats: ImageFormat[]\n\n  /** @see [Maximum Redirects](https://nextjs.org/docs/api-reference/next/image#maximumredirects) */\n  maximumRedirects: number\n\n  /** @see [Dangerously Allow Local IP](https://nextjs.org/docs/api-reference/next/image#dangerously-allow-local-ip) */\n  dangerouslyAllowLocalIP: boolean\n\n  /** @see [Dangerously Allow SVG](https://nextjs.org/docs/api-reference/next/image#dangerously-allow-svg) */\n  dangerouslyAllowSVG: boolean\n\n  /** @see [Content Security Policy](https://nextjs.org/docs/api-reference/next/image#contentsecuritypolicy) */\n  contentSecurityPolicy: string\n\n  /** @see [Content Disposition Type](https://nextjs.org/docs/api-reference/next/image#contentdispositiontype) */\n  contentDispositionType: 'inline' | 'attachment'\n\n  /** @see [Remote Patterns](https://nextjs.org/docs/api-reference/next/image#remotepatterns) */\n  remotePatterns: Array<URL | RemotePattern>\n\n  /** @see [Local Patterns](https://nextjs.org/docs/api-reference/next/image#localPatterns) */\n  localPatterns: LocalPattern[] | undefined\n\n  /** @see [Qualities](https://nextjs.org/docs/api-reference/next/image#qualities) */\n  qualities: number[] | undefined\n\n  /** @see [Unoptimized](https://nextjs.org/docs/api-reference/next/image#unoptimized) */\n  unoptimized: boolean\n}\n\nexport type ImageConfig = Partial<ImageConfigComplete>\n\nexport const imageConfigDefault: ImageConfigComplete = {\n  deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],\n  imageSizes: [32, 48, 64, 96, 128, 256, 384],\n  path: '/_next/image',\n  loader: 'default',\n  loaderFile: '',\n  /**\n   * @deprecated Use `remotePatterns` instead to protect your application from malicious users.\n   */\n  domains: [],\n  disableStaticImages: false,\n  minimumCacheTTL: 14400, // 4 hours\n  formats: ['image/webp'],\n  maximumRedirects: 3,\n  dangerouslyAllowLocalIP: false,\n  dangerouslyAllowSVG: false,\n  contentSecurityPolicy: `script-src 'none'; frame-src 'none'; sandbox;`,\n  contentDispositionType: 'attachment',\n  localPatterns: undefined, // default: allow all local images\n  remotePatterns: [], // default: allow no remote images\n  qualities: [75],\n  unoptimized: false,\n}\n","import { warnOnce } from './utils/warn-once'\nimport { getImageBlurSvg } from './image-blur-svg'\nimport { imageConfigDefault } from './image-config'\nimport type {\n  ImageConfigComplete,\n  ImageLoaderProps,\n  ImageLoaderPropsWithConfig,\n} from './image-config'\n\nimport type { CSSProperties, JSX } from 'react'\n\nexport interface StaticImageData {\n  src: string\n  height: number\n  width: number\n  blurDataURL?: string\n  blurWidth?: number\n  blurHeight?: number\n}\n\nexport interface StaticRequire {\n  default: StaticImageData\n}\n\nexport type StaticImport = StaticRequire | StaticImageData\n\nexport type ImageProps = Omit<\n  JSX.IntrinsicElements['img'],\n  'src' | 'srcSet' | 'ref' | 'alt' | 'width' | 'height' | 'loading'\n> & {\n  src: string | StaticImport\n  alt: string\n  width?: number | `${number}`\n  height?: number | `${number}`\n  fill?: boolean\n  loader?: ImageLoader\n  quality?: number | `${number}`\n  preload?: boolean\n  /**\n   * @deprecated Use `preload` prop instead.\n   * See https://nextjs.org/docs/app/api-reference/components/image#preload\n   */\n  priority?: boolean\n  loading?: LoadingValue\n  placeholder?: PlaceholderValue\n  blurDataURL?: string\n  unoptimized?: boolean\n  overrideSrc?: string\n  /**\n   * @deprecated Use `onLoad` instead.\n   * @see https://nextjs.org/docs/app/api-reference/components/image#onload\n   */\n  onLoadingComplete?: OnLoadingComplete\n  /**\n   * @deprecated Use `fill` prop instead of `layout=\"fill\"` or change import to `next/legacy/image`.\n   * @see https://nextjs.org/docs/api-reference/next/legacy/image\n   */\n  layout?: string\n  /**\n   * @deprecated Use `style` prop instead.\n   */\n  objectFit?: string\n  /**\n   * @deprecated Use `style` prop instead.\n   */\n  objectPosition?: string\n  /**\n   * @deprecated This prop does not do anything.\n   */\n  lazyBoundary?: string\n  /**\n   * @deprecated This prop does not do anything.\n   */\n  lazyRoot?: string\n}\n\nexport type ImgProps = Omit<ImageProps, 'src' | 'loader'> & {\n  loading: LoadingValue\n  width: number | undefined\n  height: number | undefined\n  style: NonNullable<JSX.IntrinsicElements['img']['style']>\n  sizes: string | undefined\n  srcSet: string | undefined\n  src: string\n}\n\nconst VALID_LOADING_VALUES = ['lazy', 'eager', undefined] as const\n\n// Object-fit values that are not valid background-size values\nconst INVALID_BACKGROUND_SIZE_VALUES = [\n  '-moz-initial',\n  'fill',\n  'none',\n  'scale-down',\n  undefined,\n]\ntype LoadingValue = (typeof VALID_LOADING_VALUES)[number]\ntype ImageConfig = ImageConfigComplete & {\n  allSizes: number[]\n  output?: 'standalone' | 'export'\n}\n\nexport type ImageLoader = (p: ImageLoaderProps) => string\n\n// Do not export - this is an internal type only\n// because `next.config.js` is only meant for the\n// built-in loaders, not for a custom loader() prop.\ntype ImageLoaderWithConfig = (p: ImageLoaderPropsWithConfig) => string\n\nexport type PlaceholderValue = 'blur' | 'empty' | `data:image/${string}`\nexport type OnLoad = React.ReactEventHandler<HTMLImageElement> | undefined\nexport type OnLoadingComplete = (img: HTMLImageElement) => void\n\nexport type PlaceholderStyle = Partial<\n  Pick<\n    CSSProperties,\n    | 'backgroundSize'\n    | 'backgroundPosition'\n    | 'backgroundRepeat'\n    | 'backgroundImage'\n  >\n>\n\nfunction isStaticRequire(\n  src: StaticRequire | StaticImageData\n): src is StaticRequire {\n  return (src as StaticRequire).default !== undefined\n}\n\nfunction isStaticImageData(\n  src: StaticRequire | StaticImageData\n): src is StaticImageData {\n  return (src as StaticImageData).src !== undefined\n}\n\nfunction isStaticImport(src: string | StaticImport): src is StaticImport {\n  return (\n    !!src &&\n    typeof src === 'object' &&\n    (isStaticRequire(src as StaticImport) ||\n      isStaticImageData(src as StaticImport))\n  )\n}\n\nconst allImgs = new Map<\n  string,\n  { src: string; loading: LoadingValue; placeholder: PlaceholderValue }\n>()\nlet perfObserver: PerformanceObserver | undefined\n\nfunction getInt(x: unknown): number | undefined {\n  if (typeof x === 'undefined') {\n    return x\n  }\n  if (typeof x === 'number') {\n    return Number.isFinite(x) ? x : NaN\n  }\n  if (typeof x === 'string' && /^[0-9]+$/.test(x)) {\n    return parseInt(x, 10)\n  }\n  return NaN\n}\n\nfunction getWidths(\n  { deviceSizes, allSizes }: ImageConfig,\n  width: number | undefined,\n  sizes: string | undefined\n): { widths: number[]; kind: 'w' | 'x' } {\n  if (sizes) {\n    // Find all the \"vw\" percent sizes used in the sizes prop\n    const viewportWidthRe = /(^|\\s)(1?\\d?\\d)vw/g\n    const percentSizes = []\n    for (let match; (match = viewportWidthRe.exec(sizes)); match) {\n      percentSizes.push(parseInt(match[2]))\n    }\n    if (percentSizes.length) {\n      const smallestRatio = Math.min(...percentSizes) * 0.01\n      return {\n        widths: allSizes.filter((s) => s >= deviceSizes[0] * smallestRatio),\n        kind: 'w',\n      }\n    }\n    return { widths: allSizes, kind: 'w' }\n  }\n  if (typeof width !== 'number') {\n    return { widths: deviceSizes, kind: 'w' }\n  }\n\n  const widths = [\n    ...new Set(\n      // > This means that most OLED screens that say they are 3x resolution,\n      // > are actually 3x in the green color, but only 1.5x in the red and\n      // > blue colors. Showing a 3x resolution image in the app vs a 2x\n      // > resolution image will be visually the same, though the 3x image\n      // > takes significantly more data. Even true 3x resolution screens are\n      // > wasteful as the human eye cannot see that level of detail without\n      // > something like a magnifying glass.\n      // https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html\n      [width, width * 2 /*, width * 3*/].map(\n        (w) => allSizes.find((p) => p >= w) || allSizes[allSizes.length - 1]\n      )\n    ),\n  ]\n  return { widths, kind: 'x' }\n}\n\ntype GenImgAttrsData = {\n  config: ImageConfig\n  src: string\n  unoptimized: boolean\n  loader: ImageLoaderWithConfig\n  width?: number\n  quality?: number\n  sizes?: string\n}\n\ntype GenImgAttrsResult = {\n  src: string\n  srcSet: string | undefined\n  sizes: string | undefined\n}\n\nfunction generateImgAttrs({\n  config,\n  src,\n  unoptimized,\n  width,\n  quality,\n  sizes,\n  loader,\n}: GenImgAttrsData): GenImgAttrsResult {\n  if (unoptimized) {\n    return { src, srcSet: undefined, sizes: undefined }\n  }\n\n  const { widths, kind } = getWidths(config, width, sizes)\n  const last = widths.length - 1\n\n  return {\n    sizes: !sizes && kind === 'w' ? '100vw' : sizes,\n    srcSet: widths\n      .map(\n        (w, i) =>\n          `${loader({ config, src, quality, width: w })} ${\n            kind === 'w' ? w : i + 1\n          }${kind}`\n      )\n      .join(', '),\n\n    // It's intended to keep `src` the last attribute because React updates\n    // attributes in order. If we keep `src` the first one, Safari will\n    // immediately start to fetch `src`, before `sizes` and `srcSet` are even\n    // updated by React. That causes multiple unnecessary requests if `srcSet`\n    // and `sizes` are defined.\n    // This bug cannot be reproduced in Chrome or Firefox.\n    src: loader({ config, src, quality, width: widths[last] }),\n  }\n}\n\n/**\n * A shared function, used on both client and server, to generate the props for <img>.\n */\nexport function getImgProps(\n  {\n    src,\n    sizes,\n    unoptimized = false,\n    priority = false,\n    preload = false,\n    loading,\n    className,\n    quality,\n    width,\n    height,\n    fill = false,\n    style,\n    overrideSrc,\n    onLoad,\n    onLoadingComplete,\n    placeholder = 'empty',\n    blurDataURL,\n    fetchPriority,\n    decoding = 'async',\n    layout,\n    objectFit,\n    objectPosition,\n    lazyBoundary,\n    lazyRoot,\n    ...rest\n  }: ImageProps,\n  _state: {\n    defaultLoader: ImageLoaderWithConfig\n    imgConf: ImageConfigComplete\n    showAltText?: boolean\n    blurComplete?: boolean\n  }\n): {\n  props: ImgProps\n  meta: {\n    unoptimized: boolean\n    preload: boolean\n    placeholder: NonNullable<ImageProps['placeholder']>\n    fill: boolean\n  }\n} {\n  const { imgConf, showAltText, blurComplete, defaultLoader } = _state\n  let config: ImageConfig\n  let c = imgConf || imageConfigDefault\n  if ('allSizes' in c) {\n    config = c as ImageConfig\n  } else {\n    const allSizes = [...c.deviceSizes, ...c.imageSizes].sort((a, b) => a - b)\n    const deviceSizes = c.deviceSizes.sort((a, b) => a - b)\n    const qualities = c.qualities?.sort((a, b) => a - b)\n    config = { ...c, allSizes, deviceSizes, qualities }\n  }\n\n  if (typeof defaultLoader === 'undefined') {\n    throw new Error(\n      'images.loaderFile detected but the file is missing default export.\\nRead more: https://nextjs.org/docs/messages/invalid-images-config'\n    )\n  }\n  let loader: ImageLoaderWithConfig = rest.loader || defaultLoader\n\n  // Remove property so it's not spread on <img> element\n  delete rest.loader\n  delete (rest as any).srcSet\n\n  // This special value indicates that the user\n  // didn't define a \"loader\" prop or \"loader\" config.\n  const isDefaultLoader = '__next_img_default' in loader\n\n  if (isDefaultLoader) {\n    if (config.loader === 'custom') {\n      throw new Error(\n        `Image with src \"${src}\" is missing \"loader\" prop.` +\n          `\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader`\n      )\n    }\n  } else {\n    // The user defined a \"loader\" prop or config.\n    // Since the config object is internal only, we\n    // must not pass it to the user-defined \"loader\".\n    const customImageLoader = loader as ImageLoader\n    loader = (obj) => {\n      const { config: _, ...opts } = obj\n      return customImageLoader(opts)\n    }\n  }\n\n  if (layout) {\n    if (layout === 'fill') {\n      fill = true\n    }\n    const layoutToStyle: Record<string, Record<string, string> | undefined> = {\n      intrinsic: { maxWidth: '100%', height: 'auto' },\n      responsive: { width: '100%', height: 'auto' },\n    }\n    const layoutToSizes: Record<string, string | undefined> = {\n      responsive: '100vw',\n      fill: '100vw',\n    }\n    const layoutStyle = layoutToStyle[layout]\n    if (layoutStyle) {\n      style = { ...style, ...layoutStyle }\n    }\n    const layoutSizes = layoutToSizes[layout]\n    if (layoutSizes && !sizes) {\n      sizes = layoutSizes\n    }\n  }\n\n  let staticSrc = ''\n  let widthInt = getInt(width)\n  let heightInt = getInt(height)\n  let blurWidth: number | undefined\n  let blurHeight: number | undefined\n  if (isStaticImport(src)) {\n    const staticImageData = isStaticRequire(src) ? src.default : src\n\n    if (!staticImageData.src) {\n      throw new Error(\n        `An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(\n          staticImageData\n        )}`\n      )\n    }\n    if (!staticImageData.height || !staticImageData.width) {\n      throw new Error(\n        `An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(\n          staticImageData\n        )}`\n      )\n    }\n\n    blurWidth = staticImageData.blurWidth\n    blurHeight = staticImageData.blurHeight\n    blurDataURL = blurDataURL || staticImageData.blurDataURL\n    staticSrc = staticImageData.src\n\n    if (!fill) {\n      if (!widthInt && !heightInt) {\n        widthInt = staticImageData.width\n        heightInt = staticImageData.height\n      } else if (widthInt && !heightInt) {\n        const ratio = widthInt / staticImageData.width\n        heightInt = Math.round(staticImageData.height * ratio)\n      } else if (!widthInt && heightInt) {\n        const ratio = heightInt / staticImageData.height\n        widthInt = Math.round(staticImageData.width * ratio)\n      }\n    }\n  }\n  src = typeof src === 'string' ? src : staticSrc\n\n  let isLazy =\n    !priority &&\n    !preload &&\n    (loading === 'lazy' || typeof loading === 'undefined')\n  if (!src || src.startsWith('data:') || src.startsWith('blob:')) {\n    // https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n    unoptimized = true\n    isLazy = false\n  }\n  if (config.unoptimized) {\n    unoptimized = true\n  }\n  if (\n    isDefaultLoader &&\n    !config.dangerouslyAllowSVG &&\n    src.split('?', 1)[0].endsWith('.svg')\n  ) {\n    // Special case to make svg serve as-is to avoid proxying\n    // through the built-in Image Optimization API.\n    unoptimized = true\n  }\n\n  const qualityInt = getInt(quality)\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (config.output === 'export' && isDefaultLoader && !unoptimized) {\n      throw new Error(\n        `Image Optimization using the default loader is not compatible with \\`{ output: 'export' }\\`.\n  Possible solutions:\n    - Remove \\`{ output: 'export' }\\` and run \"next start\" to run server mode including the Image Optimization API.\n    - Configure \\`{ images: { unoptimized: true } }\\` in \\`next.config.js\\` to disable the Image Optimization API.\n  Read more: https://nextjs.org/docs/messages/export-image-api`\n      )\n    }\n    if (!src) {\n      // React doesn't show the stack trace and there's\n      // no `src` to help identify which image, so we\n      // instead console.error(ref) during mount.\n      unoptimized = true\n    } else {\n      if (fill) {\n        if (width) {\n          throw new Error(\n            `Image with src \"${src}\" has both \"width\" and \"fill\" properties. Only one should be used.`\n          )\n        }\n        if (height) {\n          throw new Error(\n            `Image with src \"${src}\" has both \"height\" and \"fill\" properties. Only one should be used.`\n          )\n        }\n        if (style?.position && style.position !== 'absolute') {\n          throw new Error(\n            `Image with src \"${src}\" has both \"fill\" and \"style.position\" properties. Images with \"fill\" always use position absolute - it cannot be modified.`\n          )\n        }\n        if (style?.width && style.width !== '100%') {\n          throw new Error(\n            `Image with src \"${src}\" has both \"fill\" and \"style.width\" properties. Images with \"fill\" always use width 100% - it cannot be modified.`\n          )\n        }\n        if (style?.height && style.height !== '100%') {\n          throw new Error(\n            `Image with src \"${src}\" has both \"fill\" and \"style.height\" properties. Images with \"fill\" always use height 100% - it cannot be modified.`\n          )\n        }\n      } else {\n        if (typeof widthInt === 'undefined') {\n          throw new Error(\n            `Image with src \"${src}\" is missing required \"width\" property.`\n          )\n        } else if (isNaN(widthInt)) {\n          throw new Error(\n            `Image with src \"${src}\" has invalid \"width\" property. Expected a numeric value in pixels but received \"${width}\".`\n          )\n        }\n        if (typeof heightInt === 'undefined') {\n          throw new Error(\n            `Image with src \"${src}\" is missing required \"height\" property.`\n          )\n        } else if (isNaN(heightInt)) {\n          throw new Error(\n            `Image with src \"${src}\" has invalid \"height\" property. Expected a numeric value in pixels but received \"${height}\".`\n          )\n        }\n        // eslint-disable-next-line no-control-regex\n        if (/^[\\x00-\\x20]/.test(src)) {\n          throw new Error(\n            `Image with src \"${src}\" cannot start with a space or control character. Use src.trimStart() to remove it or encodeURIComponent(src) to keep it.`\n          )\n        }\n        // eslint-disable-next-line no-control-regex\n        if (/[\\x00-\\x20]$/.test(src)) {\n          throw new Error(\n            `Image with src \"${src}\" cannot end with a space or control character. Use src.trimEnd() to remove it or encodeURIComponent(src) to keep it.`\n          )\n        }\n      }\n    }\n    if (!VALID_LOADING_VALUES.includes(loading)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"loading\" property. Provided \"${loading}\" should be one of ${VALID_LOADING_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (priority && loading === 'lazy') {\n      throw new Error(\n        `Image with src \"${src}\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`\n      )\n    }\n    if (preload && loading === 'lazy') {\n      throw new Error(\n        `Image with src \"${src}\" has both \"preload\" and \"loading='lazy'\" properties. Only one should be used.`\n      )\n    }\n    if (preload && priority) {\n      throw new Error(\n        `Image with src \"${src}\" has both \"preload\" and \"priority\" properties. Only \"preload\" should be used.`\n      )\n    }\n    if (\n      placeholder !== 'empty' &&\n      placeholder !== 'blur' &&\n      !placeholder.startsWith('data:image/')\n    ) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"placeholder\" property \"${placeholder}\".`\n      )\n    }\n    if (placeholder !== 'empty') {\n      if (widthInt && heightInt && widthInt * heightInt < 1600) {\n        warnOnce(\n          `Image with src \"${src}\" is smaller than 40x40. Consider removing the \"placeholder\" property to improve performance.`\n        )\n      }\n    }\n    if (\n      qualityInt &&\n      config.qualities &&\n      !config.qualities.includes(qualityInt)\n    ) {\n      warnOnce(\n        `Image with src \"${src}\" is using quality \"${qualityInt}\" which is not configured in images.qualities [${config.qualities.join(', ')}]. Please update your config to [${[...config.qualities, qualityInt].sort().join(', ')}].` +\n          `\\nRead more: https://nextjs.org/docs/messages/next-image-unconfigured-qualities`\n      )\n    }\n    if (placeholder === 'blur' && !blurDataURL) {\n      const VALID_BLUR_EXT = ['jpeg', 'png', 'webp', 'avif'] // should match next-image-loader\n\n      throw new Error(\n        `Image with src \"${src}\" has \"placeholder='blur'\" property but is missing the \"blurDataURL\" property.\n        Possible solutions:\n          - Add a \"blurDataURL\" property, the contents should be a small Data URL to represent the image\n          - Change the \"src\" property to a static import with one of the supported file types: ${VALID_BLUR_EXT.join(\n            ','\n          )} (animated images not supported)\n          - Remove the \"placeholder\" property, effectively no blur effect\n        Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url`\n      )\n    }\n    if ('ref' in rest) {\n      warnOnce(\n        `Image with src \"${src}\" is using unsupported \"ref\" property. Consider using the \"onLoad\" property instead.`\n      )\n    }\n\n    if (!unoptimized && !isDefaultLoader) {\n      const urlStr = loader({\n        config,\n        src,\n        width: widthInt || 400,\n        quality: qualityInt || 75,\n      })\n      let url: URL | undefined\n      try {\n        url = new URL(urlStr)\n      } catch (err) {}\n      if (urlStr === src || (url && url.pathname === src && !url.search)) {\n        warnOnce(\n          `Image with src \"${src}\" has a \"loader\" property that does not implement width. Please implement it or use the \"unoptimized\" property instead.` +\n            `\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width`\n        )\n      }\n    }\n\n    if (onLoadingComplete) {\n      warnOnce(\n        `Image with src \"${src}\" is using deprecated \"onLoadingComplete\" property. Please use the \"onLoad\" property instead.`\n      )\n    }\n\n    for (const [legacyKey, legacyValue] of Object.entries({\n      layout,\n      objectFit,\n      objectPosition,\n      lazyBoundary,\n      lazyRoot,\n    })) {\n      if (legacyValue) {\n        warnOnce(\n          `Image with src \"${src}\" has legacy prop \"${legacyKey}\". Did you forget to run the codemod?` +\n            `\\nRead more: https://nextjs.org/docs/messages/next-image-upgrade-to-13`\n        )\n      }\n    }\n\n    if (\n      typeof window !== 'undefined' &&\n      !perfObserver &&\n      window.PerformanceObserver\n    ) {\n      perfObserver = new PerformanceObserver((entryList) => {\n        for (const entry of entryList.getEntries()) {\n          // @ts-ignore - missing \"LargestContentfulPaint\" class with \"element\" prop\n          const imgSrc = entry?.element?.src || ''\n          const lcpImage = allImgs.get(imgSrc)\n          if (\n            lcpImage &&\n            lcpImage.loading === 'lazy' &&\n            lcpImage.placeholder === 'empty' &&\n            !lcpImage.src.startsWith('data:') &&\n            !lcpImage.src.startsWith('blob:')\n          ) {\n            // https://web.dev/lcp/#measure-lcp-in-javascript\n            warnOnce(\n              `Image with src \"${lcpImage.src}\" was detected as the Largest Contentful Paint (LCP). Please add the \\`loading=\"eager\"\\` property if this image is above the fold.` +\n                `\\nRead more: https://nextjs.org/docs/app/api-reference/components/image#loading`\n            )\n          }\n        }\n      })\n      try {\n        perfObserver.observe({\n          type: 'largest-contentful-paint',\n          buffered: true,\n        })\n      } catch (err) {\n        // Log error but don't crash the app\n        console.error(err)\n      }\n    }\n  }\n  const imgStyle = Object.assign(\n    fill\n      ? {\n          position: 'absolute',\n          height: '100%',\n          width: '100%',\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0,\n          objectFit,\n          objectPosition,\n        }\n      : {},\n    showAltText ? {} : { color: 'transparent' },\n    style\n  )\n\n  const backgroundImage =\n    !blurComplete && placeholder !== 'empty'\n      ? placeholder === 'blur'\n        ? `url(\"data:image/svg+xml;charset=utf-8,${getImageBlurSvg({\n            widthInt,\n            heightInt,\n            blurWidth,\n            blurHeight,\n            blurDataURL: blurDataURL || '', // assume not undefined\n            objectFit: imgStyle.objectFit,\n          })}\")`\n        : `url(\"${placeholder}\")` // assume `data:image/`\n      : null\n\n  const backgroundSize = !INVALID_BACKGROUND_SIZE_VALUES.includes(\n    imgStyle.objectFit\n  )\n    ? imgStyle.objectFit\n    : imgStyle.objectFit === 'fill'\n      ? '100% 100%' // the background-size equivalent of `fill`\n      : 'cover'\n\n  let placeholderStyle: PlaceholderStyle = backgroundImage\n    ? {\n        backgroundSize,\n        backgroundPosition: imgStyle.objectPosition || '50% 50%',\n        backgroundRepeat: 'no-repeat',\n        backgroundImage,\n      }\n    : {}\n\n  if (process.env.NODE_ENV === 'development') {\n    if (\n      placeholderStyle.backgroundImage &&\n      placeholder === 'blur' &&\n      blurDataURL?.startsWith('/')\n    ) {\n      // During `next dev`, we don't want to generate blur placeholders with webpack\n      // because it can delay starting the dev server. Instead, `next-image-loader.js`\n      // will inline a special url to lazily generate the blur placeholder at request time.\n      placeholderStyle.backgroundImage = `url(\"${blurDataURL}\")`\n    }\n  }\n\n  const imgAttributes = generateImgAttrs({\n    config,\n    src,\n    unoptimized,\n    width: widthInt,\n    quality: qualityInt,\n    sizes,\n    loader,\n  })\n\n  const loadingFinal = isLazy ? 'lazy' : loading\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window !== 'undefined') {\n      let fullUrl: URL\n      try {\n        fullUrl = new URL(imgAttributes.src)\n      } catch (e) {\n        fullUrl = new URL(imgAttributes.src, window.location.href)\n      }\n      allImgs.set(fullUrl.href, { src, loading: loadingFinal, placeholder })\n    }\n  }\n\n  const props: ImgProps = {\n    ...rest,\n    loading: loadingFinal,\n    fetchPriority,\n    width: widthInt,\n    height: heightInt,\n    decoding,\n    className,\n    style: { ...imgStyle, ...placeholderStyle },\n    sizes: imgAttributes.sizes,\n    srcSet: imgAttributes.srcSet,\n    src: overrideSrc || imgAttributes.src,\n  }\n  const meta = { unoptimized, preload: preload || priority, placeholder, fill }\n  return { props, meta }\n}\n","import type React from 'react'\nimport { Children, useEffect, useLayoutEffect, type JSX } from 'react'\n\ntype State = JSX.Element[] | undefined\n\nexport type SideEffectProps = {\n  reduceComponentsToState: (components: Array<React.ReactElement<any>>) => State\n  handleStateChange?: (state: State) => void\n  headManager: any\n  children: React.ReactNode\n}\n\nconst isServer = typeof window === 'undefined'\nconst useClientOnlyLayoutEffect = isServer ? () => {} : useLayoutEffect\nconst useClientOnlyEffect = isServer ? () => {} : useEffect\n\nexport default function SideEffect(props: SideEffectProps) {\n  const { headManager, reduceComponentsToState } = props\n\n  function emitChange() {\n    if (headManager && headManager.mountedInstances) {\n      const headElements = Children.toArray(\n        Array.from(headManager.mountedInstances as Set<React.ReactNode>).filter(\n          Boolean\n        )\n      ) as React.ReactElement[]\n      headManager.updateHead(reduceComponentsToState(headElements))\n    }\n  }\n\n  if (isServer) {\n    headManager?.mountedInstances?.add(props.children)\n    emitChange()\n  }\n\n  useClientOnlyLayoutEffect(() => {\n    headManager?.mountedInstances?.add(props.children)\n    return () => {\n      headManager?.mountedInstances?.delete(props.children)\n    }\n  })\n\n  // We need to call `updateHead` method whenever the `SideEffect` is trigger in all\n  // life-cycles: mount, update, unmount. However, if there are multiple `SideEffect`s\n  // being rendered, we only trigger the method from the last one.\n  // This is ensured by keeping the last unflushed `updateHead` in the `_pendingUpdate`\n  // singleton in the layout effect pass, and actually trigger it in the effect pass.\n  useClientOnlyLayoutEffect(() => {\n    if (headManager) {\n      headManager._pendingUpdate = emitChange\n    }\n    return () => {\n      if (headManager) {\n        headManager._pendingUpdate = emitChange\n      }\n    }\n  })\n\n  useClientOnlyEffect(() => {\n    if (headManager && headManager._pendingUpdate) {\n      headManager._pendingUpdate()\n      headManager._pendingUpdate = null\n    }\n    return () => {\n      if (headManager && headManager._pendingUpdate) {\n        headManager._pendingUpdate()\n        headManager._pendingUpdate = null\n      }\n    }\n  })\n\n  return null\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HeadManagerContext\n","'use client'\n\nimport React, { useContext, type JSX } from 'react'\nimport Effect from './side-effect'\nimport { HeadManagerContext } from './head-manager-context.shared-runtime'\nimport { warnOnce } from './utils/warn-once'\n\nexport function defaultHead(): JSX.Element[] {\n  const head = [\n    <meta charSet=\"utf-8\" key=\"charset\" />,\n    <meta name=\"viewport\" content=\"width=device-width\" key=\"viewport\" />,\n  ]\n  return head\n}\n\nfunction onlyReactElement(\n  list: Array<React.ReactElement<any>>,\n  child: React.ReactElement | number | string\n): Array<React.ReactElement<any>> {\n  // React children can be \"string\" or \"number\" in this case we ignore them for backwards compat\n  if (typeof child === 'string' || typeof child === 'number') {\n    return list\n  }\n  // Adds support for React.Fragment\n  if (child.type === React.Fragment) {\n    return list.concat(\n      // @ts-expect-error @types/react does not remove fragments but this could also return ReactPortal[]\n      React.Children.toArray(child.props.children).reduce(\n        // @ts-expect-error @types/react does not remove fragments but this could also return ReactPortal[]\n        (\n          fragmentList: Array<React.ReactElement<any>>,\n          fragmentChild: React.ReactElement | number | string\n        ): Array<React.ReactElement<any>> => {\n          if (\n            typeof fragmentChild === 'string' ||\n            typeof fragmentChild === 'number'\n          ) {\n            return fragmentList\n          }\n          return fragmentList.concat(fragmentChild)\n        },\n        []\n      )\n    )\n  }\n  return list.concat(child)\n}\n\nconst METATYPES = ['name', 'httpEquiv', 'charSet', 'itemProp']\n\n/*\n returns a function for filtering head child elements\n which shouldn't be duplicated, like <title/>\n Also adds support for deduplicated `key` properties\n*/\nfunction unique() {\n  const keys = new Set()\n  const tags = new Set()\n  const metaTypes = new Set()\n  const metaCategories: { [metatype: string]: Set<string> } = {}\n\n  return (h: React.ReactElement<any>) => {\n    let isUnique = true\n    let hasKey = false\n\n    if (h.key && typeof h.key !== 'number' && h.key.indexOf('$') > 0) {\n      hasKey = true\n      const key = h.key.slice(h.key.indexOf('$') + 1)\n      if (keys.has(key)) {\n        isUnique = false\n      } else {\n        keys.add(key)\n      }\n    }\n\n    // eslint-disable-next-line default-case\n    switch (h.type) {\n      case 'title':\n      case 'base':\n        if (tags.has(h.type)) {\n          isUnique = false\n        } else {\n          tags.add(h.type)\n        }\n        break\n      case 'meta':\n        for (let i = 0, len = METATYPES.length; i < len; i++) {\n          const metatype = METATYPES[i]\n          if (!h.props.hasOwnProperty(metatype)) continue\n\n          if (metatype === 'charSet') {\n            if (metaTypes.has(metatype)) {\n              isUnique = false\n            } else {\n              metaTypes.add(metatype)\n            }\n          } else {\n            const category = h.props[metatype]\n            const categories = metaCategories[metatype] || new Set()\n            if ((metatype !== 'name' || !hasKey) && categories.has(category)) {\n              isUnique = false\n            } else {\n              categories.add(category)\n              metaCategories[metatype] = categories\n            }\n          }\n        }\n        break\n    }\n\n    return isUnique\n  }\n}\n\n/**\n *\n * @param headChildrenElements List of children of <Head>\n */\nfunction reduceComponents(\n  headChildrenElements: Array<React.ReactElement<any>>\n) {\n  return headChildrenElements\n    .reduce(onlyReactElement, [])\n    .reverse()\n    .concat(defaultHead().reverse())\n    .filter(unique())\n    .reverse()\n    .map((c: React.ReactElement<any>, i: number) => {\n      const key = c.key || i\n      if (process.env.NODE_ENV === 'development') {\n        // omit JSON-LD structured data snippets from the warning\n        if (c.type === 'script' && c.props['type'] !== 'application/ld+json') {\n          const srcMessage = c.props['src']\n            ? `<script> tag with src=\"${c.props['src']}\"`\n            : `inline <script>`\n          warnOnce(\n            `Do not add <script> tags using next/head (see ${srcMessage}). Use next/script instead. \\nSee more info here: https://nextjs.org/docs/messages/no-script-tags-in-head-component`\n          )\n        } else if (c.type === 'link' && c.props['rel'] === 'stylesheet') {\n          warnOnce(\n            `Do not add stylesheets using next/head (see <link rel=\"stylesheet\"> tag with href=\"${c.props['href']}\"). Use Document instead. \\nSee more info here: https://nextjs.org/docs/messages/no-stylesheets-in-head-component`\n          )\n        }\n      }\n      return React.cloneElement(c, { key })\n    })\n}\n\n/**\n * This component injects elements to `<head>` of your page.\n * To avoid duplicated `tags` in `<head>` you can use the `key` property, which will make sure every tag is only rendered once.\n */\nfunction Head({ children }: { children: React.ReactNode }) {\n  const headManager = useContext(HeadManagerContext)\n  return (\n    <Effect\n      reduceComponentsToState={reduceComponents}\n      headManager={headManager}\n    >\n      {children}\n    </Effect>\n  )\n}\n\nexport default Head\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ImageConfigContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].RouterContext\n","import type { NextConfig } from '../../server/config-shared'\n\n/**\n * Find the closest matching `quality` in the list of `config.qualities`\n * @param quality the quality prop passed to the image component\n * @param config the \"images\" configuration from next.config.js\n * @returns the closest matching quality value\n */\nexport function findClosestQuality(\n  quality: number | undefined,\n  config: NextConfig['images'] | undefined\n): number {\n  const q = quality || 75\n  if (!config?.qualities?.length) {\n    return q\n  }\n  return config.qualities.reduce(\n    (prev, cur) => (Math.abs(cur - q) < Math.abs(prev - q) ? cur : prev),\n    0\n  )\n}\n","import type { ImageLoaderPropsWithConfig } from './image-config'\nimport { findClosestQuality } from './find-closest-quality'\n\nfunction defaultLoader({\n  config,\n  src,\n  width,\n  quality,\n}: ImageLoaderPropsWithConfig): string {\n  if (\n    src.startsWith('/') &&\n    src.includes('?') &&\n    config.localPatterns?.length === 1 &&\n    config.localPatterns[0].pathname === '**' &&\n    config.localPatterns[0].search === ''\n  ) {\n    throw new Error(\n      `Image with src \"${src}\" is using a query string which is not configured in images.localPatterns.` +\n        `\\nRead more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`\n    )\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    const missingValues = []\n\n    // these should always be provided but make sure they are\n    if (!src) missingValues.push('src')\n    if (!width) missingValues.push('width')\n\n    if (missingValues.length > 0) {\n      throw new Error(\n        `Next Image Optimization requires ${missingValues.join(\n          ', '\n        )} to be provided. Make sure you pass them as props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { src, width, quality }\n        )}`\n      )\n    }\n\n    if (src.startsWith('//')) {\n      throw new Error(\n        `Failed to parse src \"${src}\" on \\`next/image\\`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)`\n      )\n    }\n\n    if (src.startsWith('/') && config.localPatterns) {\n      if (\n        process.env.NODE_ENV !== 'test' &&\n        // micromatch isn't compatible with edge runtime\n        process.env.NEXT_RUNTIME !== 'edge'\n      ) {\n        // We use dynamic require because this should only error in development\n        const { hasLocalMatch } =\n          require('./match-local-pattern') as typeof import('./match-local-pattern')\n        if (!hasLocalMatch(config.localPatterns, src)) {\n          throw new Error(\n            `Invalid src prop (${src}) on \\`next/image\\` does not match \\`images.localPatterns\\` configured in your \\`next.config.js\\`\\n` +\n              `See more info: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`\n          )\n        }\n      }\n    }\n\n    if (!src.startsWith('/') && (config.domains || config.remotePatterns)) {\n      let parsedSrc: URL\n      try {\n        parsedSrc = new URL(src)\n      } catch (err) {\n        console.error(err)\n        throw new Error(\n          `Failed to parse src \"${src}\" on \\`next/image\\`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)`\n        )\n      }\n\n      if (\n        process.env.NODE_ENV !== 'test' &&\n        // micromatch isn't compatible with edge runtime\n        process.env.NEXT_RUNTIME !== 'edge'\n      ) {\n        // We use dynamic require because this should only error in development\n        const { hasRemoteMatch } =\n          require('./match-remote-pattern') as typeof import('./match-remote-pattern')\n        if (\n          !hasRemoteMatch(config.domains!, config.remotePatterns!, parsedSrc)\n        ) {\n          throw new Error(\n            `Invalid src prop (${src}) on \\`next/image\\`, hostname \"${parsedSrc.hostname}\" is not configured under images in your \\`next.config.js\\`\\n` +\n              `See more info: https://nextjs.org/docs/messages/next-image-unconfigured-host`\n          )\n        }\n      }\n    }\n  }\n\n  const q = findClosestQuality(quality, config)\n\n  return `${config.path}?url=${encodeURIComponent(src)}&w=${width}&q=${q}${\n    src.startsWith('/_next/static/media/') && process.env.NEXT_DEPLOYMENT_ID\n      ? `&dpl=${process.env.NEXT_DEPLOYMENT_ID}`\n      : ''\n  }`\n}\n\n// We use this to determine if the import is the default loader\n// or a custom loader defined by the user in next.config.js\ndefaultLoader.__next_img_default = true\n\nexport default defaultLoader\n","'use client'\n\nimport React, {\n  useRef,\n  useEffect,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n  forwardRef,\n  use,\n} from 'react'\nimport ReactDOM from 'react-dom'\nimport Head from '../shared/lib/head'\nimport { getImgProps } from '../shared/lib/get-img-props'\nimport type {\n  ImageProps,\n  ImgProps,\n  OnLoad,\n  OnLoadingComplete,\n  PlaceholderValue,\n} from '../shared/lib/get-img-props'\nimport type {\n  ImageConfigComplete,\n  ImageLoaderProps,\n} from '../shared/lib/image-config'\nimport { imageConfigDefault } from '../shared/lib/image-config'\nimport { ImageConfigContext } from '../shared/lib/image-config-context.shared-runtime'\nimport { warnOnce } from '../shared/lib/utils/warn-once'\nimport { RouterContext } from '../shared/lib/router-context.shared-runtime'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\nimport { useMergedRef } from './use-merged-ref'\n\n// This is replaced by webpack define plugin\nconst configEnv = process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete\n\nif (typeof window === 'undefined') {\n  ;(globalThis as any).__NEXT_IMAGE_IMPORTED = true\n}\n\nexport type { ImageLoaderProps }\nexport type ImageLoader = (p: ImageLoaderProps) => string\n\ntype ImgElementWithDataProp = HTMLImageElement & {\n  'data-loaded-src': string | undefined\n}\n\ntype ImageElementProps = ImgProps & {\n  unoptimized: boolean\n  placeholder: PlaceholderValue\n  onLoadRef: React.MutableRefObject<OnLoad | undefined>\n  onLoadingCompleteRef: React.MutableRefObject<OnLoadingComplete | undefined>\n  setBlurComplete: (b: boolean) => void\n  setShowAltText: (b: boolean) => void\n  sizesInput: string | undefined\n}\n\n// See https://stackoverflow.com/q/39777833/266535 for why we use this ref\n// handler instead of the img's onLoad attribute.\nfunction handleLoading(\n  img: ImgElementWithDataProp,\n  placeholder: PlaceholderValue,\n  onLoadRef: React.MutableRefObject<OnLoad | undefined>,\n  onLoadingCompleteRef: React.MutableRefObject<OnLoadingComplete | undefined>,\n  setBlurComplete: (b: boolean) => void,\n  unoptimized: boolean,\n  sizesInput: string | undefined\n) {\n  const src = img?.src\n  if (!img || img['data-loaded-src'] === src) {\n    return\n  }\n  img['data-loaded-src'] = src\n  const p = 'decode' in img ? img.decode() : Promise.resolve()\n  p.catch(() => {}).then(() => {\n    if (!img.parentElement || !img.isConnected) {\n      // Exit early in case of race condition:\n      // - onload() is called\n      // - decode() is called but incomplete\n      // - unmount is called\n      // - decode() completes\n      return\n    }\n    if (placeholder !== 'empty') {\n      setBlurComplete(true)\n    }\n    if (onLoadRef?.current) {\n      // Since we don't have the SyntheticEvent here,\n      // we must create one with the same shape.\n      // See https://reactjs.org/docs/events.html\n      const event = new Event('load')\n      Object.defineProperty(event, 'target', { writable: false, value: img })\n      let prevented = false\n      let stopped = false\n      onLoadRef.current({\n        ...event,\n        nativeEvent: event,\n        currentTarget: img,\n        target: img,\n        isDefaultPrevented: () => prevented,\n        isPropagationStopped: () => stopped,\n        persist: () => {},\n        preventDefault: () => {\n          prevented = true\n          event.preventDefault()\n        },\n        stopPropagation: () => {\n          stopped = true\n          event.stopPropagation()\n        },\n      })\n    }\n    if (onLoadingCompleteRef?.current) {\n      onLoadingCompleteRef.current(img)\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      const origSrc = new URL(src, 'http://n').searchParams.get('url') || src\n      if (img.getAttribute('data-nimg') === 'fill') {\n        if (!unoptimized && (!sizesInput || sizesInput === '100vw')) {\n          let widthViewportRatio =\n            img.getBoundingClientRect().width / window.innerWidth\n          if (widthViewportRatio < 0.6) {\n            if (sizesInput === '100vw') {\n              warnOnce(\n                `Image with src \"${origSrc}\" has \"fill\" prop and \"sizes\" prop of \"100vw\", but image is not rendered at full viewport width. Please adjust \"sizes\" to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes`\n              )\n            } else {\n              warnOnce(\n                `Image with src \"${origSrc}\" has \"fill\" but is missing \"sizes\" prop. Please add it to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes`\n              )\n            }\n          }\n        }\n        if (img.parentElement) {\n          const { position } = window.getComputedStyle(img.parentElement)\n          const valid = ['absolute', 'fixed', 'relative']\n          if (!valid.includes(position)) {\n            warnOnce(\n              `Image with src \"${origSrc}\" has \"fill\" and parent element with invalid \"position\". Provided \"${position}\" should be one of ${valid\n                .map(String)\n                .join(',')}.`\n            )\n          }\n        }\n        if (img.height === 0) {\n          warnOnce(\n            `Image with src \"${origSrc}\" has \"fill\" and a height value of 0. This is likely because the parent element of the image has not been styled to have a set height.`\n          )\n        }\n      }\n\n      const heightModified =\n        img.height.toString() !== img.getAttribute('height')\n      const widthModified = img.width.toString() !== img.getAttribute('width')\n      if (\n        (heightModified && !widthModified) ||\n        (!heightModified && widthModified)\n      ) {\n        warnOnce(\n          `Image with src \"${origSrc}\" has either width or height modified, but not the other. If you use CSS to change the size of your image, also include the styles 'width: \"auto\"' or 'height: \"auto\"' to maintain the aspect ratio.`\n        )\n      }\n    }\n  })\n}\n\nfunction getDynamicProps(\n  fetchPriority?: string\n): Record<string, string | undefined> {\n  if (Boolean(use)) {\n    // In React 19.0.0 or newer, we must use camelCase\n    // prop to avoid \"Warning: Invalid DOM property\".\n    // See https://github.com/facebook/react/pull/25927\n    return { fetchPriority }\n  }\n  // In React 18.2.0 or older, we must use lowercase prop\n  // to avoid \"Warning: Invalid DOM property\".\n  return { fetchpriority: fetchPriority }\n}\n\nconst ImageElement = forwardRef<HTMLImageElement | null, ImageElementProps>(\n  (\n    {\n      src,\n      srcSet,\n      sizes,\n      height,\n      width,\n      decoding,\n      className,\n      style,\n      fetchPriority,\n      placeholder,\n      loading,\n      unoptimized,\n      fill,\n      onLoadRef,\n      onLoadingCompleteRef,\n      setBlurComplete,\n      setShowAltText,\n      sizesInput,\n      onLoad,\n      onError,\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    const ownRef = useCallback(\n      (img: ImgElementWithDataProp | null) => {\n        if (!img) {\n          return\n        }\n        if (onError) {\n          // If the image has an error before react hydrates, then the error is lost.\n          // The workaround is to wait until the image is mounted which is after hydration,\n          // then we set the src again to trigger the error handler (if there was an error).\n          // eslint-disable-next-line no-self-assign\n          img.src = img.src\n        }\n        if (process.env.NODE_ENV !== 'production') {\n          if (!src) {\n            console.error(`Image is missing required \"src\" property:`, img)\n          }\n          if (img.getAttribute('alt') === null) {\n            console.error(\n              `Image is missing required \"alt\" property. Please add Alternative Text to describe the image for screen readers and search engines.`\n            )\n          }\n        }\n        if (img.complete) {\n          handleLoading(\n            img,\n            placeholder,\n            onLoadRef,\n            onLoadingCompleteRef,\n            setBlurComplete,\n            unoptimized,\n            sizesInput\n          )\n        }\n      },\n      [\n        src,\n        placeholder,\n        onLoadRef,\n        onLoadingCompleteRef,\n        setBlurComplete,\n        onError,\n        unoptimized,\n        sizesInput,\n      ]\n    )\n\n    const ref = useMergedRef(forwardedRef, ownRef)\n\n    return (\n      <img\n        {...rest}\n        {...getDynamicProps(fetchPriority)}\n        // It's intended to keep `loading` before `src` because React updates\n        // props in order which causes Safari/Firefox to not lazy load properly.\n        // See https://github.com/facebook/react/issues/25883\n        loading={loading}\n        width={width}\n        height={height}\n        decoding={decoding}\n        data-nimg={fill ? 'fill' : '1'}\n        className={className}\n        style={style}\n        // It's intended to keep `src` the last attribute because React updates\n        // attributes in order. If we keep `src` the first one, Safari will\n        // immediately start to fetch `src`, before `sizes` and `srcSet` are even\n        // updated by React. That causes multiple unnecessary requests if `srcSet`\n        // and `sizes` are defined.\n        // This bug cannot be reproduced in Chrome or Firefox.\n        sizes={sizes}\n        srcSet={srcSet}\n        src={src}\n        ref={ref}\n        onLoad={(event) => {\n          const img = event.currentTarget as ImgElementWithDataProp\n          handleLoading(\n            img,\n            placeholder,\n            onLoadRef,\n            onLoadingCompleteRef,\n            setBlurComplete,\n            unoptimized,\n            sizesInput\n          )\n        }}\n        onError={(event) => {\n          // if the real image fails to load, this will ensure \"alt\" is visible\n          setShowAltText(true)\n          if (placeholder !== 'empty') {\n            // If the real image fails to load, this will still remove the placeholder.\n            setBlurComplete(true)\n          }\n          if (onError) {\n            onError(event)\n          }\n        }}\n      />\n    )\n  }\n)\n\nfunction ImagePreload({\n  isAppRouter,\n  imgAttributes,\n}: {\n  isAppRouter: boolean\n  imgAttributes: ImgProps\n}) {\n  const opts: ReactDOM.PreloadOptions = {\n    as: 'image',\n    imageSrcSet: imgAttributes.srcSet,\n    imageSizes: imgAttributes.sizes,\n    crossOrigin: imgAttributes.crossOrigin,\n    referrerPolicy: imgAttributes.referrerPolicy,\n    ...getDynamicProps(imgAttributes.fetchPriority),\n  }\n\n  if (isAppRouter && ReactDOM.preload) {\n    ReactDOM.preload(imgAttributes.src, opts)\n    return null\n  }\n\n  return (\n    <Head>\n      <link\n        key={\n          '__nimg-' +\n          imgAttributes.src +\n          imgAttributes.srcSet +\n          imgAttributes.sizes\n        }\n        rel=\"preload\"\n        // Note how we omit the `href` attribute, as it would only be relevant\n        // for browsers that do not support `imagesrcset`, and in those cases\n        // it would cause the incorrect image to be preloaded.\n        //\n        // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\n        href={imgAttributes.srcSet ? undefined : imgAttributes.src}\n        {...opts}\n      />\n    </Head>\n  )\n}\n\n/**\n * The `Image` component is used to optimize images.\n *\n * Read more: [Next.js docs: `Image`](https://nextjs.org/docs/app/api-reference/components/image)\n */\nexport const Image = forwardRef<HTMLImageElement | null, ImageProps>(\n  (props, forwardedRef) => {\n    const pagesRouter = useContext(RouterContext)\n    // We're in the app directory if there is no pages router.\n    const isAppRouter = !pagesRouter\n\n    const configContext = useContext(ImageConfigContext)\n    const config = useMemo(() => {\n      const c = configEnv || configContext || imageConfigDefault\n\n      const allSizes = [...c.deviceSizes, ...c.imageSizes].sort((a, b) => a - b)\n      const deviceSizes = c.deviceSizes.sort((a, b) => a - b)\n      const qualities = c.qualities?.sort((a, b) => a - b)\n      return {\n        ...c,\n        allSizes,\n        deviceSizes,\n        qualities,\n        // During the SSR, configEnv (__NEXT_IMAGE_OPTS) does not include\n        // security sensitive configs like `localPatterns`, which is needed\n        // during the server render to ensure it's validated. Therefore use\n        // configContext, which holds the config from the server for validation.\n        localPatterns:\n          typeof window === 'undefined'\n            ? configContext?.localPatterns\n            : c.localPatterns,\n      }\n    }, [configContext])\n\n    const { onLoad, onLoadingComplete } = props\n    const onLoadRef = useRef(onLoad)\n\n    useEffect(() => {\n      onLoadRef.current = onLoad\n    }, [onLoad])\n\n    const onLoadingCompleteRef = useRef(onLoadingComplete)\n\n    useEffect(() => {\n      onLoadingCompleteRef.current = onLoadingComplete\n    }, [onLoadingComplete])\n\n    const [blurComplete, setBlurComplete] = useState(false)\n    const [showAltText, setShowAltText] = useState(false)\n    const { props: imgAttributes, meta: imgMeta } = getImgProps(props, {\n      defaultLoader,\n      imgConf: config,\n      blurComplete,\n      showAltText,\n    })\n\n    return (\n      <>\n        {\n          <ImageElement\n            {...imgAttributes}\n            unoptimized={imgMeta.unoptimized}\n            placeholder={imgMeta.placeholder}\n            fill={imgMeta.fill}\n            onLoadRef={onLoadRef}\n            onLoadingCompleteRef={onLoadingCompleteRef}\n            setBlurComplete={setBlurComplete}\n            setShowAltText={setShowAltText}\n            sizesInput={props.sizes}\n            ref={forwardedRef}\n          />\n        }\n        {imgMeta.preload ? (\n          <ImagePreload\n            isAppRouter={isAppRouter}\n            imgAttributes={imgAttributes}\n          />\n        ) : null}\n      </>\n    )\n  }\n)\n","import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n","module.exports = require('./dist/shared/lib/image-external')\n","'use client';\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\nimport Image from 'next/image';\r\nimport { motion, useAnimation } from 'framer-motion';\r\n\r\ninterface FlowerSpinnerProps {\r\n  className?: string;\r\n  size?: number;\r\n  isLoading?: boolean;\r\n}\r\n\r\n/**\r\n * Inline Flower Spinner - Small component for inline loading states with smooth deceleration\r\n */\r\nconst FlowerSpinner: React.FC<FlowerSpinnerProps> = ({\r\n  className = '',\r\n  size = 20,\r\n  isLoading = true\r\n}) => {\r\n  const controls = useAnimation();\r\n  const currentRotation = useRef(0);\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      // Start continuous rotation\r\n      controls.start({\r\n        rotate: [currentRotation.current, currentRotation.current + 360],\r\n        transition: {\r\n          duration: 2,\r\n          ease: \"linear\",\r\n          repeat: Infinity,\r\n          repeatType: \"loop\"\r\n        }\r\n      });\r\n    } else {\r\n      // Get current rotation and decelerate to next full rotation\r\n      controls.stop();\r\n      const current = currentRotation.current % 360;\r\n      const targetRotation = currentRotation.current + (360 - current);\r\n      \r\n      controls.start({\r\n        rotate: targetRotation,\r\n        transition: {\r\n          duration: 1.5,\r\n          ease: \"easeOut\"\r\n        }\r\n      }).then(() => {\r\n        currentRotation.current = targetRotation;\r\n      });\r\n    }\r\n  }, [isLoading, controls]);\r\n\r\n  return (\r\n    <motion.div \r\n      className={`relative ${className}`}\r\n      style={{ width: size, height: size }}\r\n      animate={controls}\r\n      onUpdate={(latest) => {\r\n        if (typeof latest.rotate === 'number') {\r\n          currentRotation.current = latest.rotate;\r\n        }\r\n      }}\r\n    >\r\n      <Image\r\n        src=\"/flower.png\"\r\n        alt=\"Loading\"\r\n        fill\r\n        className=\"object-contain\"\r\n        priority\r\n      />\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default FlowerSpinner;","\"use client\";\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { animationControls } from './animation-controls.mjs';\n\n/**\n * Creates `LegacyAnimationControls`, which can be used to manually start, stop\n * and sequence animations on one or more components.\n *\n * The returned `LegacyAnimationControls` should be passed to the `animate` property\n * of the components you want to animate.\n *\n * These components can then be animated with the `start` method.\n *\n * ```jsx\n * import * as React from 'react'\n * import { motion, useAnimation } from 'framer-motion'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <motion.div animate={controls} />\n * }\n * ```\n *\n * @returns Animation controller with `start` and `stop` methods\n *\n * @public\n */\nfunction useAnimationControls() {\n    const controls = useConstant(animationControls);\n    useIsomorphicLayoutEffect(controls.mount, []);\n    return controls;\n}\nconst useAnimation = useAnimationControls;\n\nexport { useAnimation, useAnimationControls };\n","import { invariant } from 'motion-utils';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { animateVisualElement } from '../interfaces/visual-element.mjs';\n\nfunction stopAnimation(visualElement) {\n    visualElement.values.forEach((value) => value.stop());\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    let hasMounted = false;\n    /**\n     * A collection of linked component animation controls.\n     */\n    const subscribers = new Set();\n    const controls = {\n        subscribe(visualElement) {\n            subscribers.add(visualElement);\n            return () => void subscribers.delete(visualElement);\n        },\n        start(definition, transitionOverride) {\n            invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            const animations = [];\n            subscribers.forEach((visualElement) => {\n                animations.push(animateVisualElement(visualElement, definition, {\n                    transitionOverride,\n                }));\n            });\n            return Promise.all(animations);\n        },\n        set(definition) {\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach((visualElement) => {\n                setValues(visualElement, definition);\n            });\n        },\n        stop() {\n            subscribers.forEach((visualElement) => {\n                stopAnimation(visualElement);\n            });\n        },\n        mount() {\n            hasMounted = true;\n            return () => {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\nexport { animationControls, setValues };\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8', key: '5wwlr5' }],\n  [\n    'path',\n    {\n      d: 'M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z',\n      key: 'r6nss1',\n    },\n  ],\n];\n\n/**\n * @component @name House\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMjF2LThhMSAxIDAgMCAwLTEtMWgtNGExIDEgMCAwIDAtMSAxdjgiIC8+CiAgPHBhdGggZD0iTTMgMTBhMiAyIDAgMCAxIC43MDktMS41MjhsNy02YTIgMiAwIDAgMSAyLjU4MiAwbDcgNkEyIDIgMCAwIDEgMjEgMTB2OWEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/house\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst House = createLucideIcon('house', __iconNode);\n\nexport default House;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915',\n      key: '1i5ecw',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS42NzEgNC4xMzZhMi4zNCAyLjM0IDAgMCAxIDQuNjU5IDAgMi4zNCAyLjM0IDAgMCAwIDMuMzE5IDEuOTE1IDIuMzQgMi4zNCAwIDAgMSAyLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMCAwIDMuODMxIDIuMzQgMi4zNCAwIDAgMS0yLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMC0zLjMxOSAxLjkxNSAyLjM0IDIuMzQgMCAwIDEtNC42NTkgMCAyLjM0IDIuMzQgMCAwIDAtMy4zMi0xLjkxNSAyLjM0IDIuMzQgMCAwIDEtMi4zMy00LjAzMyAyLjM0IDIuMzQgMCAwIDAgMC0zLjgzMUEyLjM0IDIuMzQgMCAwIDEgNi4zNSA2LjA1MWEyLjM0IDIuMzQgMCAwIDAgMy4zMTktMS45MTUiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('settings', __iconNode);\n\nexport default Settings;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }]];\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('chevron-right', __iconNode);\n\nexport default ChevronRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20', key: 'she1j9' }],\n  ['path', { d: 'M16 18h-5', key: 'bq60fd' }],\n  ['path', { d: 'M18 5a1 1 0 0 0-1 1v5.573', key: '1kv8ia' }],\n  ['path', { d: 'M3 4h8.129a1 1 0 0 1 .99.863L13 11.246', key: '1q1ert' }],\n  ['path', { d: 'M4 11V4', key: '9ft8pt' }],\n  ['path', { d: 'M7 15h.01', key: 'k5ht0j' }],\n  ['path', { d: 'M8 10.1V4', key: '1jgyzo' }],\n  ['circle', { cx: '18', cy: '18', r: '2', key: '1emm8v' }],\n  ['circle', { cx: '7', cy: '15', r: '5', key: 'ddtuc' }],\n];\n\n/**\n * @component @name Tractor\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTAgMTEgMTEgLjlhMSAxIDAgMCAxIC44IDEuMWwtLjY2NSA0LjE1OGExIDEgMCAwIDEtLjk4OC44NDJIMjAiIC8+CiAgPHBhdGggZD0iTTE2IDE4aC01IiAvPgogIDxwYXRoIGQ9Ik0xOCA1YTEgMSAwIDAgMC0xIDF2NS41NzMiIC8+CiAgPHBhdGggZD0iTTMgNGg4LjEyOWExIDEgMCAwIDEgLjk5Ljg2M0wxMyAxMS4yNDYiIC8+CiAgPHBhdGggZD0iTTQgMTFWNCIgLz4KICA8cGF0aCBkPSJNNyAxNWguMDEiIC8+CiAgPHBhdGggZD0iTTggMTAuMVY0IiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTgiIHI9IjIiIC8+CiAgPGNpcmNsZSBjeD0iNyIgY3k9IjE1IiByPSI1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/tractor\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Tractor = createLucideIcon('tractor', __iconNode);\n\nexport default Tractor;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 3v16a2 2 0 0 0 2 2h16', key: 'c24i48' }],\n  ['path', { d: 'M18 17V9', key: '2bz60n' }],\n  ['path', { d: 'M13 17V5', key: '1frdt8' }],\n  ['path', { d: 'M8 17v-3', key: '17ska0' }],\n];\n\n/**\n * @component @name ChartColumn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE2YTIgMiAwIDAgMCAyIDJoMTYiIC8+CiAgPHBhdGggZD0iTTE4IDE3VjkiIC8+CiAgPHBhdGggZD0iTTEzIDE3VjUiIC8+CiAgPHBhdGggZD0iTTggMTd2LTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chart-column\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChartColumn = createLucideIcon('chart-column', __iconNode);\n\nexport default ChartColumn;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M10 9H8', key: 'b1mrlr' }],\n  ['path', { d: 'M16 13H8', key: 't4e002' }],\n  ['path', { d: 'M16 17H8', key: 'z1uh3a' }],\n];\n\n/**\n * @component @name FileText\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik0xMCA5SDgiIC8+CiAgPHBhdGggZD0iTTE2IDEzSDgiIC8+CiAgPHBhdGggZD0iTTE2IDE3SDgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileText = createLucideIcon('file-text', __iconNode);\n\nexport default FileText;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M11 10.27 7 3.34', key: '16pf9h' }],\n  ['path', { d: 'm11 13.73-4 6.93', key: '794ttg' }],\n  ['path', { d: 'M12 22v-2', key: '1osdcq' }],\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'M14 12h8', key: '4f43i9' }],\n  ['path', { d: 'm17 20.66-1-1.73', key: 'eq3orb' }],\n  ['path', { d: 'm17 3.34-1 1.73', key: '2wel8s' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'm20.66 17-1.73-1', key: 'sg0v6f' }],\n  ['path', { d: 'm20.66 7-1.73 1', key: '1ow05n' }],\n  ['path', { d: 'm3.34 17 1.73-1', key: 'nuk764' }],\n  ['path', { d: 'm3.34 7 1.73 1', key: '1ulond' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n  ['circle', { cx: '12', cy: '12', r: '8', key: '46899m' }],\n];\n\n/**\n * @component @name Cog\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgMTAuMjcgNyAzLjM0IiAvPgogIDxwYXRoIGQ9Im0xMSAxMy43My00IDYuOTMiIC8+CiAgPHBhdGggZD0iTTEyIDIydi0yIiAvPgogIDxwYXRoIGQ9Ik0xMiAydjIiIC8+CiAgPHBhdGggZD0iTTE0IDEyaDgiIC8+CiAgPHBhdGggZD0ibTE3IDIwLjY2LTEtMS43MyIgLz4KICA8cGF0aCBkPSJtMTcgMy4zNC0xIDEuNzMiIC8+CiAgPHBhdGggZD0iTTIgMTJoMiIgLz4KICA8cGF0aCBkPSJtMjAuNjYgMTctMS43My0xIiAvPgogIDxwYXRoIGQ9Im0yMC42NiA3LTEuNzMgMSIgLz4KICA8cGF0aCBkPSJtMy4zNCAxNyAxLjczLTEiIC8+CiAgPHBhdGggZD0ibTMuMzQgNyAxLjczIDEiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/cog\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Cog = createLucideIcon('cog', __iconNode);\n\nexport default Cog;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    { d: 'M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z', key: 'q3az6g' },\n  ],\n  ['path', { d: 'M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8', key: '1h4pet' }],\n  ['path', { d: 'M12 17.5v-11', key: '1jc1ny' }],\n];\n\n/**\n * @component @name Receipt\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAydjIwbDItMSAyIDEgMi0xIDIgMSAyLTEgMiAxIDItMSAyIDFWMmwtMiAxLTItMS0yIDEtMi0xLTIgMS0yLTEtMiAxWiIgLz4KICA8cGF0aCBkPSJNMTYgOGgtNmEyIDIgMCAxIDAgMCA0aDRhMiAyIDAgMSAxIDAgNEg4IiAvPgogIDxwYXRoIGQ9Ik0xMiAxNy41di0xMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/receipt\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Receipt = createLucideIcon('receipt', __iconNode);\n\nexport default Receipt;\n","// User role types for client-side components\r\nexport enum UserRole {\r\n  SUPER_ADMIN = 'super_admin',\r\n  ADMIN = 'admin', \r\n  DAIRY = 'dairy',\r\n  BMC = 'bmc',\r\n  SOCIETY = 'society',\r\n  FARMER = 'farmer'\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10.268 21a2 2 0 0 0 3.464 0', key: 'vwvbt9' }],\n  [\n    'path',\n    {\n      d: 'M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326',\n      key: '11g9vi',\n    },\n  ],\n];\n\n/**\n * @component @name Bell\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuMjY4IDIxYTIgMiAwIDAgMCAzLjQ2NCAwIiAvPgogIDxwYXRoIGQ9Ik0zLjI2MiAxNS4zMjZBMSAxIDAgMCAwIDQgMTdoMTZhMSAxIDAgMCAwIC43NC0xLjY3M0MxOS40MSAxMy45NTYgMTggMTIuNDk5IDE4IDhBNiA2IDAgMCAwIDYgOGMwIDQuNDk5LTEuNDExIDUuOTU2LTIuNzM4IDcuMzI2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/bell\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bell = createLucideIcon('bell', __iconNode);\n\nexport default Bell;\n","'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport Image from 'next/image';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport FlowerSpinner from '@/components/loading/FlowerSpinner';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useLanguage } from '@/contexts/LanguageContext';\r\nimport { \r\n  Home, \r\n  Users, \r\n  Settings, \r\n  LogOut, \r\n  ChevronLeft, \r\n  ChevronRight,\r\n  Milk,\r\n  Building2,\r\n  Tractor,\r\n  BarChart3,\r\n  FileText,\r\n  Bell,\r\n  Cog,\r\n  Receipt\r\n} from 'lucide-react';\r\nimport { UserRole } from '@/types/user';\r\n\r\ninterface SidebarProps {\r\n  userRole: UserRole;\r\n  isCollapsed: boolean;\r\n  onToggle: () => void;\r\n  onLogout: () => void;\r\n}\r\n\r\ninterface NavItem {\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  labelKey: keyof typeof import('@/locales/en').en.nav;\r\n  href: string;\r\n  roles: UserRole[];\r\n  badge?: string;\r\n}\r\n\r\nconst navigationItems: NavItem[] = [\r\n  {\r\n    icon: Home,\r\n    labelKey: 'dashboard',\r\n    href: '/dashboard',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY, UserRole.FARMER]\r\n  },\r\n  {\r\n    icon: FileText,\r\n    labelKey: 'reports',\r\n    href: '/admin/reports',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY]\r\n  },\r\n  {\r\n    icon: BarChart3,\r\n    labelKey: 'analytics',\r\n    href: '/admin/analytics',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC]\r\n  },\r\n  {\r\n    icon: Milk,\r\n    labelKey: 'dairyManagement',\r\n    href: '/admin/dairy',\r\n    roles: [UserRole.ADMIN]\r\n  },\r\n  {\r\n    icon: Building2,\r\n    labelKey: 'bmcManagement',\r\n    href: '/admin/bmc',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC]\r\n  },\r\n  {\r\n    icon: Users,\r\n    labelKey: 'societyManagement',\r\n    href: '/admin/society',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY]\r\n  },\r\n  {\r\n    icon: Cog,\r\n    labelKey: 'machineManagement',\r\n    href: '/admin/machine',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN]\r\n  },\r\n  {\r\n    icon: Receipt,\r\n    labelKey: 'ratechartManagement',\r\n    href: '/admin/ratechart',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN]\r\n  },\r\n  {\r\n    icon: Tractor,\r\n    labelKey: 'farmerManagement',\r\n    href: '/admin/farmer',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN]\r\n  },\r\n  {\r\n    icon: Bell,\r\n    labelKey: 'notifications',\r\n    href: '/notifications',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY, UserRole.FARMER]\r\n  },\r\n  {\r\n    icon: Settings,\r\n    labelKey: 'settings',\r\n    href: '/settings',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY, UserRole.FARMER]\r\n  }\r\n];\r\n\r\nconst roleColors: Record<UserRole, string> = {\r\n  [UserRole.SUPER_ADMIN]: 'from-green-600 to-emerald-600',    // Primary green gradient\r\n  [UserRole.ADMIN]: 'from-green-500 to-emerald-500',         // Slightly lighter green\r\n  [UserRole.DAIRY]: 'from-teal-600 to-cyan-600',            // Teal for dairy operations\r\n  [UserRole.BMC]: 'from-emerald-600 to-green-600',          // Emerald for BMC\r\n  [UserRole.SOCIETY]: 'from-green-700 to-teal-700',         // Deeper green for society\r\n  [UserRole.FARMER]: 'from-emerald-500 to-green-500'        // Natural green for farmers\r\n};\r\n\r\nexport default function Sidebar({ userRole, isCollapsed, onToggle, onLogout }: SidebarProps) {\r\n  const pathname = usePathname();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [prevPathname, setPrevPathname] = useState(pathname);\r\n  const { t } = useLanguage();\r\n\r\n  // Mouse handlers - only for visual hover state\r\n  const handleMouseEnter = () => {\r\n    // No auto-expansion on hover - sidebar now expands only on button click\r\n  };\r\n\r\n  // Handle mouse leave - no action needed\r\n  const handleMouseLeave = () => {\r\n  };\r\n\r\n  // Simplified toggle - just toggle the state\r\n  const handleToggleClick = () => {\r\n    onToggle();\r\n  };\r\n\r\n  // Detect route changes for loading state - moved to useEffect to prevent infinite loop\r\n  useEffect(() => {\r\n    if (pathname !== prevPathname) {\r\n      setPrevPathname(pathname);\r\n      setIsLoading(true);\r\n      const timer = setTimeout(() => setIsLoading(false), 500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [pathname, prevPathname]);\r\n\r\n  // Get the correct dashboard href based on user role\r\n  const getDashboardHref = (role: UserRole): string => {\r\n    if (role === UserRole.SUPER_ADMIN) {\r\n      return '/superadmin/dashboard';\r\n    }\r\n    if (role === UserRole.ADMIN) {\r\n      return '/admin/dashboard';\r\n    }\r\n    // For other roles, default to admin dashboard\r\n    return '/admin/dashboard';\r\n  };\r\n\r\n  // Update navigation items with dynamic dashboard href\r\n  const updatedNavItems = navigationItems.map(item => {\r\n    if (item.labelKey === 'dashboard') {\r\n      return { ...item, href: getDashboardHref(userRole) };\r\n    }\r\n    return item;\r\n  });\r\n\r\n  const filteredNavItems = updatedNavItems.filter(item => \r\n    item.roles.includes(userRole)\r\n  );\r\n\r\n  // Mobile nav items: top 4 + settings\r\n  const mobileNavItems = filteredNavItems.slice(0, 4);\r\n  const settingsItem = filteredNavItems.find(item => item.labelKey === 'settings');\r\n  if (settingsItem && mobileNavItems.length < 5) {\r\n    mobileNavItems.push(settingsItem);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Mobile Bottom Navigation - Hidden for admin and super admin */}\r\n      {userRole !== UserRole.ADMIN && userRole !== UserRole.SUPER_ADMIN && (\r\n        <nav className=\"\r\n          fixed bottom-0 left-0 right-0 z-50\r\n          bg-white dark:bg-gray-900\r\n          border-t border-gray-200 dark:border-gray-700\r\n          safe-area-pb\r\n          lg:hidden\r\n        \">\r\n        <div className=\"flex justify-around items-center px-2 py-2\">\r\n        {mobileNavItems.map((item) => {\r\n          const Icon = item.icon;\r\n          const isActive = pathname === item.href || pathname.startsWith(item.href + '/');            return (\r\n              <Link\r\n                key={item.href}\r\n                href={item.href}\r\n                className=\"flex-1\"\r\n              >\r\n                <div className={`\r\n                  flex flex-col items-center justify-center\r\n                  py-2 px-1\r\n                  rounded-lg\r\n                  transition-all duration-200\r\n                  min-h-[60px]\r\n                  ${isActive \r\n                    ? `bg-gradient-to-br ${roleColors[userRole]} text-white shadow-lg` \r\n                    : 'text-gray-600 dark:text-gray-400'\r\n                  }\r\n                `}>\r\n                  <Icon className={`w-5 h-5 mb-1 ${isActive ? 'text-white' : ''}`} />\r\n                  <span className={`\r\n                    text-[10px] font-medium text-center leading-tight truncate max-w-[60px]\r\n                    ${isActive ? 'text-white' : ''}\r\n                  `}>\r\n                    {t.nav[item.labelKey]}\r\n                  </span>\r\n                  {item.badge && (\r\n                    <span className=\"absolute top-1 right-1 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded-full\">\r\n                      {item.badge}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      </nav>\r\n      )}\r\n\r\n      {/* Desktop Sidebar - Always rendered, CSS controls visibility */}\r\n      <motion.aside\r\n        initial={{ width: isCollapsed ? 80 : 280 }}\r\n        animate={{ width: isCollapsed ? 80 : 280 }}\r\n        transition={{ duration: 0.3, ease: 'easeInOut' }}\r\n        onMouseEnter={handleMouseEnter}\r\n        onMouseLeave={handleMouseLeave}\r\n        className=\"hidden lg:flex h-screen bg-white dark:bg-gray-900 shadow-xl border-r border-gray-200 dark:border-gray-700 flex-col relative z-20\"\r\n      >\r\n        {/* Header */}\r\n      <div className=\"p-2 border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"flex flex-col items-center\">\r\n          {/* Flower Spinner */}\r\n          <div className=\"flex items-center justify-center mb-[-8px]\">\r\n            <FlowerSpinner size={isCollapsed ? 32 : 40} className=\"text-green-600 dark:text-green-400\" isLoading={isLoading} />\r\n          </div>\r\n          \r\n          {/* Logo and Toggle Button */}\r\n          <div className=\"flex items-center justify-center w-full\">\r\n          <AnimatePresence mode=\"wait\">\r\n            {!isCollapsed && (\r\n              <motion.div\r\n                initial={{ opacity: 0, x: -20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                exit={{ opacity: 0, x: -20 }}\r\n                transition={{ duration: 0.2 }}\r\n                className=\"flex items-center space-x-3 flex-1\"\r\n              >\r\n                <div className=\"w-full h-10 flex items-center justify-center ml-8\">\r\n                  <Image \r\n                    src=\"/flogo.png\" \r\n                    alt=\"Poornasree Equipments Logo\" \r\n                    width={157} \r\n                    height={45} \r\n                    className=\"object-contain\"\r\n                  />\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n          \r\n          {/* Toggle button - click to expand/collapse */}\r\n          <button\r\n            onClick={handleToggleClick}\r\n            className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\r\n            title={isCollapsed ? 'Click to expand' : 'Click to collapse'}\r\n          >\r\n            {isCollapsed ? (\r\n              <ChevronRight className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n            ) : (\r\n              <ChevronLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex-1 p-4 space-y-2\">\r\n        {filteredNavItems.map((item) => {\r\n          const Icon = item.icon;\r\n          const isActive = pathname === item.href || pathname.startsWith(item.href + '/');\r\n          \r\n          return (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              className=\"block\"\r\n              title={isCollapsed ? t.nav[item.labelKey] : undefined}\r\n            >\r\n              <motion.div\r\n                whileHover={{ x: 4 }}\r\n                className={`\r\n                  flex items-center space-x-3 p-3 rounded-xl transition-all duration-200\r\n                  ${isActive \r\n                    ? `bg-gradient-to-r ${roleColors[userRole]} text-white shadow-lg` \r\n                    : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100'\r\n                  }\r\n                `}\r\n              >\r\n                <Icon className={`w-5 h-5 flex-shrink-0 ${isActive ? 'text-white' : 'text-gray-500 dark:text-gray-400'}`} />\r\n                \r\n                <AnimatePresence mode=\"wait\">\r\n                  {!isCollapsed && (\r\n                    <motion.span\r\n                      initial={{ opacity: 0, width: 0 }}\r\n                      animate={{ opacity: 1, width: 'auto' }}\r\n                      exit={{ opacity: 0, width: 0 }}\r\n                      transition={{ duration: 0.2 }}\r\n                      className=\"body-medium font-medium\"\r\n                    >\r\n                      {t.nav[item.labelKey]}\r\n                    </motion.span>\r\n                  )}\r\n                </AnimatePresence>\r\n                \r\n                {item.badge && !isCollapsed && (\r\n                  <span className=\"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full\">\r\n                    {item.badge}\r\n                  </span>\r\n                )}\r\n              </motion.div>\r\n            </Link>\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      {/* Footer - (Logout removed from sidebar per request) */}\r\n    </motion.aside>\r\n    </>\r\n  );\r\n}","'use client';\r\n\r\nimport { useTheme } from '@/contexts/ThemeContext';\r\nimport { Moon, Sun } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport default function ThemeToggle() {\r\n  const { theme, toggleTheme } = useTheme();\r\n\r\n  return (\r\n    <button\r\n      onClick={toggleTheme}\r\n      className=\"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200\"\r\n      aria-label=\"Toggle theme\"\r\n      title={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\r\n    >\r\n      <div className=\"relative w-6 h-6\">\r\n        {theme === 'light' ? (\r\n          <motion.div\r\n            key=\"sun\"\r\n            initial={{ rotate: -90, opacity: 0 }}\r\n            animate={{ rotate: 0, opacity: 1 }}\r\n            exit={{ rotate: 90, opacity: 0 }}\r\n            transition={{ duration: 0.2 }}\r\n          >\r\n            <Sun className=\"w-6 h-6 text-yellow-500\" />\r\n          </motion.div>\r\n        ) : (\r\n          <motion.div\r\n            key=\"moon\"\r\n            initial={{ rotate: 90, opacity: 0 }}\r\n            animate={{ rotate: 0, opacity: 1 }}\r\n            exit={{ rotate: -90, opacity: 0 }}\r\n            transition={{ duration: 0.2 }}\r\n          >\r\n            <Moon className=\"w-6 h-6 text-blue-400\" />\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n    </button>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '4', key: '4exip2' }],\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'M12 20v2', key: '1lh1kg' }],\n  ['path', { d: 'm4.93 4.93 1.41 1.41', key: '149t6j' }],\n  ['path', { d: 'm17.66 17.66 1.41 1.41', key: 'ptbguv' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n  ['path', { d: 'm6.34 17.66-1.41 1.41', key: '1m8zz5' }],\n  ['path', { d: 'm19.07 4.93-1.41 1.41', key: '1shlcs' }],\n];\n\n/**\n * @component @name Sun\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI0IiAvPgogIDxwYXRoIGQ9Ik0xMiAydjIiIC8+CiAgPHBhdGggZD0iTTEyIDIwdjIiIC8+CiAgPHBhdGggZD0ibTQuOTMgNC45MyAxLjQxIDEuNDEiIC8+CiAgPHBhdGggZD0ibTE3LjY2IDE3LjY2IDEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJNMiAxMmgyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxMmgyIiAvPgogIDxwYXRoIGQ9Im02LjM0IDE3LjY2LTEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJtMTkuMDcgNC45My0xLjQxIDEuNDEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/sun\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sun = createLucideIcon('sun', __iconNode);\n\nexport default Sun;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401',\n      key: 'kfwtm',\n    },\n  ],\n];\n\n/**\n * @component @name Moon\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAuOTg1IDEyLjQ4NmE5IDkgMCAxIDEtOS40NzMtOS40NzJjLjQwNS0uMDIyLjYxNy40Ni40MDIuODAzYTYgNiAwIDAgMCA4LjI2OCA4LjI2OGMuMzQ0LS4yMTUuODI1LS4wMDQuODAzLjQwMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/moon\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Moon = createLucideIcon('moon', __iconNode);\n\nexport default Moon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }]];\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('chevron-down', __iconNode);\n\nexport default ChevronDown;\n","'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport Image from 'next/image';\r\nimport ThemeToggle from '@/components/ui/ThemeToggle';\r\nimport { useLanguage, languages, type Language } from '@/contexts/LanguageContext';\r\nimport { \r\n  Search, \r\n  Bell, \r\n  Settings, \r\n  User, \r\n  LogOut, \r\n  ChevronDown,\r\n  Check,\r\n  Globe,\r\n  Home,\r\n  Users,\r\n  Milk,\r\n  Building2,\r\n  Tractor,\r\n  BarChart3,\r\n  FileText,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport { UserRole } from '@/types/user';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\n\r\ninterface HeaderProps {\r\n  user: {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    role: UserRole;\r\n  };\r\n  onLogout: () => void;\r\n  onSearch?: (query: string) => void;\r\n}\r\n\r\ninterface Notification {\r\n  id: string;\r\n  title: string;\r\n  message: string;\r\n  time: string;\r\n  type: 'info' | 'warning' | 'success' | 'error';\r\n  read: boolean;\r\n  societyId?: number;\r\n}\r\n\r\ninterface PausedSectionNotification {\r\n  sectionPulseId: number;\r\n  societyId: number;\r\n  societyName: string;\r\n  societyCode: string;\r\n  bmcId: number;\r\n  bmcName: string;\r\n  dairyFarmId: number;\r\n  dairyName: string;\r\n  pulseDate: string;\r\n  pausedSince: string;\r\n  lastChecked: string;\r\n  inactiveDays: number;\r\n  totalCollections: number;\r\n}\r\n\r\nconst roleColors: Record<UserRole, string> = {\r\n  [UserRole.SUPER_ADMIN]: 'from-green-600 to-emerald-600',    // Primary green gradient\r\n  [UserRole.ADMIN]: 'from-green-500 to-emerald-500',         // Slightly lighter green\r\n  [UserRole.DAIRY]: 'from-teal-600 to-cyan-600',            // Teal for dairy operations\r\n  [UserRole.BMC]: 'from-emerald-600 to-green-600',          // Emerald for BMC\r\n  [UserRole.SOCIETY]: 'from-green-700 to-teal-700',         // Deeper green for society\r\n  [UserRole.FARMER]: 'from-emerald-500 to-green-500'        // Natural green for farmers\r\n};\r\n\r\ninterface NavItem {\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  labelKey: keyof typeof import('@/locales/en').en.nav;\r\n  href: string;\r\n  roles: UserRole[];\r\n}\r\n\r\nconst navigationItems: NavItem[] = [\r\n  {\r\n    icon: Home,\r\n    labelKey: 'dashboard',\r\n    href: '/dashboard',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY, UserRole.FARMER]\r\n  },\r\n  {\r\n    icon: FileText,\r\n    labelKey: 'reports',\r\n    href: '/admin/reports',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY]\r\n  },\r\n  {\r\n    icon: BarChart3,\r\n    labelKey: 'analytics',\r\n    href: '/analytics',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC]\r\n  },\r\n  {\r\n    icon: Users,\r\n    labelKey: 'userManagement',\r\n    href: '/users',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY]\r\n  },\r\n  {\r\n    icon: Milk,\r\n    labelKey: 'dairyManagement',\r\n    href: '/admin/dairy',\r\n    roles: [UserRole.ADMIN]\r\n  },\r\n  {\r\n    icon: Building2,\r\n    labelKey: 'bmcManagement',\r\n    href: '/admin/bmc',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC]\r\n  },\r\n  {\r\n    icon: Users,\r\n    labelKey: 'societyManagement',\r\n    href: '/society',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY]\r\n  },\r\n  {\r\n    icon: Tractor,\r\n    labelKey: 'farmerPortal',\r\n    href: '/farmer',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY, UserRole.FARMER]\r\n  },\r\n  {\r\n    icon: Bell,\r\n    labelKey: 'notifications',\r\n    href: '/notifications',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY, UserRole.FARMER]\r\n  },\r\n  {\r\n    icon: Settings,\r\n    labelKey: 'settings',\r\n    href: '/settings',\r\n    roles: [UserRole.SUPER_ADMIN, UserRole.ADMIN, UserRole.DAIRY, UserRole.BMC, UserRole.SOCIETY, UserRole.FARMER]\r\n  }\r\n];\r\n\r\nexport default function Header({ user, onLogout, onSearch }: HeaderProps) {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [showLanguage, setShowLanguage] = useState(false);\r\n  const [showMobileLanguage, setShowMobileLanguage] = useState(false);\r\n  const [showLogoutConfirm, setShowLogoutConfirm] = useState(false);\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [pausedSections, setPausedSections] = useState<PausedSectionNotification[]>([]);\r\n  const [isLoadingNotifications, setIsLoadingNotifications] = useState(false);\r\n  const { language, setLanguage, t } = useLanguage();\r\n  const pathname = usePathname();\r\n  \r\n  const notificationRef = useRef<HTMLDivElement>(null);\r\n  const profileRef = useRef<HTMLDivElement>(null);\r\n  const languageRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Fetch paused sections notifications\r\n  useEffect(() => {\r\n    const fetchPausedSections = async () => {\r\n      try {\r\n        setIsLoadingNotifications(true);\r\n        \r\n        const token = localStorage.getItem('authToken');\r\n        if (!token) {\r\n          console.warn('No auth token found for notifications');\r\n          return;\r\n        }\r\n        \r\n        const response = await fetch('/api/admin/notifications/paused-sections', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n        \r\n        if (response.ok) {\r\n          const result = await response.json();\r\n          if (result.success) {\r\n            setPausedSections(result.data);\r\n            \r\n            // Convert paused sections to notifications\r\n            const pausedNotifications: Notification[] = result.data.map((section: PausedSectionNotification) => ({\r\n              id: `paused-${section.sectionPulseId}`,\r\n              title: 'Section Paused',\r\n              message: `${section.dairyName} > ${section.bmcName} > ${section.societyName} (${section.societyCode})`,\r\n              time: getRelativeTime(section.lastChecked),\r\n              type: 'warning' as const,\r\n              read: false,\r\n              societyId: section.societyId\r\n            }));\r\n            \r\n            setNotifications(pausedNotifications);\r\n          }\r\n        } else if (response.status === 401) {\r\n          console.warn('Unauthorized: Token may be expired');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching paused sections:', error);\r\n      } finally {\r\n        setIsLoadingNotifications(false);\r\n      }\r\n    };\r\n\r\n    // Fetch immediately\r\n    fetchPausedSections();\r\n    \r\n    // Refresh every 60 seconds\r\n    const interval = setInterval(fetchPausedSections, 60000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Get relative time from timestamp\r\n  const getRelativeTime = (timestamp: string): string => {\r\n    const now = new Date();\r\n    const time = new Date(timestamp);\r\n    const diffInMinutes = Math.floor((now.getTime() - time.getTime()) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'Just now';\r\n    if (diffInMinutes < 60) return `${diffInMinutes} minute${diffInMinutes > 1 ? 's' : ''} ago`;\r\n    \r\n    const diffInHours = Math.floor(diffInMinutes / 60);\r\n    if (diffInHours < 24) return `${diffInHours} hour${diffInHours > 1 ? 's' : ''} ago`;\r\n    \r\n    const diffInDays = Math.floor(diffInHours / 24);\r\n    return `${diffInDays} day${diffInDays > 1 ? 's' : ''} ago`;\r\n  };\r\n\r\n  const unreadCount = notifications.filter(n => !n.read).length;\r\n\r\n  // Listen for global search clear events\r\n  useEffect(() => {\r\n    const handleGlobalSearchClear = (event: Event) => {\r\n      const customEvent = event as CustomEvent;\r\n      if (customEvent.detail?.query === '') {\r\n        setSearchQuery('');\r\n      }\r\n    };\r\n\r\n    window.addEventListener('globalSearch', handleGlobalSearchClear);\r\n    return () => {\r\n      window.removeEventListener('globalSearch', handleGlobalSearchClear);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (notificationRef.current && !notificationRef.current.contains(event.target as Node)) {\r\n        setShowNotifications(false);\r\n      }\r\n      if (profileRef.current && !profileRef.current.contains(event.target as Node)) {\r\n        setShowProfile(false);\r\n      }\r\n      if (languageRef.current && !languageRef.current.contains(event.target as Node)) {\r\n        setShowLanguage(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const handleSearch = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (onSearch && searchQuery.trim()) {\r\n      onSearch(searchQuery);\r\n    }\r\n  };\r\n\r\n  // Live search on every keystroke\r\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setSearchQuery(value);\r\n    if (onSearch) {\r\n      onSearch(value);\r\n    }\r\n  };\r\n\r\n  const markAsRead = (id: string) => {\r\n    setNotifications(prev => \r\n      prev.map(n => n.id === id ? { ...n, read: true } : n)\r\n    );\r\n  };\r\n\r\n  const handleNotificationClick = (notification: Notification) => {\r\n    markAsRead(notification.id);\r\n    \r\n    // Navigate to society details if societyId is present\r\n    if (notification.societyId) {\r\n      window.location.href = `/admin/society/${notification.societyId}`;\r\n    }\r\n    \r\n    setShowNotifications(false);\r\n  };\r\n\r\n  const markAllAsRead = () => {\r\n    setNotifications(prev => prev.map(n => ({ ...n, read: true })));\r\n  };\r\n\r\n  const getRoleDisplayName = (role: UserRole): string => {\r\n    const roleNames: Record<UserRole, string> = {\r\n      [UserRole.SUPER_ADMIN]: t.roles.superAdmin,\r\n      [UserRole.ADMIN]: t.roles.admin, \r\n      [UserRole.DAIRY]: t.roles.dairy,\r\n      [UserRole.BMC]: t.roles.bmc,\r\n      [UserRole.SOCIETY]: t.roles.society,\r\n      [UserRole.FARMER]: t.roles.farmer\r\n    };\r\n    return roleNames[role];\r\n  };\r\n\r\n  const getNotificationIcon = (type: Notification['type']) => {\r\n    const icons = {\r\n      info: 'ℹ️',\r\n      warning: '⚠️',\r\n      success: '✅', \r\n      error: '❌'\r\n    };\r\n    return icons[type];\r\n  };\r\n\r\n  // Get the correct dashboard href based on user role\r\n  const getDashboardHref = (role: UserRole): string => {\r\n    if (role === UserRole.SUPER_ADMIN) {\r\n      return '/superadmin/dashboard';\r\n    }\r\n    if (role === UserRole.ADMIN) {\r\n      return '/admin/dashboard';\r\n    }\r\n    // For other roles, default to admin dashboard\r\n    return '/admin/dashboard';\r\n  };\r\n\r\n  // Update navigation items with dynamic dashboard href for admin/super admin\r\n  const getUpdatedNavItems = () => {\r\n    return navigationItems.map(item => {\r\n      if (item.labelKey === 'dashboard') {\r\n        return { ...item, href: getDashboardHref(user.role) };\r\n      }\r\n      return item;\r\n    }).filter(item => item.roles.includes(user.role));\r\n  };\r\n\r\n  return (\r\n    <header className=\"h-16 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 sm:px-6 flex items-center justify-between shadow-sm\">\r\n      {/* Search Bar - Hidden on mobile and on analytics page */}\r\n      {!pathname?.includes('/analytics') ? (\r\n        <div className=\"hidden lg:flex items-center space-x-4 flex-1 max-w-2xl\">\r\n          <div className=\"flex-1 max-w-md\">\r\n          <form onSubmit={handleSearch} className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500 dark:text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              value={searchQuery}\r\n              onChange={handleSearchChange}\r\n              placeholder={t.common.search}\r\n              className=\"w-full pl-10 pr-4 py-2 !bg-white dark:!bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl placeholder:text-gray-400 dark:placeholder:text-gray-500 !text-gray-900 dark:!text-gray-100 focus:!bg-white dark:focus:!bg-gray-800 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200\"\r\n            />\r\n          </form>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"hidden lg:flex flex-1\"></div>\r\n      )}\r\n\r\n      {/* Mobile: Logo */}\r\n      <div className=\"lg:hidden flex items-center\">\r\n        <Image\r\n          src=\"/fulllogo.png\"\r\n          alt=\"Poornasree Equipments\"\r\n          width={140}\r\n          height={40}\r\n          className=\"h-8 sm:h-10 w-auto\"\r\n          priority\r\n        />\r\n      </div>\r\n\r\n      {/* Right Side Actions */}\r\n      <div className=\"flex items-center space-x-2 sm:space-x-4\">\r\n        {/* Theme Toggle - Desktop only */}\r\n        <div className=\"hidden lg:block\">\r\n          <ThemeToggle />\r\n        </div>\r\n\r\n        {/* Language Toggle - Desktop only */}\r\n        <div className=\"hidden lg:block relative\" ref={languageRef}>\r\n          <button\r\n            onClick={() => setShowLanguage(!showLanguage)}\r\n            className=\"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\r\n            title=\"Change Language\"\r\n          >\r\n            <Globe className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" />\r\n            <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              {languages[language].nativeName}\r\n            </span>\r\n          </button>\r\n\r\n          <AnimatePresence>\r\n            {showLanguage && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                transition={{ duration: 0.2 }}\r\n                className=\"absolute right-0 top-full mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 z-50\"\r\n              >\r\n                <div className=\"p-2\">\r\n                  {(Object.keys(languages) as Language[]).map((lang) => (\r\n                    <button\r\n                      key={lang}\r\n                      onClick={() => {\r\n                        setLanguage(lang);\r\n                        setShowLanguage(false);\r\n                      }}\r\n                      className={`w-full flex items-center justify-between space-x-3 p-3 rounded-lg transition-colors ${\r\n                        language === lang\r\n                          ? 'bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400'\r\n                          : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <span className=\"text-xl\">{languages[lang].flag}</span>\r\n                        <div className=\"text-left\">\r\n                          <p className=\"text-sm font-medium\">{languages[lang].nativeName}</p>\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400\">{languages[lang].name}</p>\r\n                        </div>\r\n                      </div>\r\n                      {language === lang && (\r\n                        <Check className=\"w-4 h-4\" />\r\n                      )}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        {/* Notifications */}\r\n        <div className=\"relative\" ref={notificationRef}>\r\n          <button\r\n            onClick={() => setShowNotifications(!showNotifications)}\r\n            className=\"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\r\n          >\r\n            <Bell className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" />\r\n            {unreadCount > 0 && (\r\n              <motion.span\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\"\r\n              >\r\n                {unreadCount}\r\n              </motion.span>\r\n            )}\r\n          </button>\r\n\r\n          <AnimatePresence>\r\n            {showNotifications && (\r\n              <>\r\n                {/* Mobile overlay */}\r\n                <div \r\n                  className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\r\n                  onClick={() => setShowNotifications(false)}\r\n                />\r\n                \r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                  animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                  exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                  transition={{ duration: 0.2 }}\r\n                  className=\"\r\n                    fixed lg:absolute \r\n                    inset-x-0 lg:inset-x-auto\r\n                    bottom-0 lg:bottom-auto\r\n                    lg:right-0 lg:top-full lg:mt-2\r\n                    w-full lg:w-80\r\n                    max-h-[80vh] lg:max-h-[32rem]\r\n                    bg-white dark:bg-gray-800 \r\n                    rounded-t-2xl lg:rounded-xl\r\n                    shadow-2xl \r\n                    border-t lg:border\r\n                    border-gray-200 dark:border-gray-700 \r\n                    z-50\r\n                    overflow-hidden\r\n                  \"\r\n                >\r\n                  {/* Drag handle for mobile */}\r\n                  <div className=\"lg:hidden flex justify-center py-2\">\r\n                    <div className=\"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full\" />\r\n                  </div>\r\n\r\n                  <div className=\"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\r\n                    <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100\">{t.notifications.title}</h3>\r\n                    {unreadCount > 0 && (\r\n                      <button\r\n                        onClick={markAllAsRead}\r\n                        className=\"text-xs sm:text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-500\"\r\n                      >\r\n                        {t.common.markAllRead}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"overflow-y-auto\" style={{ maxHeight: 'calc(80vh - 120px)' }}>\r\n                    {isLoadingNotifications ? (\r\n                      <div className=\"p-8 sm:p-12 text-center\">\r\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto\"></div>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-3\">Loading notifications...</p>\r\n                      </div>\r\n                    ) : notifications.length > 0 ? (\r\n                      notifications.map((notification) => (\r\n                        <div\r\n                          key={notification.id}\r\n                          onClick={() => handleNotificationClick(notification)}\r\n                          className={`p-3 sm:p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors active:bg-gray-100 dark:active:bg-gray-600 ${\r\n                            !notification.read ? 'bg-green-50 dark:bg-green-900/20' : ''\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-start space-x-2 sm:space-x-3\">\r\n                            <span className=\"text-base sm:text-lg flex-shrink-0\">{getNotificationIcon(notification.type)}</span>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"text-sm sm:text-base font-medium text-gray-900 dark:text-gray-100 truncate\">{notification.title}</p>\r\n                              <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2\">{notification.message}</p>\r\n                              <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1.5 sm:mt-2\">{notification.time}</p>\r\n                            </div>\r\n                            {!notification.read && (\r\n                              <div className=\"w-2 h-2 bg-green-500 rounded-full flex-shrink-0 mt-1\"></div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <div className=\"p-8 sm:p-12 text-center text-gray-500 dark:text-gray-400\">\r\n                        <Bell className=\"w-10 h-10 sm:w-12 sm:h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3\" />\r\n                        <p className=\"text-sm sm:text-base\">{t.notifications.noNotifications}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </motion.div>\r\n              </>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        {/* Profile Menu */}\r\n        <div className=\"relative\" ref={profileRef}>\r\n          <button\r\n            onClick={() => setShowProfile(!showProfile)}\r\n            className=\"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\r\n          >\r\n            <div className={`w-8 h-8 rounded-full bg-gradient-to-br ${roleColors[user.role]} flex items-center justify-center`}>\r\n              <span className=\"text-sm font-semibold text-white\">\r\n                {user.firstName.charAt(0)}{user.lastName.charAt(0)}\r\n              </span>\r\n            </div>\r\n            <div className=\"text-left hidden lg:block\">\r\n              <p className=\"body-medium font-medium text-gray-900 dark:text-gray-100\">\r\n                {user.firstName} {user.lastName}\r\n              </p>\r\n              <p className=\"body-small text-gray-600 dark:text-gray-400\">{getRoleDisplayName(user.role)}</p>\r\n            </div>\r\n            <ChevronDown className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" />\r\n          </button>\r\n\r\n          <AnimatePresence>\r\n            {showProfile && (\r\n              <>\r\n                {/* Mobile overlay */}\r\n                <div \r\n                  className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\r\n                  onClick={() => setShowProfile(false)}\r\n                />\r\n                \r\n                <motion.div\r\n                  initial={{ \r\n                    opacity: 0, \r\n                    x: 300,\r\n                    scale: 0.95 \r\n                  }}\r\n                  animate={{ \r\n                    opacity: 1, \r\n                    x: 0,\r\n                    scale: 1 \r\n                  }}\r\n                  exit={{ \r\n                    opacity: 0, \r\n                    x: 300,\r\n                    scale: 0.95 \r\n                  }}\r\n                  transition={{ \r\n                    duration: 0.3,\r\n                    type: \"spring\",\r\n                    damping: 25,\r\n                    stiffness: 300\r\n                  }}\r\n                  className=\"\r\n                    fixed lg:absolute \r\n                    top-0 lg:top-full lg:mt-2\r\n                    right-0 lg:right-0\r\n                    h-full lg:h-auto\r\n                    w-80 lg:w-72\r\n                    max-h-screen lg:max-h-96\r\n                    bg-white dark:bg-gray-800 \r\n                    rounded-l-2xl lg:rounded-xl\r\n                    shadow-2xl \r\n                    border-l lg:border\r\n                    border-gray-200 dark:border-gray-700 \r\n                    z-50\r\n                    overflow-hidden\r\n                  \"\r\n                >\r\n                  {/* Header - Mobile drawer header */}\r\n                  <div className=\"lg:hidden flex justify-between items-center mb-3 px-4 pt-4\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">Menu</h3>\r\n                    <button\r\n                      onClick={() => setShowProfile(false)}\r\n                      className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors\"\r\n                    >\r\n                      <ChevronDown className=\"w-5 h-5 text-gray-600 dark:text-gray-400 rotate-90\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Profile header - consistent for all users on desktop */}\r\n                  <div className=\"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <div className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ${roleColors[user.role]} flex items-center justify-center flex-shrink-0`}>\r\n                        <span className=\"text-base sm:text-lg font-semibold text-white\">\r\n                          {user.firstName.charAt(0)}{user.lastName.charAt(0)}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"min-w-0 flex-1\">\r\n                        <p className=\"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100 truncate\">\r\n                          {user.firstName} {user.lastName}\r\n                        </p>\r\n                        <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate\">{user.email}</p>\r\n                        <span className={`inline-block px-2 py-0.5 sm:py-1 text-[10px] sm:text-xs font-medium text-white rounded-full bg-gradient-to-r ${roleColors[user.role]} mt-1`}>\r\n                          {getRoleDisplayName(user.role)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"p-2 overflow-y-auto lg:overflow-visible\" style={{ \r\n                    maxHeight: 'calc(90vh - 150px)' \r\n                  }}>\r\n                    {/* Navigation items for Admin and Super Admin - only on mobile */}\r\n                    {(user.role === UserRole.ADMIN || user.role === UserRole.SUPER_ADMIN) ? (\r\n                      <>\r\n                        {/* Main Navigation Section - Mobile only */}\r\n                        <div className=\"mb-4 lg:hidden\">\r\n                          <h4 className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 px-2\">\r\n                            Navigation\r\n                          </h4>\r\n                          <div className=\"space-y-1\">\r\n                            {getUpdatedNavItems().slice(0, -1).map((item) => { // Exclude settings from main nav\r\n                              const Icon = item.icon;\r\n                              const isActive = pathname === item.href;\r\n                              \r\n                              return (\r\n                                <Link\r\n                                  key={item.href}\r\n                                  href={item.href}\r\n                                  onClick={() => setShowProfile(false)}\r\n                                  className={`w-full flex items-center space-x-3 p-2.5 sm:p-3 rounded-lg transition-all duration-200 ${\r\n                                    isActive \r\n                                      ? `bg-gradient-to-r ${roleColors[user.role]} text-white shadow-md` \r\n                                      : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 active:bg-gray-100 dark:active:bg-gray-600'\r\n                                  }`}\r\n                                >\r\n                                  <Icon className={`w-4 h-4 flex-shrink-0 ${isActive ? 'text-white' : ''}`} />\r\n                                  <span className={`text-sm sm:text-base font-medium ${isActive ? 'text-white' : ''}`}>\r\n                                    {t.nav[item.labelKey]}\r\n                                  </span>\r\n                                </Link>\r\n                              );\r\n                            })}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Profile & Settings Section */}\r\n                        <div className=\"mb-4\">\r\n                          <h4 className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 px-2 lg:hidden\">\r\n                            Account\r\n                          </h4>\r\n                          <div className=\"space-y-1\">\r\n                            <button \r\n                              onClick={() => {\r\n                                // Navigate to profile page based on user role\r\n                                if (user.role === UserRole.ADMIN) {\r\n                                  window.location.href = '/admin/profile';\r\n                                } else if (user.role === UserRole.SUPER_ADMIN) {\r\n                                  window.location.href = '/superadmin/profile';\r\n                                }\r\n                                setShowProfile(false);\r\n                              }}\r\n                              className=\"w-full flex items-center space-x-3 p-2.5 sm:p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 active:bg-gray-100 dark:active:bg-gray-600 rounded-lg transition-colors\"\r\n                            >\r\n                              <User className=\"w-4 h-4 flex-shrink-0\" />\r\n                              <span className=\"text-sm sm:text-base font-medium\">{t.nav.profile}</span>\r\n                            </button>\r\n                            <Link\r\n                              href=\"/settings\"\r\n                              onClick={() => setShowProfile(false)}\r\n                              className={`w-full flex items-center space-x-3 p-2.5 sm:p-3 rounded-lg transition-colors ${\r\n                                pathname === '/settings'\r\n                                  ? `bg-gradient-to-r ${roleColors[user.role]} text-white shadow-md`\r\n                                  : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 active:bg-gray-100 dark:active:bg-gray-600'\r\n                              }`}\r\n                            >\r\n                              <Settings className={`w-4 h-4 flex-shrink-0 ${pathname === '/settings' ? 'text-white' : ''}`} />\r\n                              <span className={`text-sm sm:text-base font-medium ${pathname === '/settings' ? 'text-white' : ''}`}>\r\n                                {t.nav.settings}\r\n                              </span>\r\n                            </Link>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Language & Theme Section for Admin/Super Admin */}\r\n                        <div className=\"lg:hidden mb-4\">\r\n                          <h4 className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 px-2\">\r\n                            Preferences\r\n                          </h4>\r\n                          <div className=\"space-y-1\">\r\n                            <button\r\n                              onClick={() => setShowMobileLanguage(!showMobileLanguage)}\r\n                              className=\"w-full flex items-center justify-between p-2.5 sm:p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 active:bg-gray-100 dark:active:bg-gray-600 rounded-lg transition-colors\"\r\n                            >\r\n                              <div className=\"flex items-center space-x-3\">\r\n                                <Globe className=\"w-4 h-4 flex-shrink-0\" />\r\n                                <div className=\"text-left\">\r\n                                  <span className=\"text-sm sm:text-base block font-medium\">Language</span>\r\n                                  <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                    {languages[language].flag} {languages[language].nativeName}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <ChevronDown className={`w-4 h-4 transition-transform ${showMobileLanguage ? 'rotate-180' : ''}`} />\r\n                            </button>\r\n\r\n                            <AnimatePresence>\r\n                              {showMobileLanguage && (\r\n                                <motion.div\r\n                                  initial={{ height: 0, opacity: 0 }}\r\n                                  animate={{ height: 'auto', opacity: 1 }}\r\n                                  exit={{ height: 0, opacity: 0 }}\r\n                                  transition={{ duration: 0.2 }}\r\n                                  className=\"overflow-hidden\"\r\n                                >\r\n                                  <div className=\"px-2 py-2 space-y-1\">\r\n                                    {(Object.keys(languages) as Language[]).map((lang) => (\r\n                                      <button\r\n                                        key={lang}\r\n                                        onClick={() => {\r\n                                          setLanguage(lang);\r\n                                          setShowMobileLanguage(false);\r\n                                        }}\r\n                                        className={`w-full flex items-center justify-between p-2 rounded-lg transition-colors ${\r\n                                          language === lang\r\n                                            ? 'bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400'\r\n                                            : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n                                        }`}\r\n                                      >\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                          <span className=\"text-base sm:text-lg\">{languages[lang].flag}</span>\r\n                                          <span className=\"text-xs sm:text-sm\">{languages[lang].nativeName}</span>\r\n                                        </div>\r\n                                        {language === lang && (\r\n                                          <Check className=\"w-3 h-3 flex-shrink-0\" />\r\n                                        )}\r\n                                      </button>\r\n                                    ))}\r\n                                  </div>\r\n                                </motion.div>\r\n                              )}\r\n                            </AnimatePresence>\r\n\r\n                            <div className=\"px-2 sm:px-3 py-2\">\r\n                              <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-2 font-medium\">Theme</p>\r\n                              <ThemeToggle />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Logout Section for Admin/Super Admin */}\r\n                        <div className=\"border-t border-gray-200 dark:border-gray-700 pt-3\">\r\n                          <button\r\n                            onClick={() => setShowLogoutConfirm(true)}\r\n                            className=\"w-full flex items-center space-x-3 p-2.5 sm:p-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 active:bg-red-100 dark:active:bg-red-900/30 rounded-lg transition-colors\"\r\n                          >\r\n                            <LogOut className=\"w-4 h-4 flex-shrink-0\" />\r\n                            <span className=\"text-sm sm:text-base font-medium\">{t.nav.logout}</span>\r\n                          </button>\r\n                        </div>\r\n                      </>\r\n                    ) : (\r\n                      // Regular profile dropdown content for other users\r\n                      <>\r\n                        <button \r\n                          onClick={() => {\r\n                            window.location.href = '/profile';\r\n                            setShowProfile(false);\r\n                          }}\r\n                          className=\"w-full flex items-center space-x-3 p-2.5 sm:p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 active:bg-gray-100 dark:active:bg-gray-600 rounded-lg transition-colors\"\r\n                        >\r\n                          <User className=\"w-4 h-4 flex-shrink-0\" />\r\n                          <span className=\"text-sm sm:text-base\">{t.nav.profile}</span>\r\n                        </button>\r\n                        <button className=\"w-full flex items-center space-x-3 p-2.5 sm:p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 active:bg-gray-100 dark:active:bg-gray-600 rounded-lg transition-colors\">\r\n                          <Settings className=\"w-4 h-4 flex-shrink-0\" />\r\n                          <span className=\"text-sm sm:text-base\">{t.nav.settings}</span>\r\n                        </button>\r\n                      </>\r\n                    )}\r\n\r\n                    {/* Show language/theme section only for non-admin users */}\r\n                    {!(user.role === UserRole.ADMIN || user.role === UserRole.SUPER_ADMIN) && (\r\n                      <>\r\n                        <hr className=\"my-2 border-gray-200 dark:border-gray-700\" />\r\n\r\n                        {/* Language Selector in Dropdown - Mobile only */}\r\n                        <div className=\"lg:hidden\">\r\n                          <button\r\n                            onClick={() => setShowMobileLanguage(!showMobileLanguage)}\r\n                            className=\"w-full flex items-center justify-between p-2.5 sm:p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 active:bg-gray-100 dark:active:bg-gray-600 rounded-lg transition-colors\"\r\n                          >\r\n                            <div className=\"flex items-center space-x-3\">\r\n                              <Globe className=\"w-4 h-4 flex-shrink-0\" />\r\n                              <div className=\"text-left\">\r\n                                <span className=\"text-sm sm:text-base block\">Language</span>\r\n                                <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                  {languages[language].flag} {languages[language].nativeName}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                            <ChevronDown className={`w-4 h-4 transition-transform ${showMobileLanguage ? 'rotate-180' : ''}`} />\r\n                          </button>\r\n\r\n                      <AnimatePresence>\r\n                        {showMobileLanguage && (\r\n                          <motion.div\r\n                            initial={{ height: 0, opacity: 0 }}\r\n                            animate={{ height: 'auto', opacity: 1 }}\r\n                            exit={{ height: 0, opacity: 0 }}\r\n                            transition={{ duration: 0.2 }}\r\n                            className=\"overflow-hidden\"\r\n                          >\r\n                            <div className=\"px-2 py-2 space-y-1\">\r\n                              {(Object.keys(languages) as Language[]).map((lang) => (\r\n                                <button\r\n                                  key={lang}\r\n                                  onClick={() => {\r\n                                    setLanguage(lang);\r\n                                    setShowMobileLanguage(false);\r\n                                  }}\r\n                                  className={`w-full flex items-center justify-between p-2 rounded-lg transition-colors ${\r\n                                    language === lang\r\n                                      ? 'bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400'\r\n                                      : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n                                  }`}\r\n                                >\r\n                                  <div className=\"flex items-center space-x-2\">\r\n                                    <span className=\"text-base sm:text-lg\">{languages[lang].flag}</span>\r\n                                    <span className=\"text-xs sm:text-sm\">{languages[lang].nativeName}</span>\r\n                                  </div>\r\n                                  {language === lang && (\r\n                                    <Check className=\"w-3 h-3 flex-shrink-0\" />\r\n                                  )}\r\n                                </button>\r\n                              ))}\r\n                            </div>\r\n                          </motion.div>\r\n                        )}\r\n                          </AnimatePresence>\r\n\r\n                          <hr className=\"my-2 border-gray-200 dark:border-gray-700 lg:hidden\" />\r\n\r\n                          {/* Theme Toggle in Dropdown - Mobile only */}\r\n                          <div className=\"lg:hidden px-2 sm:px-3 py-2\">\r\n                            <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-2\">Theme</p>\r\n                            <ThemeToggle />\r\n                          </div>\r\n\r\n                          <hr className=\"my-2 border-gray-200 dark:border-gray-700\" />\r\n                          \r\n                          <button\r\n                            onClick={() => setShowLogoutConfirm(true)}\r\n                            className=\"w-full flex items-center space-x-3 p-2.5 sm:p-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 active:bg-red-100 dark:active:bg-red-900/30 rounded-lg transition-colors\"\r\n                          >\r\n                            <LogOut className=\"w-4 h-4 flex-shrink-0\" />\r\n                            <span className=\"text-sm sm:text-base\">{t.nav.logout}</span>\r\n                          </button>\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </motion.div>\r\n              </>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        {/* Logout Confirmation Dialog */}\r\n        <AnimatePresence>\r\n          {showLogoutConfirm && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-[9999] p-4\"\r\n              style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }}\r\n              onClick={(e) => {\r\n                if (e.target === e.currentTarget) {\r\n                  setShowLogoutConfirm(false);\r\n                }\r\n              }}\r\n            >\r\n              <motion.div\r\n                initial={{ scale: 0.9, opacity: 0 }}\r\n                animate={{ scale: 1, opacity: 1 }}\r\n                exit={{ scale: 0.9, opacity: 0 }}\r\n                transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n                className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md\"\r\n                onClick={(e) => e.stopPropagation()}\r\n              >\r\n                <div className=\"p-6\">\r\n                  <div className=\"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-amber-100 dark:bg-amber-900/30 rounded-full\">\r\n                    <AlertCircle className=\"w-6 h-6 text-amber-600 dark:text-amber-400\" />\r\n                  </div>\r\n                  \r\n                  <h3 className=\"text-lg font-semibold text-center text-gray-900 dark:text-gray-100 mb-2\">\r\n                    Confirm Logout\r\n                  </h3>\r\n                  \r\n                  <p className=\"text-sm text-center text-gray-600 dark:text-gray-400 mb-6\">\r\n                    Are you sure you want to logout? This action cannot be undone.\r\n                  </p>\r\n\r\n                  <div className=\"flex flex-col-reverse sm:flex-row gap-3 sm:gap-4\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowLogoutConfirm(false)}\r\n                      className=\"w-full px-4 py-2.5 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        setShowLogoutConfirm(false);\r\n                        onLogout();\r\n                      }}\r\n                      className=\"w-full flex items-center justify-center px-4 py-2.5 bg-amber-600 dark:bg-amber-700 text-white rounded-lg hover:bg-amber-700 dark:hover:bg-amber-600 transition-colors\"\r\n                    >\r\n                      <LogOut className=\"w-4 h-4 mr-2\" />\r\n                      Logout\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </header>\r\n  );\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 17 5-5-5-5', key: '1bji2h' }],\n  ['path', { d: 'M21 12H9', key: 'dn1m92' }],\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n];\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMjEgMTJIOSIgLz4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('log-out', __iconNode);\n\nexport default LogOut;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","'use client';\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport Sidebar from './Sidebar';\r\nimport Header from './Header';\r\nimport { UserRole } from '@/types/user';\r\n\r\ninterface DashboardLayoutProps {\r\n  children: React.ReactNode;\r\n  user: {\r\n    id: number;\r\n    uid: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    role: UserRole;\r\n  };\r\n}\r\n\r\nexport default function DashboardLayout({ children, user }: DashboardLayoutProps) {\r\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const mobile = window.innerWidth < 768;\r\n      setIsMobile(mobile);\r\n      if (mobile) {\r\n        setSidebarCollapsed(true);\r\n        setSidebarOpen(false);\r\n      }\r\n    };\r\n\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  const handleSidebarToggle = () => {\r\n    if (isMobile) {\r\n      setSidebarOpen(!sidebarOpen);\r\n    } else {\r\n      setSidebarCollapsed(!sidebarCollapsed);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      // Call logout API\r\n      const response = await fetch('/api/auth/logout', {\r\n        method: 'POST',\r\n        credentials: 'include'\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Clear any client-side storage\r\n        localStorage.removeItem('authToken');\r\n        sessionStorage.clear();\r\n        \r\n        // Redirect to login\r\n        window.location.href = '/login';\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout failed:', error);\r\n      // Force redirect anyway\r\n      window.location.href = '/login';\r\n    }\r\n  };\r\n\r\n  const handleSearch = (query: string) => {\r\n    console.log('Search query:', query);\r\n    \r\n    // Emit global search event for pages to listen to\r\n    const event = new CustomEvent('globalSearch', {\r\n      detail: { query }\r\n    });\r\n    window.dispatchEvent(event);\r\n  };\r\n\r\n  // Memoize sidebar overlay to prevent unnecessary re-renders\r\n  const sidebarOverlay = useMemo(() => {\r\n    if (!isMobile || !sidebarOpen) return null;\r\n    \r\n    return (\r\n      <div\r\n        onClick={() => setSidebarOpen(false)}\r\n        className=\"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden transition-opacity duration-300\"\r\n      />\r\n    );\r\n  }, [isMobile, sidebarOpen]);\r\n\r\n  return (\r\n    <div className=\"h-screen flex bg-gray-50 dark:bg-gray-900 overflow-hidden\">\r\n      {/* Mobile Sidebar Overlay */}\r\n      {sidebarOverlay}\r\n\r\n      {/* Sidebar - Always render, CSS controls visibility */}\r\n      <Sidebar\r\n        userRole={user.role}\r\n        isCollapsed={!isMobile && sidebarCollapsed}\r\n        onToggle={handleSidebarToggle}\r\n        onLogout={handleLogout}\r\n      />\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex flex-col min-w-0\">\r\n        {/* Header */}\r\n        <Header\r\n          user={user}\r\n          onLogout={handleLogout}\r\n          onSearch={handleSearch}\r\n        />\r\n\r\n        {/* Page Content */}\r\n        <main className=\"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900\">\r\n          <div className=\"p-6\">\r\n            {children}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7', key: '132q7q' }],\n  ['rect', { x: '2', y: '4', width: '20', height: '16', rx: '2', key: 'izxlao' }],\n];\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgNy04Ljk5MSA1LjcyN2EyIDIgMCAwIDEtMi4wMDkgMEwyIDciIC8+CiAgPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('mail', __iconNode);\n\nexport default Mail;\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useRouter } from 'next/navigation';\r\nimport { ArrowLeft, Mail, AlertCircle } from 'lucide-react';\r\nimport { FlowerSpinner } from '@/components';\r\n\r\ninterface EmailVerificationPromptProps {\r\n  email: string;\r\n  onCancel: () => void;\r\n  onVerify: () => void;\r\n}\r\n\r\nexport default function EmailVerificationPrompt({ email, onCancel, onVerify }: EmailVerificationPromptProps) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const router = useRouter();\r\n\r\n  const handleVerifyClick = async () => {\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      // Send OTP\r\n      const response = await fetch('/api/auth/resend-otp', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Store email for verification page\r\n        localStorage.setItem('verificationEmail', email);\r\n        \r\n        // Redirect to OTP verification page\r\n        router.push(`/verify-otp?email=${encodeURIComponent(email)}&resent=true`);\r\n      } else {\r\n        setError(result.message || 'Failed to send verification code');\r\n        setIsLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending OTP:', error);\r\n      setError('Failed to send verification code. Please try again.');\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.9 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      transition={{ duration: 0.3 }}\r\n      className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\r\n    >\r\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-6\">\r\n          <div className=\"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <AlertCircle className=\"w-8 h-8 text-amber-600\" />\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n            Email Not Verified\r\n          </h2>\r\n          <p className=\"text-gray-600\">\r\n            Your account requires email verification before you can log in.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Email Display */}\r\n        <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Mail className=\"w-5 h-5 text-gray-500\" />\r\n            <span className=\"text-gray-700 font-medium\">{email}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-3 mb-4\">\r\n            <p className=\"text-red-600 text-sm\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Actions */}\r\n        <div className=\"space-y-3\">\r\n          <button\r\n            onClick={handleVerifyClick}\r\n            disabled={isLoading}\r\n            className=\"w-full bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2\"\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <FlowerSpinner size={20} />\r\n                Sending verification code...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Mail className=\"w-5 h-5\" />\r\n                Verify Email Now\r\n              </>\r\n            )}\r\n          </button>\r\n\r\n          <button\r\n            onClick={onCancel}\r\n            disabled={isLoading}\r\n            className=\"w-full bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 text-gray-700 font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5\" />\r\n            Cancel\r\n          </button>\r\n        </div>\r\n\r\n        {/* Additional Info */}\r\n        <div className=\"mt-6 pt-6 border-t border-gray-100\">\r\n          <p className=\"text-sm text-gray-500 text-center\">\r\n            A verification code will be sent to your email address. Please check your inbox and spam folder.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface SkeletonProps {\r\n  className?: string;\r\n  variant?: 'text' | 'rectangular' | 'circular' | 'rounded';\r\n  width?: string | number;\r\n  height?: string | number;\r\n  lines?: number;\r\n}\r\n\r\n/**\r\n * Skeleton - Loading placeholder component with shimmer effect\r\n */\r\nconst Skeleton: React.FC<SkeletonProps> = ({\r\n  className = '',\r\n  variant = 'text',\r\n  width,\r\n  height,\r\n  lines = 1\r\n}) => {\r\n  const baseStyles = 'skeleton bg-gray-200 animate-pulse';\r\n  \r\n  const variantStyles = {\r\n    text: 'h-4 rounded',\r\n    rectangular: 'rounded-md',\r\n    circular: 'rounded-full',\r\n    rounded: 'rounded-lg'\r\n  };\r\n\r\n  const getSize = () => {\r\n    const style: React.CSSProperties = {};\r\n    if (width) style.width = typeof width === 'number' ? `${width}px` : width;\r\n    if (height) style.height = typeof height === 'number' ? `${height}px` : height;\r\n    return style;\r\n  };\r\n\r\n  if (variant === 'text' && lines > 1) {\r\n    return (\r\n      <div className={`space-y-2 ${className}`}>\r\n        {Array.from({ length: lines }).map((_, index) => (\r\n          <div\r\n            key={index}\r\n            className={`${baseStyles} ${variantStyles[variant]}`}\r\n            style={getSize()}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`${baseStyles} ${variantStyles[variant]} ${className}`}\r\n      style={getSize()}\r\n    />\r\n  );\r\n};\r\n\r\n// Predefined skeleton layouts\r\nexport const CardSkeleton: React.FC<{ className?: string }> = ({ className = '' }) => (\r\n  <div className={`p-6 border rounded-lg ${className}`}>\r\n    <div className=\"space-y-4\">\r\n      <Skeleton variant=\"rectangular\" height={200} />\r\n      <Skeleton variant=\"text\" lines={3} />\r\n      <div className=\"flex space-x-4\">\r\n        <Skeleton variant=\"circular\" width={40} height={40} />\r\n        <div className=\"flex-1 space-y-2\">\r\n          <Skeleton variant=\"text\" width=\"60%\" />\r\n          <Skeleton variant=\"text\" width=\"40%\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport const TableSkeleton: React.FC<{ rows?: number; columns?: number; className?: string }> = ({ \r\n  rows = 5, \r\n  columns = 4, \r\n  className = '' \r\n}) => (\r\n  <div className={`space-y-3 ${className}`}>\r\n    {Array.from({ length: rows }).map((_, rowIndex) => (\r\n      <div key={rowIndex} className=\"flex space-x-4\">\r\n        {Array.from({ length: columns }).map((_, colIndex) => (\r\n          <Skeleton key={colIndex} variant=\"text\" className=\"flex-1\" />\r\n        ))}\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport const ListSkeleton: React.FC<{ items?: number; className?: string }> = ({ \r\n  items = 5, \r\n  className = '' \r\n}) => (\r\n  <div className={`space-y-3 ${className}`}>\r\n    {Array.from({ length: items }).map((_, index) => (\r\n      <div key={index} className=\"flex items-center space-x-4\">\r\n        <Skeleton variant=\"circular\" width={48} height={48} />\r\n        <div className=\"flex-1 space-y-2\">\r\n          <Skeleton variant=\"text\" width=\"75%\" />\r\n          <Skeleton variant=\"text\" width=\"50%\" />\r\n        </div>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Skeleton;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ntype BadgeVariant = 'blue' | 'green' | 'purple' | 'yellow' | 'red' | 'gray' | 'orange' | 'indigo' | 'emerald';\r\n\r\ninterface BadgeProps {\r\n  children: React.ReactNode;\r\n  variant?: BadgeVariant;\r\n  className?: string;\r\n}\r\n\r\nconst variantStyles: Record<BadgeVariant, string> = {\r\n  blue: 'bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300',\r\n  green: 'bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300',\r\n  purple: 'bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300',\r\n  yellow: 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300',\r\n  red: 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300',\r\n  gray: 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300',\r\n  orange: 'bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300',\r\n  indigo: 'bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300',\r\n  emerald: 'bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300',\r\n};\r\n\r\n/**\r\n * Reusable badge component for status indicators and labels\r\n * Used for displaying colored tags in tables and cards\r\n */\r\nconst Badge: React.FC<BadgeProps> = ({ \r\n  children, \r\n  variant = 'gray',\r\n  className = '' \r\n}) => {\r\n  return (\r\n    <span \r\n      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variantStyles[variant]} ${className}`}\r\n    >\r\n      {children}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Badge;\r\n","'use client';\r\n\r\nimport React from 'react';\r\nimport Image from 'next/image';\r\n\r\ninterface LoadingSpinnerProps {\r\n  size?: 'small' | 'medium' | 'large' | 'xl';\r\n  className?: string;\r\n  showText?: boolean;\r\n  text?: string;\r\n  fullScreen?: boolean;\r\n}\r\n\r\nconst LoadingSpinner: React.FC<LoadingSpinnerProps> = ({\r\n  size = 'medium',\r\n  className = '',\r\n  showText = true,\r\n  text = 'Loading...',\r\n  fullScreen = false\r\n}) => {\r\n  // Size configurations\r\n  const sizeConfig = {\r\n    small: {\r\n      container: 'w-6 h-6',\r\n      text: 'text-sm'\r\n    },\r\n    medium: {\r\n      container: 'w-10 h-10',\r\n      text: 'text-base'\r\n    },\r\n    large: {\r\n      container: 'w-16 h-16',\r\n      text: 'text-lg'\r\n    },\r\n    xl: {\r\n      container: 'w-24 h-24',\r\n      text: 'text-xl'\r\n    }\r\n  };\r\n\r\n  const config = sizeConfig[size];\r\n\r\n  const spinner = (\r\n    <div className={`flex flex-col items-center justify-center gap-3 ${className}`}>\r\n      {/* Rotating Flower Spinner */}\r\n      <div className={`relative ${config.container} animate-flower-spin`}>\r\n        <Image\r\n          src=\"/flower.png\"\r\n          alt=\"Loading\"\r\n          fill\r\n          className=\"object-contain\"\r\n          priority\r\n        />\r\n      </div>\r\n      \r\n      {/* Loading Text */}\r\n      {showText && (\r\n        <p className={`${config.text} text-gray-600 font-medium animate-pulse`}>\r\n          {text}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  // Full screen overlay\r\n  if (fullScreen) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex items-center justify-center\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 border border-gray-200\">\r\n          {spinner}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return spinner;\r\n};\r\n\r\nexport default LoadingSpinner;","'use client';\r\n\r\nimport React from 'react';\r\nimport FlowerSpinner from './FlowerSpinner';\r\n\r\ninterface LoadingButtonProps {\r\n  isLoading: boolean;\r\n  children: React.ReactNode;\r\n  onClick?: () => void;\r\n  disabled?: boolean;\r\n  variant?: 'primary' | 'secondary' | 'outline';\r\n  size?: 'small' | 'medium' | 'large';\r\n  type?: 'button' | 'submit' | 'reset';\r\n  className?: string;\r\n  loadingText?: string;\r\n}\r\n\r\n/**\r\n * LoadingButton - Button with integrated loading state\r\n */\r\nconst LoadingButton: React.FC<LoadingButtonProps> = ({\r\n  isLoading,\r\n  children,\r\n  onClick,\r\n  disabled = false,\r\n  variant = 'primary',\r\n  size = 'medium',\r\n  type = 'button',\r\n  className = '',\r\n  loadingText\r\n}) => {\r\n  const baseStyles = 'inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n  \r\n  const variantStyles = {\r\n    primary: 'bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white focus:ring-green-500 shadow-lg shadow-green-500/25',\r\n    secondary: 'bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white focus:ring-teal-500 shadow-lg shadow-teal-500/25',\r\n    outline: 'border-2 border-green-600 text-green-600 hover:bg-green-50 focus:ring-green-500'\r\n  };\r\n  \r\n  const sizeStyles = {\r\n    small: 'px-3 py-1.5 text-sm',\r\n    medium: 'px-4 py-2 text-base',\r\n    large: 'px-6 py-3 text-lg'\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      onClick={onClick}\r\n      disabled={disabled || isLoading}\r\n      className={`\r\n        ${baseStyles}\r\n        ${variantStyles[variant]}\r\n        ${sizeStyles[size]}\r\n        ${className}\r\n      `}\r\n    >\r\n      {isLoading ? (\r\n        <>\r\n          <FlowerSpinner \r\n            size={size === 'small' ? 16 : size === 'large' ? 24 : 20}\r\n            className=\"mr-2\"\r\n          />\r\n          {loadingText || 'Loading...'}\r\n        </>\r\n      ) : (\r\n        children\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LoadingButton;","'use client';\r\n\r\nimport React from 'react';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\ninterface LoadingOverlayProps {\r\n  isLoading: boolean;\r\n  text?: string;\r\n  size?: 'small' | 'medium' | 'large' | 'xl';\r\n  className?: string;\r\n  children?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * LoadingOverlay - Wraps content and shows loading state when needed\r\n */\r\nconst LoadingOverlay: React.FC<LoadingOverlayProps> = ({\r\n  isLoading,\r\n  text = 'Loading...',\r\n  size = 'medium',\r\n  className = '',\r\n  children\r\n}) => {\r\n  return (\r\n    <div className={`relative ${className}`}>\r\n      {children}\r\n      \r\n      {isLoading && (\r\n        <div className=\"absolute inset-0 bg-white/90 backdrop-blur-sm z-40 flex items-center justify-center rounded-lg\">\r\n          <LoadingSpinner \r\n            size={size} \r\n            text={text}\r\n            showText={true}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingOverlay;","'use client';\r\n\r\nimport React from 'react';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\ninterface PageLoadingProps {\r\n  text?: string;\r\n  showLogo?: boolean;\r\n}\r\n\r\n/**\r\n * PageLoading - Full page loading screen with branding\r\n */\r\nconst PageLoading: React.FC<PageLoadingProps> = ({\r\n  text = 'Loading Poornasree Equipments...',\r\n  showLogo = true\r\n}) => {\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex items-center justify-center\">\r\n      <div className=\"text-center space-y-6\">\r\n        {/* Company Branding */}\r\n        {showLogo && (\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\r\n              Poornasree Equipments\r\n            </h1>\r\n            <p className=\"text-gray-600\">Cloud Management System</p>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Loading Spinner */}\r\n        <LoadingSpinner \r\n          size=\"xl\" \r\n          text={text}\r\n          showText={true}\r\n          className=\"scale-110\"\r\n        />\r\n        \r\n        {/* Loading Progress Indicator */}\r\n        <div className=\"w-64 mx-auto\">\r\n          <div className=\"h-1 bg-gray-200 rounded-full overflow-hidden\">\r\n            <div className=\"h-full bg-gradient-to-r from-green-500 to-emerald-500 animate-pulse rounded-full\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageLoading;","'use client';\r\n\r\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\r\nimport PageLoading from './PageLoading';\r\n\r\ninterface LoadingContextType {\r\n  isLoading: boolean;\r\n  loadingText: string;\r\n  setLoading: (loading: boolean, text?: string) => void;\r\n  showPageLoading: (text?: string) => void;\r\n  hidePageLoading: () => void;\r\n}\r\n\r\nconst LoadingContext = createContext<LoadingContextType | undefined>(undefined);\r\n\r\ninterface LoadingProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport const LoadingProvider: React.FC<LoadingProviderProps> = ({ children }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loadingText, setLoadingText] = useState('Loading...');\r\n\r\n  const setLoading = (loading: boolean, text: string = 'Loading...') => {\r\n    setIsLoading(loading);\r\n    setLoadingText(text);\r\n  };\r\n\r\n  const showPageLoading = (text: string = 'Loading...') => {\r\n    setLoading(true, text);\r\n  };\r\n\r\n  const hidePageLoading = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  const value: LoadingContextType = {\r\n    isLoading,\r\n    loadingText,\r\n    setLoading,\r\n    showPageLoading,\r\n    hidePageLoading\r\n  };\r\n\r\n  return (\r\n    <LoadingContext.Provider value={value}>\r\n      {children}\r\n      {isLoading && <PageLoading text={loadingText} />}\r\n    </LoadingContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useLoading = (): LoadingContextType => {\r\n  const context = useContext(LoadingContext);\r\n  if (context === undefined) {\r\n    throw new Error('useLoading must be used within a LoadingProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport default LoadingContext;","'use client';\r\n\r\nimport type { AppRouterInstance } from 'next/dist/shared/lib/app-router-context.shared-runtime';\r\n\r\ninterface UserData {\r\n  id: number;\r\n  uid: string;\r\n  email: string;\r\n  role: string;\r\n  fullName: string;\r\n}\r\n\r\n/**\r\n * Verify if the current user session is valid by checking with the server\r\n */\r\nexport async function verifyUserSession(): Promise<{ isValid: boolean; user?: UserData }> {\r\n  try {\r\n    const token = localStorage.getItem('authToken');\r\n    \r\n    if (!token) {\r\n      console.log('🔍 verifyUserSession: No token found');\r\n      return { isValid: false };\r\n    }\r\n\r\n    console.log('🔍 verifyUserSession: Token found, making API call');\r\n    const response = await fetch('/api/auth/verify-session', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n\r\n    console.log('🔍 verifyUserSession: API response status:', response.status);\r\n    \r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      console.log('🔍 verifyUserSession: API response data:', data);\r\n      \r\n      if (data.success && data.data && data.data.user) {\r\n        // Update localStorage with fresh user data\r\n        localStorage.setItem('userData', JSON.stringify(data.data.user));\r\n        console.log('✅ verifyUserSession: Session valid, user:', data.data.user);\r\n        return { isValid: true, user: data.data.user };\r\n      }\r\n    }\r\n\r\n    // If verification fails, clear stored data\r\n    console.log('❌ verifyUserSession: Session invalid, clearing storage');\r\n    localStorage.removeItem('authToken');\r\n    localStorage.removeItem('userData');\r\n    return { isValid: false };\r\n  } catch (error) {\r\n    console.error('❌ verifyUserSession: Session verification failed:', error);\r\n    localStorage.removeItem('authToken');\r\n    localStorage.removeItem('userData');\r\n    return { isValid: false };\r\n  }\r\n}\r\n\r\n/**\r\n * Get the appropriate dashboard route for a user role\r\n */\r\nexport function getDashboardRoute(role: string): string {\r\n  switch (role) {\r\n    case 'super_admin':\r\n      return '/superadmin/dashboard';\r\n    case 'admin':\r\n      return '/admin/dashboard';\r\n    case 'dairy':\r\n      return '/dairy/dashboard';\r\n    case 'bmc':\r\n      return '/bmc/dashboard';\r\n    case 'society':\r\n      return '/society/dashboard';\r\n    case 'farmer':\r\n      return '/farmer/dashboard';\r\n    default:\r\n      console.warn(`Unknown role: ${role}, redirecting to login`);\r\n      return '/login';\r\n  }\r\n}\r\n\r\n/**\r\n * Check if user has valid session and redirect appropriately\r\n */\r\nexport async function checkAuthAndRedirect(router: AppRouterInstance): Promise<boolean> {\r\n  console.log('🔍 checkAuthAndRedirect: Starting authentication check');\r\n  const { isValid, user } = await verifyUserSession();\r\n  \r\n  console.log('🔍 checkAuthAndRedirect: Session check result:', { isValid, user });\r\n  \r\n  if (isValid && user) {\r\n    const dashboardRoute = getDashboardRoute(user.role);\r\n    console.log('✅ checkAuthAndRedirect: Redirecting to:', dashboardRoute);\r\n    router.push(dashboardRoute);\r\n    return true;\r\n  }\r\n  \r\n  console.log('ℹ️ checkAuthAndRedirect: No valid session, staying on current page');\r\n  return false;\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526',\n      key: '1yiouv',\n    },\n  ],\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n];\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNDc3IDEyLjg5IDEuNTE1IDguNTI2YS41LjUgMCAwIDEtLjgxLjQ3bC0zLjU4LTIuNjg3YTEgMSAwIDAgMC0xLjE5NyAwbC0zLjU4NiAyLjY4NmEuNS41IDAgMCAxLS44MS0uNDY5bDEuNTE0LTguNTI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('award', __iconNode);\n\nexport default Award;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 5h16', key: '1tepv9' }],\n  ['path', { d: 'M4 12h16', key: '1lakjw' }],\n  ['path', { d: 'M4 19h16', key: '1djgab' }],\n];\n\n/**\n * @component @name Menu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCA1aDE2IiAvPgogIDxwYXRoIGQ9Ik00IDEyaDE2IiAvPgogIDxwYXRoIGQ9Ik00IDE5aDE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/menu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Menu = createLucideIcon('menu', __iconNode);\n\nexport default Menu;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384',\n      key: '9njp5v',\n    },\n  ],\n];\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuODMyIDE2LjU2OGExIDEgMCAwIDAgMS4yMTMtLjMwM2wuMzU1LS40NjVBMiAyIDAgMCAxIDE3IDE1aDNhMiAyIDAgMCAxIDIgMnYzYTIgMiAwIDAgMS0yIDJBMTggMTggMCAwIDEgMiA0YTIgMiAwIDAgMSAyLTJoM2EyIDIgMCAwIDEgMiAydjNhMiAyIDAgMCAxLS44IDEuNmwtLjQ2OC4zNTFhMSAxIDAgMCAwLS4yOTIgMS4yMzMgMTQgMTQgMCAwIDAgNi4zOTIgNi4zODQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('phone', __iconNode);\n\nexport default Phone;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '12', r: '6', key: '1vlfrh' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n];\n\n/**\n * @component @name Target\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/target\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Target = createLucideIcon('target', __iconNode);\n\nexport default Target;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4.5 3h15', key: 'c7n0jr' }],\n  ['path', { d: 'M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3', key: 'm1uhx7' }],\n  ['path', { d: 'M6 14h12', key: '4cwo0f' }],\n];\n\n/**\n * @component @name Beaker\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNC41IDNoMTUiIC8+CiAgPHBhdGggZD0iTTYgM3YxNmEyIDIgMCAwIDAgMiAyaDhhMiAyIDAgMCAwIDItMlYzIiAvPgogIDxwYXRoIGQ9Ik02IDE0aDEyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/beaker\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Beaker = createLucideIcon('beaker', __iconNode);\n\nexport default Beaker;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    { d: 'M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z', key: '1jg4f8' },\n  ],\n];\n\n/**\n * @component @name Facebook\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggMmgtM2E1IDUgMCAwIDAtNSA1djNIN3Y0aDN2OGg0di04aDNsMS00aC00VjdhMSAxIDAgMCAxIDEtMWgzeiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/facebook\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated Brand icons have been deprecated and are due to be removed, please refer to https://github.com/lucide-icons/lucide/issues/670. We recommend using https://simpleicons.org/?q=facebook instead. This icon will be removed in v1.0\n */\nconst Facebook = createLucideIcon('facebook', __iconNode);\n\nexport default Facebook;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17',\n      key: '1q2vi4',\n    },\n  ],\n  ['path', { d: 'm10 15 5-3-5-3z', key: '1jp15x' }],\n];\n\n/**\n * @component @name Youtube\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi41IDE3YTI0LjEyIDI0LjEyIDAgMCAxIDAtMTAgMiAyIDAgMCAxIDEuNC0xLjQgNDkuNTYgNDkuNTYgMCAwIDEgMTYuMiAwQTIgMiAwIDAgMSAyMS41IDdhMjQuMTIgMjQuMTIgMCAwIDEgMCAxMCAyIDIgMCAwIDEtMS40IDEuNCA0OS41NSA0OS41NSAwIDAgMS0xNi4yIDBBMiAyIDAgMCAxIDIuNSAxNyIgLz4KICA8cGF0aCBkPSJtMTAgMTUgNS0zLTUtM3oiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/youtube\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated Brand icons have been deprecated and are due to be removed, please refer to https://github.com/lucide-icons/lucide/issues/670. We recommend using https://simpleicons.org/?q=youtube instead. This icon will be removed in v1.0\n */\nconst Youtube = createLucideIcon('youtube', __iconNode);\n\nexport default Youtube;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z',\n      key: 'c2jq9f',\n    },\n  ],\n  ['rect', { width: '4', height: '12', x: '2', y: '9', key: 'mk3on5' }],\n  ['circle', { cx: '4', cy: '4', r: '2', key: 'bt5ra8' }],\n];\n\n/**\n * @component @name Linkedin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgOGE2IDYgMCAwIDEgNiA2djdoLTR2LTdhMiAyIDAgMCAwLTItMiAyIDIgMCAwIDAtMiAydjdoLTR2LTdhNiA2IDAgMCAxIDYtNnoiIC8+CiAgPHJlY3Qgd2lkdGg9IjQiIGhlaWdodD0iMTIiIHg9IjIiIHk9IjkiIC8+CiAgPGNpcmNsZSBjeD0iNCIgY3k9IjQiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/linkedin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated Brand icons have been deprecated and are due to be removed, please refer to https://github.com/lucide-icons/lucide/issues/670. We recommend using https://simpleicons.org/?q=linkedin instead. This icon will be removed in v1.0\n */\nconst Linkedin = createLucideIcon('linkedin', __iconNode);\n\nexport default Linkedin;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 14 4-4', key: '9kzdfg' }],\n  ['path', { d: 'M3.34 19a10 10 0 1 1 17.32 0', key: '19p75a' }],\n];\n\n/**\n * @component @name Gauge\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTQgNC00IiAvPgogIDxwYXRoIGQ9Ik0zLjM0IDE5YTEwIDEwIDAgMSAxIDE3LjMyIDAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/gauge\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Gauge = createLucideIcon('gauge', __iconNode);\n\nexport default Gauge;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z',\n      key: 'r04s7s',\n    },\n  ],\n];\n\n/**\n * @component @name Star\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuNTI1IDIuMjk1YS41My41MyAwIDAgMSAuOTUgMGwyLjMxIDQuNjc5YTIuMTIzIDIuMTIzIDAgMCAwIDEuNTk1IDEuMTZsNS4xNjYuNzU2YS41My41MyAwIDAgMSAuMjk0LjkwNGwtMy43MzYgMy42MzhhMi4xMjMgMi4xMjMgMCAwIDAtLjYxMSAxLjg3OGwuODgyIDUuMTRhLjUzLjUzIDAgMCAxLS43NzEuNTZsLTQuNjE4LTIuNDI4YTIuMTIyIDIuMTIyIDAgMCAwLTEuOTczIDBMNi4zOTYgMjEuMDFhLjUzLjUzIDAgMCAxLS43Ny0uNTZsLjg4MS01LjEzOWEyLjEyMiAyLjEyMiAwIDAgMC0uNjExLTEuODc5TDIuMTYgOS43OTVhLjUzLjUzIDAgMCAxIC4yOTQtLjkwNmw1LjE2NS0uNzU1YTIuMTIyIDIuMTIyIDAgMCAwIDEuNTk3LTEuMTZ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/star\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Star = createLucideIcon('star', __iconNode);\n\nexport default Star;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z',\n      key: '1xq2db',\n    },\n  ],\n];\n\n/**\n * @component @name Zap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxNGExIDEgMCAwIDEtLjc4LTEuNjNsOS45LTEwLjJhLjUuNSAwIDAgMSAuODYuNDZsLTEuOTIgNi4wMkExIDEgMCAwIDAgMTMgMTBoN2ExIDEgMCAwIDEgLjc4IDEuNjNsLTkuOSAxMC4yYS41LjUgMCAwIDEtLjg2LS40NmwxLjkyLTYuMDJBMSAxIDAgMCAwIDExIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Zap = createLucideIcon('zap', __iconNode);\n\nexport default Zap;\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useRouter } from 'next/navigation';\r\nimport Image from 'next/image';\r\nimport { checkAuthAndRedirect } from '@/lib/clientAuth';\r\nimport { \r\n  Milk, \r\n  Shield, \r\n  Users, \r\n  BarChart3, \r\n  Clock, \r\n  Award, \r\n  ArrowRight,\r\n  Menu,\r\n  X,\r\n  Phone,\r\n  Mail,\r\n  MapPin,\r\n  Facebook,\r\n  Linkedin,\r\n  Youtube,\r\n  Star,\r\n  CheckCircle,\r\n  TrendingUp,\r\n  Beaker,\r\n  Gauge,\r\n  Target,\r\n  Globe,\r\n  Zap\r\n} from 'lucide-react';\r\n\r\nexport default function LandingPage() {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [activeSection, setActiveSection] = useState('home');\r\n  const router = useRouter();\r\n\r\n  // Check if user is authenticated and redirect to appropriate dashboard\r\n  useEffect(() => {\r\n    checkAuthAndRedirect(router).catch(console.error);\r\n  }, [router]);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const sections = ['home', 'about', 'products', 'features', 'testimonials', 'contact'];\r\n      const scrollPosition = window.scrollY + 100;\r\n\r\n      sections.forEach((section) => {\r\n        const element = document.getElementById(section);\r\n        if (element) {\r\n          const offsetTop = element.offsetTop;\r\n          const height = element.offsetHeight;\r\n          \r\n          if (scrollPosition >= offsetTop && scrollPosition < offsetTop + height) {\r\n            setActiveSection(section);\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const scrollToSection = (sectionId: string) => {\r\n    const element = document.getElementById(sectionId);\r\n    if (element) {\r\n      element.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n    setIsMenuOpen(false);\r\n  };\r\n\r\n  const features = [\r\n    {\r\n      icon: Gauge,\r\n      title: 'Ultra-Fast Analysis',\r\n      description: 'Fastest ultrasonic milk analyzer with unmatched precision in measuring Fat, SNF, CLR, Protein, and Lactose.'\r\n    },\r\n    {\r\n      icon: Beaker,\r\n      title: 'Advanced Testing',\r\n      description: 'State-of-the-art devices for accurate milk quality analysis including added salt, water detection, and temperature monitoring.'\r\n    },\r\n    {\r\n      icon: Shield,\r\n      title: 'Quality Assurance',\r\n      description: 'Built to withstand rigorous usage with exceptional quality standards established since 2011.'\r\n    },\r\n    {\r\n      icon: Target,\r\n      title: 'Precision Accuracy',\r\n      description: 'Precise measurements of various milk parameters ensuring reliable results for dairy farmers and processors.'\r\n    },\r\n    {\r\n      icon: Clock,\r\n      title: 'User-Friendly Design',\r\n      description: 'Easy to maintain equipment with intuitive interfaces designed for efficient dairy operations.'\r\n    },\r\n    {\r\n      icon: Globe,\r\n      title: 'Global Reach',\r\n      description: 'Serving dairy farmers and processors worldwide with innovative solutions and exceptional customer service.'\r\n    }\r\n  ];\r\n\r\n  const products = [\r\n    {\r\n      name: 'Lactosure Milk Analyzer',\r\n      description: 'Our flagship ultrasonic milk analyzer for comprehensive milk quality testing',\r\n      image: '/api/placeholder/400/300'\r\n    },\r\n    {\r\n      name: 'Lactosure Eco Analyzer',\r\n      description: 'Eco-friendly version of our milk analyzer with enhanced efficiency',\r\n      image: '/api/placeholder/400/300'\r\n    },\r\n    {\r\n      name: 'Milk Stirrers & Display Units',\r\n      description: 'Complete range of milk testing accessories and display solutions',\r\n      image: '/api/placeholder/400/300'\r\n    }\r\n  ];\r\n\r\n  const testimonials = [\r\n    {\r\n      name: 'Dairy Farmer Association',\r\n      location: 'Kerala',\r\n      rating: 5,\r\n      feedback: 'Poornasree equipment has revolutionized our milk testing process. The accuracy and speed are unmatched.',\r\n      role: 'Dairy Cooperative'\r\n    },\r\n    {\r\n      name: 'Modern Dairy Solutions',\r\n      location: 'Tamil Nadu',\r\n      rating: 5,\r\n      feedback: 'Excellent quality products with outstanding customer support. Highly recommended for all dairy operations.',\r\n      role: 'Processing Unit'\r\n    },\r\n    {\r\n      name: 'Regional Milk Union',\r\n      location: 'Karnataka',\r\n      rating: 5,\r\n      feedback: 'The Lactosure analyzer has improved our quality control significantly. Great investment for our business.',\r\n      role: 'Milk Union'\r\n    }\r\n  ];\r\n\r\n  const stats = [\r\n    { label: 'Years of Excellence', value: '13+', icon: Award },\r\n    { label: 'Satisfied Customers', value: '5000+', icon: Users },\r\n    { label: 'Products Delivered', value: '10,000+', icon: TrendingUp },\r\n    { label: 'Service Centers', value: '25+', icon: MapPin }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      {/* Navigation Header */}\r\n      <nav className=\"fixed top-0 w-full bg-white/95 backdrop-blur-sm z-50 border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            {/* Logo */}\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"w-10 h-10 bg-white rounded-xl shadow-md flex items-center justify-center overflow-hidden\">\r\n                <Image \r\n                  src=\"/fulllogo.png\" \r\n                  alt=\"Poornasree Equipments Logo\" \r\n                  width={32} \r\n                  height={32} \r\n                  className=\"object-contain\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-xl font-bold text-gray-900\">Poornasree</h1>\r\n                <p className=\"text-xs text-gray-600\">Equipments Cloud</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Desktop Navigation */}\r\n            <div className=\"hidden md:flex items-center space-x-8\">\r\n              {[\r\n                { id: 'home', label: 'Home' },\r\n                { id: 'about', label: 'About' },\r\n                { id: 'products', label: 'Products' },\r\n                { id: 'features', label: 'Features' },\r\n                { id: 'testimonials', label: 'Testimonials' },\r\n                { id: 'contact', label: 'Contact' }\r\n              ].map((item) => (\r\n                <button\r\n                  key={item.id}\r\n                  onClick={() => scrollToSection(item.id)}\r\n                  className={`px-3 py-2 rounded-lg font-medium transition-colors ${\r\n                    activeSection === item.id \r\n                      ? 'text-green-600 bg-green-50' \r\n                      : 'text-gray-700 hover:text-green-600 hover:bg-green-50'\r\n                  }`}\r\n                >\r\n                  {item.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Auth Buttons */}\r\n            <div className=\"hidden md:flex items-center space-x-4\">\r\n              <button\r\n                onClick={() => router.push('/login')}\r\n                className=\"px-4 py-2 text-gray-700 hover:text-green-600 font-medium transition-colors\"\r\n              >\r\n                Login\r\n              </button>\r\n              <button\r\n                onClick={() => router.push('/register')}\r\n                className=\"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-medium hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl\"\r\n              >\r\n                Get Started\r\n              </button>\r\n            </div>\r\n\r\n            {/* Mobile Menu Button */}\r\n            <div className=\"md:hidden\">\r\n              <button\r\n                onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n                className=\"p-2 rounded-lg text-gray-700 hover:bg-gray-100\"\r\n              >\r\n                {isMenuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Menu */}\r\n        {isMenuOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: 'auto' }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            className=\"md:hidden bg-white border-t border-gray-200\"\r\n          >\r\n            <div className=\"px-4 py-2 space-y-1\">\r\n              {[\r\n                { id: 'home', label: 'Home' },\r\n                { id: 'about', label: 'About' },\r\n                { id: 'products', label: 'Products' },\r\n                { id: 'features', label: 'Features' },\r\n                { id: 'testimonials', label: 'Testimonials' },\r\n                { id: 'contact', label: 'Contact' }\r\n              ].map((item) => (\r\n                <button\r\n                  key={item.id}\r\n                  onClick={() => scrollToSection(item.id)}\r\n                  className=\"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg\"\r\n                >\r\n                  {item.label}\r\n                </button>\r\n              ))}\r\n              <div className=\"pt-4 border-t border-gray-200 space-y-2\">\r\n                <button\r\n                  onClick={() => router.push('/login')}\r\n                  className=\"block w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg\"\r\n                >\r\n                  Login\r\n                </button>\r\n                <button\r\n                  onClick={() => router.push('/register')}\r\n                  className=\"block w-full px-3 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-medium text-center\"\r\n                >\r\n                  Get Started\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </nav>\r\n\r\n      {/* Hero Section */}\r\n      <section id=\"home\" className=\"pt-20 pb-16 bg-gradient-to-br from-blue-50 via-purple-50 to-indigo-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[80vh]\">\r\n            <motion.div\r\n              initial={{ opacity: 0, x: -50 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ duration: 0.8 }}\r\n              className=\"space-y-8\"\r\n            >\r\n              <div className=\"space-y-4\">\r\n                <motion.h1\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: 0.2 }}\r\n                  className=\"text-5xl lg:text-6xl font-bold text-gray-900 leading-tight\"\r\n                >\r\n                  Revolutionize Your\r\n                  <span className=\"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent\">\r\n                    {' '}Dairy Analysis\r\n                  </span>\r\n                </motion.h1>\r\n                \r\n                <motion.p\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ delay: 0.4 }}\r\n                  className=\"text-xl text-gray-600 max-w-2xl\"\r\n                >\r\n                  Discover the speed and efficiency of Lactosure, the fastest ultrasonic milk analyzer. \r\n                  This cutting-edge device measures essential milk components with unmatched precision.\r\n                </motion.p>\r\n              </div>\r\n\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.6 }}\r\n                className=\"flex flex-col sm:flex-row gap-4\"\r\n              >\r\n                <button\r\n                  onClick={() => router.push('/register')}\r\n                  className=\"px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-semibold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all flex items-center justify-center\"\r\n                >\r\n                  Start Your Journey\r\n                  <ArrowRight className=\"ml-2 w-5 h-5\" />\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={() => scrollToSection('products')}\r\n                  className=\"px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold text-lg hover:border-blue-600 hover:text-blue-600 transition-all flex items-center justify-center\"\r\n                >\r\n                  View Products\r\n                </button>\r\n              </motion.div>\r\n\r\n              {/* Stats */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.8 }}\r\n                className=\"grid grid-cols-2 lg:grid-cols-4 gap-6 pt-8\"\r\n              >\r\n                {stats.map((stat, index) => {\r\n                  const Icon = stat.icon;\r\n                  return (\r\n                    <div key={index} className=\"text-center\">\r\n                      <div className=\"w-12 h-12 bg-gradient-to-br from-green-600 to-emerald-600 rounded-lg flex items-center justify-center mx-auto mb-2\">\r\n                        <Icon className=\"w-6 h-6 text-white\" />\r\n                      </div>\r\n                      <div className=\"text-2xl font-bold text-gray-900\">{stat.value}</div>\r\n                      <div className=\"text-sm text-gray-600\">{stat.label}</div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </motion.div>\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 50 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ duration: 0.8, delay: 0.3 }}\r\n              className=\"relative\"\r\n            >\r\n              <div className=\"relative z-10 bg-white rounded-2xl shadow-2xl p-8\">\r\n                <div className=\"aspect-square bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center\">\r\n                  <div className=\"text-center space-y-4\">\r\n                    <Milk className=\"w-24 h-24 text-green-600 mx-auto\" />\r\n                    <h3 className=\"text-2xl font-bold text-gray-900\">Lactosure Analyzer</h3>\r\n                    <p className=\"text-gray-600\">Precision milk analysis technology</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Floating Elements */}\r\n              <motion.div\r\n                animate={{ y: [-10, 10, -10] }}\r\n                transition={{ duration: 4, repeat: Infinity }}\r\n                className=\"absolute -top-4 -right-4 w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg\"\r\n              >\r\n                Fast\r\n              </motion.div>\r\n              \r\n              <motion.div\r\n                animate={{ y: [10, -10, 10] }}\r\n                transition={{ duration: 4, repeat: Infinity, delay: 2 }}\r\n                className=\"absolute -bottom-4 -left-4 w-16 h-16 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg\"\r\n              >\r\n                <CheckCircle className=\"w-8 h-8\" />\r\n              </motion.div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* About Section */}\r\n      <section id=\"about\" className=\"py-20 bg-white\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 50 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-16\"\r\n          >\r\n            <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">Who We Are</h2>\r\n            <div className=\"w-20 h-1 bg-gradient-to-r from-green-600 to-emerald-600 mx-auto mb-8\"></div>\r\n            <p className=\"text-xl text-gray-600 max-w-4xl mx-auto\">\r\n              Poornasree is a leading brand in the milk testing equipment industry, offering an extensive range \r\n              of cutting-edge products designed to cater to the needs of dairy farmers and processors worldwide.\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center\">\r\n            <motion.div\r\n              initial={{ opacity: 0, x: -50 }}\r\n              whileInView={{ opacity: 1, x: 0 }}\r\n              transition={{ duration: 0.8 }}\r\n              viewport={{ once: true }}\r\n              className=\"space-y-6\"\r\n            >\r\n              <div className=\"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8\">\r\n                <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">Our Journey Since 2011</h3>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                  Established in 2011, we are known for our high-quality products, innovative solutions, \r\n                  and exceptional customer service. Our product range includes milk analyzers, milk stirrers, \r\n                  display units, and data processing devices.\r\n                </p>\r\n                \r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"text-center p-4 bg-white rounded-xl\">\r\n                    <Award className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\r\n                    <div className=\"font-bold text-gray-900\">Quality</div>\r\n                  </div>\r\n                  <div className=\"text-center p-4 bg-white rounded-xl\">\r\n                    <Zap className=\"w-8 h-8 text-purple-600 mx-auto mb-2\" />\r\n                    <div className=\"font-bold text-gray-900\">Innovation</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 50 }}\r\n              whileInView={{ opacity: 1, x: 0 }}\r\n              transition={{ duration: 0.8, delay: 0.2 }}\r\n              viewport={{ once: true }}\r\n              className=\"space-y-6\"\r\n            >\r\n              <div className=\"bg-white border border-gray-200 rounded-2xl p-6 shadow-lg\">\r\n                <Shield className=\"w-12 h-12 text-green-600 mb-4\" />\r\n                <h4 className=\"text-xl font-bold text-gray-900 mb-2\">Quality Assurance</h4>\r\n                <p className=\"text-gray-600\">\r\n                  Our commitment to quality ensures every product meets the highest standards \r\n                  for accuracy and reliability in dairy testing.\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"bg-white border border-gray-200 rounded-2xl p-6 shadow-lg\">\r\n                <Users className=\"w-12 h-12 text-green-600 mb-4\" />\r\n                <h4 className=\"text-xl font-bold text-gray-900 mb-2\">Team Strength</h4>\r\n                <p className=\"text-gray-600\">\r\n                  Our dedicated team of experts ensures exceptional customer service \r\n                  and technical support for all our products.\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"bg-white border border-gray-200 rounded-2xl p-6 shadow-lg\">\r\n                <TrendingUp className=\"w-12 h-12 text-purple-600 mb-4\" />\r\n                <h4 className=\"text-xl font-bold text-gray-900 mb-2\">Growing Excellence</h4>\r\n                <p className=\"text-gray-600\">\r\n                  Continuous innovation and customer satisfaction have earned us \r\n                  a loyal and growing customer base worldwide.\r\n                </p>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Products Section */}\r\n      <section id=\"products\" className=\"py-20 bg-gray-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 50 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-16\"\r\n          >\r\n            <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">Our Innovations</h2>\r\n            <div className=\"w-20 h-1 bg-gradient-to-r from-green-600 to-emerald-600 mx-auto mb-8\"></div>\r\n            <p className=\"text-xl text-gray-600 max-w-4xl mx-auto\">\r\n              We offer advanced milk analyzer equipment that ensures accurate and efficient analysis of milk quality. \r\n              Our state-of-the-art devices provide precise measurements of Fat, SNF, CLR, Protein, Lactose, \r\n              Added Salt, added water & Temperature.\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {products.map((product, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, y: 50 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.8, delay: index * 0.1 }}\r\n                viewport={{ once: true }}\r\n                className=\"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow\"\r\n              >\r\n                <div className=\"aspect-video bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center\">\r\n                  <Milk className=\"w-16 h-16 text-blue-600\" />\r\n                </div>\r\n                <div className=\"p-6\">\r\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{product.name}</h3>\r\n                  <p className=\"text-gray-600 mb-4\">{product.description}</p>\r\n                  <button className=\"w-full py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-medium hover:from-green-700 hover:to-emerald-700 transition-all\">\r\n                    Learn More\r\n                  </button>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Features Section */}\r\n      <section id=\"features\" className=\"py-20 bg-white\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 50 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-16\"\r\n          >\r\n            <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">Why Choose Poornasree</h2>\r\n            <div className=\"w-20 h-1 bg-gradient-to-r from-green-600 to-emerald-600 mx-auto mb-8\"></div>\r\n            <p className=\"text-xl text-gray-600 max-w-4xl mx-auto\">\r\n              Our equipment is user-friendly, easy to maintain, and built to withstand rigorous usage \r\n              with precision and reliability at its core.\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {features.map((feature, index) => {\r\n              const Icon = feature.icon;\r\n              return (\r\n                <motion.div\r\n                  key={index}\r\n                  initial={{ opacity: 0, y: 50 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.8, delay: index * 0.1 }}\r\n                  viewport={{ once: true }}\r\n                  className=\"text-center p-6 rounded-2xl border border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all\"\r\n                >\r\n                  <div className=\"w-16 h-16 bg-gradient-to-br from-green-600 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4\">\r\n                    <Icon className=\"w-8 h-8 text-white\" />\r\n                  </div>\r\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{feature.title}</h3>\r\n                  <p className=\"text-gray-600\">{feature.description}</p>\r\n                </motion.div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Testimonials Section */}\r\n      <section id=\"testimonials\" className=\"py-20 bg-gradient-to-br from-blue-50 via-purple-50 to-indigo-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 50 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-16\"\r\n          >\r\n            <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">What Our Clients Say</h2>\r\n            <div className=\"w-20 h-1 bg-gradient-to-r from-green-600 to-emerald-600 mx-auto mb-8\"></div>\r\n            <p className=\"text-xl text-gray-600 max-w-4xl mx-auto\">\r\n              Trusted by dairy farmers and processors across India and beyond\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {testimonials.map((testimonial, index) => (\r\n              <motion.div\r\n                key={index}\r\n                initial={{ opacity: 0, y: 50 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.8, delay: index * 0.1 }}\r\n                viewport={{ once: true }}\r\n                className=\"bg-white rounded-2xl shadow-lg p-6\"\r\n              >\r\n                <div className=\"flex items-center mb-4\">\r\n                  {[...Array(testimonial.rating)].map((_, i) => (\r\n                    <Star key={i} className=\"w-5 h-5 text-yellow-400 fill-current\" />\r\n                  ))}\r\n                </div>\r\n                <p className=\"text-gray-600 mb-4 italic\">&ldquo;{testimonial.feedback}&rdquo;</p>\r\n                <div className=\"border-t border-gray-200 pt-4\">\r\n                  <div className=\"font-bold text-gray-900\">{testimonial.name}</div>\r\n                  <div className=\"text-sm text-gray-600\">{testimonial.role}</div>\r\n                  <div className=\"text-sm text-blue-600\">{testimonial.location}</div>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Contact Section */}\r\n      <section id=\"contact\" className=\"py-20 bg-gray-900 text-white\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 50 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            viewport={{ once: true }}\r\n            className=\"text-center mb-16\"\r\n          >\r\n            <h2 className=\"text-4xl font-bold mb-4\">Get in Touch</h2>\r\n            <div className=\"w-20 h-1 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto mb-8\"></div>\r\n            <p className=\"text-xl text-gray-300 max-w-4xl mx-auto\">\r\n              Ready to revolutionize your dairy analysis? Contact us today to learn more about our solutions.\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-16\">\r\n            <motion.div\r\n              initial={{ opacity: 0, x: -50 }}\r\n              whileInView={{ opacity: 1, x: 0 }}\r\n              transition={{ duration: 0.8 }}\r\n              viewport={{ once: true }}\r\n              className=\"space-y-8\"\r\n            >\r\n              <div>\r\n                <h3 className=\"text-2xl font-bold mb-6\">Contact Information</h3>\r\n                \r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-r from-green-600 to-emerald-600 rounded-lg flex items-center justify-center\">\r\n                      <MapPin className=\"w-6 h-6\" />\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"font-semibold\">Head Office</div>\r\n                      <div className=\"text-gray-300\">13/191-C, Mannoor Road, Maradu P.O, Ernakulam - 682304</div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center\">\r\n                      <Phone className=\"w-6 h-6\" />\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"font-semibold\">Phone</div>\r\n                      <div className=\"text-gray-300\">+91 484 4859291</div>\r\n                      <div className=\"text-gray-300\">+91 94009 61291, +91 80757 90438</div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-lg flex items-center justify-center\">\r\n                      <Mail className=\"w-6 h-6\" />\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"font-semibold\">Email</div>\r\n                      <div className=\"text-gray-300\">online.poornasree@gmail.com</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"text-lg font-semibold mb-4\">Follow Us</h4>\r\n                <div className=\"flex space-x-4\">\r\n                  <a href=\"https://www.facebook.com/profile.php?id=100092352830566\" className=\"w-10 h-10 bg-gradient-to-r from-green-600 to-emerald-600 rounded-lg flex items-center justify-center hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl\">\r\n                    <Facebook className=\"w-5 h-5\" />\r\n                  </a>\r\n                  <a href=\"https://www.linkedin.com/company/inpoornasree-equipments/?viewAsMember=true\" className=\"w-10 h-10 bg-blue-700 rounded-lg flex items-center justify-center hover:bg-blue-800 transition-colors\">\r\n                    <Linkedin className=\"w-5 h-5\" />\r\n                  </a>\r\n                  <a href=\"https://www.youtube.com/channel/UCk_0HmHgoQKImHsTcZtDshA\" className=\"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center hover:bg-red-700 transition-colors\">\r\n                    <Youtube className=\"w-5 h-5\" />\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 50 }}\r\n              whileInView={{ opacity: 1, x: 0 }}\r\n              transition={{ duration: 0.8, delay: 0.2 }}\r\n              viewport={{ once: true }}\r\n              className=\"bg-white rounded-2xl p-8 text-gray-900\"\r\n            >\r\n              <h3 className=\"text-2xl font-bold mb-6\">Ready to Get Started?</h3>\r\n              \r\n              <div className=\"space-y-6\">\r\n                <div className=\"text-center p-6 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl\">\r\n                  <Milk className=\"w-16 h-16 text-blue-600 mx-auto mb-4\" />\r\n                  <h4 className=\"text-xl font-bold mb-2\">Join Poornasree Cloud</h4>\r\n                  <p className=\"text-gray-600 mb-4\">\r\n                    Experience the future of dairy management with our cloud-based solutions.\r\n                  </p>\r\n                  <button\r\n                    onClick={() => router.push('/register')}\r\n                    className=\"w-full py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold hover:from-green-700 hover:to-emerald-700 transition-all\"\r\n                  >\r\n                    Start Free Trial\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"text-center\">\r\n                  <p className=\"text-gray-600 mb-4\">Already have an account?</p>\r\n                  <button\r\n                    onClick={() => router.push('/login')}\r\n                    className=\"w-full py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:border-blue-600 hover:text-blue-600 transition-all\"\r\n                  >\r\n                    Sign In\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-black text-white py-8\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"text-center\">\r\n            <div className=\"flex items-center justify-center space-x-3 mb-4\">\r\n              <div className=\"w-8 h-8 bg-gradient-to-br from-green-600 to-emerald-600 rounded-lg flex items-center justify-center\">\r\n                <Milk className=\"w-4 h-4 text-white\" />\r\n              </div>\r\n              <span className=\"text-xl font-bold\">Poornasree Equipments Cloud</span>\r\n            </div>\r\n            <p className=\"text-gray-400 mb-4\">\r\n              Revolutionizing dairy analysis since 2011\r\n            </p>\r\n            <div className=\"text-sm text-gray-500\">\r\n              © 2025 Poornasree Equipments. All rights reserved.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49',\n      key: 'ct8e1f',\n    },\n  ],\n  ['path', { d: 'M14.084 14.158a3 3 0 0 1-4.242-4.242', key: '151rxh' }],\n  [\n    'path',\n    {\n      d: 'M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143',\n      key: '13bj9a',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5IiAvPgogIDxwYXRoIGQ9Ik0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MiIgLz4KICA8cGF0aCBkPSJNMTcuNDc5IDE3LjQ5OWExMC43NSAxMC43NSAwIDAgMS0xNS40MTctNS4xNTEgMSAxIDAgMCAxIDAtLjY5NiAxMC43NSAxMC43NSAwIDAgMSA0LjQ0Ni01LjE0MyIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('eye-off', __iconNode);\n\nexport default EyeOff;\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Save, X, Eye, EyeOff } from 'lucide-react';\r\n\r\ninterface FormField {\r\n  name: string;\r\n  label: string;\r\n  type: 'text' | 'email' | 'tel' | 'password' | 'number' | 'select';\r\n  required?: boolean;\r\n  placeholder?: string;\r\n  options?: { value: string | number; label: string }[];\r\n}\r\n\r\ninterface EntityFormProps {\r\n  title: string;\r\n  fields: FormField[];\r\n  onSubmit: (data: Record<string, string | number>) => void;\r\n  onCancel: () => void;\r\n  loading?: boolean;\r\n  submitText?: string;\r\n}\r\n\r\nexport default function EntityForm({ \r\n  title, \r\n  fields, \r\n  onSubmit, \r\n  onCancel, \r\n  loading = false, \r\n  submitText = \"Save\" \r\n}: EntityFormProps) {\r\n  const [formData, setFormData] = useState<Record<string, string | number>>({});\r\n  const [showPasswords, setShowPasswords] = useState<Record<string, boolean>>({});\r\n\r\n  const handleChange = (name: string, value: string | number) => {\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    onSubmit(formData);\r\n  };\r\n\r\n  const togglePasswordVisibility = (fieldName: string) => {\r\n    setShowPasswords(prev => ({ ...prev, [fieldName]: !prev[fieldName] }));\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      exit={{ opacity: 0, scale: 0.95 }}\r\n      className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\r\n    >\r\n      <motion.div\r\n        initial={{ y: 50 }}\r\n        animate={{ y: 0 }}\r\n        className=\"bg-white rounded-2xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-gray-800\">{title}</h2>\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {fields.map((field) => (\r\n            <div key={field.name}>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                {field.label}\r\n                {field.required && <span className=\"text-red-500 ml-1\">*</span>}\r\n              </label>\r\n              \r\n              {field.type === 'select' ? (\r\n                <select\r\n                  value={formData[field.name] || ''}\r\n                  onChange={(e) => handleChange(field.name, e.target.value)}\r\n                  required={field.required}\r\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all\"\r\n                >\r\n                  <option value=\"\">Select {field.label}</option>\r\n                  {field.options?.map((option) => (\r\n                    <option key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              ) : field.type === 'password' ? (\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type={showPasswords[field.name] ? 'text' : 'password'}\r\n                    value={formData[field.name] || ''}\r\n                    onChange={(e) => handleChange(field.name, e.target.value)}\r\n                    placeholder={field.placeholder}\r\n                    required={field.required}\r\n                    className=\"w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => togglePasswordVisibility(field.name)}\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                  >\r\n                    {showPasswords[field.name] ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <input\r\n                  type={field.type}\r\n                  value={formData[field.name] || ''}\r\n                  onChange={(e) => handleChange(field.name, field.type === 'number' ? parseInt(e.target.value) || 0 : e.target.value)}\r\n                  placeholder={field.placeholder}\r\n                  required={field.required}\r\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all\"\r\n                />\r\n              )}\r\n            </div>\r\n          ))}\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onCancel}\r\n              className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors\"\r\n              disabled={loading}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"flex-1 px-4 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n            >\r\n              <Save size={18} />\r\n              {loading ? 'Saving...' : submitText}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}","'use client';\r\n\r\nimport React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface FormModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  children: React.ReactNode;\r\n  maxWidth?: 'sm' | 'md' | 'lg' | 'xl' | '2xl';\r\n}\r\n\r\n/**\r\n * Reusable modal component with consistent styling and animations\r\n * Used for dairy, BMC, society, and machine forms\r\n */\r\nconst FormModal: React.FC<FormModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  maxWidth = 'lg'\r\n}) => {\r\n  const maxWidthClasses = {\r\n    sm: 'sm:max-w-sm',\r\n    md: 'sm:max-w-md',\r\n    lg: 'sm:max-w-lg md:max-w-2xl',\r\n    xl: 'sm:max-w-xl md:max-w-3xl',\r\n    '2xl': 'sm:max-w-2xl md:max-w-4xl'\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.div \r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-end sm:items-center justify-center z-[9999] p-0 sm:p-4\"\r\n          style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }}\r\n          onClick={(e) => {\r\n            if (e.target === e.currentTarget) onClose();\r\n          }}\r\n        >\r\n          <motion.div\r\n            initial={{ y: '100%', opacity: 0 }}\r\n            animate={{ y: 0, opacity: 1 }}\r\n            exit={{ y: '100%', opacity: 0 }}\r\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n            className={`bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-xl shadow-2xl w-full ${maxWidthClasses[maxWidth]} max-h-[90vh] overflow-y-auto`}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            {/* Mobile drag handle */}\r\n            <div className=\"sm:hidden flex justify-center pt-3 pb-1\">\r\n              <div className=\"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full\" />\r\n            </div>\r\n\r\n            {/* Modal Header */}\r\n            <div className=\"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100\">\r\n                  {title}\r\n                </h2>\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors\"\r\n                >\r\n                  <X className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Modal Content */}\r\n            <div className=\"p-4 sm:p-6\">\r\n              {children}\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default FormModal;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface FormInputProps {\r\n  label: string;\r\n  type?: 'text' | 'email' | 'tel' | 'date' | 'number' | 'password';\r\n  value: string | number;\r\n  onChange: (value: string) => void;\r\n  onBlur?: () => void;\r\n  placeholder?: string;\r\n  required?: boolean;\r\n  disabled?: boolean;\r\n  readOnly?: boolean;\r\n  error?: string;\r\n  className?: string;\r\n  colSpan?: 1 | 2;\r\n  maxLength?: number;\r\n  pattern?: string;\r\n  inputMode?: 'text' | 'decimal' | 'numeric' | 'tel' | 'search' | 'email' | 'url';\r\n  step?: string | number;\r\n  min?: string | number;\r\n  max?: string | number;\r\n  helperText?: string;\r\n}\r\n\r\n/**\r\n * Reusable input component with consistent styling\r\n * Used across dairy, BMC, society, and machine forms\r\n */\r\nconst FormInput: React.FC<FormInputProps> = ({\r\n  label,\r\n  type = 'text',\r\n  value,\r\n  onChange,\r\n  onBlur,\r\n  placeholder,\r\n  required = false,\r\n  disabled = false,\r\n  readOnly = false,\r\n  error,\r\n  className = '',\r\n  colSpan = 1,\r\n  maxLength,\r\n  pattern,\r\n  inputMode,\r\n  step,\r\n  min,\r\n  max,\r\n  helperText\r\n}) => {\r\n  const colSpanClass = colSpan === 2 ? 'sm:col-span-2' : '';\r\n  const errorClass = error ? 'border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20' : '';\r\n  const readOnlyClass = readOnly ? 'bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed' : '';\r\n\r\n  return (\r\n    <div className={`${colSpanClass} ${className}`}>\r\n      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n        {label} {required && <span className=\"text-red-500\">*</span>}\r\n      </label>\r\n      <input\r\n        type={type}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        onBlur={onBlur}\r\n        placeholder={placeholder}\r\n        required={required}\r\n        disabled={disabled}\r\n        readOnly={readOnly}\r\n        maxLength={maxLength}\r\n        pattern={pattern}\r\n        inputMode={inputMode}\r\n        step={step}\r\n        min={min}\r\n        max={max}\r\n        className={`form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 focus:outline-none ${errorClass} ${readOnlyClass}`}\r\n      />\r\n      {helperText && !error && (\r\n        <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">{helperText}</p>\r\n      )}\r\n      {error && (\r\n        <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">{error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormInput;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface SelectOption {\r\n  value: string | number;\r\n  label: string;\r\n}\r\n\r\ninterface FormSelectProps {\r\n  label: string;\r\n  value: string | number;\r\n  onChange: (value: string) => void;\r\n  options: SelectOption[];\r\n  placeholder?: string;\r\n  required?: boolean;\r\n  disabled?: boolean;\r\n  error?: string;\r\n  className?: string;\r\n  colSpan?: 1 | 2;\r\n}\r\n\r\n/**\r\n * Reusable select component with consistent styling\r\n * Used across dairy, BMC, society, and machine forms\r\n */\r\nconst FormSelect: React.FC<FormSelectProps> = ({\r\n  label,\r\n  value,\r\n  onChange,\r\n  options,\r\n  placeholder = 'Select an option',\r\n  required = false,\r\n  disabled = false,\r\n  error,\r\n  className = '',\r\n  colSpan = 1\r\n}) => {\r\n  const colSpanClass = colSpan === 2 ? 'sm:col-span-2' : '';\r\n  const errorClass = error ? 'border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20' : '';\r\n\r\n  return (\r\n    <div className={`${colSpanClass} ${className}`}>\r\n      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n        {label} {required && <span className=\"text-red-500\">*</span>}\r\n      </label>\r\n      <select\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        required={required}\r\n        disabled={disabled}\r\n        className={`w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 disabled:opacity-50 disabled:cursor-not-allowed ${errorClass}`}\r\n      >\r\n        <option value=\"\">{placeholder}</option>\r\n        {options.map((option, index) => (\r\n          <option key={index} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {error && (\r\n        <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">{error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormSelect;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface FormTextareaProps {\r\n  label: string;\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n  required?: boolean;\r\n  disabled?: boolean;\r\n  error?: string;\r\n  rows?: number;\r\n  className?: string;\r\n  colSpan?: 1 | 2;\r\n}\r\n\r\n/**\r\n * Reusable textarea component with consistent styling\r\n * Used across dairy, BMC, society, and machine forms\r\n */\r\nconst FormTextarea: React.FC<FormTextareaProps> = ({\r\n  label,\r\n  value,\r\n  onChange,\r\n  placeholder,\r\n  required = false,\r\n  disabled = false,\r\n  error,\r\n  rows = 3,\r\n  className = '',\r\n  colSpan = 1\r\n}) => {\r\n  const colSpanClass = colSpan === 2 ? 'sm:col-span-2' : '';\r\n  const errorClass = error ? 'border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20' : '';\r\n\r\n  return (\r\n    <div className={`${colSpanClass} ${className}`}>\r\n      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n        {label} {required && <span className=\"text-red-500\">*</span>}\r\n      </label>\r\n      <textarea\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        placeholder={placeholder}\r\n        required={required}\r\n        disabled={disabled}\r\n        rows={rows}\r\n        className={`w-full px-3 sm:px-4 py-2 sm:py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 resize-none disabled:opacity-50 disabled:cursor-not-allowed ${errorClass}`}\r\n      />\r\n      {error && (\r\n        <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">{error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormTextarea;","'use client';\r\n\r\nimport React from 'react';\r\nimport FlowerSpinner from '../loading/FlowerSpinner';\r\n\r\ninterface FormActionsProps {\r\n  onCancel: () => void;\r\n  onSubmit?: () => void;\r\n  submitText: string;\r\n  isLoading?: boolean;\r\n  isSubmitDisabled?: boolean;\r\n  showBorder?: boolean;\r\n  cancelText?: string;\r\n  submitType?: 'button' | 'submit';\r\n  loadingText?: string;\r\n  submitIcon?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Reusable form actions component with consistent button styling\r\n * Used across dairy, BMC, society, and machine forms\r\n */\r\nconst FormActions: React.FC<FormActionsProps> = ({\r\n  onCancel,\r\n  onSubmit,\r\n  submitText,\r\n  isLoading = false,\r\n  isSubmitDisabled = false,\r\n  showBorder = true,\r\n  cancelText = 'Cancel',\r\n  submitType = 'submit',\r\n  loadingText,\r\n  submitIcon\r\n}) => {\r\n  const borderClass = showBorder ? 'border-t border-gray-200 dark:border-gray-700' : '';\r\n\r\n  const handleSubmit = () => {\r\n    if (onSubmit) {\r\n      onSubmit();\r\n    }\r\n  };\r\n\r\n  const displayText = isLoading && loadingText ? loadingText : submitText;\r\n\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-3 pt-4 sm:pt-6 mt-6 sm:justify-end ${borderClass}`}>\r\n      <button\r\n        type=\"button\"\r\n        onClick={onCancel}\r\n        className=\"flex-1 sm:flex-none px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl transition-colors font-medium disabled:opacity-50\"\r\n        disabled={isLoading}\r\n      >\r\n        {cancelText}\r\n      </button>\r\n      <button\r\n        type={submitType}\r\n        onClick={submitType === 'button' ? handleSubmit : undefined}\r\n        disabled={isLoading || isSubmitDisabled}\r\n        className=\"flex-1 sm:flex-none px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n      >\r\n        {isLoading ? (\r\n          <FlowerSpinner size={16} />\r\n        ) : (\r\n          submitIcon && <span>{submitIcon}</span>\r\n        )}\r\n        <span>{displayText}</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormActions;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface FormGridProps {\r\n  children: React.ReactNode;\r\n  columns?: 1 | 2;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable form grid container component\r\n * Used across dairy, BMC, society, and machine forms\r\n */\r\nconst FormGrid: React.FC<FormGridProps> = ({\r\n  children,\r\n  columns = 2,\r\n  className = ''\r\n}) => {\r\n  const gridClass = columns === 1 ? 'grid-cols-1' : 'grid-cols-1 sm:grid-cols-2';\r\n\r\n  return (\r\n    <div className={`grid ${gridClass} gap-4 sm:gap-6 ${className}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormGrid;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface FormErrorProps {\r\n  error?: string | null;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable form error display component\r\n * Used across dairy, BMC, society, and machine forms\r\n */\r\nconst FormError: React.FC<FormErrorProps> = ({\r\n  error,\r\n  className = ''\r\n}) => {\r\n  if (!error) return null;\r\n\r\n  return (\r\n    <div className={`p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-400 rounded-xl text-sm ${className}`}>\r\n      {error}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormError;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 15V3', key: 'm9g1x1' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['path', { d: 'm7 10 5 5 5-5', key: 'brsn70' }],\n];\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTVWMyIgLz4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cGF0aCBkPSJtNyAxMCA1IDUgNS01IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('download', __iconNode);\n\nexport default Download;\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport interface ColumnOption {\r\n  key: string;\r\n  label: string;\r\n  required?: boolean;\r\n}\r\n\r\ninterface ColumnSelectorProps {\r\n  columns: ColumnOption[];\r\n  selectedColumns: string[];\r\n  onSelectionChange: (selectedColumns: string[]) => void;\r\n  className?: string;\r\n}\r\n\r\nconst ColumnSelector = ({ \r\n  columns, \r\n  selectedColumns, \r\n  onSelectionChange, \r\n  className = '' \r\n}: ColumnSelectorProps) => {\r\n  const [localSelected, setLocalSelected] = useState<string[]>(selectedColumns);\r\n\r\n  useEffect(() => {\r\n    setLocalSelected(selectedColumns);\r\n  }, [selectedColumns]);\r\n\r\n  const handleColumnToggle = (columnKey: string, isRequired: boolean = false) => {\r\n    if (isRequired) return; // Don't allow toggling required columns\r\n    \r\n    const newSelected = localSelected.includes(columnKey)\r\n      ? localSelected.filter(key => key !== columnKey)\r\n      : [...localSelected, columnKey];\r\n    \r\n    setLocalSelected(newSelected);\r\n    onSelectionChange(newSelected);\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    const allKeys = columns.map(col => col.key);\r\n    setLocalSelected(allKeys);\r\n    onSelectionChange(allKeys);\r\n  };\r\n\r\n  const handleSelectDefault = () => {\r\n    // Default columns: farmer ID, RF-ID, name, mobile, SMS, bonus\r\n    const defaultColumns = ['farmerId', 'rfId', 'farmerName', 'contactNumber', 'smsEnabled', 'bonus'];\r\n    const availableDefaults = defaultColumns.filter(key => \r\n      columns.some(col => col.key === key)\r\n    );\r\n    setLocalSelected(availableDefaults);\r\n    onSelectionChange(availableDefaults);\r\n  };\r\n\r\n  const handleClearAll = () => {\r\n    // Keep only required columns\r\n    const requiredColumns = columns\r\n      .filter(col => col.required)\r\n      .map(col => col.key);\r\n    setLocalSelected(requiredColumns);\r\n    onSelectionChange(requiredColumns);\r\n  };\r\n\r\n  return (\r\n    <div className={`space-y-4 ${className}`}>\r\n      {/* Quick selection buttons */}\r\n      <div className=\"flex flex-wrap gap-2\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleSelectDefault}\r\n          className=\"px-3 py-1.5 text-xs font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-600 rounded-md hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors\"\r\n        >\r\n          Default\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleSelectAll}\r\n          className=\"px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-600 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors\"\r\n        >\r\n          Select All\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleClearAll}\r\n          className=\"px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-900/30 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900/50 transition-colors\"\r\n        >\r\n          Clear All\r\n        </button>\r\n      </div>\r\n\r\n      {/* Column checkboxes */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto\">\r\n        {columns.map((column) => {\r\n          const isSelected = localSelected.includes(column.key);\r\n          const isRequired = column.required || false;\r\n          \r\n          return (\r\n            <label\r\n              key={column.key}\r\n              className={`flex items-center space-x-2 p-2 rounded-md cursor-pointer transition-colors ${\r\n                isSelected\r\n                  ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700'\r\n                  : 'bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-900/40'\r\n              } ${isRequired ? 'opacity-75' : ''}`}\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={isSelected}\r\n                onChange={() => handleColumnToggle(column.key, isRequired)}\r\n                disabled={isRequired}\r\n                className=\"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2 disabled:opacity-50\"\r\n              />\r\n              <span className={`text-sm ${isRequired ? 'text-gray-500 dark:text-gray-400' : 'text-gray-900 dark:text-gray-100'}`}>\r\n                {column.label}\r\n                {isRequired && <span className=\"text-xs text-green-600 dark:text-green-400 ml-1\">(Required)</span>}\r\n              </span>\r\n            </label>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Selection summary */}\r\n      <div className=\"text-xs text-gray-600 dark:text-gray-400\">\r\n        Selected: {localSelected.length} of {columns.length} columns\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ColumnSelector;","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  LoadingSpinner,\r\n  LoadingOverlay,\r\n  PageLoading,\r\n  LoadingButton,\r\n  FlowerSpinner,\r\n  Skeleton,\r\n  CardSkeleton,\r\n  TableSkeleton,\r\n  ListSkeleton,\r\n  useLoading\r\n} from '@/components';\r\n\r\nexport default function LoadingDemo() {\r\n  const [overlayLoading, setOverlayLoading] = useState(false);\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n  const [showPageLoading, setShowPageLoading] = useState(false);\r\n  const { showPageLoading: globalPageLoading, hidePageLoading } = useLoading();\r\n\r\n  const handleOverlayTest = () => {\r\n    setOverlayLoading(true);\r\n    setTimeout(() => setOverlayLoading(false), 3000);\r\n  };\r\n\r\n  const handleButtonTest = () => {\r\n    setButtonLoading(true);\r\n    setTimeout(() => setButtonLoading(false), 2000);\r\n  };\r\n\r\n  const handlePageLoadingTest = () => {\r\n    setShowPageLoading(true);\r\n    setTimeout(() => setShowPageLoading(false), 3000);\r\n  };\r\n\r\n  const handleGlobalLoadingTest = () => {\r\n    globalPageLoading('Testing global loading...');\r\n    setTimeout(() => hidePageLoading(), 3000);\r\n  };\r\n\r\n  if (showPageLoading) {\r\n    return <PageLoading text=\"Testing page loading...\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-8\">\r\n      <div className=\"max-w-6xl mx-auto space-y-8\">\r\n        <h1 className=\"text-4xl font-bold text-gray-800 mb-8\">Loading Components Demo</h1>\r\n\r\n        {/* Flower Spinners */}\r\n        <section className=\"bg-white rounded-lg p-6 shadow-lg\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">🌸 Flower Loading Spinners</h2>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-6\">\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">Size 16</p>\r\n              <FlowerSpinner size={16} />\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">Size 24</p>\r\n              <FlowerSpinner size={24} />\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">Size 32</p>\r\n              <FlowerSpinner size={32} />\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">Size 48</p>\r\n              <FlowerSpinner size={48} />\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">Size 64</p>\r\n              <FlowerSpinner size={64} />\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-6 p-4 bg-gray-800 rounded-lg\">\r\n            <h3 className=\"text-white font-medium mb-3\">On Dark Backgrounds</h3>\r\n            <div className=\"flex justify-center space-x-8\">\r\n              <FlowerSpinner size={32} className=\"brightness-150\" />\r\n              <FlowerSpinner size={48} className=\"brightness-200\" />\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Basic Spinners */}\r\n        <section className=\"bg-white rounded-lg p-6 shadow-lg\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">LoadingSpinner Component (with Text)</h2>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">Small</p>\r\n              <LoadingSpinner size=\"small\" />\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">Medium</p>\r\n              <LoadingSpinner size=\"medium\" />\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">Large</p>\r\n              <LoadingSpinner size=\"large\" />\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <p className=\"mb-4 font-medium\">XL</p>\r\n              <LoadingSpinner size=\"xl\" />\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Loading Overlay Demo */}\r\n        <section className=\"bg-white rounded-lg p-6 shadow-lg\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Loading Overlay</h2>\r\n          <button\r\n            onClick={handleOverlayTest}\r\n            className=\"mb-4 px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 shadow-lg shadow-green-500/25\"\r\n          >\r\n            Test Overlay Loading\r\n          </button>\r\n          \r\n          <LoadingOverlay isLoading={overlayLoading} text=\"Processing data...\">\r\n            <div className=\"h-48 bg-gray-100 rounded-lg p-6\">\r\n              <h3 className=\"text-lg font-medium mb-2\">Sample Content</h3>\r\n              <p>This content will be overlaid with loading spinner when the button is clicked.</p>\r\n              <div className=\"mt-4 space-y-2\">\r\n                <div className=\"h-4 bg-gray-200 rounded\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\r\n              </div>\r\n            </div>\r\n          </LoadingOverlay>\r\n        </section>\r\n\r\n        {/* Loading Buttons */}\r\n        <section className=\"bg-white rounded-lg p-6 shadow-lg\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Loading Buttons</h2>\r\n          <div className=\"space-x-4\">\r\n            <LoadingButton\r\n              isLoading={buttonLoading}\r\n              onClick={handleButtonTest}\r\n              variant=\"primary\"\r\n              loadingText=\"Submitting...\"\r\n            >\r\n              Primary Button\r\n            </LoadingButton>\r\n            \r\n            <LoadingButton\r\n              isLoading={buttonLoading}\r\n              onClick={handleButtonTest}\r\n              variant=\"secondary\"\r\n              loadingText=\"Processing...\"\r\n            >\r\n              Secondary Button\r\n            </LoadingButton>\r\n            \r\n            <LoadingButton\r\n              isLoading={buttonLoading}\r\n              onClick={handleButtonTest}\r\n              variant=\"outline\"\r\n              size=\"large\"\r\n              loadingText=\"Loading...\"\r\n            >\r\n              Large Outline Button\r\n            </LoadingButton>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Page Loading Tests */}\r\n        <section className=\"bg-white rounded-lg p-6 shadow-lg\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Page Loading</h2>\r\n          <div className=\"space-x-4\">\r\n            <button\r\n              onClick={handlePageLoadingTest}\r\n              className=\"px-4 py-2 bg-gradient-to-r from-teal-600 to-green-600 text-white rounded-lg hover:from-teal-700 hover:to-green-700 shadow-lg shadow-teal-500/25\"\r\n            >\r\n              Test Page Loading\r\n            </button>\r\n            <button\r\n              onClick={handleGlobalLoadingTest}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\r\n            >\r\n              Test Global Loading\r\n            </button>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Skeleton Loaders */}\r\n        <section className=\"bg-white rounded-lg p-6 shadow-lg\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Skeleton Loaders</h2>\r\n          \r\n          <div className=\"grid md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <h3 className=\"text-lg font-medium mb-3\">Basic Skeletons</h3>\r\n              <div className=\"space-y-3\">\r\n                <Skeleton variant=\"text\" />\r\n                <Skeleton variant=\"text\" lines={3} />\r\n                <Skeleton variant=\"rectangular\" height={100} />\r\n                <Skeleton variant=\"circular\" width={50} height={50} />\r\n              </div>\r\n            </div>\r\n            \r\n            <div>\r\n              <h3 className=\"text-lg font-medium mb-3\">Card Skeleton</h3>\r\n              <CardSkeleton />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mt-6\">\r\n            <h3 className=\"text-lg font-medium mb-3\">Table Skeleton</h3>\r\n            <TableSkeleton rows={4} columns={5} />\r\n          </div>\r\n          \r\n          <div className=\"mt-6\">\r\n            <h3 className=\"text-lg font-medium mb-3\">List Skeleton</h3>\r\n            <ListSkeleton items={4} />\r\n          </div>\r\n        </section>\r\n\r\n        {/* Usage Code Examples */}\r\n        <section className=\"bg-white rounded-lg p-6 shadow-lg\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Usage Examples</h2>\r\n          <div className=\"bg-gray-100 rounded-lg p-4 overflow-x-auto\">\r\n            <pre className=\"text-sm\">\r\n{`// Import components\r\nimport { LoadingSpinner, LoadingButton, useLoading } from '@/components';\r\n\r\n// Basic usage\r\n<LoadingSpinner size=\"large\" text=\"Loading data...\" />\r\n\r\n// Button with loading state\r\n<LoadingButton isLoading={loading} onClick={handleSubmit}>\r\n  Submit\r\n</LoadingButton>\r\n\r\n// Global loading state\r\nconst { showPageLoading, hidePageLoading } = useLoading();`}\r\n            </pre>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}","export { default as FormModal } from './FormModal';\r\nexport { default as FormInput } from './FormInput';\r\nexport { default as FormSelect } from './FormSelect';\r\nexport { default as FormTextarea } from './FormTextarea';\r\nexport { default as FormActions } from './FormActions';\r\nexport { default as FormGrid } from './FormGrid';\r\nexport { default as FormError } from './FormError';\r\nexport { default as CSVUploadModal } from './CSVUploadModal';","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Upload, X, FileText, AlertCircle, CheckCircle, Download } from 'lucide-react';\r\nimport { FlowerSpinner } from '@/components';\r\nimport { Society } from '@/types';\r\nimport { useLanguage } from '@/contexts/LanguageContext';\r\n\r\ninterface Machine {\r\n  id: number;\r\n  machineId: string;\r\n  machineType: string;\r\n  societyId: number;\r\n}\r\n\r\ninterface CSVUploadModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  societies: Society[];\r\n  onUploadComplete: () => void;\r\n}\r\n\r\ninterface UploadResult {\r\n  totalProcessed: number;\r\n  successCount: number;\r\n  failedCount: number;\r\n  failedFarmers: Array<{\r\n    row: number;\r\n    farmerId: string;\r\n    name: string;\r\n    error: string;\r\n  }>;\r\n}\r\n\r\nconst CSVUploadModal: React.FC<CSVUploadModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  societies,\r\n  onUploadComplete\r\n}) => {\r\n  const { t } = useLanguage();\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [selectedSociety, setSelectedSociety] = useState('');\r\n  const [selectedMachine, setSelectedMachine] = useState('');\r\n  const [machines, setMachines] = useState<Machine[]>([]);\r\n  const [machinesLoading, setMachinesLoading] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadResult, setUploadResult] = useState<UploadResult | null>(null);\r\n  const [error, setError] = useState('');\r\n\r\n  // Fetch machines for selected society\r\n  const fetchMachinesBySociety = async (societyId: string) => {\r\n    if (!societyId) {\r\n      setMachines([]);\r\n      return;\r\n    }\r\n\r\n    setMachinesLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch(`/api/user/machine/by-society?societyId=${societyId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMachines(data.data || []);\r\n      } else {\r\n        console.error('Failed to fetch machines');\r\n        setMachines([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching machines:', error);\r\n      setMachines([]);\r\n    } finally {\r\n      setMachinesLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setSelectedFile(null);\r\n    setSelectedSociety('');\r\n    setSelectedMachine('');\r\n    setMachines([]);\r\n    setUploadResult(null);\r\n    setError('');\r\n  };\r\n\r\n  const handleClose = () => {\r\n    handleReset();\r\n    onClose();\r\n  };\r\n\r\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      if (file.name.toLowerCase().endsWith('.csv')) {\r\n        setSelectedFile(file);\r\n        setError('');\r\n      } else {\r\n        setError(t.farmerManagement.csvFileOnly);\r\n        setSelectedFile(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedFile || !selectedSociety || !selectedMachine) {\r\n      setError(t.farmerManagement.pleaseSelectSocietyAndMachine);\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', selectedFile);\r\n      formData.append('societyId', selectedSociety);\r\n      formData.append('machineId', selectedMachine);\r\n\r\n      const token = localStorage.getItem('authToken');\r\n      const response = await fetch('/api/user/farmer/upload', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setUploadResult(data.data);\r\n        if (data.data.successCount > 0) {\r\n          onUploadComplete();\r\n        }\r\n      } else {\r\n        setError(data.message || t.farmerManagement.uploadError);\r\n      }\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n      setError(t.farmerManagement.uploadError + '. ' + t.farmerManagement.tryAgain);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const downloadSampleCSV = () => {\r\n    let csvContent = `ID,RF-ID,NAME,MOBILE,SMS,BONUS\r\n1,11111,John Doe,9446024632,OFF,0\r\n2,11112,Jane Smith,9446024633,ON,50\r\n3,11113,Bob Johnson,9446024634,OFF,0`;\r\n\r\n    // Add machine selection info as comments\r\n    if (selectedMachine && machines.length > 0) {\r\n      const selectedMachineObj = machines.find(m => m.id.toString() === selectedMachine);\r\n      if (selectedMachineObj) {\r\n        csvContent += `\r\n# Selected machine will be assigned to all farmers:\r\n# ${selectedMachineObj.id} - ${selectedMachineObj.machineId} (${selectedMachineObj.machineType})`;\r\n      }\r\n    } else if (machines.length > 0) {\r\n      csvContent += `\r\n# Available machines for selected society:`;\r\n      machines.forEach(machine => {\r\n        csvContent += `\r\n# ${machine.id} - ${machine.machineId} (${machine.machineType})`;\r\n      });\r\n    }\r\n\r\n    const blob = new Blob([csvContent], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `farmer_sample_${selectedSociety ? societies.find(s => s.id.toString() === selectedSociety)?.name.replace(/[^a-zA-Z0-9]/g, '_') : 'template'}.csv`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n        className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\r\n        onClick={(e) => e.target === e.currentTarget && handleClose()}\r\n      >\r\n        <motion.div\r\n          initial={{ scale: 0.95, opacity: 0 }}\r\n          animate={{ scale: 1, opacity: 1 }}\r\n          exit={{ scale: 0.95, opacity: 0 }}\r\n          className=\"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\"\r\n        >\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\r\n            <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n              {t.farmerManagement.csvUploadTitle}\r\n            </h2>\r\n            <button\r\n              onClick={handleClose}\r\n              className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {!uploadResult ? (\r\n              <>\r\n                {/* Instructions */}\r\n                <div className=\"mb-6 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg\">\r\n                  <h3 className=\"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2\">\r\n                    {t.farmerManagement.csvFormatRequirements}\r\n                  </h3>\r\n                  <ul className=\"text-xs text-blue-700 dark:text-blue-200 space-y-0.5\">\r\n                    <li>• {t.farmerManagement.csvHeaders}</li>\r\n                    <li>• {t.farmerManagement.csvIdRequired}</li>\r\n                    <li>• {t.farmerManagement.csvSmsValues}</li>\r\n                    <li>• {t.farmerManagement.csvBonusFormat}</li>\r\n                    <li>• {t.farmerManagement.csvMachineId}</li>\r\n                    <li>• {t.farmerManagement.csvRfIdUnique}</li>\r\n                    <li>• {t.farmerManagement.csvFarmerIdUnique}</li>\r\n                  </ul>\r\n                  <button\r\n                    onClick={downloadSampleCSV}\r\n                    className=\"mt-2 flex items-center text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors\"\r\n                  >\r\n                    <Download className=\"w-3.5 h-3.5 mr-1\" />\r\n                    {t.farmerManagement.downloadSampleTemplate}\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Society and Machine Selection - Same Row */}\r\n                <div className=\"mb-6\">\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    {/* Society Selection */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        {t.farmerManagement.selectDefaultSociety} <span className=\"text-red-500\">*</span>\r\n                      </label>\r\n                      <select\r\n                        value={selectedSociety}\r\n                        onChange={(e) => {\r\n                          setSelectedSociety(e.target.value);\r\n                          setSelectedMachine('');\r\n                          if (e.target.value) {\r\n                            fetchMachinesBySociety(e.target.value);\r\n                          }\r\n                        }}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-white\"\r\n                      >\r\n                        <option value=\"\">{t.farmerManagement.selectSociety}</option>\r\n                        {societies.map((society) => (\r\n                          <option key={society.id} value={society.id}>\r\n                            {society.name} ({society.society_id})\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n\r\n                    {/* Machine Selection */}\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        {t.farmerManagement.defaultMachine} <span className=\"text-red-500\">*</span>\r\n                      </label>\r\n                      {machinesLoading ? (\r\n                        <div className=\"flex items-center px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600\">\r\n                          <FlowerSpinner size={16} isLoading={true} className=\"mr-2\" />\r\n                          <span className=\"text-sm text-gray-600 dark:text-gray-400\">{t.common.loading}</span>\r\n                        </div>\r\n                      ) : (\r\n                        <select\r\n                          value={selectedMachine}\r\n                          onChange={(e) => setSelectedMachine(e.target.value)}\r\n                          disabled={!selectedSociety}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                          <option value=\"\">{t.farmerManagement.selectMachine}</option>\r\n                          {machines.map((machine) => (\r\n                            <option key={machine.id} value={machine.id}>\r\n                              {machine.machineId} - {machine.machineType}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Machine Status Info */}\r\n                  {selectedSociety && (\r\n                    <div className=\"mt-3\">\r\n                      {machines.length > 0 ? (\r\n                        <div className=\"p-3 bg-green-50 dark:bg-green-900/30 rounded-lg\">\r\n                          <p className=\"text-sm text-green-700 dark:text-green-200 mb-1\">\r\n                            {machines.length} {t.farmerManagement.machine}(s) {t.common.available} for this {t.farmerManagement.society}\r\n                          </p>\r\n                          <p className=\"text-xs text-green-600 dark:text-green-400\">\r\n                            {t.farmerManagement.csvMachineId}\r\n                          </p>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"p-3 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg\">\r\n                          <p className=\"text-sm text-yellow-700 dark:text-yellow-200\">\r\n                            {t.farmerManagement.noMachinesAvailable} {t.farmerManagement.addMachinesFirst}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* File Upload */}\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    {t.farmerManagement.selectCsvFile} <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <div className=\"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center\">\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\".csv\"\r\n                      onChange={handleFileSelect}\r\n                      className=\"hidden\"\r\n                      id=\"csv-upload\"\r\n                    />\r\n                    <label\r\n                      htmlFor=\"csv-upload\"\r\n                      className=\"cursor-pointer flex flex-col items-center\"\r\n                    >\r\n                      <Upload className=\"w-12 h-12 text-gray-400 mb-4\" />\r\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n                        {t.farmerManagement.selectCsvFile}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-500\">\r\n                        {t.farmerManagement.csvFilesOnly}, {t.farmerManagement.csvFileSizeLimit}\r\n                      </p>\r\n                    </label>\r\n                  </div>\r\n\r\n                  {selectedFile && (\r\n                    <div className=\"mt-3 flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n                      <FileText className=\"w-5 h-5 text-green-600 dark:text-green-400 mr-2\" />\r\n                      <span className=\"text-sm text-gray-700 dark:text-gray-300 flex-1\">\r\n                        {selectedFile.name}\r\n                      </span>\r\n                      <span className=\"text-xs text-gray-500\">\r\n                        {(selectedFile.size / 1024).toFixed(1)} KB\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Error Message */}\r\n                {error && (\r\n                  <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg flex items-start\">\r\n                    <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400 mr-2 flex-shrink-0 mt-0.5\" />\r\n                    <p className=\"text-sm text-red-700 dark:text-red-300\">{error}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex justify-end space-x-3\">\r\n                  <button\r\n                    onClick={handleClose}\r\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors\"\r\n                  >\r\n                    {t.common.cancel}\r\n                  </button>\r\n                  <button\r\n                    onClick={handleUpload}\r\n                    disabled={!selectedFile || !selectedSociety || !selectedMachine || isUploading}\r\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center\"\r\n                  >\r\n                    {isUploading ? (\r\n                      <>\r\n                        <FlowerSpinner size={16} isLoading={isUploading} className=\"mr-2\" />\r\n                        {t.farmerManagement.uploading}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Upload className=\"w-4 h-4 mr-2\" />\r\n                        {t.farmerManagement.uploadFarmers}\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                {/* Upload Results */}\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center p-4 bg-green-50 dark:bg-green-900/30 rounded-lg\">\r\n                    <CheckCircle className=\"w-6 h-6 text-green-600 dark:text-green-400 mr-3\" />\r\n                    <div>\r\n                      <h3 className=\"font-medium text-green-900 dark:text-green-100\">\r\n                        {t.farmerManagement.uploadComplete}\r\n                      </h3>\r\n                      <p className=\"text-sm text-green-700 dark:text-green-200\">\r\n                        {uploadResult.successCount} {t.common.of} {uploadResult.totalProcessed} {t.farmerManagement.farmers} {t.farmerManagement.successful}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {uploadResult.failedCount > 0 && (\r\n                    <div className=\"p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg\">\r\n                      <h4 className=\"font-medium text-yellow-900 dark:text-yellow-100 mb-2\">\r\n                        {t.farmerManagement.failedFarmers} ({uploadResult.failedCount})\r\n                      </h4>\r\n                      <div className=\"max-h-40 overflow-y-auto space-y-1\">\r\n                        {uploadResult.failedFarmers.map((failed, index) => (\r\n                          <div key={index} className=\"text-sm text-yellow-700 dark:text-yellow-200\">\r\n                            {t.farmerManagement.row} {failed.row}: {failed.name} ({failed.farmerId}) - {failed.error}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                      onClick={handleReset}\r\n                      className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors\"\r\n                    >\r\n                      {t.farmerManagement.uploadAnother}\r\n                    </button>\r\n                    <button\r\n                      onClick={handleClose}\r\n                      className=\"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors\"\r\n                    >\r\n                      {t.common.close}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </motion.div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default CSVUploadModal;","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Download, FileText } from 'lucide-react';\r\nimport { FormModal, LoadingButton } from '@/components';\r\nimport ColumnSelector, { ColumnOption } from './ColumnSelector';\r\n\r\ninterface ColumnSelectionModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onDownload: (selectedColumns: string[], format: 'csv' | 'pdf') => Promise<void>;\r\n  availableColumns: ColumnOption[];\r\n  defaultColumns?: string[];\r\n  title?: string;\r\n  isDownloading?: boolean;\r\n}\r\n\r\nconst ColumnSelectionModal = ({\r\n  isOpen,\r\n  onClose,\r\n  onDownload,\r\n  availableColumns,\r\n  defaultColumns = ['farmerId', 'rfId', 'farmerName', 'contactNumber', 'smsEnabled', 'bonus'],\r\n  title = 'Select Columns for Download',\r\n  isDownloading = false\r\n}: ColumnSelectionModalProps) => {\r\n  const [selectedColumns, setSelectedColumns] = useState<string[]>(defaultColumns);\r\n  const [downloadFormat, setDownloadFormat] = useState<'csv' | 'pdf'>('csv');\r\n\r\n  const handleDownload = async () => {\r\n    if (selectedColumns.length === 0) {\r\n      alert('Please select at least one column to download.');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await onDownload(selectedColumns, downloadFormat);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Download failed:', error);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (!isDownloading) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormModal\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      title={title}\r\n    >\r\n      <div className=\"space-y-6\">\r\n        {/* Format Selection */}\r\n        <div className=\"space-y-3\">\r\n          <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100\">\r\n            Download Format\r\n          </label>\r\n          <div className=\"flex gap-3\">\r\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"format\"\r\n                value=\"csv\"\r\n                checked={downloadFormat === 'csv'}\r\n                onChange={(e) => setDownloadFormat(e.target.value as 'csv' | 'pdf')}\r\n                className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2\"\r\n                disabled={isDownloading}\r\n              />\r\n              <Download className=\"w-4 h-4 text-blue-600\" />\r\n              <span className=\"text-sm text-gray-900 dark:text-gray-100\">CSV</span>\r\n            </label>\r\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"format\"\r\n                value=\"pdf\"\r\n                checked={downloadFormat === 'pdf'}\r\n                onChange={(e) => setDownloadFormat(e.target.value as 'csv' | 'pdf')}\r\n                className=\"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 focus:ring-2\"\r\n                disabled={isDownloading}\r\n              />\r\n              <FileText className=\"w-4 h-4 text-purple-600\" />\r\n              <span className=\"text-sm text-gray-900 dark:text-gray-100\">PDF</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Column Selection */}\r\n        <div className=\"space-y-3\">\r\n          <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100\">\r\n            Select Columns to Include\r\n          </label>\r\n          <div className=\"border border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-900/20\">\r\n            <ColumnSelector\r\n              columns={availableColumns}\r\n              selectedColumns={selectedColumns}\r\n              onSelectionChange={setSelectedColumns}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Preview */}\r\n        <div className=\"space-y-3\">\r\n          <label className=\"block text-sm font-medium text-gray-900 dark:text-gray-100\">\r\n            Selected Columns Preview\r\n          </label>\r\n          <div className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-3\">\r\n            <div className=\"flex flex-wrap gap-1\">\r\n              {selectedColumns.length > 0 ? (\r\n                selectedColumns.map((columnKey, index) => {\r\n                  const column = availableColumns.find(col => col.key === columnKey);\r\n                  return (\r\n                    <span\r\n                      key={columnKey}\r\n                      className=\"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200\"\r\n                    >\r\n                      {column?.label || columnKey}\r\n                      {index < selectedColumns.length - 1 && <span className=\"ml-1\">•</span>}\r\n                    </span>\r\n                  );\r\n                })\r\n              ) : (\r\n                <span className=\"text-sm text-gray-500 dark:text-gray-400 italic\">\r\n                  No columns selected\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex flex-col sm:flex-row gap-3 pt-4\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleClose}\r\n            disabled={isDownloading}\r\n            className=\"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <LoadingButton\r\n            onClick={handleDownload}\r\n            isLoading={isDownloading}\r\n            disabled={selectedColumns.length === 0}\r\n            className=\"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-blue-600 dark:bg-blue-700 hover:bg-blue-700 dark:hover:bg-blue-800 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {downloadFormat === 'csv' ? (\r\n              <>\r\n                <Download className=\"w-4 h-4 mr-2\" />\r\n                Download CSV\r\n              </>\r\n            ) : (\r\n              <>\r\n                <FileText className=\"w-4 h-4 mr-2\" />\r\n                Download PDF\r\n              </>\r\n            )}\r\n          </LoadingButton>\r\n        </div>\r\n      </div>\r\n    </FormModal>\r\n  );\r\n};\r\n\r\nexport default ColumnSelectionModal;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7', key: '1m0v6g' }],\n  [\n    'path',\n    {\n      d: 'M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z',\n      key: 'ohrbg2',\n    },\n  ],\n];\n\n/**\n * @component @name SquarePen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC4zNzUgMi42MjVhMSAxIDAgMCAxIDMgM2wtOS4wMTMgOS4wMTRhMiAyIDAgMCAxLS44NTMuNTA1bC0yLjg3My44NGEuNS41IDAgMCAxLS42Mi0uNjJsLjg0LTIuODczYTIgMiAwIDAgMSAuNTA2LS44NTJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square-pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquarePen = createLucideIcon('square-pen', __iconNode);\n\nexport default SquarePen;\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Plus, Search, Edit, Trash2, Eye } from 'lucide-react';\r\nimport EntityForm from '@/components/forms/EntityForm';\r\nimport { FlowerSpinner } from '@/components';\r\n\r\ninterface Entity {\r\n  id: number;\r\n  name: string;\r\n  dairy_id?: string;\r\n  bmc_id?: string;\r\n  society_id?: string;\r\n  dairyId?: string;\r\n  bmcId?: string;\r\n  societyId?: string;\r\n  location?: string;\r\n  capacity?: number;\r\n  contact_person?: string;\r\n  president_name?: string;\r\n}\r\n\r\ninterface EntityManagerProps {\r\n  entityType: 'dairy' | 'bmc' | 'society';\r\n  title: string;\r\n  icon: React.ReactNode;\r\n  apiEndpoint: string;\r\n}\r\n\r\nconst entityConfigs = {\r\n  dairy: {\r\n    fields: [\r\n      { name: 'name', label: 'Dairy Name', type: 'text' as const, required: true, placeholder: 'Enter dairy name' },\r\n      { name: 'dairyId', label: 'Dairy ID', type: 'text' as const, required: true, placeholder: 'Enter unique dairy ID' },\r\n      { name: 'password', label: 'Password', type: 'password' as const, required: true, placeholder: 'Enter secure password' },\r\n      { name: 'location', label: 'Location', type: 'text' as const, placeholder: 'Enter location (optional)' },\r\n      { name: 'contactPerson', label: 'Contact Person', type: 'text' as const, placeholder: 'Enter contact person name' },\r\n      { name: 'phone', label: 'Phone', type: 'tel' as const, placeholder: 'Enter phone number' },\r\n      { name: 'email', label: 'Email', type: 'email' as const, placeholder: 'Enter email address' }\r\n    ]\r\n  },\r\n  bmc: {\r\n    fields: [\r\n      { name: 'name', label: 'BMC Name', type: 'text' as const, required: true, placeholder: 'Enter BMC name' },\r\n      { name: 'bmcId', label: 'BMC ID', type: 'text' as const, required: true, placeholder: 'Enter unique BMC ID' },\r\n      { name: 'password', label: 'Password', type: 'password' as const, required: true, placeholder: 'Enter secure password' },\r\n      { name: 'location', label: 'Location', type: 'text' as const, placeholder: 'Enter location (optional)' },\r\n      { name: 'capacity', label: 'Capacity (Liters)', type: 'number' as const, placeholder: 'Enter capacity in liters' },\r\n      { name: 'dairyFarmId', label: 'Dairy Farm', type: 'select' as const, options: [] }\r\n    ]\r\n  },\r\n  society: {\r\n    fields: [\r\n      { name: 'name', label: 'Society Name', type: 'text' as const, required: true, placeholder: 'Enter society name' },\r\n      { name: 'societyId', label: 'Society ID', type: 'text' as const, required: true, placeholder: 'Enter unique society ID' },\r\n      { name: 'password', label: 'Password', type: 'password' as const, required: true, placeholder: 'Enter secure password' },\r\n      { name: 'location', label: 'Location', type: 'text' as const, placeholder: 'Enter location (optional)' },\r\n      { name: 'presidentName', label: 'President Name', type: 'text' as const, placeholder: 'Enter president name' },\r\n      { name: 'contactPhone', label: 'Contact Phone', type: 'tel' as const, placeholder: 'Enter contact phone' },\r\n      { name: 'bmcId', label: 'BMC', type: 'select' as const, options: [] }\r\n    ]\r\n  }\r\n};\r\n\r\nexport default function EntityManager({ entityType, title, icon, apiEndpoint }: EntityManagerProps) {\r\n  const [entities, setEntities] = useState<Entity[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [dairyFarms, setDairyFarms] = useState([]);\r\n  const [bmcs, setBmcs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      await fetchEntities();\r\n      if (entityType === 'bmc') {\r\n        await fetchDairyFarms();\r\n      } else if (entityType === 'society') {\r\n        await fetchBmcs();\r\n      }\r\n    };\r\n    loadData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [entityType, apiEndpoint]);\r\n\r\n  const fetchEntities = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/user/${apiEndpoint}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setEntities(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error fetching ${entityType}s:`, error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchDairyFarms = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/user/dairy', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setDairyFarms(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching dairy farms:', error);\r\n    }\r\n  };\r\n\r\n  const fetchBmcs = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/user/bmc', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setBmcs(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching BMCs:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (formData: Record<string, string | number>) => {\r\n    try {\r\n      setFormLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      \r\n      const response = await fetch(`/api/user/${apiEndpoint}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        setShowForm(false);\r\n        await fetchEntities();\r\n        // Show success message\r\n        alert(`${title} added successfully!`);\r\n      } else {\r\n        const error = await response.json();\r\n        alert(error.error || `Failed to add ${entityType}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error adding ${entityType}:`, error);\r\n      alert(`Failed to add ${entityType}`);\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredEntities = entities.filter(entity =>\r\n    entity.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Prepare form fields with options\r\n  const formConfig = { ...entityConfigs[entityType] };\r\n  if (entityType === 'bmc') {\r\n    const dairyField = formConfig.fields.find(f => f.name === 'dairyFarmId');\r\n    if (dairyField) {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      (dairyField as any).options = dairyFarms.map((dairy: Entity) => ({\r\n        value: dairy.id,\r\n        label: dairy.name\r\n      }));\r\n    }\r\n  } else if (entityType === 'society') {\r\n    const bmcField = formConfig.fields.find(f => f.name === 'bmcId');\r\n    if (bmcField) {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      (bmcField as any).options = bmcs.map((bmc: Entity) => ({\r\n        value: bmc.id,\r\n        label: bmc.name\r\n      }));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center gap-3\">\r\n          {icon}\r\n          <h2 className=\"text-2xl font-bold text-gray-800\">{title}</h2>\r\n          <span className=\"px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full text-sm font-medium\">\r\n            {entities.length}\r\n          </span>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowForm(true)}\r\n          className=\"px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors flex items-center gap-2\"\r\n        >\r\n          <Plus size={18} />\r\n          Add {title}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <div className=\"relative mb-6\">\r\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\r\n        <input\r\n          type=\"text\"\r\n          placeholder={`Search ${title.toLowerCase()}s...`}\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-xl placeholder-gray-500 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none transition-all duration-200\"\r\n          style={{ \r\n            color: '#111827',\r\n            backgroundColor: '#ffffff',\r\n            WebkitTextFillColor: '#111827'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Loading State */}\r\n      {loading ? (\r\n        <div className=\"flex items-center justify-center py-12\">\r\n          <FlowerSpinner size={32} />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Entities Grid */}\r\n          {filteredEntities.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {filteredEntities.map((entity) => (\r\n                <motion.div\r\n                  key={entity.id}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  className=\"p-4 border border-gray-200 rounded-xl hover:border-emerald-300 transition-colors group\"\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <h3 className=\"font-semibold text-gray-800 truncate\">{entity.name}</h3>\r\n                    <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                      <button className=\"p-1 text-gray-400 hover:text-emerald-600 transition-colors\">\r\n                        <Eye size={16} />\r\n                      </button>\r\n                      <button className=\"p-1 text-gray-400 hover:text-green-600 transition-colors\">\r\n                        <Edit size={16} />\r\n                      </button>\r\n                      <button className=\"p-1 text-gray-400 hover:text-red-600 transition-colors\">\r\n                        <Trash2 size={16} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-2 text-sm text-gray-600\">\r\n                    <p><span className=\"font-medium\">ID:</span> {entity[`${entityType}_id`] || entity[`${entityType}Id`]}</p>\r\n                    {entity.location && <p><span className=\"font-medium\">Location:</span> {entity.location}</p>}\r\n                    {entity.capacity && <p><span className=\"font-medium\">Capacity:</span> {entity.capacity}L</p>}\r\n                    {entity.contact_person && <p><span className=\"font-medium\">Contact:</span> {entity.contact_person}</p>}\r\n                    {entity.president_name && <p><span className=\"font-medium\">President:</span> {entity.president_name}</p>}\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"text-gray-400 mb-2\">{icon}</div>\r\n              <h3 className=\"text-lg font-medium text-gray-600 mb-2\">No {title}s Found</h3>\r\n              <p className=\"text-gray-500 mb-4\">\r\n                {searchTerm \r\n                  ? `No ${title.toLowerCase()}s match your search.` \r\n                  : `Start by adding your first ${title.toLowerCase()}.`\r\n                }\r\n              </p>\r\n              {!searchTerm && (\r\n                <button\r\n                  onClick={() => setShowForm(true)}\r\n                  className=\"px-6 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors\"\r\n                >\r\n                  Add {title}\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Add Form Modal */}\r\n      <AnimatePresence>\r\n        {showForm && (\r\n          <EntityForm\r\n            title={`Add New ${title}`}\r\n            fields={formConfig.fields}\r\n            onSubmit={handleSubmit}\r\n            onCancel={() => setShowForm(false)}\r\n            loading={formLoading}\r\n            submitText={`Add ${title}`}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}","'use client';\r\n\r\nimport React from 'react';\r\nimport { RefreshCw, Plus } from 'lucide-react';\r\n\r\ninterface PageHeaderProps {\r\n  title: string;\r\n  subtitle: string;\r\n  icon: React.ReactNode;\r\n  refreshText?: string;\r\n  addButtonText?: string;\r\n  onRefresh?: () => void;\r\n  onAdd?: () => void;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable page header component with icon, title, subtitle and action buttons\r\n * Used across dairy, BMC, society, and machine management pages\r\n */\r\nconst PageHeader: React.FC<PageHeaderProps> = ({\r\n  title,\r\n  subtitle,\r\n  icon,\r\n  refreshText = 'Refresh',\r\n  addButtonText = 'Add',\r\n  onRefresh,\r\n  onAdd,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-4 sm:gap-0 sm:items-center sm:justify-between ${className}`}>\r\n      <div className=\"flex items-center space-x-2 sm:space-x-3\">\r\n        <div className=\"p-2 sm:p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg sm:rounded-xl\">\r\n          {icon}\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100\">\r\n            {title}\r\n          </h1>\r\n          <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-0.5 sm:mt-1\">\r\n            {subtitle}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto\">\r\n        {onRefresh && (\r\n          <button\r\n            onClick={onRefresh}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 py-2.5 text-sm sm:text-base text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\r\n          >\r\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n            {refreshText}\r\n          </button>\r\n        )}\r\n        {onAdd && (\r\n          <button\r\n            onClick={onAdd}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 sm:px-6 py-2.5 text-sm sm:text-base bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n          >\r\n            <Plus className=\"w-4 h-4 mr-2\" />\r\n            {addButtonText}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageHeader;","'use client';\r\n\r\nimport React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { CheckCircle, X, AlertCircle } from 'lucide-react';\r\n\r\ninterface StatusMessageProps {\r\n  success?: string;\r\n  error?: string;\r\n  className?: string;\r\n  onClose?: () => void;\r\n}\r\n\r\n/**\r\n * Reusable status message component for success and error notifications\r\n * Used across all management pages for consistent feedback\r\n * Styled as a modern snackbar with Material Design 3 principles\r\n */\r\nconst StatusMessage: React.FC<StatusMessageProps> = ({\r\n  success,\r\n  error,\r\n  className = '',\r\n  onClose\r\n}) => {\r\n  return (\r\n    <AnimatePresence>\r\n      {success && (\r\n        <motion.div\r\n          key=\"success-message\"\r\n          initial={{ opacity: 0, x: 400 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          exit={{ opacity: 0, x: 400 }}\r\n          transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n          className={`fixed top-6 right-6 z-[99999] flex items-center gap-3 p-4 pr-12 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 border-l-4 border-green-600 dark:border-green-500 text-green-800 dark:text-green-200 rounded-lg shadow-lg shadow-green-500/20 dark:shadow-green-500/10 backdrop-blur-sm max-w-md ${className}`}\r\n        >\r\n          <div className=\"flex-shrink-0 p-1 bg-green-100 dark:bg-green-900/50 rounded-full\">\r\n            <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\r\n          </div>\r\n          <p className=\"flex-1 font-medium text-sm\">{success}</p>\r\n          {onClose && (\r\n            <button\r\n              onClick={onClose}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-green-100 dark:hover:bg-green-900/50 rounded-full transition-colors\"\r\n              aria-label=\"Close notification\"\r\n            >\r\n              <X className=\"w-4 h-4 text-green-600 dark:text-green-400\" />\r\n            </button>\r\n          )}\r\n        </motion.div>\r\n      )}\r\n      {error && (\r\n        <motion.div\r\n          key=\"error-message\"\r\n          initial={{ opacity: 0, x: 400 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          exit={{ opacity: 0, x: 400 }}\r\n          transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n          className={`fixed top-6 right-6 z-[99999] flex items-center gap-3 p-4 pr-12 bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/30 border-l-4 border-red-600 dark:border-red-500 text-red-800 dark:text-red-200 rounded-lg shadow-lg shadow-red-500/20 dark:shadow-red-500/10 backdrop-blur-sm max-w-md ${className}`}\r\n        >\r\n          <div className=\"flex-shrink-0 p-1 bg-red-100 dark:bg-red-900/50 rounded-full\">\r\n            <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400\" />\r\n          </div>\r\n          <p className=\"flex-1 font-medium text-sm\">{error}</p>\r\n          {onClose && (\r\n            <button\r\n              onClick={onClose}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full transition-colors\"\r\n              aria-label=\"Close notification\"\r\n            >\r\n              <X className=\"w-4 h-4 text-red-600 dark:text-red-400\" />\r\n            </button>\r\n          )}\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default StatusMessage;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface StatsCardProps {\r\n  title: string;\r\n  value: number | string;\r\n  icon: React.ReactNode;\r\n  color?: 'green' | 'red' | 'yellow' | 'blue' | 'gray';\r\n  className?: string;\r\n  onClick?: () => void;\r\n  clickable?: boolean;\r\n  isActive?: boolean;\r\n}\r\n\r\n/**\r\n * Reusable statistics card component\r\n * Used across all management pages for displaying key metrics\r\n */\r\nconst StatsCard: React.FC<StatsCardProps> = ({\r\n  title,\r\n  value,\r\n  icon,\r\n  color = 'green',\r\n  className = '',\r\n  onClick,\r\n  clickable = false,\r\n  isActive = false\r\n}) => {\r\n  const getColorClasses = (color: string) => {\r\n    switch (color) {\r\n      case 'green':\r\n        return {\r\n          bg: 'bg-green-100 dark:bg-green-900/30',\r\n          text: 'text-green-600 dark:text-green-400',\r\n          valueText: 'text-green-600 dark:text-green-400'\r\n        };\r\n      case 'red':\r\n        return {\r\n          bg: 'bg-red-100 dark:bg-red-900/30',\r\n          text: 'text-red-600 dark:text-red-400',\r\n          valueText: 'text-red-600 dark:text-red-400'\r\n        };\r\n      case 'yellow':\r\n        return {\r\n          bg: 'bg-yellow-100 dark:bg-yellow-900/30',\r\n          text: 'text-yellow-600 dark:text-yellow-400',\r\n          valueText: 'text-yellow-600 dark:text-yellow-400'\r\n        };\r\n      case 'blue':\r\n        return {\r\n          bg: 'bg-blue-100 dark:bg-blue-900/30',\r\n          text: 'text-blue-600 dark:text-blue-400',\r\n          valueText: 'text-blue-600 dark:text-blue-400'\r\n        };\r\n      default:\r\n        return {\r\n          bg: 'bg-gray-100 dark:bg-gray-900/30',\r\n          text: 'text-gray-600 dark:text-gray-400',\r\n          valueText: 'text-gray-900 dark:text-gray-100'\r\n        };\r\n    }\r\n  };\r\n\r\n  const colorClasses = getColorClasses(color);\r\n\r\n  const getActiveClasses = () => {\r\n    if (!isActive) return '';\r\n    \r\n    switch (color) {\r\n      case 'green':\r\n        return 'ring-2 ring-green-500 bg-green-50 dark:bg-green-900/20';\r\n      case 'red':\r\n        return 'ring-2 ring-red-500 bg-red-50 dark:bg-red-900/20';\r\n      case 'yellow':\r\n        return 'ring-2 ring-yellow-500 bg-yellow-50 dark:bg-yellow-900/20';\r\n      case 'blue':\r\n        return 'ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20';\r\n      default:\r\n        return 'ring-2 ring-gray-500 bg-gray-50 dark:bg-gray-900/20';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`bg-white dark:bg-gray-800 p-4 sm:p-5 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm transition-all ${\r\n        clickable ? 'cursor-pointer hover:shadow-lg hover:scale-105' : ''\r\n      } ${getActiveClasses()} ${className}`}\r\n      onClick={onClick}\r\n      role={clickable ? 'button' : undefined}\r\n      tabIndex={clickable ? 0 : undefined}\r\n      onKeyDown={clickable ? (e) => e.key === 'Enter' && onClick?.() : undefined}\r\n    >\r\n      <div className=\"flex flex-col gap-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className={`p-1 rounded-lg ${colorClasses.bg} flex-shrink-0`}>\r\n            <div className={`w-3 h-3 ${colorClasses.text}`}>\r\n              {icon}\r\n            </div>\r\n          </div>\r\n          <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 whitespace-nowrap overflow-hidden text-ellipsis\">\r\n            {title}\r\n          </p>\r\n        </div>\r\n        <p className={`text-xl sm:text-2xl font-bold ${colorClasses.valueText} leading-none overflow-hidden text-ellipsis`}>\r\n          {value}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatsCard;","'use client';\r\n\r\nimport React from 'react';\r\nimport { Building2 } from 'lucide-react';\r\n\r\ninterface FilterOption {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\ninterface FilterControlsProps {\r\n  icon?: React.ReactNode;\r\n  showingText: string;\r\n  filterLabel?: string;\r\n  filterValue: string;\r\n  filterOptions: FilterOption[];\r\n  onFilterChange: (value: string) => void;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable filter controls component\r\n * Used across all management pages for consistent filtering interface\r\n */\r\nconst FilterControls: React.FC<FilterControlsProps> = ({\r\n  icon = <Building2 className=\"w-4 h-4 flex-shrink-0\" />,\r\n  showingText,\r\n  filterLabel = 'Filter:',\r\n  filterValue,\r\n  filterOptions,\r\n  onFilterChange,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-3 sm:gap-0 sm:items-center sm:justify-between bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 ${className}`}>\r\n      <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n        {icon}\r\n        <span className=\"font-medium\">{showingText}</span>\r\n      </div>\r\n      \r\n      <div className=\"flex items-center space-x-2 sm:space-x-3\">\r\n        <label className=\"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 flex-shrink-0\">\r\n          {filterLabel}\r\n        </label>\r\n        <select\r\n          value={filterValue}\r\n          onChange={(e) => onFilterChange(e.target.value)}\r\n          className=\"flex-1 sm:flex-initial px-3 sm:px-4 py-2 !bg-white dark:!bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-xs sm:text-sm !text-gray-900 dark:!text-gray-100 focus:ring-2 focus:!ring-emerald-500 focus:!border-emerald-500 outline-none transition-all\"\r\n          style={{ \r\n            color: 'inherit',\r\n            outlineColor: '#059669 !important',\r\n            boxShadow: 'none'\r\n          }}\r\n        >\r\n          {filterOptions.map((option) => (\r\n            <option \r\n              key={option.value} \r\n              value={option.value}\r\n              className=\"!bg-white dark:!bg-gray-900 !text-gray-900 dark:!text-gray-100\" \r\n              style={{ color: '#1f2937' }}\r\n            >\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterControls;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface StatusOption {\r\n  status: string;\r\n  label: string;\r\n  color: string;\r\n  bgColor: string;\r\n}\r\n\r\ninterface StatusDropdownProps {\r\n  currentStatus: string;\r\n  onStatusChange: (status: string) => void;\r\n  options?: StatusOption[];\r\n  className?: string;\r\n  compact?: boolean;\r\n}\r\n\r\nconst defaultStatusOptions: StatusOption[] = [\r\n  {\r\n    status: 'active',\r\n    label: 'Active',\r\n    color: 'bg-green-500',\r\n    bgColor: 'hover:bg-green-50 dark:hover:bg-green-900/30'\r\n  },\r\n  {\r\n    status: 'inactive',\r\n    label: 'Inactive',\r\n    color: 'bg-red-500',\r\n    bgColor: 'hover:bg-red-50 dark:hover:bg-red-900/30'\r\n  },\r\n  {\r\n    status: 'suspended',\r\n    label: 'Suspended',\r\n    color: 'bg-yellow-500',\r\n    bgColor: 'hover:bg-yellow-50 dark:hover:bg-yellow-900/30'\r\n  },\r\n  {\r\n    status: 'maintenance',\r\n    label: 'Maintenance',\r\n    color: 'bg-blue-500',\r\n    bgColor: 'hover:bg-blue-50 dark:hover:bg-blue-900/30'\r\n  }\r\n];\r\n\r\n/**\r\n * Reusable status dropdown component\r\n * Used across all management pages for changing item status\r\n */\r\nconst StatusDropdown: React.FC<StatusDropdownProps> = ({\r\n  currentStatus,\r\n  onStatusChange,\r\n  options = defaultStatusOptions,\r\n  className = '',\r\n  compact = false\r\n}) => {\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'active': \r\n        return 'bg-green-600 hover:bg-green-700 text-white';\r\n      case 'inactive': \r\n        return 'bg-red-600 hover:bg-red-700 text-white';\r\n      case 'maintenance': \r\n        return 'bg-yellow-600 hover:bg-yellow-700 text-white';\r\n      case 'suspended': \r\n        return 'bg-orange-600 hover:bg-orange-700 text-white';\r\n      default: \r\n        return 'bg-gray-600 hover:bg-gray-700 text-white';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`relative group ${className}`}>\r\n      <button\r\n        className={`${compact ? 'px-3 py-1.5' : 'px-3 py-1.5'} text-xs font-medium rounded-lg transition-colors flex items-center space-x-1 ${getStatusColor(currentStatus)}`}\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          const btn = e.currentTarget;\r\n          const dropdown = btn.nextElementSibling as HTMLElement;\r\n          if (dropdown) {\r\n            dropdown.classList.toggle('hidden');\r\n          }\r\n        }}\r\n      >\r\n        <span>{currentStatus.charAt(0).toUpperCase() + currentStatus.slice(1)}</span>\r\n        <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n        </svg>\r\n      </button>\r\n      <div className=\"hidden absolute right-0 bottom-full mb-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 min-w-[140px]\">\r\n        {options.map((option, index) => (\r\n          <button\r\n            key={option.status}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onStatusChange(option.status);\r\n              (e.currentTarget.parentElement as HTMLElement).classList.add('hidden');\r\n            }}\r\n            className={`w-full px-3 py-2 text-left text-sm ${option.bgColor} text-gray-700 dark:text-gray-300 flex items-center space-x-2 ${\r\n              index === 0 ? 'rounded-t-lg' : ''\r\n            } ${index === options.length - 1 ? 'rounded-b-lg' : ''}`}\r\n          >\r\n            <span className={`w-2 h-2 rounded-full ${option.color}`}></span>\r\n            <span>{option.label}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusDropdown;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M13 21h8', key: '1jsn5i' }],\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMgMjFoOCIgLz4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('pen-line', __iconNode);\n\nexport default PenLine;\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Edit3, Trash2, Eye, Lock } from 'lucide-react';\r\nimport StatusDropdown from './StatusDropdown';\r\n\r\ninterface DetailItem {\r\n  icon: React.ReactNode;\r\n  text: string | React.ReactNode;\r\n  show?: boolean;\r\n  highlight?: boolean; // New property for highlighting\r\n  className?: string; // Custom className for styling\r\n}\r\n\r\n// Helper function to highlight matching text\r\nconst highlightText = (text: string, searchQuery: string) => {\r\n  if (!searchQuery) return text;\r\n  \r\n  const regex = new RegExp(`(${searchQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\r\n  const parts = text.split(regex);\r\n  \r\n  return parts.map((part, index) => \r\n    regex.test(part) ? (\r\n      <span key={index} className=\"bg-yellow-200 dark:bg-yellow-800 px-0.5 rounded\">\r\n        {part}\r\n      </span>\r\n    ) : (\r\n      part\r\n    )\r\n  );\r\n};\r\n\r\ninterface ItemCardProps {\r\n  id: string | number;\r\n  name: string;\r\n  identifier: string;\r\n  status: string;\r\n  icon: React.ReactNode;\r\n  details: DetailItem[];\r\n  onEdit: () => void;\r\n  onDelete: () => void;\r\n  onView: () => void;\r\n  onStatusChange?: (status: string) => void;\r\n  onPasswordSettings?: () => void;\r\n  editTitle?: string;\r\n  deleteTitle?: string;\r\n  viewText?: string;\r\n  passwordTitle?: string;\r\n  className?: string;\r\n  // Badge support (e.g., for master machine)\r\n  badge?: {\r\n    text: string;\r\n    color: string;\r\n    onClick?: () => void; // Make badge clickable\r\n  };\r\n  // Selection support\r\n  selectable?: boolean;\r\n  selected?: boolean;\r\n  onSelect?: () => void;\r\n  // Search highlighting\r\n  searchQuery?: string;\r\n  // Display options\r\n  showStatus?: boolean;\r\n}\r\n\r\n/**\r\n * Reusable item card component for displaying management items\r\n * Used across dairy, BMC, society, and machine management\r\n */\r\nconst ItemCard: React.FC<ItemCardProps> = ({\r\n  id,\r\n  name,\r\n  identifier,\r\n  status,\r\n  icon,\r\n  details,\r\n  onEdit,\r\n  onDelete,\r\n  onView,\r\n  onStatusChange,\r\n  onPasswordSettings,\r\n  editTitle = 'Edit',\r\n  deleteTitle = 'Delete',\r\n  viewText = 'View Details',\r\n  passwordTitle = 'Password Settings',\r\n  className = '',\r\n  badge,\r\n  selectable = false,\r\n  selected = false,\r\n  onSelect,\r\n  searchQuery = '',\r\n  showStatus = true\r\n}) => {\r\n  return (\r\n    <motion.div\r\n      key={id}\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className={`relative bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-lg transition-all duration-200 hover:border-green-200 dark:hover:border-green-700 flex flex-col ${selected ? 'ring-2 ring-green-500 border-green-500' : ''} ${className}`}\r\n    >\r\n      <div className=\"p-4 sm:p-6 flex flex-col flex-1\">\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between mb-3 sm:mb-4\">\r\n          <div className=\"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1\">\r\n            {selectable && (\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={selected}\r\n                onChange={onSelect}\r\n                className=\"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n            )}\r\n            <div className=\"p-1.5 sm:p-2 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg flex-shrink-0\">\r\n              <div className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-400\">\r\n                {icon}\r\n              </div>\r\n            </div>\r\n            <div className=\"min-w-0 flex-1\">\r\n              <div className=\"flex items-center gap-2 flex-wrap\">\r\n                <h3 className=\"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100 truncate\">\r\n                  {highlightText(name, searchQuery)}\r\n                </h3>\r\n                {badge && (\r\n                  <span \r\n                    className={`px-2 py-0.5 text-xs font-semibold rounded-full border shadow-sm ${badge.color} ${badge.onClick ? 'cursor-pointer hover:opacity-80 transition-opacity' : ''}`}\r\n                    onClick={(e) => {\r\n                      if (badge.onClick) {\r\n                        e.stopPropagation();\r\n                        badge.onClick();\r\n                      }\r\n                    }}\r\n                    title={badge.onClick ? 'Click to change master machine' : undefined}\r\n                  >\r\n                    {badge.text}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n                {highlightText(identifier, searchQuery)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {showStatus && onStatusChange && (\r\n            <StatusDropdown\r\n              currentStatus={status}\r\n              onStatusChange={onStatusChange}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        {/* Details */}\r\n        <div className=\"space-y-2 sm:space-y-3 mb-3 sm:mb-4 flex-1\">\r\n          {details.map((detail, index) => (\r\n            detail.show !== false && (\r\n              <div key={index} className={`flex items-center text-xs sm:text-sm ${\r\n                detail.highlight \r\n                  ? 'text-green-600 dark:text-green-400 font-medium' \r\n                  : detail.className || 'text-gray-600 dark:text-gray-400'\r\n              }`}>\r\n                <div className={`w-3.5 h-3.5 sm:w-4 sm:h-4 mr-2 flex-shrink-0 ${\r\n                  detail.highlight ? 'text-green-600 dark:text-green-400' : ''\r\n                }`}>\r\n                  {detail.icon}\r\n                </div>\r\n                <span className={typeof detail.text === 'string' && (detail.text.includes('@') || detail.text.length > 30) ? 'truncate' : ''}>\r\n                  {typeof detail.text === 'string' ? highlightText(detail.text, searchQuery) : detail.text}\r\n                </span>\r\n              </div>\r\n            )\r\n          ))}\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center justify-between pt-3 sm:pt-4 border-t border-gray-100 dark:border-gray-700 mt-auto\">\r\n          <div className=\"flex space-x-1 sm:space-x-2\">\r\n            <button\r\n              onClick={onEdit}\r\n              className=\"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-green-600 dark:hover:text-green-400 transition-colors rounded-lg hover:bg-green-50 dark:hover:bg-green-900/30 touch-target sm:min-h-0 sm:min-w-0 flex items-center justify-center\"\r\n              title={editTitle}\r\n            >\r\n              <Edit3 className=\"w-4 h-4\" />\r\n            </button>\r\n            {onPasswordSettings && (\r\n              <button\r\n                onClick={onPasswordSettings}\r\n                className=\"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 touch-target sm:min-h-0 sm:min-w-0 flex items-center justify-center\"\r\n                title={passwordTitle}\r\n              >\r\n                <Lock className=\"w-4 h-4\" />\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={onDelete}\r\n              className=\"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30 touch-target sm:min-h-0 sm:min-w-0 flex items-center justify-center\"\r\n              title={deleteTitle}\r\n            >\r\n              <Trash2 className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n          <button\r\n            onClick={onView}\r\n            className=\"flex items-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors touch-target sm:min-h-0\"\r\n          >\r\n            <Eye className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 sm:mr-1\" />\r\n            <span className=\"hidden sm:inline\">{viewText}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default ItemCard;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n];\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('lock', __iconNode);\n\nexport default Lock;\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { Plus } from 'lucide-react';\r\n\r\ninterface EmptyStateProps {\r\n  icon: React.ReactNode;\r\n  title: string;\r\n  message: string;\r\n  actionText?: string;\r\n  onAction?: () => void;\r\n  showAction?: boolean;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable empty state component\r\n * Used across all management pages when no items are found\r\n */\r\nconst EmptyState: React.FC<EmptyStateProps> = ({\r\n  icon,\r\n  title,\r\n  message,\r\n  actionText = 'Add Item',\r\n  onAction,\r\n  showAction = true,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 ${className}`}>\r\n      <div className=\"p-4 bg-gray-100 dark:bg-gray-700 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center\">\r\n        <div className=\"w-10 h-10 text-gray-400 dark:text-gray-500\">\r\n          {icon}\r\n        </div>\r\n      </div>\r\n      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2\">\r\n        {title}\r\n      </h3>\r\n      <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n        {message}\r\n      </p>\r\n      {showAction && onAction && (\r\n        <button\r\n          onClick={onAction}\r\n          className=\"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n        >\r\n          <Plus className=\"w-5 h-5 mr-2\" />\r\n          {actionText}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmptyState;","'use client';\r\n\r\nimport React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Trash2 } from 'lucide-react';\r\n\r\ninterface ConfirmDeleteModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  itemName: string;\r\n  itemType?: string;\r\n  title?: string;\r\n  message?: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable confirmation delete modal component\r\n * Used across all management pages for consistent delete confirmation\r\n */\r\nconst ConfirmDeleteModal: React.FC<ConfirmDeleteModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  itemName,\r\n  itemType = 'item',\r\n  title,\r\n  message,\r\n  confirmText,\r\n  cancelText = 'Cancel',\r\n  className = ''\r\n}) => {\r\n  const defaultTitle = `Delete ${itemType.charAt(0).toUpperCase() + itemType.slice(1)}`;\r\n  const defaultMessage = `Are you sure you want to delete`;\r\n  const defaultConfirmText = `Delete ${itemType.charAt(0).toUpperCase() + itemType.slice(1)}`;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          className={`fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-[9999] p-4 ${className}`}\r\n          style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }}\r\n          onClick={(e) => {\r\n            if (e.target === e.currentTarget) {\r\n              onClose();\r\n            }\r\n          }}\r\n        >\r\n          <motion.div\r\n            initial={{ scale: 0.9, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            exit={{ scale: 0.9, opacity: 0 }}\r\n            transition={{ type: 'spring', damping: 25, stiffness: 300 }}\r\n            className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"p-6\">\r\n              <div className=\"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900/30 rounded-full\">\r\n                <Trash2 className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\r\n              </div>\r\n              \r\n              <h3 className=\"text-lg font-semibold text-center text-gray-900 dark:text-gray-100 mb-2\">\r\n                {title || defaultTitle}\r\n              </h3>\r\n              \r\n              <p className=\"text-sm text-center text-gray-600 dark:text-gray-400 mb-6\">\r\n                {message || defaultMessage}{' '}\r\n                <span className=\"font-semibold text-gray-900 dark:text-gray-100\">{itemName}</span>? \r\n                This action cannot be undone.\r\n              </p>\r\n\r\n              <div className=\"flex flex-col-reverse sm:flex-row gap-3 sm:gap-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onClose}\r\n                  className=\"w-full px-4 py-2.5 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n                >\r\n                  {cancelText}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onConfirm}\r\n                  className=\"w-full flex items-center justify-center px-4 py-2.5 bg-red-600 dark:bg-red-700 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 transition-colors\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                  {confirmText || defaultConfirmText}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default ConfirmDeleteModal;","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface Action {\r\n  label: string;\r\n  onClick: () => void;\r\n  icon?: React.ReactNode;\r\n  variant?: 'primary' | 'secondary' | 'danger';\r\n}\r\n\r\ninterface ActionButtonsProps {\r\n  actions: Action[];\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable action buttons component for page headers\r\n * Supports multiple actions with different variants\r\n */\r\nconst ActionButtons: React.FC<ActionButtonsProps> = ({\r\n  actions,\r\n  className = ''\r\n}) => {\r\n  const getButtonStyles = (variant: Action['variant'] = 'primary') => {\r\n    switch (variant) {\r\n      case 'primary':\r\n        return 'bg-blue-600 hover:bg-blue-700 text-white';\r\n      case 'secondary':\r\n        return 'bg-green-600 hover:bg-green-700 text-white';\r\n      case 'danger':\r\n        return 'bg-red-600 hover:bg-red-700 text-white';\r\n      default:\r\n        return 'bg-blue-600 hover:bg-blue-700 text-white';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-3 ${className}`}>\r\n      {actions.map((action, index) => (\r\n        <button\r\n          key={index}\r\n          onClick={action.onClick}\r\n          className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${getButtonStyles(action.variant)}`}\r\n        >\r\n          {action.icon}\r\n          {action.label}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActionButtons;","'use client';\r\n\r\nimport React from 'react';\r\nimport { Search } from 'lucide-react';\r\n\r\ninterface FilterOption {\r\n  value: string;\r\n  label: string;\r\n}\r\n\r\ninterface SearchAndFilterProps {\r\n  searchValue: string;\r\n  onSearchChange: (value: string) => void;\r\n  searchPlaceholder?: string;\r\n  statusValue: string;\r\n  onStatusChange: (value: string) => void;\r\n  statusOptions: FilterOption[];\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Reusable search and filter component\r\n * Combines search input and status filter dropdown\r\n */\r\nconst SearchAndFilter: React.FC<SearchAndFilterProps> = ({\r\n  searchValue,\r\n  onSearchChange,\r\n  searchPlaceholder = \"Search...\",\r\n  statusValue,\r\n  onStatusChange,\r\n  statusOptions,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`flex flex-col sm:flex-row gap-4 ${className}`}>\r\n      <div className=\"flex-1 relative\">\r\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder={searchPlaceholder}\r\n          value={searchValue}\r\n          onChange={(e) => onSearchChange(e.target.value)}\r\n          className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n        />\r\n      </div>\r\n      <select\r\n        value={statusValue}\r\n        onChange={(e) => onStatusChange(e.target.value)}\r\n        className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n      >\r\n        {statusOptions.map(option => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchAndFilter;","'use client';\r\n\r\nimport React from 'react';\r\nimport { AlertTriangle } from 'lucide-react';\r\n\r\ninterface BulkDeleteConfirmModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  itemCount: number;\r\n  itemType: string; // e.g., 'farmer', 'BMC', 'society'\r\n  hasFilters?: boolean;\r\n  additionalInfo?: string; // Optional additional information to display\r\n}\r\n\r\n/**\r\n * Reusable bulk delete confirmation modal\r\n * Used across all entity management pages\r\n * Note: Loading state is handled by LoadingSnackbar in parent component\r\n */\r\nconst BulkDeleteConfirmModal: React.FC<BulkDeleteConfirmModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  itemCount,\r\n  itemType,\r\n  hasFilters = false,\r\n  additionalInfo\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-12 h-12 mx-auto mb-4 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center\">\r\n            <AlertTriangle className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\r\n          </div>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2\">\r\n            Delete Selected {itemType.charAt(0).toUpperCase() + itemType.slice(1)}s\r\n          </h3>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mb-2\">\r\n            Are you sure you want to delete {itemCount} selected {itemType}(s)\r\n            {hasFilters ? ' from the filtered results' : ''}? \r\n            This action cannot be undone.\r\n          </p>\r\n          {additionalInfo && (\r\n            <p className=\"text-sm text-blue-600 dark:text-blue-400 mb-4 font-medium break-words\">\r\n              {additionalInfo}\r\n            </p>\r\n          )}\r\n          <div className=\"flex space-x-4 justify-center mt-6\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={onConfirm}\r\n              className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkDeleteConfirmModal;\r\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { Trash2, Download } from 'lucide-react';\r\nimport StatusDropdown from './StatusDropdown';\r\n\r\ninterface BulkActionsToolbarProps {\r\n  selectedCount: number;\r\n  totalCount: number;\r\n  onBulkDelete: () => void;\r\n  onBulkDownload?: (format: 'csv' | 'pdf') => void;\r\n  onBulkStatusUpdate?: (status: string) => void;\r\n  onClearSelection?: () => void;\r\n  onSelectAll?: () => void;\r\n  itemType: string; // e.g., 'farmer', 'BMC'\r\n  showStatusUpdate?: boolean;\r\n  currentBulkStatus?: string;\r\n  onBulkStatusChange?: (status: string) => void;\r\n  statusOptions?: Array<{\r\n    status: string;\r\n    label: string;\r\n    color: string;\r\n    bgColor: string;\r\n  }>;\r\n}\r\n\r\n/**\r\n * Reusable bulk actions toolbar\r\n * Appears when items are selected\r\n */\r\nconst BulkActionsToolbar: React.FC<BulkActionsToolbarProps> = ({\r\n  selectedCount,\r\n  totalCount,\r\n  onBulkDelete,\r\n  onBulkDownload,\r\n  onBulkStatusUpdate,\r\n  onClearSelection,\r\n  onSelectAll,\r\n  itemType,\r\n  showStatusUpdate = true,\r\n  currentBulkStatus = 'active',\r\n  onBulkStatusChange,\r\n  statusOptions\r\n}) => {\r\n  const isAllSelected = selectedCount === totalCount && totalCount > 0;\r\n  if (selectedCount === 0) return null;\r\n\r\n  return (\r\n    <div className=\"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 px-6 py-4\">\r\n      <div className=\"flex items-center space-x-4\">\r\n        {/* Selection Count */}\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className=\"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center\">\r\n            <span className=\"text-sm font-semibold text-green-600 dark:text-green-400\">\r\n              {selectedCount}\r\n            </span>\r\n          </div>\r\n          <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            {selectedCount} {itemType}{selectedCount !== 1 ? 's' : ''} selected\r\n          </span>\r\n        </div>\r\n\r\n        {/* Divider */}\r\n        <div className=\"h-8 w-px bg-gray-300 dark:bg-gray-600\" />\r\n\r\n        {/* Bulk Actions */}\r\n        <div className=\"flex items-center space-x-2\">\r\n          {/* Select All Checkbox */}\r\n          {onSelectAll && onClearSelection && (\r\n            <label className=\"flex items-center gap-2 cursor-pointer px-3 py-1.5 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={isAllSelected}\r\n                onChange={() => {\r\n                  if (isAllSelected && onClearSelection) {\r\n                    onClearSelection();\r\n                  } else if (onSelectAll) {\r\n                    onSelectAll();\r\n                  }\r\n                }}\r\n                className=\"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n              <span className=\"text-xs font-medium text-gray-700 dark:text-gray-300\">\r\n                Select All\r\n              </span>\r\n            </label>\r\n          )}\r\n\r\n          {/* Bulk Status Update */}\r\n          {showStatusUpdate && onBulkStatusChange && (\r\n            <div className=\"flex items-center space-x-2\">\r\n              <span className=\"text-xs text-gray-600 dark:text-gray-400\">Status:</span>\r\n              <StatusDropdown\r\n                currentStatus={currentBulkStatus}\r\n                onStatusChange={(status) => {\r\n                  onBulkStatusChange(status);\r\n                  if (onBulkStatusUpdate) {\r\n                    onBulkStatusUpdate(status);\r\n                  }\r\n                }}\r\n                options={statusOptions}\r\n                compact\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Download */}\r\n          {onBulkDownload && (\r\n            <button\r\n              onClick={() => onBulkDownload('csv')}\r\n              className=\"px-3 py-1.5 text-xs font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-1\"\r\n              title={`Download selected ${itemType}s`}\r\n            >\r\n              <Download className=\"w-3.5 h-3.5\" />\r\n              <span className=\"hidden sm:inline\">Download</span>\r\n            </button>\r\n          )}\r\n\r\n          {/* Delete */}\r\n          <button\r\n            onClick={onBulkDelete}\r\n            className=\"px-3 py-1.5 text-xs font-medium bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center space-x-1\"\r\n            title={`Delete selected ${itemType}s`}\r\n          >\r\n            <Trash2 className=\"w-3.5 h-3.5\" />\r\n            <span className=\"hidden sm:inline\">Delete</span>\r\n          </button>\r\n\r\n          {/* Clear Selection */}\r\n          {onClearSelection && (\r\n            <button\r\n              onClick={onClearSelection}\r\n              className=\"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n              title=\"Clear selection\"\r\n            >\r\n              Clear\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkActionsToolbar;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z',\n      key: '1kt360',\n    },\n  ],\n];\n\n/**\n * @component @name Folder\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMjBhMiAyIDAgMCAwIDItMlY4YTIgMiAwIDAgMC0yLTJoLTcuOWEyIDIgMCAwIDEtMS42OS0uOUw5LjYgMy45QTIgMiAwIDAgMCA3LjkzIDNINGEyIDIgMCAwIDAtMiAydjEzYTIgMiAwIDAgMCAyIDJaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/folder\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Folder = createLucideIcon('folder', __iconNode);\n\nexport default Folder;\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { Folder, Grid3x3 } from 'lucide-react';\r\n\r\ninterface ViewModeToggleProps {\r\n  viewMode: 'folder' | 'list';\r\n  onViewModeChange: (mode: 'folder' | 'list') => void;\r\n  folderLabel?: string;\r\n  listLabel?: string;\r\n}\r\n\r\n/**\r\n * Reusable view mode toggle component\r\n * Switches between folder/grouped and list/flat views\r\n */\r\nconst ViewModeToggle: React.FC<ViewModeToggleProps> = ({\r\n  viewMode,\r\n  onViewModeChange,\r\n  folderLabel = 'Folder View',\r\n  listLabel = 'List View'\r\n}) => {\r\n  return (\r\n    <div className=\"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1\">\r\n      <button\r\n        onClick={() => onViewModeChange('folder')}\r\n        className={`flex items-center space-x-2 px-3 py-2 rounded-md transition-all ${\r\n          viewMode === 'folder'\r\n            ? 'bg-white dark:bg-gray-700 text-green-600 dark:text-green-400 shadow-sm'\r\n            : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n        }`}\r\n        title={folderLabel}\r\n      >\r\n        <Folder className=\"w-4 h-4\" />\r\n        <span className=\"hidden sm:inline text-sm font-medium\">{folderLabel}</span>\r\n      </button>\r\n      <button\r\n        onClick={() => onViewModeChange('list')}\r\n        className={`flex items-center space-x-2 px-3 py-2 rounded-md transition-all ${\r\n          viewMode === 'list'\r\n            ? 'bg-white dark:bg-gray-700 text-green-600 dark:text-green-400 shadow-sm'\r\n            : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200'\r\n        }`}\r\n        title={listLabel}\r\n      >\r\n        <Grid3x3 className=\"w-4 h-4\" />\r\n        <span className=\"hidden sm:inline text-sm font-medium\">{listLabel}</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewModeToggle;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M3 9h18', key: '1pudct' }],\n  ['path', { d: 'M3 15h18', key: '5xshup' }],\n  ['path', { d: 'M9 3v18', key: 'fh3hqa' }],\n  ['path', { d: 'M15 3v18', key: '14nvp0' }],\n];\n\n/**\n * @component @name Grid3x3\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDloMTgiIC8+CiAgPHBhdGggZD0iTTMgMTVoMTgiIC8+CiAgPHBhdGggZD0iTTkgM3YxOCIgLz4KICA8cGF0aCBkPSJNMTUgM3YxOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/grid-3x3\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Grid3x3 = createLucideIcon('grid-3x3', __iconNode);\n\nexport default Grid3x3;\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { Folder, FolderOpen, ChevronRight, ChevronDown } from 'lucide-react';\r\n\r\ninterface FolderViewProps<T> {\r\n  items: T[];\r\n  groupByKey: keyof T;\r\n  groupByLabel: string;\r\n  groups: Array<{\r\n    id: number;\r\n    name: string;\r\n    identifier?: string;\r\n  }>;\r\n  expandedGroups: Set<number>;\r\n  selectedGroups: Set<number>;\r\n  onToggleExpand: (groupId: number) => void;\r\n  onToggleGroupSelection: (groupId: number, itemIds: number[]) => void;\r\n  renderItem: (item: T) => React.ReactNode;\r\n  getItemId: (item: T) => number;\r\n  getGroupStats?: (groupId: number, items: T[]) => {\r\n    activeCount: number;\r\n    inactiveCount: number;\r\n    totalCount: number;\r\n  };\r\n  emptyMessage?: string;\r\n}\r\n\r\n/**\r\n * Reusable folder/grouped view component\r\n * Groups items by a specified key and displays in expandable folders\r\n */\r\nfunction FolderView<T extends Record<string, unknown>>({\r\n  items,\r\n  groupByKey,\r\n  groups,\r\n  expandedGroups,\r\n  selectedGroups,\r\n  onToggleExpand,\r\n  onToggleGroupSelection,\r\n  renderItem,\r\n  getItemId,\r\n  getGroupStats,\r\n  emptyMessage = 'No items in this group'\r\n}: FolderViewProps<T>) {\r\n  // Group items by the specified key\r\n  const itemsByGroup = items.reduce((acc, item) => {\r\n    const groupId = (item[groupByKey] as number) || 0;\r\n    if (!acc[groupId]) {\r\n      acc[groupId] = [];\r\n    }\r\n    acc[groupId].push(item);\r\n    return acc;\r\n  }, {} as Record<number, T[]>);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {groups.map(group => {\r\n        const groupItems = itemsByGroup[group.id] || [];\r\n        const isExpanded = expandedGroups.has(group.id);\r\n        const isGroupSelected = selectedGroups.has(group.id);\r\n        const itemIds = groupItems.map(getItemId);\r\n\r\n        // Get stats if available\r\n        const stats = getGroupStats?.(group.id, groupItems);\r\n\r\n        return (\r\n          <div\r\n            key={group.id}\r\n            className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden transition-all hover:shadow-md\"\r\n          >\r\n            {/* Folder Header */}\r\n            <div className=\"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/30\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                {/* Group Checkbox */}\r\n                <div\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    onToggleGroupSelection(group.id, itemIds);\r\n                  }}\r\n                  className=\"flex items-center mr-3 cursor-pointer\"\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={isGroupSelected}\r\n                    onChange={() => {}} // Handled by parent div\r\n                    className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Expandable Header */}\r\n                <button\r\n                  onClick={() => onToggleExpand(group.id)}\r\n                  className=\"flex-1 flex items-center justify-between\"\r\n                >\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    {isExpanded ? (\r\n                      <ChevronDown className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                    ) : (\r\n                      <ChevronRight className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n                    )}\r\n                    {isExpanded ? (\r\n                      <FolderOpen className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                    ) : (\r\n                      <Folder className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\r\n                    )}\r\n                    <div className=\"text-left\">\r\n                      <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-white\">\r\n                        {group.name}\r\n                      </h3>\r\n                      {group.identifier && (\r\n                        <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400\">\r\n                          ID: {group.identifier}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    {stats && (\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <div className=\"text-right\">\r\n                          <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n                            <span className=\"flex items-center space-x-1\">\r\n                              <div className=\"w-2 h-2 rounded-full bg-green-500\"></div>\r\n                              <span>{stats.activeCount}</span>\r\n                            </span>\r\n                            <span className=\"flex items-center space-x-1\">\r\n                              <div className=\"w-2 h-2 rounded-full bg-red-500\"></div>\r\n                              <span>{stats.inactiveCount}</span>\r\n                            </span>\r\n                          </div>\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            {stats.totalCount} {stats.totalCount === 1 ? 'item' : 'items'}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Items Grid - Shown when expanded */}\r\n            {isExpanded && (\r\n              <div className=\"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/30\">\r\n                {groupItems.length > 0 ? (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {groupItems.map(item => renderItem(item))}\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-center text-gray-500 dark:text-gray-400 py-8\">\r\n                    {emptyMessage}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FolderView;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2',\n      key: 'usdka0',\n    },\n  ],\n];\n\n/**\n * @component @name FolderOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiAxNCAxLjUtMi45QTIgMiAwIDAgMSA5LjI0IDEwSDIwYTIgMiAwIDAgMSAxLjk0IDIuNWwtMS41NCA2YTIgMiAwIDAgMS0xLjk1IDEuNUg0YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDMuOWEyIDIgMCAwIDEgMS42OS45bC44MSAxLjJhMiAyIDAgMCAwIDEuNjcuOUgxOGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/folder-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FolderOpen = createLucideIcon('folder-open', __iconNode);\n\nexport default FolderOpen;\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { ChevronDown, ChevronRight } from 'lucide-react';\r\n\r\ninterface FolderControlsProps {\r\n  onExpandAll: () => void;\r\n  onCollapseAll: () => void;\r\n  expandedCount?: number;\r\n  totalCount?: number;\r\n}\r\n\r\n/**\r\n * Reusable folder expand/collapse controls\r\n */\r\nconst FolderControls: React.FC<FolderControlsProps> = ({\r\n  onExpandAll,\r\n  onCollapseAll,\r\n  expandedCount,\r\n  totalCount\r\n}) => {\r\n  return (\r\n    <div className=\"flex items-center space-x-2\">\r\n      <button\r\n        onClick={onExpandAll}\r\n        className=\"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center space-x-1\"\r\n        title=\"Expand all folders\"\r\n      >\r\n        <ChevronDown className=\"w-3.5 h-3.5\" />\r\n        <span>Expand All</span>\r\n      </button>\r\n      <button\r\n        onClick={onCollapseAll}\r\n        className=\"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center space-x-1\"\r\n        title=\"Collapse all folders\"\r\n      >\r\n        <ChevronRight className=\"w-3.5 h-3.5\" />\r\n        <span>Collapse All</span>\r\n      </button>\r\n      {expandedCount !== undefined && totalCount !== undefined && (\r\n        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n          ({expandedCount}/{totalCount} expanded)\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FolderControls;\r\n","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface FilterSectionProps {\r\n  statusFilter: string;\r\n  onStatusChange: (value: string) => void;\r\n  societyFilter: string;\r\n  onSocietyChange: (value: string) => void;\r\n  machineFilter: string;\r\n  onMachineChange: (value: string) => void;\r\n  societies: Array<{ id: number; name: string; society_id: string }>;\r\n  machines: Array<{ id: number; machineId: string; machineType: string; societyId?: number }>;\r\n  filteredCount: number;\r\n  totalCount: number;\r\n  searchQuery?: string;\r\n  icon?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Reusable filter section for management pages\r\n * Includes status, society, and machine filters\r\n */\r\nconst FilterSection: React.FC<FilterSectionProps> = ({\r\n  statusFilter,\r\n  onStatusChange,\r\n  societyFilter,\r\n  onSocietyChange,\r\n  machineFilter,\r\n  onMachineChange,\r\n  societies,\r\n  machines,\r\n  filteredCount,\r\n  totalCount,\r\n  searchQuery,\r\n  icon\r\n}) => {\r\n  return (\r\n    <div className=\"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg border border-gray-200 dark:border-gray-700 space-y-3\">\r\n      {/* Header Info */}\r\n      <div className=\"flex flex-col xs:flex-row xs:items-center justify-between gap-2\">\r\n        <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n          {icon}\r\n          <span className=\"font-medium text-xs sm:text-sm\">\r\n            {filteredCount}/{totalCount} items\r\n          </span>\r\n        </div>\r\n        {searchQuery && (\r\n          <div className=\"flex items-center space-x-1 px-2 py-1 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-700 dark:text-blue-300 text-xs font-medium\">\r\n            <span>&ldquo;{searchQuery}&rdquo;</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Filters Grid - Mobile First */}\r\n      <div className=\"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3\">\r\n        {/* Status Filter */}\r\n        <div className=\"space-y-1\">\r\n          <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n            Status\r\n          </label>\r\n          <select\r\n            value={statusFilter}\r\n            onChange={(e) => onStatusChange(e.target.value)}\r\n            className=\"w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md text-xs sm:text-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none\"\r\n          >\r\n            <option value=\"all\">All Status</option>\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n            <option value=\"suspended\">Suspended</option>\r\n            <option value=\"maintenance\">Maintenance</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Society Filter */}\r\n        <div className=\"space-y-1\">\r\n          <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n            Society\r\n          </label>\r\n          <select\r\n            value={societyFilter}\r\n            onChange={(e) => onSocietyChange(e.target.value)}\r\n            className=\"w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md text-xs sm:text-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none\"\r\n          >\r\n            <option value=\"all\">All Societies</option>\r\n            {societies.map(society => (\r\n              <option key={society.id} value={society.id.toString()}>\r\n                {society.name} ({society.society_id})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Machine Filter */}\r\n        <div className=\"space-y-1\">\r\n          <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n            Machine\r\n          </label>\r\n          <select\r\n            value={machineFilter}\r\n            onChange={(e) => onMachineChange(e.target.value)}\r\n            className=\"w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md text-xs sm:text-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none\"\r\n          >\r\n            <option value=\"all\">All Machines</option>\r\n            <option value=\"unassigned\">Unassigned</option>\r\n            {machines\r\n              .filter(machine => \r\n                societyFilter === 'all' || \r\n                machine.societyId?.toString() === societyFilter\r\n              )\r\n              .map(machine => (\r\n                <option key={machine.id} value={machine.id.toString()}>\r\n                  {machine.machineId} ({machine.machineType})\r\n                </option>\r\n              ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Clear Filters Button */}\r\n        <div className=\"space-y-1\">\r\n          <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block invisible\">\r\n            Actions\r\n          </label>\r\n          <button\r\n            onClick={() => {\r\n              onStatusChange('all');\r\n              onSocietyChange('all');\r\n              onMachineChange('all');\r\n            }}\r\n            disabled={statusFilter === 'all' && societyFilter === 'all' && machineFilter === 'all'}\r\n            className=\"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            Clear Filters\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterSection;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n","'use client';\r\n\r\nimport React, { useState, useRef, useEffect, useMemo } from 'react';\r\nimport { Filter, X, ChevronDown, Calendar } from 'lucide-react';\r\n\r\ninterface FilterDropdownProps {\r\n  statusFilter: string;\r\n  onStatusChange: (value: string) => void;\r\n  dairyFilter?: string | string[];\r\n  onDairyChange?: (value: string | string[]) => void;\r\n  bmcFilter?: string | string[];\r\n  onBmcChange?: (value: string | string[]) => void;\r\n  societyFilter: string | string[];\r\n  onSocietyChange: (value: string | string[]) => void;\r\n  machineFilter: string | string[];\r\n  onMachineChange: (value: string | string[]) => void;\r\n  farmerFilter?: string | string[];\r\n  onFarmerChange?: (value: string | string[]) => void;\r\n  dairies?: Array<{ id: number; name: string; dairyId: string }>;\r\n  bmcs?: Array<{ id: number; name: string; bmcId: string; dairyFarmId?: number }>;\r\n  societies: Array<{ id: number; name: string; society_id: string; bmc_id?: number }>;\r\n  machines: Array<{ id: number; machineId: string; machineType: string; societyId?: number; societyName?: string; societyIdentifier?: string; collectionCount?: number }>;\r\n  farmers?: Array<{ id: number; farmerId: string; farmerName: string; societyId?: number }>;\r\n  filteredCount: number;\r\n  totalCount: number;\r\n  searchQuery?: string;\r\n  onSearchChange?: (value: string) => void;\r\n  icon?: React.ReactNode;\r\n  // Optional additional filters\r\n  dateFilter?: string;\r\n  onDateChange?: (value: string) => void;\r\n  dateFromFilter?: string;\r\n  onDateFromChange?: (value: string) => void;\r\n  dateToFilter?: string;\r\n  onDateToChange?: (value: string) => void;\r\n  channelFilter?: string;\r\n  onChannelChange?: (value: string) => void;\r\n  showDateFilter?: boolean;\r\n  showChannelFilter?: boolean;\r\n  showShiftFilter?: boolean;\r\n  showMachineFilter?: boolean;\r\n  hideMainFilterButton?: boolean;\r\n  hideSocietyFilter?: boolean;\r\n}\r\n\r\n/**\r\n * Compact filter dropdown for management pages\r\n * Space-saving design with dropdown panel\r\n */\r\nconst FilterDropdown: React.FC<FilterDropdownProps> = ({\r\n  statusFilter,\r\n  onStatusChange,\r\n  dairyFilter,\r\n  onDairyChange,\r\n  bmcFilter,\r\n  onBmcChange,\r\n  societyFilter,\r\n  onSocietyChange,\r\n  machineFilter,\r\n  onMachineChange,\r\n  farmerFilter,\r\n  onFarmerChange,\r\n  dairies = [],\r\n  bmcs = [],\r\n  societies,\r\n  machines,\r\n  farmers = [],\r\n  filteredCount,\r\n  totalCount,\r\n  searchQuery,\r\n  onSearchChange,\r\n  icon,\r\n  dateFilter,\r\n  onDateChange,\r\n  dateFromFilter,\r\n  onDateFromChange,\r\n  dateToFilter,\r\n  onDateToChange,\r\n  channelFilter,\r\n  onChannelChange,\r\n  showDateFilter = false,\r\n  showChannelFilter = false,\r\n  showShiftFilter = false,\r\n  showMachineFilter = false,\r\n  hideMainFilterButton = false,\r\n  hideSocietyFilter = false\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [dateRangeOpen, setDateRangeOpen] = useState(false);\r\n  const [societyDropdownOpen, setSocietyDropdownOpen] = useState(false);\r\n  const [channelDropdownOpen, setChannelDropdownOpen] = useState(false);\r\n  const [machineDropdownOpen, setMachineDropdownOpen] = useState(false);\r\n  const [dairyDropdownOpen, setDairyDropdownOpen] = useState(false);\r\n  const [bmcDropdownOpen, setBmcDropdownOpen] = useState(false);\r\n  const [shiftDropdownOpen, setShiftDropdownOpen] = useState(false);\r\n  const [farmerDropdownOpen, setFarmerDropdownOpen] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n  const dateRangeRef = useRef<HTMLDivElement>(null);\r\n  const societyDropdownRef = useRef<HTMLDivElement>(null);\r\n  const channelDropdownRef = useRef<HTMLDivElement>(null);\r\n  const machineDropdownRef = useRef<HTMLDivElement>(null);\r\n  const dairyDropdownRef = useRef<HTMLDivElement>(null);\r\n  const bmcDropdownRef = useRef<HTMLDivElement>(null);\r\n  const shiftDropdownRef = useRef<HTMLDivElement>(null);\r\n  const farmerDropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Deduplicate and filter machines by society selection\r\n  const uniqueMachines = useMemo(() => {\r\n    // First filter by selected societies\r\n    let filteredMachines = machines;\r\n    if (Array.isArray(societyFilter) && societyFilter.length > 0) {\r\n      filteredMachines = machines.filter(machine => \r\n        machine.societyId && societyFilter.includes(machine.societyId.toString())\r\n      );\r\n    }\r\n    \r\n    // Then deduplicate by machineId, machineType, AND societyId\r\n    const seen = new Map<string, typeof machines[0]>();\r\n    filteredMachines.forEach(machine => {\r\n      const key = `${machine.machineId}-${machine.machineType}-${machine.societyId}`;\r\n      if (!seen.has(key)) {\r\n        seen.set(key, machine);\r\n      }\r\n    });\r\n    return Array.from(seen.values());\r\n  }, [machines, societyFilter]);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n      if (dateRangeRef.current && !dateRangeRef.current.contains(event.target as Node)) {\r\n        setDateRangeOpen(false);\r\n      }\r\n      if (societyDropdownRef.current && !societyDropdownRef.current.contains(event.target as Node)) {\r\n        setSocietyDropdownOpen(false);\r\n      }\r\n      if (channelDropdownRef.current && !channelDropdownRef.current.contains(event.target as Node)) {\r\n        setChannelDropdownOpen(false);\r\n      }\r\n      if (machineDropdownRef.current && !machineDropdownRef.current.contains(event.target as Node)) {\r\n        setMachineDropdownOpen(false);\r\n      }\r\n      if (dairyDropdownRef.current && !dairyDropdownRef.current.contains(event.target as Node)) {\r\n        setDairyDropdownOpen(false);\r\n      }\r\n      if (bmcDropdownRef.current && !bmcDropdownRef.current.contains(event.target as Node)) {\r\n        setBmcDropdownOpen(false);\r\n      }\r\n      if (shiftDropdownRef.current && !shiftDropdownRef.current.contains(event.target as Node)) {\r\n        setShiftDropdownOpen(false);\r\n      }\r\n      if (farmerDropdownRef.current && !farmerDropdownRef.current.contains(event.target as Node)) {\r\n        setFarmerDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const hasActiveFilters = statusFilter !== 'all' || \r\n    (Array.isArray(dairyFilter) ? dairyFilter.length > 0 : (dairyFilter !== undefined && dairyFilter !== 'all')) || \r\n    (Array.isArray(bmcFilter) ? bmcFilter.length > 0 : (bmcFilter !== undefined && bmcFilter !== 'all')) || \r\n    (Array.isArray(societyFilter) ? societyFilter.length > 0 : societyFilter !== 'all') || \r\n    (Array.isArray(machineFilter) ? machineFilter.length > 0 : machineFilter !== 'all') || \r\n    (Array.isArray(farmerFilter) ? farmerFilter.length > 0 : (farmerFilter !== undefined && farmerFilter !== 'all')) || \r\n    (dateFilter && dateFilter !== '') || \r\n    (dateFromFilter && dateFromFilter !== '') || \r\n    (dateToFilter && dateToFilter !== '') || \r\n    (channelFilter && channelFilter !== 'all');\r\n  const activeFilterCount = [\r\n    statusFilter !== 'all',\r\n    Array.isArray(dairyFilter) ? dairyFilter.length > 0 : (dairyFilter !== undefined && dairyFilter !== 'all'),\r\n    Array.isArray(bmcFilter) ? bmcFilter.length > 0 : (bmcFilter !== undefined && bmcFilter !== 'all'),\r\n    Array.isArray(societyFilter) ? societyFilter.length > 0 : societyFilter !== 'all',\r\n    Array.isArray(machineFilter) ? machineFilter.length > 0 : machineFilter !== 'all',\r\n    dateFilter && dateFilter !== '',\r\n    dateFromFilter && dateFromFilter !== '',\r\n    dateToFilter && dateToFilter !== '',\r\n    channelFilter && channelFilter !== 'all'\r\n  ].filter(Boolean).length;\r\n\r\n  const handleClearFilters = () => {\r\n    onStatusChange('all');\r\n    if (onDairyChange) onDairyChange([]);\r\n    if (onBmcChange) onBmcChange([]);\r\n    onSocietyChange([]);\r\n    onMachineChange([]);\r\n    if (onDateChange) onDateChange('');\r\n    if (onDateFromChange) onDateFromChange('');\r\n    if (onDateToChange) onDateToChange('');\r\n    if (onChannelChange) onChannelChange('all');\r\n    if (onSearchChange) onSearchChange('');\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      {/* Compact Filter Bar */}\r\n      <div className=\"flex items-center gap-2 sm:gap-3 flex-wrap\">\r\n        {/* Filter Dropdown Button */}\r\n        {!hideMainFilterButton && (\r\n        <button\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n            hasActiveFilters\r\n              ? 'bg-psr-green-50 dark:bg-psr-green-900/20 border-psr-green-500 dark:border-psr-green-400 text-psr-green-700 dark:text-psr-green-300'\r\n              : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n          }`}\r\n        >\r\n          <Filter className=\"w-4 h-4\" />\r\n          <span className=\"text-sm font-medium\">\r\n            Filters\r\n            {activeFilterCount > 0 && (\r\n              <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-green-600 dark:bg-psr-green-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                {activeFilterCount}\r\n              </span>\r\n            )}\r\n          </span>\r\n          <ChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\r\n        </button>\r\n        )}\r\n\r\n        {/* Dairy Filter Button */}\r\n        {dairies && dairies.length > 0 && onDairyChange && (\r\n        <div className=\"relative\" ref={dairyDropdownRef}>\r\n          <button\r\n            onClick={() => setDairyDropdownOpen(!dairyDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              (Array.isArray(dairyFilter) && dairyFilter.length > 0) || (typeof dairyFilter === 'string' && dairyFilter !== 'all')\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Dairy\r\n              {Array.isArray(dairyFilter) && dairyFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {dairyFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${dairyDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Dairy Dropdown Popup */}\r\n          {dairyDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Dairies\r\n                    {Array.isArray(dairyFilter) && dairyFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({dairyFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setDairyDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {dairies.map((dairy) => {\r\n                      const dairyIdStr = dairy.id.toString();\r\n                      const isChecked = Array.isArray(dairyFilter) && dairyFilter.includes(dairyIdStr);\r\n                      return (\r\n                        <label\r\n                          key={dairy.id}\r\n                          className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                        >\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={isChecked}\r\n                            onChange={(e) => {\r\n                              const currentFilters = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                              if (e.target.checked) {\r\n                                onDairyChange([...currentFilters, dairyIdStr]);\r\n                              } else {\r\n                                const newDairyFilters = currentFilters.filter(id => id !== dairyIdStr);\r\n                                onDairyChange(newDairyFilters);\r\n                                // Clear BMCs that belong to this dairy\r\n                                if (onBmcChange && Array.isArray(bmcFilter)) {\r\n                                  const bmcsToRemove = bmcs\r\n                                    .filter(b => b.dairyFarmId?.toString() === dairyIdStr)\r\n                                    .map(b => b.id.toString());\r\n                                  const newBmcFilters = bmcFilter.filter(id => !bmcsToRemove.includes(id));\r\n                                  onBmcChange(newBmcFilters);\r\n                                }\r\n                              }\r\n                              onSocietyChange([]);\r\n                            }}\r\n                            className=\"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 cursor-pointer\"\r\n                          />\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"text-sm text-gray-900 dark:text-gray-100\">\r\n                              {dairy.name}\r\n                            </div>\r\n                          </div>\r\n                          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            ({dairy.dairyId})\r\n                          </span>\r\n                        </label>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onDairyChange([]);\r\n                      if (onBmcChange) onBmcChange([]);\r\n                      onSocietyChange([]);\r\n                      setDairyDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setDairyDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* BMC Filter Button */}\r\n        {bmcs && bmcs.length > 0 && onBmcChange && (\r\n        <div className=\"relative\" ref={bmcDropdownRef}>\r\n          <button\r\n            onClick={() => setBmcDropdownOpen(!bmcDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              (Array.isArray(bmcFilter) && bmcFilter.length > 0) || (typeof bmcFilter === 'string' && bmcFilter !== 'all')\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              BMC\r\n              {Array.isArray(bmcFilter) && bmcFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {bmcFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${bmcDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* BMC Dropdown Popup */}\r\n          {bmcDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select BMCs\r\n                    {Array.isArray(bmcFilter) && bmcFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({bmcFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setBmcDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {(() => {\r\n                      // Get BMC IDs that have societies with data\r\n                      const bmcIdsWithSocieties = new Set(\r\n                        societies\r\n                          .filter(s => s.bmc_id)\r\n                          .map(s => s.bmc_id)\r\n                      );\r\n\r\n                      // Filter BMCs: only those with dairy filter match AND have societies\r\n                      const filteredBmcs = bmcs.filter(bmc => {\r\n                        const dairyFilterArray = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                        const matchesDairy = dairyFilterArray.length === 0 || \r\n                          dairyFilterArray.includes(bmc.dairyFarmId?.toString() || '');\r\n                        const hasSocieties = bmcIdsWithSocieties.has(bmc.id);\r\n                        return matchesDairy && hasSocieties;\r\n                      });\r\n\r\n                      if (filteredBmcs.length === 0) {\r\n                        const dairyFilterArray = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                        const message = dairyFilterArray.length > 0\r\n                          ? 'No BMCs available for selected dairies'\r\n                          : 'No BMCs with societies available';\r\n                        return (\r\n                          <div className=\"text-center py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                            {message}\r\n                          </div>\r\n                        );\r\n                      }\r\n\r\n                      // Group BMCs by dairy if no specific dairy is selected\r\n                      const dairyFilterArray = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                      if (dairyFilterArray.length === 0) {\r\n                        const bmcsByDairy = filteredBmcs.reduce((acc, bmc) => {\r\n                          const dairyId = bmc.dairyFarmId || 'unassigned';\r\n                          if (!acc[dairyId]) acc[dairyId] = [];\r\n                          acc[dairyId].push(bmc);\r\n                          return acc;\r\n                        }, {} as Record<string | number, typeof filteredBmcs>);\r\n\r\n                        return Object.entries(bmcsByDairy).map(([dairyId, dairyBmcs]) => {\r\n                          const dairy = dairies.find(d => d.id.toString() === dairyId);\r\n                          \r\n                          return (\r\n                            <div key={dairyId} className=\"mb-3\">\r\n                              {/* Dairy Header */}\r\n                              {dairy && (\r\n                                <div className=\"px-2 py-1 bg-blue-50 dark:bg-blue-900/20 rounded text-xs font-semibold text-blue-600 dark:text-blue-400 mb-1\">\r\n                                  {dairy.name} ({dairy.dairyId})\r\n                                </div>\r\n                              )}\r\n                              \r\n                              {/* BMCs under this dairy */}\r\n                              {dairyBmcs.map((bmc) => {\r\n                                const bmcIdStr = bmc.id.toString();\r\n                                const isChecked = Array.isArray(bmcFilter) && bmcFilter.includes(bmcIdStr);\r\n                                return (\r\n                                  <label\r\n                                    key={bmc.id}\r\n                                    className=\"flex items-center gap-3 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                                  >\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={isChecked}\r\n                                      onChange={(e) => {\r\n                                        const currentFilters = Array.isArray(bmcFilter) ? bmcFilter : [];\r\n                                        if (e.target.checked) {\r\n                                          onBmcChange([...currentFilters, bmcIdStr]);\r\n                                        } else {\r\n                                          onBmcChange(currentFilters.filter(id => id !== bmcIdStr));\r\n                                        }\r\n                                        onSocietyChange([]);\r\n                                      }}\r\n                                      className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                                      {bmc.name}\r\n                                    </span>\r\n                                    <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                      ({bmc.bmcId})\r\n                                    </span>\r\n                                  </label>\r\n                                );\r\n                              })}\r\n                            </div>\r\n                          );\r\n                        });\r\n                      }\r\n\r\n                      // If specific dairy is selected, show flat list\r\n                      return filteredBmcs.map((bmc) => {\r\n                        const bmcIdStr = bmc.id.toString();\r\n                        const isChecked = Array.isArray(bmcFilter) && bmcFilter.includes(bmcIdStr);\r\n                        return (\r\n                          <label\r\n                            key={bmc.id}\r\n                            className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                          >\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={isChecked}\r\n                              onChange={(e) => {\r\n                                const currentFilters = Array.isArray(bmcFilter) ? bmcFilter : [];\r\n                                if (e.target.checked) {\r\n                                  onBmcChange([...currentFilters, bmcIdStr]);\r\n                                } else {\r\n                                  onBmcChange(currentFilters.filter(id => id !== bmcIdStr));\r\n                                }\r\n                                onSocietyChange([]);\r\n                              }}\r\n                              className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                            />\r\n                            <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                              {bmc.name}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                              ({bmc.bmcId})\r\n                            </span>\r\n                          </label>\r\n                        );\r\n                      });\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onBmcChange([]);\r\n                      onSocietyChange([]);\r\n                      setBmcDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setBmcDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Society Filter Button */}\r\n        {!hideSocietyFilter && societies && societies.length > 0 && (\r\n        <div className=\"relative\" ref={societyDropdownRef}>\r\n          <button\r\n            onClick={() => setSocietyDropdownOpen(!societyDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              Array.isArray(societyFilter) && societyFilter.length > 0\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Society\r\n              {Array.isArray(societyFilter) && societyFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {societyFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${societyDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Society Dropdown Popup */}\r\n          {societyDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Societies\r\n                    {Array.isArray(societyFilter) && societyFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({societyFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setSocietyDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {societies.length === 0 ? (\r\n                      <div className=\"text-center py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                        No societies available\r\n                      </div>\r\n                    ) : (\r\n                      (() => {\r\n                        // Filter societies based on selected dairy/BMC\r\n                        let filteredSocieties = societies;\r\n                        \r\n                        const dairyFilterArray = Array.isArray(dairyFilter) ? dairyFilter : [];\r\n                        const bmcFilterArray = Array.isArray(bmcFilter) ? bmcFilter : [];\r\n                        \r\n                        // If dairy filter is active, get BMCs under those dairies\r\n                        if (dairyFilterArray.length > 0) {\r\n                          const dairyBmcIds = bmcs\r\n                            .filter(b => dairyFilterArray.includes(b.dairyFarmId?.toString() || ''))\r\n                            .map(b => b.id);\r\n                          filteredSocieties = societies.filter(s => \r\n                            s.bmc_id && dairyBmcIds.includes(s.bmc_id)\r\n                          );\r\n                        }\r\n                        // If BMC filter is active, show only societies under those BMCs\r\n                        else if (bmcFilterArray.length > 0) {\r\n                          filteredSocieties = societies.filter(s => \r\n                            s.bmc_id && bmcFilterArray.includes(s.bmc_id.toString())\r\n                          );\r\n                        }\r\n\r\n                        // Group societies by BMC\r\n                        const societiesByBmc = filteredSocieties.reduce((acc, society) => {\r\n                          const bmcId = society.bmc_id || 'unassigned';\r\n                          if (!acc[bmcId]) acc[bmcId] = [];\r\n                          acc[bmcId].push(society);\r\n                          return acc;\r\n                        }, {} as Record<string | number, typeof societies>);\r\n\r\n                        return Object.entries(societiesByBmc).map(([bmcId, bmcSocieties]) => {\r\n                          const bmc = bmcs.find(b => b.id.toString() === bmcId);\r\n                          const dairy = bmc ? dairies.find(d => d.id === bmc.dairyFarmId) : null;\r\n                          \r\n                          return (\r\n                            <div key={bmcId} className=\"mb-3\">\r\n                              {/* BMC/Dairy Header */}\r\n                              <div className=\"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1\">\r\n                                {bmcId === 'unassigned' ? (\r\n                                  'Unassigned Societies'\r\n                                ) : (\r\n                                  <>\r\n                                    {dairy && <span className=\"text-blue-600 dark:text-blue-400\">{dairy.name} → </span>}\r\n                                    <span className=\"text-emerald-600 dark:text-emerald-400\">{bmc?.name || `BMC ${bmcId}`}</span>\r\n                                  </>\r\n                                )}\r\n                              </div>\r\n                              \r\n                              {/* Societies under this BMC */}\r\n                              {bmcSocieties.map(society => {\r\n                                const isChecked = Array.isArray(societyFilter) && societyFilter.includes(society.id.toString());\r\n                                return (\r\n                                  <label\r\n                                    key={society.id}\r\n                                    className=\"flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded cursor-pointer transition-colors\"\r\n                                  >\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      checked={isChecked}\r\n                                      onChange={(e) => {\r\n                                        const currentFilters = Array.isArray(societyFilter) ? societyFilter : [];\r\n                                        const societyId = society.id.toString();\r\n                                        if (e.target.checked) {\r\n                                          onSocietyChange([...currentFilters, societyId]);\r\n                                        } else {\r\n                                          onSocietyChange(currentFilters.filter(id => id !== societyId));\r\n                                        }\r\n                                      }}\r\n                                      className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                                      {society.name}\r\n                                    </span>\r\n                                    <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                      ({society.society_id})\r\n                                    </span>\r\n                                  </label>\r\n                                );\r\n                              })}\r\n                            </div>\r\n                          );\r\n                        });\r\n                      })()\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onSocietyChange([]);\r\n                      setSocietyDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setSocietyDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Machine Filter Button */}\r\n        {showMachineFilter && (\r\n        <div className=\"relative\" ref={machineDropdownRef}>\r\n          <button\r\n            onClick={() => setMachineDropdownOpen(!machineDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              Array.isArray(machineFilter) && machineFilter.length > 0\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Machine\r\n              {Array.isArray(machineFilter) && machineFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {machineFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${machineDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Machine Dropdown Popup */}\r\n          {machineDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Machines\r\n                    {Array.isArray(machineFilter) && machineFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({machineFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setMachineDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {uniqueMachines.length === 0 ? (\r\n                      <div className=\"text-center py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                        No machines available\r\n                      </div>\r\n                    ) : (\r\n                      (() => {\r\n                        // Group machines by society\r\n                        const machinesBySociety = uniqueMachines.reduce((acc, machine) => {\r\n                          const societyId = machine.societyId || 'unassigned';\r\n                          if (!acc[societyId]) acc[societyId] = [];\r\n                          acc[societyId].push(machine);\r\n                          return acc;\r\n                        }, {} as Record<string | number, typeof uniqueMachines>);\r\n\r\n                        return Object.entries(machinesBySociety).map(([societyId, societyMachines]) => {\r\n                          const society = societies.find(s => s.id.toString() === societyId);\r\n                          const bmc = society?.bmc_id ? bmcs.find(b => b.id === society.bmc_id) : null;\r\n                          const dairy = bmc?.dairyFarmId ? dairies.find(d => d.id === bmc.dairyFarmId) : null;\r\n                          \r\n                          return (\r\n                            <div key={societyId} className=\"mb-3\">\r\n                              {/* Hierarchy Header: Dairy → BMC → Society */}\r\n                              <div className=\"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1\">\r\n                                {societyId === 'unassigned' ? (\r\n                                  'Unassigned Machines'\r\n                                ) : (\r\n                                  <>\r\n                                    {dairy && <span className=\"text-blue-600 dark:text-blue-400\">{dairy.name} → </span>}\r\n                                    {bmc && <span className=\"text-emerald-600 dark:text-emerald-400\">{bmc.name} → </span>}\r\n                                    <span className=\"text-purple-600 dark:text-purple-400\">{society?.name || `Society ${societyId}`}</span>\r\n                                  </>\r\n                                )}\r\n                              </div>\r\n                              \r\n                              {/* Machines under this society */}\r\n                              {societyMachines.map((machine) => (\r\n                                <label\r\n                                  key={machine.id}\r\n                                  className=\"flex items-center gap-3 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                                >\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    checked={Array.isArray(machineFilter) && machineFilter.includes(machine.id.toString())}\r\n                                    onChange={(e) => {\r\n                                      const currentFilter = Array.isArray(machineFilter) ? machineFilter : [];\r\n                                      if (e.target.checked) {\r\n                                        onMachineChange([...currentFilter, machine.id.toString()]);\r\n                                      } else {\r\n                                        onMachineChange(currentFilter.filter(id => id !== machine.id.toString()));\r\n                                      }\r\n                                    }}\r\n                                    className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                                  />\r\n                                  <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                                    {machine.machineType}\r\n                                  </span>\r\n                                  <div className=\"flex items-center gap-2\">\r\n                                    {machine.collectionCount !== undefined && (\r\n                                      <span className=\"px-2 py-0.5 text-xs font-semibold bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full\">\r\n                                        {machine.collectionCount}\r\n                                      </span>\r\n                                    )}\r\n                                    <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                      ({machine.machineId})\r\n                                    </span>\r\n                                  </div>\r\n                                </label>\r\n                              ))}\r\n                            </div>\r\n                          );\r\n                        });\r\n                      })()\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onMachineChange([]);\r\n                      setMachineDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setMachineDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Farmer Filter Button */}\r\n        {farmers && farmers.length > 0 && onFarmerChange && (\r\n        <div className=\"relative\" ref={farmerDropdownRef}>\r\n          <button\r\n            onClick={() => setFarmerDropdownOpen(!farmerDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              Array.isArray(farmerFilter) && farmerFilter.length > 0\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Farmer\r\n              {Array.isArray(farmerFilter) && farmerFilter.length > 0 && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  {farmerFilter.length}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${farmerDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Farmer Dropdown Popup */}\r\n          {farmerDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Farmers\r\n                    {Array.isArray(farmerFilter) && farmerFilter.length > 0 && (\r\n                      <span className=\"ml-2 text-xs font-normal text-gray-500 dark:text-gray-400\">\r\n                        ({farmerFilter.length} selected)\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setFarmerDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-md\">\r\n                  <div className=\"space-y-1 p-2\">\r\n                    {farmers.length === 0 ? (\r\n                      <div className=\"text-center py-4 text-sm text-gray-500 dark:text-gray-400\">\r\n                        No farmers available\r\n                      </div>\r\n                    ) : (\r\n                      farmers.map((farmer) => (\r\n                        <label\r\n                          key={farmer.id}\r\n                          className=\"flex items-center gap-3 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                        >\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={Array.isArray(farmerFilter) && farmerFilter.includes(farmer.id.toString())}\r\n                            onChange={(e) => {\r\n                              const currentFilter = Array.isArray(farmerFilter) ? farmerFilter : [];\r\n                              if (e.target.checked) {\r\n                                onFarmerChange([...currentFilter, farmer.id.toString()]);\r\n                              } else {\r\n                                onFarmerChange(currentFilter.filter(id => id !== farmer.id.toString()));\r\n                              }\r\n                            }}\r\n                            className=\"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 cursor-pointer\"\r\n                          />\r\n                          <div className=\"flex-1\">\r\n                            <span className=\"text-sm text-gray-900 dark:text-gray-100 block\">\r\n                              {farmer.farmerName}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                              {farmer.farmerId}\r\n                            </span>\r\n                          </div>\r\n                        </label>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onFarmerChange([]);\r\n                      setFarmerDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setFarmerDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Channel Filter Button */}\r\n        {showChannelFilter && (\r\n        <div className=\"relative\" ref={channelDropdownRef}>\r\n          <button\r\n            onClick={() => setChannelDropdownOpen(!channelDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              channelFilter && channelFilter !== 'all'\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Channel\r\n              {channelFilter && channelFilter !== 'all' && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  1\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${channelDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Channel Dropdown Popup */}\r\n          {channelDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Channel\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setChannelDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  {[\r\n                    { value: 'all', label: 'All Channels' },\r\n                    { value: 'COW', label: 'Cow' },\r\n                    { value: 'BUFFALO', label: 'Buffalo' },\r\n                    { value: 'MIXED', label: 'Mixed' }\r\n                  ].map((option) => (\r\n                    <label\r\n                      key={option.value}\r\n                      className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\"\r\n                    >\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"channel\"\r\n                        checked={channelFilter === option.value}\r\n                        onChange={() => {\r\n                          if (onChannelChange) {\r\n                            onChannelChange(option.value);\r\n                          }\r\n                        }}\r\n                        className=\"w-4 h-4 text-psr-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-psr-primary-500 cursor-pointer\"\r\n                      />\r\n                      <span className=\"text-sm text-gray-900 dark:text-gray-100 flex-1\">\r\n                        {option.label}\r\n                      </span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      if (onChannelChange) onChannelChange('all');\r\n                      setChannelDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setChannelDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Shift Filter Button */}\r\n        {showShiftFilter && (\r\n        <div className=\"relative\" ref={shiftDropdownRef}>\r\n          <button\r\n            onClick={() => setShiftDropdownOpen(!shiftDropdownOpen)}\r\n            className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n              statusFilter !== 'all'\r\n                ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            <Filter className=\"w-4 h-4\" />\r\n            <span className=\"text-sm font-medium\">\r\n              Shift\r\n              {statusFilter !== 'all' && (\r\n                <span className=\"ml-1.5 px-1.5 py-0.5 bg-psr-primary-600 dark:bg-psr-primary-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                  1\r\n                </span>\r\n              )}\r\n            </span>\r\n            <ChevronDown className={`w-4 h-4 transition-transform ${shiftDropdownOpen ? 'rotate-180' : ''}`} />\r\n          </button>\r\n\r\n          {/* Shift Dropdown Popup */}\r\n          {shiftDropdownOpen && (\r\n            <div className=\"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                    Select Shift\r\n                  </h3>\r\n                  <button\r\n                    onClick={() => setShiftDropdownOpen(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"shift\"\r\n                      value=\"all\"\r\n                      checked={statusFilter === 'all'}\r\n                      onChange={() => onStatusChange('all')}\r\n                      className=\"w-4 h-4 text-amber-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-amber-500 dark:focus:ring-amber-400 cursor-pointer\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-900 dark:text-gray-100\">All Shifts</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"shift\"\r\n                      value=\"morning\"\r\n                      checked={statusFilter === 'morning'}\r\n                      onChange={() => onStatusChange('morning')}\r\n                      className=\"w-4 h-4 text-amber-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-amber-500 dark:focus:ring-amber-400 cursor-pointer\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-900 dark:text-gray-100\">Morning</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-3 p-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"shift\"\r\n                      value=\"evening\"\r\n                      checked={statusFilter === 'evening'}\r\n                      onChange={() => onStatusChange('evening')}\r\n                      className=\"w-4 h-4 text-indigo-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 cursor-pointer\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-900 dark:text-gray-100\">Evening</span>\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                  <button\r\n                    onClick={() => {\r\n                      onStatusChange('all');\r\n                      setShiftDropdownOpen(false);\r\n                    }}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Clear All\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setShiftDropdownOpen(false)}\r\n                    className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                  >\r\n                    Apply\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        )}\r\n\r\n        {/* Date Range Filter Button */}\r\n        {showDateFilter && (\r\n          <div className=\"relative\" ref={dateRangeRef}>\r\n            <button\r\n              onClick={() => setDateRangeOpen(!dateRangeOpen)}\r\n              className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n                (dateFromFilter && dateFromFilter !== '') || (dateToFilter && dateToFilter !== '')\r\n                  ? 'bg-psr-primary-50 dark:bg-psr-primary-900/20 border-psr-primary-500 dark:border-psr-primary-400 text-psr-primary-700 dark:text-psr-primary-300'\r\n                  : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n              }`}\r\n            >\r\n              <Calendar className=\"w-4 h-4\" />\r\n              <span className=\"text-sm font-medium\">Date Range</span>\r\n              <ChevronDown className={`w-4 h-4 transition-transform ${dateRangeOpen ? 'rotate-180' : ''}`} />\r\n            </button>\r\n\r\n            {/* Date Range Popup */}\r\n            {dateRangeOpen && (\r\n              <div className=\"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Select Date Range</h3>\r\n                    <button\r\n                      onClick={() => setDateRangeOpen(false)}\r\n                      className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block mb-2\">\r\n                        From Date\r\n                      </label>\r\n                      <div className=\"relative\">\r\n                        <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                        <input\r\n                          type=\"date\"\r\n                          value={dateFromFilter || ''}\r\n                          onChange={(e) => onDateFromChange && onDateFromChange(e.target.value)}\r\n                          className=\"w-full pl-10 pr-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-primary-500 dark:focus:ring-psr-primary-400 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block mb-2\">\r\n                        To Date\r\n                      </label>\r\n                      <div className=\"relative\">\r\n                        <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                        <input\r\n                          type=\"date\"\r\n                          value={dateToFilter || ''}\r\n                          onChange={(e) => onDateToChange && onDateToChange(e.target.value)}\r\n                          className=\"w-full pl-10 pr-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-primary-500 dark:focus:ring-psr-primary-400 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-2 pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                    <button\r\n                      onClick={() => {\r\n                        if (onDateFromChange) onDateFromChange('');\r\n                        if (onDateToChange) onDateToChange('');\r\n                        setDateRangeOpen(false);\r\n                      }}\r\n                      className=\"flex-1 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n                    >\r\n                      Clear All\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setDateRangeOpen(false)}\r\n                      className=\"flex-1 px-3 py-2 text-sm text-white bg-psr-primary-600 rounded-md hover:bg-psr-primary-700 transition-colors\"\r\n                    >\r\n                      Apply\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Item Count */}\r\n        {(filteredCount > 0 || totalCount > 0) && (\r\n          <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n            {icon}\r\n            <span className=\"font-medium\">\r\n              {filteredCount}/{totalCount} items\r\n            </span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Active Search Query Badge */}\r\n        {searchQuery && (\r\n          <div className=\"flex items-center gap-1.5 px-2.5 py-1.5 bg-psr-green-50 dark:bg-psr-green-900/20 border border-psr-green-200 dark:border-psr-green-700 rounded-md text-psr-green-700 dark:text-psr-green-300 text-xs font-medium\">\r\n            <span>&ldquo;{searchQuery}&rdquo;</span>\r\n            {onSearchChange && (\r\n              <button\r\n                onClick={() => {\r\n                  onSearchChange('');\r\n                  // Clear header search as well\r\n                  const event = new CustomEvent('globalSearch', {\r\n                    detail: { query: '' }\r\n                  });\r\n                  window.dispatchEvent(event);\r\n                }}\r\n                className=\"hover:bg-psr-green-100 dark:hover:bg-psr-green-800 rounded p-0.5 transition-colors\"\r\n                title=\"Clear search\"\r\n              >\r\n                <X className=\"w-3 h-3\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Clear All Filters Button */}\r\n        {hasActiveFilters && (\r\n          <button\r\n            onClick={handleClearFilters}\r\n            className=\"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-md hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n          >\r\n            <X className=\"w-3.5 h-3.5\" />\r\n            <span className=\"hidden sm:inline\">Clear</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Dropdown Panel */}\r\n      {isOpen && (\r\n        <div className=\"absolute top-full left-0 mt-2 w-full sm:w-auto sm:min-w-[600px] sm:max-w-4xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n              <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Filter Options</h3>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* All Filters in Single Row */}\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n              {/* Status/Shift Filter */}\r\n              {showShiftFilter ? (\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                    Shift\r\n                  </label>\r\n                  <select\r\n                    value={statusFilter}\r\n                    onChange={(e) => onStatusChange(e.target.value)}\r\n                    className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"all\">All Shifts</option>\r\n                    <option value=\"morning\">Morning</option>\r\n                    <option value=\"evening\">Evening</option>\r\n                  </select>\r\n                </div>\r\n              ) : statusFilter !== 'all' && statusFilter !== '' ? (\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                    Status\r\n                  </label>\r\n                  <select\r\n                    value={statusFilter}\r\n                    onChange={(e) => onStatusChange(e.target.value)}\r\n                    className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"all\">All Status</option>\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"inactive\">Inactive</option>\r\n                    <option value=\"suspended\">Suspended</option>\r\n                    <option value=\"maintenance\">Maintenance</option>\r\n                  </select>\r\n                </div>\r\n              ) : null}\r\n\r\n              {/* Dairy Filter */}\r\n              {dairies && dairies.length > 0 && onDairyChange && (\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                    Dairy Farm\r\n                  </label>\r\n                  <select\r\n                    value={dairyFilter || 'all'}\r\n                    onChange={(e) => {\r\n                      onDairyChange(e.target.value);\r\n                      if (onBmcChange) onBmcChange('all');\r\n                      onSocietyChange([]);\r\n                    }}\r\n                    className=\"w-full min-w-[150px] px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"all\">All Dairies</option>\r\n                    {dairies.map(dairy => (\r\n                      <option key={dairy.id} value={dairy.id.toString()}>\r\n                        {dairy.name} ({dairy.dairyId})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              {/* BMC Filter */}\r\n              {bmcs && bmcs.length > 0 && onBmcChange && (\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                    BMC\r\n                  </label>\r\n                  <select\r\n                    value={bmcFilter || 'all'}\r\n                    onChange={(e) => {\r\n                      onBmcChange(e.target.value);\r\n                      onSocietyChange([]);\r\n                    }}\r\n                    className=\"w-full min-w-[150px] px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"all\">All BMCs</option>\r\n                    {bmcs\r\n                      .filter(bmc => \r\n                        !dairyFilter || dairyFilter === 'all' || \r\n                        bmc.dairyFarmId?.toString() === dairyFilter\r\n                      )\r\n                      .map(bmc => (\r\n                        <option key={bmc.id} value={bmc.id.toString()}>\r\n                          {bmc.name} ({bmc.bmcId})\r\n                        </option>\r\n                      ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              {/* Machine Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Machine\r\n                </label>\r\n                <select\r\n                  value={machineFilter}\r\n                  onChange={(e) => onMachineChange(e.target.value)}\r\n                  className=\"w-full min-w-[150px] px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-psr-green-500 dark:focus:ring-psr-green-400 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  <option value=\"all\">All Machines</option>\r\n                  {machines\r\n                    .filter(machine => {\r\n                      if (Array.isArray(societyFilter) && societyFilter.length > 0) {\r\n                        return societyFilter.includes(machine.societyId?.toString() || '');\r\n                      }\r\n                      return true;\r\n                    })\r\n                    .map(machine => (\r\n                      <option key={machine.id} value={machine.id.toString()}>\r\n                        {machine.machineId} ({machine.machineType})\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            {/* Active Filters Summary */}\r\n            {hasActiveFilters && (\r\n              <div className=\"pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400\">Active filters:</span>\r\n                  {statusFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-green-100 dark:bg-psr-green-900/30 text-psr-green-700 dark:text-psr-green-300 text-xs rounded\">\r\n                      {showShiftFilter ? 'Shift' : 'Status'}: {statusFilter}\r\n                      <button onClick={() => onStatusChange('all')} className=\"hover:text-psr-green-900 dark:hover:text-psr-green-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {Array.isArray(societyFilter) && societyFilter.length > 0 && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-primary-100 dark:bg-psr-primary-900/30 text-psr-primary-700 dark:text-psr-primary-300 text-xs rounded\">\r\n                      Society: {societyFilter.length} selected\r\n                      <button onClick={() => onSocietyChange([])} className=\"hover:text-psr-primary-900 dark:hover:text-psr-primary-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {machineFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-emerald-100 dark:bg-psr-emerald-900/30 text-psr-emerald-700 dark:text-psr-emerald-300 text-xs rounded\">\r\n                      Machine: {machines.find(m => m.id.toString() === machineFilter)?.machineId}\r\n                      <button onClick={() => onMachineChange('all')} className=\"hover:text-psr-emerald-900 dark:hover:text-psr-emerald-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {dateFilter && dateFilter !== '' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs rounded\">\r\n                      Date: {dateFilter}\r\n                      <button onClick={() => onDateChange && onDateChange('')} className=\"hover:text-orange-900 dark:hover:text-orange-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {dateFromFilter && dateFromFilter !== '' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-primary-100 dark:bg-psr-primary-900/30 text-psr-primary-700 dark:text-psr-primary-300 text-xs rounded\">\r\n                      From: {dateFromFilter}\r\n                      <button onClick={() => onDateFromChange && onDateFromChange('')} className=\"hover:text-psr-primary-900 dark:hover:text-psr-primary-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {dateToFilter && dateToFilter !== '' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-psr-primary-100 dark:bg-psr-primary-900/30 text-psr-primary-700 dark:text-psr-primary-300 text-xs rounded\">\r\n                      To: {dateToFilter}\r\n                      <button onClick={() => onDateToChange && onDateToChange('')} className=\"hover:text-psr-primary-900 dark:hover:text-psr-primary-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {channelFilter && channelFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 text-xs rounded\">\r\n                      Channel: {channelFilter}\r\n                      <button onClick={() => onChannelChange && onChannelChange('all')} className=\"hover:text-yellow-900 dark:hover:text-yellow-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterDropdown;\r\n","'use client';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Filter, X, ChevronDown } from 'lucide-react';\r\n\r\ninterface StatisticsFilterDropdownProps {\r\n  societyFilter: string;\r\n  onSocietyChange: (value: string) => void;\r\n  machineTypeFilter: string;\r\n  onMachineTypeChange: (value: string) => void;\r\n  dateFilter: string;\r\n  onDateChange: (value: string) => void;\r\n  autoChannelFilter: string;\r\n  onAutoChannelChange: (value: string) => void;\r\n  societies: string[];\r\n  machineTypes: string[];\r\n  dates: string[];\r\n  filteredCount: number;\r\n  totalCount: number;\r\n  searchQuery?: string;\r\n  onSearchChange?: (value: string) => void;\r\n  icon?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Custom filter dropdown for machine statistics page\r\n * Handles society, machine type, date, and auto-channel filters\r\n */\r\nconst StatisticsFilterDropdown: React.FC<StatisticsFilterDropdownProps> = ({\r\n  societyFilter,\r\n  onSocietyChange,\r\n  machineTypeFilter,\r\n  onMachineTypeChange,\r\n  dateFilter,\r\n  onDateChange,\r\n  autoChannelFilter,\r\n  onAutoChannelChange,\r\n  societies,\r\n  machineTypes,\r\n  dates,\r\n  filteredCount,\r\n  totalCount,\r\n  searchQuery,\r\n  onSearchChange,\r\n  icon\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const hasActiveFilters = \r\n    societyFilter !== 'all' || \r\n    machineTypeFilter !== 'all' || \r\n    dateFilter !== 'all' || \r\n    autoChannelFilter !== 'all';\r\n    \r\n  const activeFilterCount = [\r\n    societyFilter !== 'all',\r\n    machineTypeFilter !== 'all',\r\n    dateFilter !== 'all',\r\n    autoChannelFilter !== 'all'\r\n  ].filter(Boolean).length;\r\n\r\n  const handleClearFilters = () => {\r\n    onSocietyChange('all');\r\n    onMachineTypeChange('all');\r\n    onDateChange('all');\r\n    onAutoChannelChange('all');\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      {/* Compact Filter Bar */}\r\n      <div className=\"flex items-center gap-2 sm:gap-3 flex-wrap\">\r\n        {/* Filter Dropdown Button */}\r\n        <button\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          className={`flex items-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg border transition-all ${\r\n            hasActiveFilters\r\n              ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-500 dark:border-blue-400 text-blue-700 dark:text-blue-300'\r\n              : 'bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\r\n          }`}\r\n        >\r\n          <Filter className=\"w-4 h-4\" />\r\n          <span className=\"text-sm font-medium\">\r\n            Filters\r\n            {activeFilterCount > 0 && (\r\n              <span className=\"ml-1.5 px-1.5 py-0.5 bg-blue-600 dark:bg-blue-500 text-white text-xs rounded-full min-w-[18px] text-center\">\r\n                {activeFilterCount}\r\n              </span>\r\n            )}\r\n          </span>\r\n          <ChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\r\n        </button>\r\n\r\n        {/* Item Count */}\r\n        <div className=\"flex items-center space-x-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n          {icon}\r\n          <span className=\"font-medium\">\r\n            {filteredCount}/{totalCount} items\r\n          </span>\r\n        </div>\r\n\r\n        {/* Active Search Query Badge */}\r\n        {searchQuery && (\r\n          <div className=\"flex items-center gap-1.5 px-2.5 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-md text-blue-700 dark:text-blue-300 text-xs font-medium\">\r\n            <span>&ldquo;{searchQuery}&rdquo;</span>\r\n            {onSearchChange && (\r\n              <button\r\n                onClick={() => onSearchChange('')}\r\n                className=\"hover:bg-blue-100 dark:hover:bg-blue-800 rounded p-0.5 transition-colors\"\r\n                title=\"Clear search\"\r\n              >\r\n                <X className=\"w-3 h-3\" />\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Clear All Filters Button */}\r\n        {hasActiveFilters && (\r\n          <button\r\n            onClick={handleClearFilters}\r\n            className=\"flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-md hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n          >\r\n            <X className=\"w-3.5 h-3.5\" />\r\n            <span className=\"hidden sm:inline\">Clear</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Dropdown Panel */}\r\n      {isOpen && (\r\n        <div className=\"absolute top-full left-0 mt-2 w-full sm:w-[700px] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 p-4\">\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\r\n              <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Filter Options</h3>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Filters Grid */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n              {/* Society Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Society\r\n                </label>\r\n                <select\r\n                  value={societyFilter}\r\n                  onChange={(e) => onSocietyChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-transparent\"\r\n                >\r\n                  <option value=\"all\">All Societies</option>\r\n                  {societies.map(society => (\r\n                    <option key={society} value={society}>\r\n                      {society}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Machine Type Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Machine Type\r\n                </label>\r\n                <select\r\n                  value={machineTypeFilter}\r\n                  onChange={(e) => onMachineTypeChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-transparent\"\r\n                >\r\n                  <option value=\"all\">All Types</option>\r\n                  {machineTypes.map(type => (\r\n                    <option key={type} value={type}>\r\n                      {type}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Date Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Date\r\n                </label>\r\n                <select\r\n                  value={dateFilter}\r\n                  onChange={(e) => onDateChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-transparent\"\r\n                >\r\n                  <option value=\"all\">All Dates</option>\r\n                  {dates.map(date => (\r\n                    <option key={date} value={date}>\r\n                      {date}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Auto Channel Filter */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-medium text-gray-700 dark:text-gray-300 block\">\r\n                  Auto Channel\r\n                </label>\r\n                <select\r\n                  value={autoChannelFilter}\r\n                  onChange={(e) => onAutoChannelChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400 focus:border-transparent\"\r\n                >\r\n                  <option value=\"all\">All Status</option>\r\n                  <option value=\"ENABLE\">Enabled</option>\r\n                  <option value=\"DISABLE\">Disabled</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Active Filters Summary */}\r\n            {hasActiveFilters && (\r\n              <div className=\"pt-3 border-t border-gray-200 dark:border-gray-700\">\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <span className=\"text-xs text-gray-600 dark:text-gray-400\">Active filters:</span>\r\n                  {societyFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded\">\r\n                      Society: {societyFilter}\r\n                      <button onClick={() => onSocietyChange('all')} className=\"hover:text-blue-900 dark:hover:text-blue-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {machineTypeFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded\">\r\n                      Type: {machineTypeFilter}\r\n                      <button onClick={() => onMachineTypeChange('all')} className=\"hover:text-purple-900 dark:hover:text-purple-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {dateFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded\">\r\n                      Date: {dateFilter}\r\n                      <button onClick={() => onDateChange('all')} className=\"hover:text-green-900 dark:hover:text-green-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                  {autoChannelFilter !== 'all' && (\r\n                    <span className=\"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs rounded\">\r\n                      Auto Channel: {autoChannelFilter}\r\n                      <button onClick={() => onAutoChannelChange('all')} className=\"hover:text-orange-900 dark:hover:text-orange-100\">\r\n                        <X className=\"w-3 h-3\" />\r\n                      </button>\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticsFilterDropdown;\r\n","'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n  Plus,\r\n  Upload,\r\n  Search,\r\n  Edit,\r\n  Trash2,\r\n  Settings,\r\n  FileText,\r\n  Check,\r\n  X,\r\n  AlertCircle,\r\n  RefreshCw\r\n} from 'lucide-react';\r\nimport { FlowerSpinner } from '@/components';\r\n\r\ninterface Machine {\r\n  id: number;\r\n  machineType: string;\r\n  description?: string;\r\n  isActive: boolean;\r\n  status?: 'active' | 'inactive' | 'maintenance' | 'suspended';\r\n}\r\n\r\ninterface MachineManagerProps {\r\n  onClose?: () => void;\r\n}\r\n\r\nconst MachineManager: React.FC<MachineManagerProps> = () => {\r\n  const [machines, setMachines] = useState<Machine[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [editingMachine, setEditingMachine] = useState<Machine | null>(null);\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [uploadLoading, setUploadLoading] = useState(false);\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n  const [openStatusDropdown, setOpenStatusDropdown] = useState<number | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    machineType: '',\r\n    description: '',\r\n    isActive: true,\r\n    status: 'active' as 'active' | 'inactive' | 'maintenance' | 'suspended'\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchMachines();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (openStatusDropdown !== null) {\r\n        const target = event.target as Element;\r\n        if (!target.closest('.status-dropdown')) {\r\n          setOpenStatusDropdown(null);\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [openStatusDropdown]);\r\n\r\n  const fetchMachines = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch('/api/superadmin/machines');\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setMachines(result.data.machines || []);\r\n      } else {\r\n        alert('Failed to fetch machines: ' + result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching machines:', error);\r\n      alert('Error fetching machines. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.machineType.trim()) {\r\n      alert('Machine type is required');\r\n      return;\r\n    }\r\n\r\n    setFormLoading(true);\r\n    \r\n    try {\r\n      const url = editingMachine ? '/api/superadmin/machines' : '/api/superadmin/machines';\r\n      const method = editingMachine ? 'PUT' : 'POST';\r\n      \r\n      const payload = editingMachine \r\n        ? { id: editingMachine.id, ...formData }\r\n        : formData;\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        await fetchMachines();\r\n        setShowAddForm(false);\r\n        setEditingMachine(null);\r\n        setFormData({ machineType: '', description: '', isActive: true, status: 'active' as 'active' | 'inactive' | 'maintenance' | 'suspended' });\r\n        alert(editingMachine ? 'Machine updated successfully!' : 'Machine created successfully!');\r\n      } else {\r\n        alert(`Failed to ${editingMachine ? 'update' : 'create'} machine: ` + result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving machine:', error);\r\n      alert('Error saving machine. Please try again.');\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Are you sure you want to permanently delete this machine? This action cannot be undone and will remove all associated data.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`/api/superadmin/machines?id=${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        await fetchMachines();\r\n        alert('Machine deleted successfully!');\r\n      } else {\r\n        alert('Failed to delete machine: ' + result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting machine:', error);\r\n      alert('Error deleting machine. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploadLoading(true);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n\r\n      const response = await fetch('/api/superadmin/machines/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        await fetchMachines();\r\n        setShowUploadModal(false);\r\n        alert(`Upload completed: ${result.data.success} created, ${result.data.duplicates} duplicates, ${result.data.failed} failed`);\r\n        \r\n        if (result.data.errors.length > 0) {\r\n          console.log('Upload errors:', result.data.errors);\r\n        }\r\n      } else {\r\n        alert('Failed to upload CSV: ' + result.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading CSV:', error);\r\n      alert('Error uploading CSV. Please try again.');\r\n    } finally {\r\n      setUploadLoading(false);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (type: 'template' | 'export') => {\r\n    try {\r\n      const response = await fetch(`/api/superadmin/machines/download?type=${type}`);\r\n      \r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.style.display = 'none';\r\n        a.href = url;\r\n        a.download = type === 'template' ? 'machine_types_template.csv' : 'machine_types_export.csv';\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        alert('Failed to download file');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error downloading file:', error);\r\n      alert('Error downloading file. Please try again.');\r\n    }\r\n  };\r\n\r\n  const startEdit = (machine: Machine) => {\r\n    setEditingMachine(machine);\r\n    setFormData({\r\n      machineType: machine.machineType,\r\n      description: machine.description || '',\r\n      isActive: machine.isActive,\r\n      status: machine.status || (machine.isActive ? 'active' : 'inactive')\r\n    });\r\n    setShowAddForm(true);\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setEditingMachine(null);\r\n    setShowAddForm(false);\r\n    setFormData({ machineType: '', description: '', isActive: true, status: 'active' as 'active' | 'inactive' | 'maintenance' | 'suspended' });\r\n  };\r\n\r\n  const getStatusInfo = (machine: Machine) => {\r\n    const status = machine.status || (machine.isActive ? 'active' : 'inactive');\r\n    switch (status) {\r\n      case 'active':\r\n        return { label: 'Active', bgColor: 'bg-green-100', textColor: 'text-green-800' };\r\n      case 'inactive':\r\n        return { label: 'Inactive', bgColor: 'bg-red-100', textColor: 'text-red-800' };\r\n      case 'maintenance':\r\n        return { label: 'Maintenance', bgColor: 'bg-yellow-100', textColor: 'text-yellow-800' };\r\n      case 'suspended':\r\n        return { label: 'Suspended', bgColor: 'bg-orange-100', textColor: 'text-orange-800' };\r\n      default:\r\n        return { label: 'Unknown', bgColor: 'bg-gray-100', textColor: 'text-gray-800' };\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (machineId: number, newStatus: 'active' | 'inactive' | 'maintenance' | 'suspended') => {\r\n    try {\r\n      const isActive = newStatus === 'active';\r\n      const response = await fetch('/api/superadmin/machines', {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          id: machineId,\r\n          isActive,\r\n          status: newStatus\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMachines(machines.map(machine =>\r\n          machine.id === machineId\r\n            ? { ...machine, isActive, status: newStatus }\r\n            : machine\r\n        ));\r\n        setOpenStatusDropdown(null);\r\n      } else {\r\n        alert('Failed to update machine status');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating status:', error);\r\n      alert('Error updating machine status. Please try again.');\r\n    }\r\n  };\r\n\r\n  const filteredMachines = machines.filter(machine =>\r\n    machine.machineType.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    (machine.description && machine.description.toLowerCase().includes(searchTerm.toLowerCase()))\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"text-center\">\r\n          <FlowerSpinner size={48} />\r\n          <p className=\"mt-4 text-gray-600\">Loading machines...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n        <div>\r\n          <h3 className=\"text-2xl font-bold text-gray-900\">Machine Types</h3>\r\n          <p className=\"text-gray-600\">Manage dairy equipment machine types and models</p>\r\n        </div>\r\n        \r\n        <div className=\"flex flex-wrap gap-3\">\r\n          <button\r\n            onClick={() => setShowAddForm(true)}\r\n            className=\"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n          >\r\n            <Plus className=\"h-4 w-4\" />\r\n            <span>Add Machine</span>\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => setShowUploadModal(true)}\r\n            className=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            <Upload className=\"h-4 w-4\" />\r\n            <span>Bulk Upload</span>\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => handleDownload('export')}\r\n            className=\"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\r\n          >\r\n            <FileText className=\"h-4 w-4\" />\r\n            <span>Export</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <div className=\"relative\">\r\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search machine types...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n        />\r\n      </div>\r\n\r\n      {/* Machine List */}\r\n      <div className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Machine Type\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Description\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {filteredMachines.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={4} className=\"px-6 py-12 text-center\">\r\n                    <Settings className=\"h-12 w-12 text-gray-300 mx-auto mb-4\" />\r\n                    <p className=\"text-gray-500\">No machines found</p>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredMachines.map((machine) => (\r\n                  <motion.tr\r\n                    key={machine.id}\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"hover:bg-gray-50\"\r\n                  >\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"font-medium text-gray-900\">{machine.machineType}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"text-sm text-gray-600\">{machine.description || '-'}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"relative status-dropdown\">\r\n                        {(() => {\r\n                          const statusInfo = getStatusInfo(machine);\r\n                          return (\r\n                            <button\r\n                              onClick={() => setOpenStatusDropdown(\r\n                                openStatusDropdown === machine.id ? null : machine.id\r\n                              )}\r\n                              className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer hover:opacity-80 transition-opacity ${statusInfo.bgColor} ${statusInfo.textColor}`}\r\n                            >\r\n                              {statusInfo.label}\r\n                              <svg className=\"ml-1 h-3 w-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                <path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                              </svg>\r\n                            </button>\r\n                          );\r\n                        })()}\r\n                        \r\n                        {openStatusDropdown === machine.id && (\r\n                          <motion.div \r\n                            initial={{ opacity: 0, y: -10 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -10 }}\r\n                            className=\"absolute top-full left-0 mt-1 w-32 bg-white border border-gray-200 rounded-lg shadow-lg z-50\">\r\n                            {['active', 'inactive', 'maintenance', 'suspended'].map((status) => {\r\n                              const statusInfo = getStatusInfo({ ...machine, status: status as 'active' | 'inactive' | 'maintenance' | 'suspended' });\r\n                              return (\r\n                                <button\r\n                                  key={status}\r\n                                  onClick={() => handleStatusChange(machine.id, status as 'active' | 'inactive' | 'maintenance' | 'suspended')}\r\n                                  className={`w-full text-left px-3 py-2 text-xs font-medium hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg ${statusInfo.textColor}`}\r\n                                >\r\n                                  <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs ${statusInfo.bgColor} ${statusInfo.textColor}`}>\r\n                                    {statusInfo.label}\r\n                                  </span>\r\n                                </button>\r\n                              );\r\n                            })}\r\n                          </motion.div>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-right\">\r\n                      <div className=\"flex items-center justify-end space-x-2\">\r\n                        <button\r\n                          onClick={() => startEdit(machine)}\r\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                        >\r\n                          <Edit className=\"h-4 w-4\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(machine.id)}\r\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </motion.tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add/Edit Form Modal */}\r\n      <AnimatePresence>\r\n        {showAddForm && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95, y: 50 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: 50 }}\r\n              className=\"bg-white rounded-2xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">\r\n                  {editingMachine ? 'Edit Machine' : 'Add New Machine'}\r\n                </h2>\r\n                <button\r\n                  onClick={cancelEdit}\r\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Machine Type\r\n                    <span className=\"text-red-500 ml-1\">*</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.machineType}\r\n                    onChange={(e) => setFormData({ ...formData, machineType: e.target.value })}\r\n                    placeholder=\"e.g., ECOD, LSE-V3\"\r\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                    placeholder=\"Optional description...\"\r\n                    rows={3}\r\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all resize-none\"\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Status\r\n                  </label>\r\n                  <select\r\n                    value={formData.status}\r\n                    onChange={(e) => {\r\n                      const status = e.target.value as 'active' | 'inactive' | 'maintenance' | 'suspended';\r\n                      setFormData({ \r\n                        ...formData, \r\n                        status,\r\n                        isActive: status === 'active' \r\n                      });\r\n                    }}\r\n                    className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all\"\r\n                  >\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"inactive\">Inactive</option>\r\n                    <option value=\"maintenance\">Maintenance</option>\r\n                    <option value=\"suspended\">Suspended</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-3 pt-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={cancelEdit}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors\"\r\n                    disabled={formLoading}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={formLoading}\r\n                    className=\"flex-1 px-4 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                  >\r\n                    {formLoading ? (\r\n                      <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n                    ) : (\r\n                      <Check className=\"h-4 w-4\" />\r\n                    )}\r\n                    {formLoading ? 'Saving...' : (editingMachine ? 'Update' : 'Create')}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </motion.div>\r\n          </div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Upload Modal */}\r\n      <AnimatePresence>\r\n        {showUploadModal && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95, y: 50 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: 50 }}\r\n              className=\"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl\"\r\n            >\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">Bulk Upload Machines</h2>\r\n                <button\r\n                  onClick={() => setShowUploadModal(false)}\r\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <X className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\r\n                  <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n                  <p className=\"text-sm text-gray-600 mb-2\">\r\n                    Upload a CSV file with machine types\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500 mb-4\">\r\n                    Format: One machine type per line or comma-separated\r\n                  </p>\r\n                  \r\n                  <input\r\n                    ref={fileInputRef}\r\n                    type=\"file\"\r\n                    accept=\".csv\"\r\n                    onChange={handleFileUpload}\r\n                    disabled={uploadLoading}\r\n                    className=\"hidden\"\r\n                  />\r\n                  \r\n                  <button\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    disabled={uploadLoading}\r\n                    className=\"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n                  >\r\n                    {uploadLoading ? (\r\n                      <>\r\n                        <RefreshCw className=\"h-4 w-4 animate-spin inline mr-2\" />\r\n                        Uploading...\r\n                      </>\r\n                    ) : (\r\n                      'Choose CSV File'\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"flex items-start space-x-2 text-sm text-amber-600 bg-amber-50 p-3 rounded-lg\">\r\n                  <AlertCircle className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\r\n                  <div>\r\n                    <p className=\"font-medium\">CSV Format:</p>\r\n                    <p className=\"text-xs mt-1\">\r\n                      First column should contain machine types. Header row is optional.\r\n                      Duplicate entries will be skipped.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    onClick={() => setShowUploadModal(false)}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleDownload('template')}\r\n                    className=\"flex-1 px-4 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors\"\r\n                  >\r\n                    Download Template\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MachineManager;","'use client';\r\n\r\nimport React from 'react';\r\nimport { FlowerSpinner } from '@/components';\r\n\r\ninterface LoadingSnackbarProps {\r\n  isVisible: boolean;\r\n  message: string;\r\n  submessage?: string;\r\n  progress?: number; // 0-100\r\n  showProgress?: boolean;\r\n}\r\n\r\n/**\r\n * Reusable loading snackbar with progress indicator\r\n * Appears in top-right corner\r\n */\r\nconst LoadingSnackbar: React.FC<LoadingSnackbarProps> = ({\r\n  isVisible,\r\n  message,\r\n  submessage = 'Please wait',\r\n  progress = 0,\r\n  showProgress = true\r\n}) => {\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div className=\"fixed top-6 right-6 z-[99999] bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 p-4 min-w-[320px] max-w-sm animate-slide-down\">\r\n      <div className=\"flex items-start space-x-3\">\r\n        <div className=\"flex-shrink-0\">\r\n          <FlowerSpinner size={24} />\r\n        </div>\r\n        <div className=\"flex-1 min-w-0\">\r\n          <p className=\"text-sm font-medium text-gray-900 dark:text-white mb-1\">\r\n            {message}\r\n          </p>\r\n          <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2\">\r\n            {submessage}\r\n          </p>\r\n          {showProgress && (\r\n            <>\r\n              {/* Progress Bar */}\r\n              <div className=\"relative w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\r\n                <div \r\n                  className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-300 ease-out rounded-full\"\r\n                  style={{ width: `${progress}%` }}\r\n                />\r\n              </div>\r\n              {/* Progress Percentage */}\r\n              <div className=\"flex justify-between items-center mt-1\">\r\n                <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                  Progress\r\n                </span>\r\n                <span className=\"text-xs font-semibold text-green-600 dark:text-green-400\">\r\n                  {Math.round(progress)}%\r\n                </span>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSnackbar;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 11 2 2 4-4', key: '9rsbq5' }],\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n];\n\n/**\n * @component @name UserCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTEgMiAyIDQtNCIgLz4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserCheck = createLucideIcon('user-check', __iconNode);\n\nexport default UserCheck;\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { Download, Upload, Plus, RefreshCw, BarChart3 } from 'lucide-react';\r\n\r\ninterface ManagementPageHeaderProps {\r\n  title: string;\r\n  subtitle?: string;\r\n  icon?: React.ReactNode;\r\n  onRefresh: () => void;\r\n  onDownload?: () => void;\r\n  onUpload?: () => void;\r\n  onAdd?: () => void;\r\n  onStatistics?: () => void;\r\n  isDownloading?: boolean;\r\n  hasData?: boolean;\r\n  addButtonText?: string;\r\n}\r\n\r\n/**\r\n * Reusable page header for farmer/user management pages\r\n * Includes title, refresh, download, upload CSV, and add new item buttons\r\n */\r\nconst ManagementPageHeader: React.FC<ManagementPageHeaderProps> = ({\r\n  title,\r\n  subtitle = '',\r\n  icon,\r\n  onRefresh,\r\n  onDownload,\r\n  onUpload,\r\n  onAdd,\r\n  onStatistics,\r\n  isDownloading = false,\r\n  hasData = true,\r\n  addButtonText = 'Add Farmer'\r\n}) => {\r\n  return (\r\n    <div className=\"flex flex-col sm:flex-row gap-4 sm:gap-0 sm:items-center sm:justify-between\">\r\n      <div className=\"flex items-center space-x-2 sm:space-x-3\">\r\n        <div className=\"p-2 sm:p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg sm:rounded-xl\">\r\n          {icon}\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100\">\r\n            {title}\r\n          </h1>\r\n          {subtitle && (\r\n            <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-0.5 sm:mt-1\">\r\n              {subtitle}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto\">\r\n        <button\r\n          onClick={onRefresh}\r\n          className=\"flex items-center justify-center w-full sm:w-auto px-4 py-2.5 text-sm sm:text-base text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\r\n        >\r\n          <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n          Refresh\r\n        </button>\r\n        \r\n        {onStatistics && (\r\n          <button\r\n            onClick={onStatistics}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 sm:px-6 py-2.5 text-sm sm:text-base bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n          >\r\n            <BarChart3 className=\"w-4 h-4 mr-2\" />\r\n            Statistics\r\n          </button>\r\n        )}\r\n        \r\n        {onDownload && (\r\n          <button\r\n            onClick={onDownload}\r\n            disabled={!hasData || isDownloading}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 py-2.5 text-sm sm:text-base text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-600 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {isDownloading ? (\r\n              <>\r\n                <div className=\"w-4 h-4 mr-2 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\" />\r\n                Downloading...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Download className=\"w-4 h-4 mr-2\" />\r\n                Download\r\n              </>\r\n            )}\r\n          </button>\r\n        )}\r\n        \r\n        {onUpload && (\r\n          <button\r\n            onClick={onUpload}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 py-2.5 text-sm sm:text-base text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-600 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors shadow-sm\"\r\n          >\r\n            <Upload className=\"w-4 h-4 mr-2\" />\r\n            Upload CSV\r\n          </button>\r\n        )}\r\n        \r\n        {onAdd && (\r\n          <button\r\n            onClick={onAdd}\r\n            className=\"flex items-center justify-center w-full sm:w-auto px-4 sm:px-6 py-2.5 text-sm sm:text-base bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-lg shadow-green-500/25\"\r\n          >\r\n            <Plus className=\"w-4 h-4 mr-2\" />\r\n            {addButtonText}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManagementPageHeader;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3v12', key: '1x0j5s' }],\n  ['path', { d: 'm17 8-5-5-5 5', key: '7q97r8' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n];\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM3YxMiIgLz4KICA8cGF0aCBkPSJtMTcgOC01LTUtNSA1IiAvPgogIDxwYXRoIGQ9Ik0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('upload', __iconNode);\n\nexport default Upload;\n","'use client';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\n\r\ninterface FloatingAction {\r\n  icon: React.ReactNode;\r\n  label: string;\r\n  onClick: () => void;\r\n  color: string;\r\n}\r\n\r\ninterface FloatingActionButtonProps {\r\n  actions: FloatingAction[];\r\n  directClick?: boolean; // If true and only 1 action, trigger action directly without expanding\r\n}\r\n\r\n/**\r\n * Floating Action Button (FAB) with expandable menu\r\n * Shows a flower icon that expands upward to reveal action buttons\r\n * If directClick is true and there's only one action, clicking FAB triggers that action directly\r\n */\r\nconst FloatingActionButton: React.FC<FloatingActionButtonProps> = ({ actions, directClick = false }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const fabRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close menu when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (fabRef.current && !fabRef.current.contains(event.target as Node)) {\r\n        setIsExpanded(false);\r\n      }\r\n    };\r\n\r\n    if (isExpanded) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [isExpanded]);\r\n\r\n  const handleActionClick = (action: FloatingAction) => {\r\n    action.onClick();\r\n    setIsExpanded(false);\r\n  };\r\n\r\n  const handleMainButtonClick = () => {\r\n    // If directClick is enabled and there's only one action, trigger it directly\r\n    if (directClick && actions.length === 1) {\r\n      actions[0].onClick();\r\n    } else {\r\n      setIsExpanded(!isExpanded);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div ref={fabRef} className=\"fixed bottom-8 right-8 z-50\">\r\n      {/* Action Menu - Professional Layout */}\r\n      <div className={`absolute bottom-20 right-0 flex flex-col-reverse gap-3 transition-all duration-300 ease-out ${\r\n        isExpanded ? 'opacity-100 translate-y-0 scale-100' : 'opacity-0 translate-y-4 scale-95 pointer-events-none'\r\n      }`}>\r\n        {actions.map((action, index) => (\r\n          <div\r\n            key={index}\r\n            className={`flex items-center gap-3 group transition-all duration-300 ease-out ${\r\n              isExpanded ? 'opacity-100' : 'opacity-0'\r\n            }`}\r\n            style={{\r\n              animationDelay: isExpanded ? `${index * 50}ms` : '0ms'\r\n            }}\r\n          >\r\n            {/* Label - Professional Typography - Only show on hover */}\r\n            {isExpanded && (\r\n              <div className=\"bg-white dark:bg-gray-900 text-gray-900 dark:text-white px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none\">\r\n                {action.label}\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Button - Clean & Professional */}\r\n            <button\r\n              onClick={() => handleActionClick(action)}\r\n              className={`relative w-14 h-14 ${action.color} rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center`}\r\n            >\r\n              <div className=\"transform group-hover:scale-110 transition-transform duration-200\">\r\n                {action.icon}\r\n              </div>\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Main FAB - Professional Design */}\r\n      <button\r\n        onClick={handleMainButtonClick}\r\n        className=\"relative w-16 h-16 bg-gradient-to-br from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 rounded-2xl shadow-xl hover:shadow-2xl transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center group\"\r\n        aria-label=\"Quick actions menu\"\r\n        style={{\r\n          boxShadow: '0 8px 24px rgba(5, 150, 105, 0.4), 0 2px 8px rgba(0, 0, 0, 0.1)'\r\n        }}\r\n      >\r\n        {/* Background overlay on hover */}\r\n        <div className=\"absolute inset-0 bg-white/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n        \r\n        {/* Icon with smooth rotation */}\r\n        <div className={`relative z-10 transform transition-transform duration-300 ${isExpanded ? 'rotate-45' : 'rotate-0'}`}>\r\n          {/* Plus/Close icon */}\r\n          <svg \r\n            width=\"28\" \r\n            height=\"28\" \r\n            viewBox=\"0 0 24 24\" \r\n            fill=\"none\" \r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"text-white\"\r\n          >\r\n            <path \r\n              d=\"M12 5V19M5 12H19\" \r\n              stroke=\"currentColor\" \r\n              strokeWidth=\"2.5\" \r\n              strokeLinecap=\"round\" \r\n              strokeLinejoin=\"round\"\r\n            />\r\n          </svg>\r\n        </div>\r\n\r\n        {/* Notification badge (optional) */}\r\n        <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-md opacity-0 group-hover:opacity-0\">\r\n          3\r\n        </div>\r\n      </button>\r\n\r\n      {/* Backdrop - Subtle professional overlay */}\r\n      {isExpanded && (\r\n        <div \r\n          className=\"fixed inset-0 bg-black/5 backdrop-blur-[2px] -z-10 transition-opacity duration-300\"\r\n          onClick={() => setIsExpanded(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FloatingActionButton;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 16h.01', key: '1drbdi' }],\n  ['path', { d: 'M16 16h.01', key: '1f9h7w' }],\n  [\n    'path',\n    {\n      d: 'M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z',\n      key: '1iv0i2',\n    },\n  ],\n  ['path', { d: 'M8 16h.01', key: '18s6g9' }],\n];\n\n/**\n * @component @name Factory\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTZoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xNiAxNmguMDEiIC8+CiAgPHBhdGggZD0iTTMgMTlhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0yVjguNWEuNS41IDAgMCAwLS43NjktLjQyMmwtNC40NjIgMi44NDRBLjUuNSAwIDAgMSAxNSAxMC41di0yYS41LjUgMCAwIDAtLjc2OS0uNDIyTDkuNzcgMTAuOTIyQS41LjUgMCAwIDEgOSAxMC41VjVhMiAyIDAgMCAwLTItMkg1YTIgMiAwIDAgMC0yIDJ6IiAvPgogIDxwYXRoIGQ9Ik04IDE2aC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/factory\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Factory = createLucideIcon('factory', __iconNode);\n\nexport default Factory;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '22', key: '7eqyqh' }],\n  ['path', { d: 'M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6', key: '1b0p4s' }],\n];\n\n/**\n * @component @name DollarSign\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSIyMiIgLz4KICA8cGF0aCBkPSJNMTcgNUg5LjVhMy41IDMuNSAwIDAgMCAwIDdoNWEzLjUgMy41IDAgMCAxIDAgN0g2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/dollar-sign\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst DollarSign = createLucideIcon('dollar-sign', __iconNode);\n\nexport default DollarSign;\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Edit3, Trash2, Eye, MapPin, User, Phone, Mail, Calendar, Milk, Building2, Users, Factory, TrendingUp, DollarSign } from 'lucide-react';\r\nimport { useLanguage } from '@/contexts/LanguageContext';\r\nimport StatusDropdown from '@/components/management/StatusDropdown';\r\n\r\n// Helper function to highlight matching text\r\nconst highlightText = (text: string, searchQuery: string) => {\r\n  if (!searchQuery) return text;\r\n  \r\n  const regex = new RegExp(`(${searchQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\r\n  const parts = text.split(regex);\r\n  \r\n  return parts.map((part, index) => \r\n    regex.test(part) ? (\r\n      <span key={index} className=\"bg-yellow-200 dark:bg-yellow-800 px-0.5 rounded\">\r\n        {part}\r\n      </span>\r\n    ) : (\r\n      part\r\n    )\r\n  );\r\n};\r\n\r\ninterface DetailItem {\r\n  icon: React.ReactNode;\r\n  text: string | React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\ninterface DairyMinimalCardProps {\r\n  id: number;\r\n  name: string;\r\n  dairyId: string;\r\n  location?: string;\r\n  contactPerson?: string;\r\n  phone?: string;\r\n  email?: string;\r\n  capacity?: number;\r\n  monthlyTarget?: number;\r\n  status: 'active' | 'inactive' | 'maintenance';\r\n  createdAt: string;\r\n  bmcCount?: number;\r\n  societyCount?: number;\r\n  farmerCount?: number;\r\n  totalCollections?: number;\r\n  totalRevenue?: number;\r\n  isSelected?: boolean;\r\n  onToggleSelection?: () => void;\r\n  onEdit: () => void;\r\n  onDelete: () => void;\r\n  onView: () => void;\r\n  onStatusChange: (newStatus: 'active' | 'inactive' | 'maintenance') => void;\r\n  searchQuery?: string;\r\n}\r\n\r\nexport default function DairyMinimalCard({\r\n  id,\r\n  name,\r\n  dairyId,\r\n  location,\r\n  contactPerson,\r\n  phone,\r\n  email,\r\n  capacity,\r\n  monthlyTarget,\r\n  status,\r\n  createdAt,\r\n  bmcCount = 0,\r\n  societyCount = 0,\r\n  farmerCount = 0,\r\n  totalCollections = 0,\r\n  totalRevenue = 0,\r\n  isSelected = false,\r\n  onToggleSelection,\r\n  onEdit,\r\n  onDelete,\r\n  onView,\r\n  onStatusChange,\r\n  searchQuery = '',\r\n}: DairyMinimalCardProps) {\r\n  const { t } = useLanguage();\r\n\r\n  // Build details array\r\n  const details: DetailItem[] = [];\r\n\r\n  // Performance metrics section\r\n  if (bmcCount > 0 || societyCount > 0 || farmerCount > 0 || totalCollections > 0 || totalRevenue > 0) {\r\n    const metrics = [];\r\n    \r\n    if (bmcCount > 0) metrics.push({ label: 'BMCs', value: bmcCount, icon: Factory, bgColor: 'bg-blue-50 dark:bg-blue-900/20', textColor: 'text-blue-700 dark:text-blue-300', iconColor: 'text-blue-600 dark:text-blue-400' });\r\n    if (societyCount > 0) metrics.push({ label: 'Societies', value: societyCount, icon: Building2, bgColor: 'bg-green-50 dark:bg-green-900/20', textColor: 'text-green-700 dark:text-green-300', iconColor: 'text-green-600 dark:text-green-400' });\r\n    if (farmerCount > 0) metrics.push({ label: 'Farmers', value: farmerCount.toLocaleString(), icon: Users, bgColor: 'bg-purple-50 dark:bg-purple-900/20', textColor: 'text-purple-700 dark:text-purple-300', iconColor: 'text-purple-600 dark:text-purple-400' });\r\n    if (totalCollections > 0) metrics.push({ label: 'Collections', value: `${totalCollections.toLocaleString()} L`, icon: TrendingUp, bgColor: 'bg-amber-50 dark:bg-amber-900/20', textColor: 'text-amber-700 dark:text-amber-300', iconColor: 'text-amber-600 dark:text-amber-400' });\r\n    if (totalRevenue > 0) metrics.push({ label: 'Revenue', value: `₹${totalRevenue.toLocaleString()}`, icon: DollarSign, bgColor: 'bg-emerald-50 dark:bg-emerald-900/20', textColor: 'text-emerald-700 dark:text-emerald-300', iconColor: 'text-emerald-600 dark:text-emerald-400' });\r\n    \r\n    details.push({\r\n      icon: null,\r\n      text: (\r\n        <div className=\"flex flex-wrap gap-1.5\">\r\n          {metrics.map((metric, idx) => (\r\n            <div key={idx} className={`inline-flex items-center gap-1.5 ${metric.bgColor} rounded-md px-2 py-1`}>\r\n              <metric.icon className={`w-3 h-3 ${metric.iconColor} flex-shrink-0`} />\r\n              <span className={`text-xs font-semibold ${metric.textColor} whitespace-nowrap`}>\r\n                {metric.value}\r\n              </span>\r\n              <span className=\"text-[10px] text-gray-500 dark:text-gray-400 font-medium\">\r\n                {metric.label}\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )\r\n    });\r\n  }\r\n\r\n  // Contact details\r\n  if (location) details.push({ icon: <MapPin className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: location });\r\n  if (contactPerson) details.push({ icon: <User className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: contactPerson });\r\n  if (phone) details.push({ icon: <Phone className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: phone });\r\n  if (email) details.push({ icon: <Mail className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: email });\r\n  if (capacity && capacity > 0) details.push({ icon: <Building2 className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: `Capacity: ${capacity.toLocaleString()} L` });\r\n  if (monthlyTarget && monthlyTarget > 0) details.push({ icon: <TrendingUp className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: `Target: ${monthlyTarget.toLocaleString()} L/month` });\r\n  details.push({ icon: <Calendar className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />, text: `Created: ${new Date(createdAt).toLocaleDateString()}` });\r\n\r\n  return (\r\n    <motion.div\r\n      key={id}\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className={`relative bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-lg transition-all duration-200 hover:border-green-200 dark:hover:border-green-700 flex flex-col ${isSelected ? 'ring-2 ring-green-500 border-green-500' : ''}`}\r\n    >\r\n      <div className=\"p-4 sm:p-6 flex flex-col flex-1\">\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between mb-3 sm:mb-4\">\r\n          <div className=\"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1\">\r\n            {onToggleSelection && (\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={isSelected}\r\n                onChange={onToggleSelection}\r\n                className=\"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n              />\r\n            )}\r\n            <div className=\"p-1.5 sm:p-2 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg flex-shrink-0\">\r\n              <div className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-400\">\r\n                <Milk className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"min-w-0 flex-1\">\r\n              <h3 className=\"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100 truncate\">\r\n                {highlightText(name, searchQuery)}\r\n              </h3>\r\n              <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400\">\r\n                {highlightText(dairyId, searchQuery)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <StatusDropdown\r\n            currentStatus={status}\r\n            onStatusChange={(newStatus) => onStatusChange(newStatus as 'active' | 'inactive' | 'maintenance')}\r\n          />\r\n        </div>\r\n\r\n        {/* Details */}\r\n        <div className=\"space-y-2 sm:space-y-3 mb-3 sm:mb-4 flex-1\">\r\n          {details.map((detail, index) => (\r\n            <div key={index} className={`flex items-center text-xs sm:text-sm ${detail.className || 'text-gray-600 dark:text-gray-400'}`}>\r\n              {detail.icon && (\r\n                <div className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-2 flex-shrink-0\">\r\n                  {detail.icon}\r\n                </div>\r\n              )}\r\n              <span className={typeof detail.text === 'string' && (detail.text.includes('@') || detail.text.length > 30) ? 'truncate' : ''}>\r\n                {typeof detail.text === 'string' ? highlightText(detail.text, searchQuery) : detail.text}\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center justify-between pt-3 sm:pt-4 border-t border-gray-100 dark:border-gray-700 mt-auto\">\r\n          <div className=\"flex space-x-1 sm:space-x-2\">\r\n            <button\r\n              onClick={onEdit}\r\n              className=\"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-green-600 dark:hover:text-green-400 transition-colors rounded-lg hover:bg-green-50 dark:hover:bg-green-900/30 touch-target sm:min-h-0 sm:min-w-0 flex items-center justify-center\"\r\n              title={t.common?.edit || 'Edit'}\r\n            >\r\n              <Edit3 className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={onDelete}\r\n              className=\"p-1.5 sm:p-2 text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30 touch-target sm:min-h-0 sm:min-w-0 flex items-center justify-center\"\r\n              title={t.common?.delete || 'Delete'}\r\n            >\r\n              <Trash2 className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n          <button\r\n            onClick={onView}\r\n            className=\"px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors flex items-center gap-1.5 sm:gap-2 min-h-[44px] sm:min-h-0\"\r\n          >\r\n            <Eye className=\"w-3.5 h-3.5 sm:w-4 sm:h-4\" />\r\n            <span className=\"hidden sm:inline\">{t.common?.view || 'View Details'}</span>\r\n            <span className=\"sm:hidden\">{t.common?.view || 'View'}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { Trash2 } from 'lucide-react';\r\nimport { StatusDropdown } from '@/components/management';\r\n\r\ninterface BulkSelectionBarProps {\r\n  // Selection state\r\n  selectAll: boolean;\r\n  onSelectAll: (checked: boolean) => void;\r\n  selectedCount: number;\r\n  totalCount: number;\r\n  onDeselectAll: () => void;\r\n  \r\n  // Filters state\r\n  hasFilters: boolean;\r\n  \r\n  // Bulk actions\r\n  bulkStatus: 'active' | 'inactive' | 'suspended' | 'maintenance';\r\n  onBulkStatusChange: (status: string) => void;\r\n  onBulkDelete: () => void;\r\n}\r\n\r\n/**\r\n * Reusable bulk selection bar for management pages\r\n * Shows select all, selected count, and bulk actions\r\n */\r\nconst BulkSelectionBar: React.FC<BulkSelectionBarProps> = ({\r\n  selectAll,\r\n  onSelectAll,\r\n  selectedCount,\r\n  totalCount,\r\n  onDeselectAll,\r\n  hasFilters,\r\n  bulkStatus,\r\n  onBulkStatusChange,\r\n  onBulkDelete\r\n}) => {\r\n  if (totalCount === 0) return null;\r\n\r\n  return (\r\n    <div className={`rounded-lg border p-3 sm:p-4 space-y-3 sm:space-y-0 sm:flex sm:items-center sm:justify-between ${\r\n      hasFilters \r\n        ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700' \r\n        : 'bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700'\r\n    }`}>\r\n      {/* Top Row - Selection Controls */}\r\n      <div className=\"flex flex-col xs:flex-row xs:items-center gap-2 xs:gap-3\">\r\n        {hasFilters && (\r\n          <div className=\"flex items-center space-x-1 px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded text-xs font-medium\">\r\n            <span>Filtered View</span>\r\n          </div>\r\n        )}\r\n        \r\n        <label className=\"flex items-center space-x-2\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={selectAll}\r\n            onChange={(e) => onSelectAll(e.target.checked)}\r\n            className=\"w-3 h-3 sm:w-4 sm:h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\r\n          />\r\n          <span className=\"text-xs sm:text-sm text-gray-700 dark:text-gray-300\">\r\n            Select All ({totalCount})\r\n          </span>\r\n        </label>\r\n        \r\n        {selectedCount > 0 && (\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span className=\"text-xs sm:text-sm text-green-600 dark:text-green-400 font-medium\">\r\n              {selectedCount} selected\r\n            </span>\r\n            <button\r\n              onClick={onDeselectAll}\r\n              className=\"px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors\"\r\n            >\r\n              Deselect All\r\n            </button>\r\n            <span className=\"hidden xs:inline text-xs text-gray-500 dark:text-gray-400\">\r\n              • Ready for bulk operations\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Bulk Actions */}\r\n      {selectedCount > 0 && (\r\n        <div className=\"flex flex-col xs:flex-row gap-2 xs:gap-3 pt-3 sm:pt-0 border-t sm:border-t-0 sm:border-l border-gray-200 dark:border-gray-600 sm:pl-4\">\r\n          <StatusDropdown\r\n            currentStatus={bulkStatus}\r\n            onStatusChange={onBulkStatusChange}\r\n          />\r\n          <button\r\n            onClick={onBulkDelete}\r\n            className=\"flex items-center justify-center space-x-2 px-3 py-2 text-xs sm:text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 rounded-lg transition-colors\"\r\n          >\r\n            <Trash2 className=\"w-3 h-3 sm:w-4 sm:h-4\" />\r\n            <span className=\"hidden xs:inline\">Delete Selected</span>\r\n            <span className=\"xs:hidden\">Delete ({selectedCount})</span>\r\n            <span className=\"hidden xs:inline\">({selectedCount})</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BulkSelectionBar;\r\n","// Management Components - Reusable components for all management pages\r\nexport { default as PageHeader } from './PageHeader';\r\nexport { default as StatusMessage } from './StatusMessage';\r\nexport { default as StatsCard } from './StatsCard';\r\nexport { default as FilterControls } from './FilterControls';\r\nexport { default as StatusDropdown } from './StatusDropdown';\r\nexport { default as ItemCard } from './ItemCard';\r\nexport { default as EmptyState } from './EmptyState';\r\nexport { default as ConfirmDeleteModal } from './ConfirmDeleteModal';\r\nexport { default as ActionButtons } from './ActionButtons';\r\nexport { default as SearchAndFilter } from './SearchAndFilter';\r\n\r\n// Bulk Operations & Advanced Components\r\nexport { default as BulkDeleteConfirmModal } from './BulkDeleteConfirmModal';\r\nexport { default as BulkActionsToolbar } from './BulkActionsToolbar';\r\nexport { default as LoadingSnackbar } from './LoadingSnackbar';\r\nexport { default as ViewModeToggle } from './ViewModeToggle';\r\nexport { default as FolderView } from './FolderView';\r\nexport { default as FolderControls } from './FolderControls';\r\nexport { default as FilterSection } from './FilterSection';\r\nexport { default as FilterDropdown } from './FilterDropdown';\r\nexport { default as StatisticsFilterDropdown } from './StatisticsFilterDropdown';\r\nexport { default as StatsGrid } from './StatsGrid';\r\nexport { default as BulkSelectionBar } from './BulkSelectionBar';\r\nexport { default as ManagementPageHeader } from './ManagementPageHeader';\r\nexport { default as FloatingActionButton } from './FloatingActionButton';","'use client';\r\n\r\nimport React from 'react';\r\nimport { StatsCard } from '@/components';\r\nimport { Users, UserCheck, UserX, AlertTriangle } from 'lucide-react';\r\n\r\ninterface ItemWithStatus {\r\n  status: string;\r\n}\r\n\r\ninterface StatsGridProps<T extends ItemWithStatus> {\r\n  allItems: T[];\r\n  filteredItems: T[];\r\n  hasFilters: boolean;\r\n  onStatusFilterChange?: (status: 'all' | 'active' | 'inactive' | 'suspended' | 'maintenance') => void;\r\n  currentStatusFilter?: string;\r\n}\r\n\r\n/**\r\n * Reusable stats grid for management pages\r\n * Displays total, active, inactive, suspended, and maintenance counts\r\n */\r\nconst StatsGrid = <T extends ItemWithStatus>({\r\n  allItems,\r\n  filteredItems,\r\n  hasFilters,\r\n  onStatusFilterChange,\r\n  currentStatusFilter = 'all'\r\n}: StatsGridProps<T>) => {\r\n  const getStatusCount = (items: T[], status: string) => {\r\n    return items.filter(item => item.status === status).length;\r\n  };\r\n\r\n  // Always use allItems for constant display values\r\n  const totalCount = allItems.length;\r\n  const activeCount = getStatusCount(allItems, 'active');\r\n  const inactiveCount = getStatusCount(allItems, 'inactive');\r\n  const suspendedCount = getStatusCount(allItems, 'suspended');\r\n  const maintenanceCount = getStatusCount(allItems, 'maintenance');\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-2 xs:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3\">\r\n      <StatsCard\r\n        title=\"Total\"\r\n        value={totalCount}\r\n        icon={<Users className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"green\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('all') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'all'}\r\n      />\r\n      \r\n      <StatsCard\r\n        title=\"Active\"\r\n        value={activeCount}\r\n        icon={<UserCheck className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"green\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('active') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'active'}\r\n      />\r\n\r\n      <StatsCard\r\n        title=\"Inactive\"\r\n        value={inactiveCount}\r\n        icon={<UserX className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"red\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('inactive') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'inactive'}\r\n      />\r\n\r\n      <StatsCard\r\n        title=\"Suspended\"\r\n        value={suspendedCount}\r\n        icon={<AlertTriangle className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"yellow\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('suspended') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'suspended'}\r\n      />\r\n\r\n      <StatsCard\r\n        title=\"Maintenance\"\r\n        value={maintenanceCount}\r\n        icon={<AlertTriangle className=\"w-3 h-3 sm:w-4 sm:h-4\" />}\r\n        color=\"blue\"\r\n        className=\"p-2 sm:p-3\"\r\n        onClick={onStatusFilterChange ? () => onStatusFilterChange('maintenance') : undefined}\r\n        clickable={!!onStatusFilterChange}\r\n        isActive={currentStatusFilter === 'maintenance'}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatsGrid;\r\n","// Authentication Components\r\nexport { default as EmailVerificationPrompt } from './auth/EmailVerificationPrompt';\r\n\r\n// UI Components\r\nexport { default as Skeleton, CardSkeleton, TableSkeleton, ListSkeleton } from './ui/Skeleton';\r\nexport { default as ThemeToggle } from './ui/ThemeToggle';\r\nexport { default as PSRColorShowcase } from './ui/PSRColorShowcase';\r\nexport { default as Badge } from './ui/Badge';\r\n\r\n// Loading Components  \r\nexport { default as LoadingSpinner } from './loading/LoadingSpinner';\r\nexport { default as FlowerSpinner } from './loading/FlowerSpinner';\r\nexport { default as LoadingButton } from './loading/LoadingButton';\r\nexport { default as LoadingDemo } from './loading/LoadingDemo';\r\nexport { default as LoadingOverlay } from './loading/LoadingOverlay';\r\nexport { default as PageLoading } from './loading/PageLoading';\r\nexport { LoadingProvider, useLoading } from './loading/LoadingProvider';\r\n\r\n// Page Components\r\nexport { default as LandingPage } from './pages/LandingPage';\r\n\r\n// Layout Components\r\nexport { default as DashboardLayout } from './layout/DashboardLayout';\r\nexport { default as Header } from './layout/Header';\r\nexport { default as Sidebar } from './layout/Sidebar';\r\n\r\n// Form Components\r\nexport { default as EntityForm } from './forms/EntityForm';\r\nexport { \r\n  FormModal, \r\n  FormInput, \r\n  FormSelect, \r\n  FormTextarea, \r\n  FormActions, \r\n  FormGrid, \r\n  FormError,\r\n  CSVUploadModal \r\n} from './forms';\r\nexport { default as ColumnSelector } from './forms/ColumnSelector';\r\nexport { default as ColumnSelectionModal } from './forms/ColumnSelectionModal';\r\n\r\n// Management Components\r\nexport { default as EntityManager } from './management/EntityManager';\r\nexport { default as MachineManager } from './management/MachineManager';\r\nexport { default as LoadingSnackbar } from './management/LoadingSnackbar';\r\nexport { \r\n  PageHeader, \r\n  StatusMessage, \r\n  StatsCard, \r\n  FilterControls, \r\n  FilterDropdown,\r\n  StatusDropdown, \r\n  ItemCard, \r\n  EmptyState, \r\n  ConfirmDeleteModal,\r\n  ActionButtons,\r\n  SearchAndFilter\r\n} from './management';\r\n\r\n// Dairy Components\r\nexport { default as DairyMinimalCard } from './dairy/DairyMinimalCard';","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n];\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('user-x', __iconNode);\n\nexport default UserX;\n"],"names":["assign","searchParamsToUrlQuery","urlQueryToSearchParams","searchParams","query","key","value","entries","existing","Array","isArray","push","stringifyUrlQueryParam","param","isNaN","String","URLSearchParams","Object","item","append","set","target","searchParamsList","keys","delete","formatUrl","formatWithValidation","urlObjectKeys","slashedProtocols","urlObj","auth","hostname","protocol","pathname","hash","host","encodeURIComponent","replace","indexOf","port","querystring","search","endsWith","slashes","test","url","process","env","NODE_ENV","forEach","includes","console","warn","useMergedRef","refA","refB","cleanupA","useRef","cleanupB","useCallback","current","cleanupFnA","cleanupFnB","applyRef","cleanup","DecodeError","MiddlewareNotFoundError","MissingStaticPage","NormalizeError","PageNotFoundError","SP","ST","WEB_VITALS","execOnce","getDisplayName","getLocationOrigin","getURL","isAbsoluteUrl","isResSent","loadGetInitialProps","normalizeRepeatedSlashes","stringifyError","fn","used","result","args","ABSOLUTE_URL_REGEX","window","location","href","origin","substring","length","Component","displayName","name","res","finished","headersSent","urlParts","split","urlNoQuery","slice","join","App","ctx","prototype","getInitialProps","message","Error","pageProps","props","performance","every","method","constructor","page","code","error","JSON","stringify","stack","parsePath","path","hashIndex","queryIndex","hasQuery","undefined","addPathPrefix","prefix","startsWith","removeTrailingSlash","route","normalizePathTrailingSlash","__NEXT_MANUAL_TRAILING_SLASH","__NEXT_TRAILING_SLASH","addBasePath","basePath","__NEXT_ROUTER_BASEPATH","required","__NEXT_MANUAL_CLIENT_BASE_PATH","warnOnce","_","warnings","Set","msg","has","add","HTML_LIMITED_BOT_UA_RE","HTML_LIMITED_BOT_UA_RE_STRING","getBotType","isBot","HEADLESS_BROWSER_BOT_UA_RE","source","isDomBotUA","userAgent","isHtmlLimitedBotUA","createPrefetchURL","isExternalURL","navigator","URL","createCacheKey","originalHref","nextUrl","originalUrl","cacheKey","HasLoadingBoundary","matchSegment","existingSegment","segment","ACTION_HEADER","FLIGHT_HEADERS","NEXT_ACTION_NOT_FOUND_HEADER","NEXT_DID_POSTPONE_HEADER","NEXT_HMR_REFRESH_HASH_COOKIE","NEXT_HMR_REFRESH_HEADER","NEXT_HTML_REQUEST_ID_HEADER","NEXT_IS_PRERENDER_HEADER","NEXT_REQUEST_ID_HEADER","NEXT_REWRITTEN_PATH_HEADER","NEXT_REWRITTEN_QUERY_HEADER","NEXT_ROUTER_PREFETCH_HEADER","NEXT_ROUTER_SEGMENT_PREFETCH_HEADER","NEXT_ROUTER_STALE_TIME_HEADER","NEXT_ROUTER_STATE_TREE_HEADER","NEXT_RSC_UNION_QUERY","NEXT_URL","RSC_CONTENT_TYPE_HEADER","RSC_HEADER","ACTION_HMR_REFRESH","ACTION_NAVIGATE","ACTION_REFRESH","ACTION_RESTORE","ACTION_SERVER_ACTION","ACTION_SERVER_PATCH","PrefetchKind","isThenable","promise","then","dispatchAppRouterAction","useActionQueue","dispatch","action","actionQueue","state","setState","React","useState","useAppDevRenderingIndicator","require","appDevRenderingIndicator","stateWithDebugInfo","useMemo","debugInfo","promiseWithDebugInfo","Promise","resolve","asyncState","_debugInfo","use","callServer","actionId","actionArgs","reject","startTransition","type","findSourceMapURL","filename","document","ROOT_SEGMENT_CACHE_KEY","ROOT_SEGMENT_REQUEST_KEY","appendSegmentCacheKeyPart","appendSegmentRequestKeyPart","convertSegmentPathToStaticExportFilename","createSegmentCacheKeyPart","createSegmentRequestKeyPart","PAGE_SEGMENT_KEY","safeName","encodeToFilesystemAndURLSafeString","paramType","encodedName","parentRequestKey","parallelRouteKey","childRequestKeyPart","slotKey","requestKeyPart","paramValue","safeValue","parentSegmentKey","childCacheKeyPart","simpleParamValueRegex","base64url","btoa","segmentPath","doesStaticSegmentAppearInURL","getCacheKeyForDynamicParam","getParamValueFromCacheKey","getRenderedPathname","getRenderedSearch","parseDynamicParamFromURLPart","urlSearchParamsToParsedUrlQuery","urlToUrlWithoutFlightMarker","response","rewrittenQuery","headers","get","rewrittenPath","pathnameParts","partIndex","map","s","DEFAULT_SEGMENT_KEY","renderedSearch","pageSegmentWithSearchParams","addSearchParamsIfPageSegment","fromEntries","urlWithoutFlightParameters","__NEXT_CONFIG_OUTPUT","paramCacheKey","isCatchAll","createHrefFromUrl","includeHash","createInitialRSCPayloadFromFallbackPrerender","getFlightDataPartsFromPath","getNextFlightSegmentPath","normalizeFlightData","prepareFlightRouterStateForRequest","flightDataPath","flightDataPathLength","tree","seedData","head","isHeadPartial","pathToSegment","isRootRender","fallbackInitialRSCPayload","renderedPathname","canonicalUrl","originalFlightDataPath","f","originalFlightRouterState","b","c","q","i","fillInFallbackFlightRouterState","m","G","S","flightRouterState","filter","p","index","fillInFallbackFlightRouterStateImpl","pathnamePartsIndex","originalSegment","newSegment","doesAppearInURL","paramName","childPathnamePartsIndex","children","newChildren","childFlightRouterState","newState","flightSegmentPath","flightData","isHmrRefresh","stripClientOnlyDataFromFlightRouterState","parallelRoutes","_url","refreshMarker","isRootLayout","hasLoadingBoundary","cleanedSegment","stripSearchParamsFromPageSegment","cleanedParallelRoutes","childState","shouldPreserveRefreshMarker","Boolean","getAppBuildId","setAppBuildId","globalBuildId","buildId","djb2Hash","hexHash","str","char","charCodeAt","toString","computeCacheBustingSearchParam","prefetchHeader","segmentPrefetchHeader","stateTreeHeader","nextUrlHeader","setCacheBustingSearchParam","setCacheBustingSearchParamWithHash","uniqueCacheKey","existingSearch","rawQuery","pairs","pair","createFetch","createFromNextReadableStream","fetchServerResponse","createFromReadableStream","createFromReadableStreamBrowser","createFromFetch","createFromFetchBrowser","createDebugChannel","__NEXT_REACT_DEBUG_CHANNEL","doMpaNavigation","abortController","AbortController","addEventListener","abort","options","prefetchKind","AUTO","fetchPriority","TEMPORARY","isLegacyPPR","__NEXT_PPR","__NEXT_CACHE_COMPONENTS","shouldImmediatelyDecode","signal","responseUrl","redirected","contentType","interception","postponed","staleTimeHeaderSeconds","staleTime","parseInt","isFlightResponse","ok","body","TURBOPACK","waitForWebpackRuntimeHotUpdate","flightResponsePromise","flightResponse","flightStream","createUnclosingPrefetchStream","normalizedFlightData","couldBeIntercepted","prerendered","err","aborted","__NEXT_TEST_MODE","NEXT_DEPLOYMENT_ID","self","__next_r","crypto","getRandomValues","Uint32Array","fetchOptions","credentials","priority","fetchUrl","fetchPromise","fetch","createFromNextFetch","browserResponse","__NEXT_CLIENT_VALIDATE_RSC_REQUEST_HEADERS","MAX_REDIRECTS","n","rscResponse","status","requestHeaders","debugChannel","promiseForResponse","originalFlightStream","reader","getReader","ReadableStream","pull","controller","done","read","enqueue","createTupleMap","rootEntry","parent","hasValue","lastAccessedEntry","lastAccessedKeys","getOrCreateEntry","entry","existingEntry","Map","newEntry","getEntryIfExists","deleteEntry","deletedEntry","parentMap","size","createLRU","maxLruSize","onEviction","didScheduleCleanup","lruSize","put","node","prev","next","ensureCleanupIsScheduled","tail","updateSize","newNodeSize","prevNodeSize","deleteNode","deleted","requestCleanupCallback","ninetyPercentMax","requestIdleCallback","cb","setTimeout","ensureLeadingSlash","normalizeAppPath","normalizeRscURL","reduce","segments","isGroupSegment","INTERCEPTION_ROUTE_MARKERS","extractInterceptionRouteInformation","isInterceptionRouteAppPath","find","interceptingRoute","marker","interceptedRoute","concat","splitInterceptingRoute","computeChangedPath","extractPathFromFlightRouterState","getSelectedParams","removeLeadingSlash","segmentToPathname","normalizeSegments","acc","some","childrenPath","childPath","computeChangedPathImpl","treeA","treeB","segmentA","parallelRoutesA","segmentB","parallelRoutesB","normalizedSegmentA","normalizedSegmentB","parallelRouterKey","changedPath","currentTree","params","parallelRoute","values","isDynamicParameter","segmentValue","handleMutable","isNotUndefined","mutable","shouldScroll","previousNextUrl","patchedTree","pushRef","pendingPush","mpaNavigation","preserveCustomHistoryState","focusAndScrollRef","apply","scrollableSegments","onlyHashChange","hashFragment","decodeURIComponent","segmentPaths","cache","collectedDebugInfo","DYNAMIC_STALETIME_MS","STATIC_STALETIME_MS","generateSegmentsFromPatch","handleExternalUrl","navigateReducer","Number","__NEXT_CLIENT_ROUTER_DYNAMIC_STALETIME","__NEXT_CLIENT_ROUTER_STATIC_STALETIME","flightRouterPatch","childSegment","handleNavigationResult","tag","NavigationResultTag","MPA","newUrl","data","NoOp","newCanonicalUrl","oldUrl","Success","cacheNode","Async","asyncResult","isExternalUrl","navigateType","getElementById","currentUrl","navigateUsingSegmentCache","DOC_PREFETCH_RANGE_HEADER_VALUE","doesExportedHtmlMatchBuildId","insertBuildIdComment","DOCTYPE_PREFIX","MAX_BUILD_ID_LENGTH","escapeBuildId","truncated","originalHtml","partialHtmlDocument","EntryStatus","canNewFetchStrategyProvideMoreContent","convertRouteTreeToFlightRouterState","createDetachedSegmentCacheEntry","fetchRouteOnCacheMiss","fetchSegmentOnCacheMiss","fetchSegmentPrefetchesUsingDynamicRequest","getCurrentCacheVersion","getSegmentKeypath","pingInvalidationListeners","readExactRouteCacheEntry","readOrCreateRevalidatingSegmentEntry","readOrCreateRouteCacheEntry","readOrCreateSegmentCacheEntry","readRouteCacheEntry","readSegmentCacheEntry","requestOptimisticRouteCacheEntry","resetRevalidatingSegmentEntry","revalidateEntireCache","upgradeToPendingSegment","upsertSegmentEntry","waitForSegmentCacheEntry","isOutputExportMode","getStaleTimeMs","staleTimeSeconds","Math","max","routeCacheMap","maxRouteLruSize","routeCacheLru","onRouteLRUEviction","segmentCacheMap","maxSegmentLruSize","segmentCacheLru","onSegmentLRUEviction","invalidationListeners","currentCacheVersion","startRevalidationCooldown","pingVisibleLinks","attachInvalidationListener","task","onInvalidate","notifyInvalidationListener","reportError","tasks","isPrefetchTaskDirty","now","keypath","staleAt","deleteRouteFromCache","nonInterceptedEntry","fetchStrategy","isDynamic","FetchStrategy","Full","PPRRuntime","isPPREnabled","readExactSegmentCacheEntry","entryWithSearchParams","entryWithoutSearchParams","revalidatingEntry","revalidating","upsertedEntry","deleteSegmentFromCache","readRevalidatingSegmentCacheEntry","owner","existingRevalidation","clearRevalidatingSegmentFromOwner","pendingEntry","promiseWithResolvers","createPromiseWithResolvers","blockedTasks","Infinity","TODO_metadataStatus","TODO_isHeadDynamic","requestedUrl","requestedSearch","urlWithoutSearchParams","routeWithNoSearchParams","createPrefetchRequestKey","canonicalUrlForRouteWithNoSearchParams","optimisticCanonicalSearch","optimisticRenderedSearch","optimisticUrl","optimisticCanonicalUrl","optimisticEntry","prevEntry","candidateEntry","isPartial","rejectedEntry","loading","rsc","emptyEntry","PPR","pingBlockedTasks","cancelEntryListeners","revalidatingSegment","pingPrefetchTask","fulfillRouteCacheEntry","isHeadDynamic","fulfilledEntry","fulfillSegmentCacheEntry","segmentCacheEntry","rejectRouteCacheEntry","rejectSegmentCacheEntry","convertRootTreePrefetchToRouteTree","rootTree","rootSegment","convertTreePrefetchToRouteTree","prefetch","requestKey","slots","prefetchSlots","childPrefetch","childParamName","childParamType","childServerSentParamKey","paramKey","childDoesAppearInURL","childParam","childParamValue","childParamKey","childRequestKey","childCacheKey","SegmentHasLoadingBoundary","hasRuntimePrefetch","convertRootFlightRouterStateToRouteTree","convertFlightRouterStateToRouteTree","childRouterState","childTree","SubtreeHasNoLoadingBoundary","routeTree","urlAfterRedirects","htmlResponse","Range","partialHtml","text","Date","fetchPrefetchResponse","addSegmentPathToUrlInOutputExportMode","varyHeader","closed","routeIsPPREnabled","prefetchStream","createPrefetchResponseStream","onResponseSizeUpdate","serverData","staleTimeMs","writeDynamicTreeResponseIntoCache","LoadingBoundary","currentKeypath","expectedEntry","newKeypath","routeKey","normalizedRequestKey","requestUrl","dynamicRequestTree","spawnedEntries","rejectSegmentEntriesIfStillPending","fulfilledEntries","totalBytesReceivedSoFar","averageSize","isResponsePartial","writeDynamicRenderResponseIntoCache","normalizedFlightDataResult","flightDatas","writeSeedDataIntoCache","entriesOwnedByCurrentTask","ownedEntry","possiblyNewEntry","flightRouterStateChildren","seedDataChildren","childSeedData","onStreamClose","totalByteLength","byteLength","staticUrl","routeDir","staticExportFilename","currentStrategy","newStrategy","cancelPrefetchTask","reschedulePrefetchTask","schedulePrefetchTask","scheduleMicrotask","queueMicrotask","catch","taskHeap","inProgressRequests","sortIdCounter","didScheduleMicrotask","mostRecentlyHoveredLink","REVALIDATION_COOLDOWN_MS","revalidationCooldownTimeoutHandle","clearTimeout","ensureWorkIsScheduled","treeAtTimeOfPrefetch","cacheVersion","phase","hasBackgroundWork","spawnedRuntimePrefetches","sortId","isCanceled","_heapIndex","trackMostRecentlyHoveredLink","heapPush","heapDelete","PrefetchPriority","Intent","heapResift","Background","Default","processQueueInMicrotask","hasNetworkBandwidth","spawnPrefetchSubtask","prefetchSubtask","onPrefetchConnectionClosed","heapPeek","exitStatus","pingRoute","heapPop","background","pingRootRouteTree","keyWithoutSearch","routeWithoutSearch","Empty","Pending","Fulfilled","Rejected","pingSharedPartOfCacheComponentsTree","requestTree","pingRuntimePrefetches","needsDynamicRequest","diffRouteTreeAgainstCurrent","oldTree","newTree","pingStaticSegmentData","oldTreeChildren","newTreeChildren","newTreeChild","newTreeChildSegment","oldTreeChild","oldTreeChildSegment","childExitStatus","doesCurrentSegmentMatchCachedSegment","pingNewPartOfCacheComponentsTree","requestTreeChildren","requestTreeChild","subtreeHasLoadingBoundary","pingPPRDisabledRouteTreeUpToLoadingBoundary","pingRouteTreeAndIncludeDynamicData","refetchMarkerContext","refetchMarker","segmentHasLoadingBoundary","isInsideRefetchingParent","spawnedSegment","pingFullSegmentRevalidation","pingPPRSegmentRevalidation","currentSegment","upsertSegmentOnCompletion","pendingSegment","nonEmptyRevalidatingSegment","emptySegment","noop","fulfilled","cachedSegment","compareQueuePriority","a","priorityDiff","phaseDiff","heap","heapSiftUp","first","last","pop","heapSiftDown","parentIndex","halfLength","leftIndex","left","rightIndex","right","createRouterCacheKey","withoutSearchParameters","isNavigatingToNewRootLayout","nextTree","currentTreeSegment","nextTreeSegment","currentTreeChild","nextTreeChild","abortTask","listenForDynamicRequest","startPPRNavigation","updateCacheNodeOnPopstateRestoration","MPA_NAVIGATION_TASK","navigatedAt","oldCacheNode","oldRouterState","newRouterState","prefetchData","prefetchHead","isPrefetchHeadPartial","isSamePageNavigation","scrollableSegmentsResult","updateCacheNodeOnNavigation","didFindRootLayout","oldRouterStateChildren","newRouterStateChildren","prefetchDataChildren","oldParallelRoutes","prefetchParallelRoutes","patchedRouterStateChildren","taskChildren","dynamicRequestTreeChildren","newRouterStateChild","oldRouterStateChild","oldSegmentMapChild","prefetchDataChild","newSegmentChild","newSegmentPathChild","newSegmentKeyChild","oldSegmentChild","oldCacheNodeChild","taskChild","reuseActiveSegmentInDefaultSlot","beginRenderingNewRouteTree","newCacheNodeChild","newSegmentMapChild","taskChildRoute","dynamicRequestTreeChild","newCacheNode","lazyData","prefetchRsc","patchRouterStateWithNewChildren","existingCacheNode","possiblyPartialPrefetchHead","createCacheNodeOnNavigation","routerState","routerStateChildren","isLeafSegment","cacheNodeNavigatedAt","isPrefetchRscPartial","spawnPendingTask","existingCacheNodeChildren","cacheNodeChildren","routerStateChild","existingSegmentMapChild","segmentChild","segmentPathChild","segmentKeyChild","existingCacheNodeChild","baseRouterState","clone","newTask","createPendingCacheNode","reusedRouterState","oldRefreshMarker","responsePromise","serverRouterState","dynamicData","dynamicHead","writeDynamicDataIntoPendingTask","rootTask","taskSegment","finishTaskUsingDynamicDataPayload","taskNode","finishPendingCacheNode","serverChildren","dynamicDataChildren","serverRouterStateChild","dynamicDataChild","maybePrefetchRsc","createDeferredRsc","taskState","serverState","taskStateChildren","serverStateChildren","dataChildren","taskStateChild","serverStateChild","dataChild","segmentMapChild","taskSegmentChild","taskSegmentKeyChild","cacheNodeChild","abortPendingCacheNode","dynamicSegmentData","isDeferredRsc","dynamicLoading","newParallelRoutes","shouldUsePrefetch","DEFERRED","Symbol","pendingRsc","rej","responseDebugInfo","fulfilledRsc","rejectedRsc","reason","navigate","currentCacheNode","currentFlightRouterState","accumulation","snapshot","readRenderSnapshotFromCache","prefetchFlightRouterState","prefetchSeedData","navigateUsingPrefetchedRouteTree","optimisticRoute","newRenderedSearch","navigateDynamicallyWithNoPrefetch","promiseForDynamicServerResponse","navigationTaskToResult","childRouterStates","childSeedDatas","childResult","segmentEntry","promiseForFulfilledEntry","debugInfoFromResponse","simulatePrefetchTreeUsingDynamicTreePatch","hasDynamicHoles","baseTree","treePatch","canMutateInPlace","simulatePrefetchTreeUsingDynamicTreePatchImpl","patch","updatedParallelRouteKey","baseChildren","childBaseRouterState","notEnabled","__NEXT_CLIENT_SEGMENT_CACHE","IDLE_LINK_STATUS","PENDING_LINK_STATUS","mountFormInstance","mountLinkInstance","onLinkVisibilityChanged","onNavigationIntent","setLinkForCurrentNavigation","unmountLinkForCurrentNavigation","unmountPrefetchableInstance","linkForMostRecentNavigation","pending","link","setOptimisticLinkStatus","prefetchable","WeakMap","prefetchableAndVisible","observer","IntersectionObserver","handleIntersect","rootMargin","observeVisibility","element","instance","existingInstance","observe","coercePrefetchableUrl","reportErrorFn","router","prefetchEnabled","prefetchURL","isVisible","prefetchTask","prefetchHref","unobserve","intersectionRatio","rescheduleLinkPrefetch","unstable_upgradeToDynamicPrefetch","__NEXT_DYNAMIC_ON_HOVER","existingPrefetchTask","prefetchWithOldCacheImplementation","getCurrentAppRouterState","appRouterState","scheduleSegmentPrefetchTask","doPrefetch","FULL","InvariantError","kind","pathHasPrefix","hasBasePath","isLocalURL","locationOrigin","resolved","errorOnce","errors","LinkComponent","useLinkStatus","isModifiedEvent","event","eventTarget","currentTarget","getAttribute","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","linkClicked","e","as","linkInstanceRef","scroll","onNavigate","nodeName","isAnchorNodeName","toUpperCase","hasAttribute","preventDefault","isDefaultPrevented","dispatchNavigateAction","formatStringOrUrl","urlObjOrString","linkStatus","useOptimistic","hrefProp","asProp","childrenProp","prefetchProp","passHref","shallow","onClick","onMouseEnter","onMouseEnterProp","onTouchStart","onTouchStartProp","legacyBehavior","ref","forwardedRef","unstable_dynamicOnHover","restProps","useContext","AppRouterContext","getFetchStrategyFromPrefetchProp","createPropError","expected","actual","requiredPropsGuard","requiredProps","optionalPropsGuard","optionalProps","valType","locale","hasDynamicSegment","resolvedHref","child","$$typeof","for","Children","only","childRef","observeLinkVisibilityOnMount","mergedRef","childProps","defaultPrevented","upgradeToDynamicPrefetch","__NEXT_LINK_NO_TOUCH_START","cloneElement","LinkStatusContext","Provider","createContext","getImageBlurSvg","widthInt","heightInt","blurWidth","blurHeight","blurDataURL","objectFit","std","svgWidth","svgHeight","viewBox","preserveAspectRatio","VALID_LOADERS","imageConfigDefault","deviceSizes","imageSizes","loader","loaderFile","domains","disableStaticImages","minimumCacheTTL","formats","maximumRedirects","dangerouslyAllowLocalIP","dangerouslyAllowSVG","contentSecurityPolicy","contentDispositionType","localPatterns","remotePatterns","qualities","unoptimized","getImgProps","VALID_LOADING_VALUES","INVALID_BACKGROUND_SIZE_VALUES","isStaticRequire","src","default","isStaticImageData","isStaticImport","allImgs","perfObserver","getInt","x","isFinite","NaN","getWidths","allSizes","width","sizes","viewportWidthRe","percentSizes","match","exec","smallestRatio","min","widths","w","generateImgAttrs","config","quality","srcSet","preload","className","height","fill","style","overrideSrc","onLoad","onLoadingComplete","placeholder","decoding","layout","objectPosition","lazyBoundary","lazyRoot","rest","_state","imgConf","showAltText","blurComplete","defaultLoader","sort","isDefaultLoader","customImageLoader","obj","opts","layoutToStyle","intrinsic","maxWidth","responsive","layoutToSizes","layoutStyle","layoutSizes","staticSrc","staticImageData","ratio","round","isLazy","qualityInt","output","position","VALID_BLUR_EXT","urlStr","legacyKey","legacyValue","PerformanceObserver","entryList","getEntries","imgSrc","lcpImage","buffered","imgStyle","top","bottom","color","backgroundImage","backgroundSize","placeholderStyle","backgroundPosition","backgroundRepeat","imgAttributes","loadingFinal","fullUrl","meta","SideEffect","isServer","useClientOnlyLayoutEffect","useLayoutEffect","useClientOnlyEffect","useEffect","headManager","reduceComponentsToState","emitChange","mountedInstances","headElements","toArray","from","updateHead","_pendingUpdate","module","exports","vendored","HeadManagerContext","defaultHead","charSet","content","onlyReactElement","list","Fragment","fragmentList","fragmentChild","METATYPES","unique","tags","metaTypes","metaCategories","h","isUnique","hasKey","len","metatype","hasOwnProperty","category","categories","reduceComponents","headChildrenElements","reverse","srcMessage","Head","Effect","ImageConfigContext","RouterContext","findClosestQuality","cur","abs","missingValues","NEXT_RUNTIME","hasLocalMatch","parsedSrc","hasRemoteMatch","__next_img_default","Image","configEnv","__NEXT_IMAGE_OPTS","globalThis","__NEXT_IMAGE_IMPORTED","handleLoading","img","onLoadRef","onLoadingCompleteRef","setBlurComplete","sizesInput","decode","parentElement","isConnected","Event","defineProperty","writable","prevented","stopped","isPropagationStopped","persist","stopPropagation","origSrc","widthViewportRatio","getBoundingClientRect","innerWidth","getComputedStyle","valid","heightModified","widthModified","getDynamicProps","fetchpriority","ImageElement","forwardRef","setShowAltText","onError","ownRef","complete","data-nimg","ImagePreload","isAppRouter","imageSrcSet","crossOrigin","referrerPolicy","ReactDOM","rel","pagesRouter","configContext","imgMeta","getImageProps","imgProps"],"mappings":"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0C,CApB1C,AAoB0C,CApB1C,AAoB0C,CApB1C,AAoB0C,CApB1C,AAoB0C,CApB1C,AAoB0C,CAnB1C,AAmB0C,CAlBxC,AAkBwC,CAlBxC,AAkBkD,CAAA,AAlB/C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAA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YK,ACZL,AFAA,CEAA,ADYK,ADZL,ADAA,CCAA,AEAA,ADYK,AFZL,AEYK,AFZL,CEYK,ACZL,AHAA,ACAA,CDAA,AEYK,ACZL,AFAA,ACYsB,CAAjB,AFZL,AGAA,AFAA,ADAA,AEYsB,ACZtB,CHAA,AGAA,ADYK,ADZL,ACYsB,ACZtB,AFAA,ADAA,CCAA,ADAA,AGAA,ADYsB,AFZtB,AGAA,ADYK,CCZL,AFAA,ADAA,AGAA,ADYsB,AAAjB,ADZL,ADAA,CCAA,ADAA,AGAA,ADYsB,CFZtB,AGAA,ADYsB,ADZtB,CAAA,ADAA,AEYsB,ACZtB,CAAA,AFAA,ADAA,CEY+B,CDZ/B,ADAA,AGAA,ADY+B,CDZ/B,ADAA,AGAA,ADY+B,CAAA,ADZ/B,ADAA,AGAA,CHAA,AGAA,AFAA,ACY+B,CCZ/B,AHAA,ACAA,ACY+B,CDZ/B,ACY+B,AFZ/B,AGAA,CAAA,AHAA,ACAA,ACY+B,CFZ/B,ACAA,AEAA,ADY+B,CDZ/B,AEAA,AHAA,AEY+B,CDZ/B,AEAA,ADYyC,AFZzC,CGAA,AHAA,AEYyC,ADZzC,CDAA,AGAA,AFAA,CAAA,ADAA,AGAA,CAAA,AHAA,ACAA,CDAA,AGAA,AFAA,CAAA,ADAA,AGAA,CFAA,ADAA,AGAA,CFAA,ADAA,AGAA,CFAA,ADAA,AGAA,CFAA,ADAA,AGAA,CFAA,ADAA,AGAA,CFAA,ADAA,AGAA,CFAA,ADAA,AGAA,CHAA,AEHqB,ACGrB,AFAA,CHHoB,AIAC,ACGrB,AHAA,ACAA,CHHoB,AEGpB,ACAA,AEAA,ADHqB,CDGrB,ADAA,AGAA,ALHoB,AIAC,ALAD,CIGpB,ADAA,AGAA,ANHoB,CIGpB,ADAA,AGAA,CAAA,AHAA,ACAA,CDAA,AGAA,AFAA,CAAA,ADAA,AGAA,CFAA,ADAA,AGAA,CFAA,ADAA,AGAA,CAAA,AFAA,ADAA,CGAA,AFAA,ADAA,CGAA,AFAA,ADAA,CAAA,AGAA,ADHoC,ADGpC,CAAA,AJHmC,AGGnC,AGAA,CHAA,AGAA,AFAA,AJHmC,CMGnC,AFAA,ADAA,CAAA,AGAA,AFAA,CAAA,ADAA,AGAA,CFAA,ADAA,AGAA,CFAA,ADAA,AGAA,CHAA,ACAA,AEAA,CFAA,ADAA,AGAA,CAAA,AFAA,ADAA,CCAA,ADAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CHAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CHAA,AGAA,CAAA,AHAA,CAAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CAAA,AHAA,CAAA,AGAA,CHAA,AGAA,CHAA,AGAA,CHAA,AGAA,CAAA,AHAA,CAAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CHAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CHAA,AGAA,CHAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CAAA,AHAA,CGAA,AHAA,CAAA,AGAA,CHAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CAAA,AHAA,CGAA,AHAA,CAAA,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CAAA,AHAA,CHaT,AGbS,AGAA,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CGAA,AHAA,AHaT,CMbS,AHAA,CGAA,AHAA,AHaT,CGbS,AGAA,ANaT,CMbS,AHAA,CAAA,AGAA,ANaM,CMbN,AHAA,AHaM,AMZJ,AFAA,AHYI,AEZJ,CGDF,AHAA,AFaM,ADAA,AMZJ,AFAA,ADAA,AHYI,CMbN,AACE,AHAA,ACAA,AHYI,ADAA,AGbN,CAAA,AFaM,ADAA,AMbN,CAAA,AHAA,AFaM,ADAA,CCAA,ADAA,AMbN,AHAA,CFaM,ADAA,AMbN,AHAA,CAAA,AGAA,ALaM,ADAA,CAAA,AGbN,AGAA,ALaM,ADAA,CMbN,ALaM,ADAA,CMbN,ALaM,ADAA,AAAiB,CCAjB,ADAA,AMbN,ALauB,ADAA,CCAjB,ADAA,AMbN,ALauB,ADAA,CMbvB,ALaM,ADAA,ACAiB,ADAA,CMbvB,ALaM,ADAA,AAAiB,ACAA,CKbvB,ANauB,ACAA,CAAA,AKbvB,ANauB,CMbvB,ANauB,ACAA,CKbvB,ANauB,ACAA,CDjBnB,AMIJ,CNHP,AMGO,CNHN,AMGM,CDHN,AJAA,AKGM,CDHN,AJAA,AKGM,CLHN,AIAA,ACGM,CAAA,ADHN,AJAA,CKGM,ADHN,AJAA,CKGM,ADHN,AJAA,CIAA,AJAA,AKGM,CAAA,CAAA,CAAA,ANHM,CMGN,CAAA,CAAA,ANHU,CMGV,ANHU,ACAH,AIAA,CJAA,ADAG,AKAH,ACGP,CNHU,AMGV,ADHO,AJAA,CDAG,AMGV,ADHO,AJAA,CIAA,AJAA,ADAS,AMGhB,CDHO,AJAA,ADAS,AMGhB,CDHO,AJAA,ADAS,AMGhB,CAAA,ADHO,AJAA,ADAS,CMGhB,CAAA,CAAA,CAAA,CNH0B,AMG1B,CNH0B,ACAD,AIAC,ACG1B,CAAA,ADH0B,AJAD,ADAI,CMG7B,ADH0B,AJAD,ADAI,CMG7B,ALHyB,AIAC,ALAG,CMG7B,ADH0B,ALAG,ACAJ,CIAC,ALAG,AMG7B,CNHmC,AMGnC,CAAA,CAAA,CAAA,CNHwC,AMGxC,CNHwC,AMGxC,CNHwC,AMGxC,CAAA,ANHwC,CMGxC,ANHwC,CAAA,AMGxC,CNHwC,AMGxC,CNHwC,AMGxC,CNHwC,AMGxC,CNHkD,AMGlD,CNHkD,AMGlD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,ANFI,CAAA,AAAE,AMEN,CAAA,CAAA,CNFU,AMEV,CLFO,AIAA,ALAG,AMEV,CLFO,ADAG,AKAH,ACEP,CAAA,ALFO,AIAA,ALAG,CCAH,AIAA,ALAG,AMEV,CLFO,AIAA,ALAS,AMEhB,CNFgB,ACAT,AIAA,ACEP,CNFgB,ACAT,AIAA,ACEP,CAAA,ADFO,AJAA,ADAS,AAAI,CCAb,AIAA,ACEP,CLFO,AIAA,ACEP,CLFO,AIAA,ACEP,CLFO,ADAa,AKAb,ACEP,CLFO,AKEP,ANFoB,AKAb,CCEP,CNF6B,AME7B,CLF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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,69,70,71,72,73,74,75,76,77,78,79,81,84,85,86,87,89,90,92,102,103,104,105,106,107,108,109,110,111,112,113,114,116,117,118,127,133,134,141,143,150,152,154,157,162,164,166,167,173]}