module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},738783,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactServerDOMTurbopackClient},935112,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactDOM},732860,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],732860)},244494,a=>{"use strict";let b=(0,a.i(170106).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["Globe",()=>b],244494)},292e3,a=>{"use strict";let b=(0,a.i(170106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],292e3)},400210,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],400210)},641710,a=>{"use strict";let b=(0,a.i(170106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],641710)},724669,a=>{"use strict";let b=(0,a.i(170106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],724669)},781560,a=>{"use strict";let b=(0,a.i(170106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],781560)},669520,a=>{"use strict";let b=(0,a.i(170106).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],669520)},369012,a=>{"use strict";let b=(0,a.i(170106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],369012)},835475,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944);let e=(0,c.createContext)(void 0);function f({children:a}){let[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null),l=(0,d.useRouter)(),m=(0,c.useCallback)(async()=>{try{i(!0),k(null);let a=localStorage.getItem("authToken");if(!a){g(null),i(!1);return}let b=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},cache:"no-store"});if(b.ok){let a=await b.json();g(a.data)}else 401===b.status||403===b.status?(localStorage.removeItem("authToken"),g(null),l.push("/login")):k("Failed to fetch user data")}catch(a){console.error("Error fetching user:",a),k("Network error")}finally{i(!1)}},[l]),n=(0,c.useCallback)(async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(a){console.error("Logout error:",a)}finally{localStorage.removeItem("authToken"),g(null),l.push("/login")}},[l]),o=(0,c.useCallback)(a=>{g(b=>b?{...b,...a}:null)},[]);return(0,c.useEffect)(()=>{m()},[m]),(0,b.jsx)(e.Provider,{value:{user:f,loading:h,error:j,fetchUser:m,logout:n,updateUser:o},children:a})}function g(){let a=(0,c.useContext)(e);if(void 0===a)throw Error("useUser must be used within a UserProvider");return a}a.s(["UserProvider",()=>f,"useUser",()=>g])},588615,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(835475),f=a.i(289251);a.i(16707);var g=a.i(529784),h=a.i(376944);function i({children:a}){let{user:i,loading:j}=(0,e.useUser)(),k=(0,d.useRouter)();return((0,c.useEffect)(()=>{j||i?!j&&i&&i.role!==h.UserRole.ADMIN&&i.role!==h.UserRole.SUPER_ADMIN&&k.push("/login"):k.push("/login")},[i,j,k]),j)?(0,b.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(g.FlowerSpinner,{size:64}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading your workspace..."})]})}):i?(0,b.jsx)(f.default,{user:{id:i.id,uid:i.uid,firstName:i.fullName.split(" ")[0]||i.fullName,lastName:i.fullName.split(" ").slice(1).join(" ")||"",email:i.email,role:i.role},children:a}):null}function j({children:a}){return(0,b.jsx)(e.UserProvider,{children:(0,b.jsx)(i,{children:a})})}a.s(["default",()=>j])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7f4725c6._.js.map