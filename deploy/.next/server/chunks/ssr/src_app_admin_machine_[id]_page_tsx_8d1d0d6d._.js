module.exports=[80268,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(346271),f=a.i(262036),g=a.i(835475),h=a.i(550194),i=a.i(346158),j=a.i(400210),k=a.i(321161),l=a.i(124987),m=a.i(963519),n=a.i(546842),o=a.i(941675),p=a.i(290669),q=a.i(468976),r=a.i(781560),s=a.i(267900),t=a.i(724669),u=a.i(839761),v=a.i(292e3),w=a.i(816201),x=a.i(641710),y=a.i(633508),z=a.i(879808),A=a.i(942112);let B=(0,a.i(170106).default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var C=a.i(501027),D=a.i(325910),E=a.i(284505),F=a.i(669520),G=a.i(879360);a.i(16707);var H=a.i(883733),I=a.i(195279),J=a.i(960020),K=a.i(604126),L=a.i(981189),M=a.i(651963),N=a.i(851068),O=a.i(796182),P=a.i(110724),Q=a.i(688238),R=a.i(726063);function S(){let a,S,T,U,V,W,X=(0,d.useRouter)(),Y=(0,d.useParams)().id,{user:Z}=(0,g.useUser)(),{t:$}=(0,h.useLanguage)(),[_,aa]=(0,c.useState)(null),[ab,ac]=(0,c.useState)(!0),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)(""),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)("overview"),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)(!1),[ar,as]=(0,c.useState)(!1),[at,au]=(0,c.useState)([]),[av,aw]=(0,c.useState)(!1),[ax,ay]=(0,c.useState)([]),[az,aA]=(0,c.useState)(!1),[aB,aC]=(0,c.useState)(!1),[aD,aE]=(0,c.useState)([]),[aF,aG]=(0,c.useState)([]),[aH,aI]=(0,c.useState)(!1),[aJ,aK]=(0,c.useState)([]),[aL,aM]=(0,c.useState)({}),[aN,aO]=(0,c.useState)({machineId:"",machineType:"",societyId:"",location:"",installationDate:"",operatorName:"",contactPhone:"",status:"active",notes:""}),[aP,aQ]=(0,c.useState)({channel1_fat:"",channel1_snf:"",channel1_clr:"",channel1_temp:"",channel1_water:"",channel1_protein:"",channel2_fat:"",channel2_snf:"",channel2_clr:"",channel2_temp:"",channel2_water:"",channel2_protein:"",channel3_fat:"",channel3_snf:"",channel3_clr:"",channel3_temp:"",channel3_water:"",channel3_protein:""}),[aR,aS]=(0,c.useState)(null),[aT,aU]=(0,c.useState)(!1),[aV,aW]=(0,c.useState)(!1),[aX,aY]=(0,c.useState)(!1),[aZ,a$]=(0,c.useState)([]),[a_,a0]=(0,c.useState)(!1),[a1,a2]=(0,c.useState)(!1),[a3,a4]=(0,c.useState)([]),[a5,a6]=(0,c.useState)(!1),[a7,a8]=(0,c.useState)(!1),[a9,ba]=(0,c.useState)(!1),[bb,bc]=(0,c.useState)(!1),[bd,be]=(0,c.useState)(!1),[bf,bg]=(0,c.useState)(!1),[bh,bi]=(0,c.useState)(new Set),[bj,bk]=(0,c.useState)(!1),[bl,bm]=(0,c.useState)([]),[bn,bo]=(0,c.useState)(!1),bp=(0,c.useCallback)(async()=>{try{ac(!0);let a=localStorage.getItem("authToken");if(!a)return void X.push("/login");let b=await fetch(`/api/user/machine?id=${Y}`,{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)throw Error("Failed to fetch machine details");let c=await b.json();if(c.success&&c.data&&c.data.length>0){let b=c.data[0],d=b.machineId,e=await fetch(`/api/user/machine/statistics?machineId=${Y}`,{headers:{Authorization:`Bearer ${a}`}}),f={totalOperations:0,operationHours:0,averageEfficiency:0,maintenanceCount:0,lastActivity:b.createdAt};if(e.ok){let a=await e.json();if(a.success&&Array.isArray(a.data)&&a.data.length>0){let b=a.data;f.totalOperations=b.reduce((a,b)=>a+(b.total_test||0),0),f.operationHours=Math.round(5*f.totalOperations/60),f.maintenanceCount=b.reduce((a,b)=>a+(b.daily_cleaning||0)+(b.weekly_cleaning||0),0);let c=b.reduce((a,b)=>a+(b.total_test||0),0),d=b.reduce((a,b)=>a+(b.cleaning_skip||0),0);if(c>0?f.averageEfficiency=Math.round(Math.max(0,Math.min(100,100-d/c*100))):f.averageEfficiency=0,b.length>0){let a=[...b].sort((a,b)=>{let c=new Date(a.statistics_date+" "+a.statistics_time).getTime();return new Date(b.statistics_date+" "+b.statistics_time).getTime()-c})[0];f.lastActivity=a.statistics_date+" "+a.statistics_time}}}let g=0,h=0,i=0,j=new Date(f.lastActivity);try{let b=await fetch("/api/user/reports/collections",{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();if(a.success&&Array.isArray(a.data)){console.log("ðŸ“¦ Total collections fetched:",a.data.length),console.log("ðŸ” Filtering for machine ID:",d);let b=a.data.filter(a=>a.machine_id===d);if(g=b.length,console.log("âœ… Filtered collections for this machine:",g),aK(b),b.length>0){let a=[...b].sort((a,b)=>{let c=new Date(a.collection_date+" "+(a.collection_time||"00:00:00")).getTime();return new Date(b.collection_date+" "+(b.collection_time||"00:00:00")).getTime()-c})[0];f.lastActivity=(j=new Date(a.collection_date+" "+(a.collection_time||"00:00:00"))).toISOString()}}}}catch(a){console.log("Collections data not available:",a)}try{let b=await fetch(`/api/user/reports/dispatches?machineId=${Y}`,{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();a.success&&Array.isArray(a.data)&&(h=a.data.length)}}catch(a){console.log("Dispatches data not available:",a)}try{let b=await fetch(`/api/user/reports/sales?machineId=${Y}`,{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();a.success&&Array.isArray(a.data)&&(i=a.data.length)}}catch(a){console.log("Sales data not available:",a)}let k=g+h+i;k>0&&(f.totalOperations=Math.max(f.totalOperations,k),f.operationHours=Math.round(5*f.totalOperations/60)),g>0&&(f.lastActivity=j.toISOString());let l={...b,operationHours:f.operationHours,maintenanceCount:f.maintenanceCount,efficiency:f.averageEfficiency,totalOperations:f.totalOperations,averageEfficiency:f.averageEfficiency,lastActivity:f.lastActivity,lastOperationDate:f.lastActivity};aa(l)}else ae("Machine not found"),aa(null)}catch(a){console.error("Error fetching machine details:",a),ae("Failed to load machine details")}finally{ac(!1)}},[Y,X]),bq=(0,c.useCallback)(async()=>{try{aw(!0);let a=localStorage.getItem("authToken"),b=await fetch("/api/user/society",{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();c.success&&Array.isArray(c.data)&&au(c.data)}catch(a){console.error("Error fetching societies:",a)}finally{aw(!1)}},[]),br=(0,c.useCallback)(async()=>{try{aA(!0);let a=localStorage.getItem("authToken"),b=await fetch("/api/superadmin/machines",{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();c.success&&ay(c.data.machines||[])}catch(a){console.error("Error fetching machine types:",a)}finally{aA(!1)}},[]),bs=(0,c.useCallback)(async()=>{if(Y)try{aI(!0);let a=localStorage.getItem("authToken"),b=await fetch(`/api/user/machine/statistics?machineId=${Y}`,{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();aG(a.data||[])}}catch(a){console.error("Error fetching statistics:",a)}finally{aI(!1)}},[Y]);(0,c.useEffect)(()=>{bp(),bq(),br()},[bp,bq,br]),(0,c.useEffect)(()=>{"statistics"===aj&&bs()},[aj,bs]);let bt=()=>{am(!1),aM({}),ae("")},bu=async a=>{if(a.preventDefault(),_){aq(!0),ae("");try{let a=localStorage.getItem("authToken"),b=await fetch("/api/user/machine",{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({id:_.id,...aN,societyId:parseInt(aN.societyId)})});if(b.ok)ag("Machine updated successfully!"),am(!1),await bp(),setTimeout(()=>ag(""),3e3);else{let a=await b.json();ae(a.error||"Failed to update machine")}}catch(a){console.error("Error updating machine:",a),ae("Failed to update machine")}finally{aq(!1)}}},bv=async()=>{if(_)try{let a=localStorage.getItem("authToken"),b=await fetch(`/api/user/machine?id=${_.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}});if(b.ok)ag("Machine deleted successfully!"),ao(!1),setTimeout(()=>{X.push("/admin/machine")},1e3);else{let a=await b.json();ae(a.error||"Failed to delete machine")}}catch(a){console.error("Error deleting machine:",a),ae("Failed to delete machine")}},bw=(0,c.useCallback)(async()=>{if(_)try{let a=localStorage.getItem("authToken"),b=await fetch(`/api/user/machine-correction?machineId=${_.id}&societyId=${_.societyId}`,{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();if(b.ok&&c.success&&c.data){let a=c.data;c.history&&aE(c.history),aQ({channel1_fat:a.channel1_fat?String(a.channel1_fat):"",channel1_snf:a.channel1_snf?String(a.channel1_snf):"",channel1_clr:a.channel1_clr?String(a.channel1_clr):"",channel1_temp:a.channel1_temp?String(a.channel1_temp):"",channel1_water:a.channel1_water?String(a.channel1_water):"",channel1_protein:a.channel1_protein?String(a.channel1_protein):"",channel2_fat:a.channel2_fat?String(a.channel2_fat):"",channel2_snf:a.channel2_snf?String(a.channel2_snf):"",channel2_clr:a.channel2_clr?String(a.channel2_clr):"",channel2_temp:a.channel2_temp?String(a.channel2_temp):"",channel2_water:a.channel2_water?String(a.channel2_water):"",channel2_protein:a.channel2_protein?String(a.channel2_protein):"",channel3_fat:a.channel3_fat?String(a.channel3_fat):"",channel3_snf:a.channel3_snf?String(a.channel3_snf):"",channel3_clr:a.channel3_clr?String(a.channel3_clr):"",channel3_temp:a.channel3_temp?String(a.channel3_temp):"",channel3_water:a.channel3_water?String(a.channel3_water):"",channel3_protein:a.channel3_protein?String(a.channel3_protein):""})}}catch(a){console.error("Error fetching correction data:",a)}},[_]),bx=async()=>{if(_)try{aW(!0);let a=localStorage.getItem("authToken"),b=await fetch(`/api/user/machine/correction/${_.id}`,{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();b.ok&&c.success?c.data&&Array.isArray(c.data)&&c.data.length>0?(aS(c.data),aU(!0),ag(`Loaded ${c.data.length} correction records from machine`)):(aQ({channel1_fat:"0.00",channel1_snf:"0.00",channel1_clr:"0.00",channel1_temp:"0.00",channel1_water:"0.00",channel1_protein:"0.00",channel2_fat:"0.00",channel2_snf:"0.00",channel2_clr:"0.00",channel2_temp:"0.00",channel2_water:"0.00",channel2_protein:"0.00",channel3_fat:"0.00",channel3_snf:"0.00",channel3_clr:"0.00",channel3_temp:"0.00",channel3_water:"0.00",channel3_protein:"0.00"}),aS(null),aU(!1),ag("No correction data found - all values set to 0.00")):ae(c.error||"Failed to fetch machine correction data")}catch(a){console.error("Error fetching machine correction:",a),ae("Failed to fetch machine correction data")}finally{aW(!1)}},by=async()=>{if(_&&0!==aZ.length)try{a0(!0);let a=localStorage.getItem("authToken"),b=`/api/user/machine/correction/${_.id}`,c=new URLSearchParams;c.append("ids",aZ.join(","));let d=await fetch(`${b}?${c.toString()}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),e=await d.json();d.ok&&e.success?(ag(e.message||`${aZ.length} correction record(s) deleted successfully`),aY(!1),a$([]),await bx()):ae(e.error||"Failed to delete correction data")}catch(a){console.error("Error deleting correction data:",a),ae("Failed to delete correction data")}finally{a0(!1)}},bz=()=>{a3.length===aF.length?a4([]):a4(aF.map(a=>a.id))},bA=async()=>{if(_&&0!==a3.length)try{a6(!0);let a=localStorage.getItem("authToken"),b=new URLSearchParams;b.append("machineId",_.id.toString()),b.append("ids",a3.join(","));let c=await fetch(`/api/user/machine/statistics?${b.toString()}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),d=await c.json();c.ok&&d.success?(ag(d.message||`${a3.length} statistics record(s) deleted successfully`),a2(!1),a4([]),await bs()):ae(d.error||"Failed to delete statistics data")}catch(a){console.error("Error deleting statistics data:",a),ae("Failed to delete statistics data")}finally{a6(!1)}},bB=(a,b)=>{(""===b||/^-?\d*\.?\d{0,2}$/.test(b))&&aQ(c=>({...c,[a]:b}))},bC=async()=>{if(_)try{let a=localStorage.getItem("authToken"),b=await fetch(`/api/user/machine/by-society?societyId=${_.societyId}`,{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();if(a.success&&Array.isArray(a.data)){let b=a.data.filter(a=>a.id!==_.id);bm(b.map(a=>({id:a.id,machineId:a.machineId})))}}}catch(a){console.error("Error fetching other machines:",a)}},bD=async a=>{a.preventDefault(),_&&(ae(""),ag(""),_.isMasterMachine?(await bC(),bg(!1),bi(new Set),bk(!1),be(!0)):await bE(!1))},bE=async a=>{if(_){bo(!0),ae(""),ag("");try{let b=localStorage.getItem("authToken"),c={machineId:_.id,societyId:_.societyId,channel1_fat:aP.channel1_fat||"0",channel1_snf:aP.channel1_snf||"0",channel1_clr:aP.channel1_clr||"0",channel1_temp:aP.channel1_temp||"0",channel1_water:aP.channel1_water||"0",channel1_protein:aP.channel1_protein||"0",channel2_fat:aP.channel2_fat||"0",channel2_snf:aP.channel2_snf||"0",channel2_clr:aP.channel2_clr||"0",channel2_temp:aP.channel2_temp||"0",channel2_water:aP.channel2_water||"0",channel2_protein:aP.channel2_protein||"0",channel3_fat:aP.channel3_fat||"0",channel3_snf:aP.channel3_snf||"0",channel3_clr:aP.channel3_clr||"0",channel3_temp:aP.channel3_temp||"0",channel3_water:aP.channel3_water||"0",channel3_protein:aP.channel3_protein||"0"},d=await fetch("/api/user/machine-correction",{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify(c)}),e=await d.json();if(d.ok&&e.success){let d="Correction data saved successfully!",e=0;if(a&&bh.size>0){let a=Array.from(bh).map(async a=>{try{(await fetch("/api/user/machine-correction",{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({...c,machineId:a})})).ok&&e++}catch(b){console.error(`Error updating machine ${a}:`,b)}});await Promise.all(a),d=`Correction data saved successfully! Applied to ${e} additional machine(s).`}ag(d),be(!1),await bw(),setTimeout(()=>ag(""),5e3)}else ae(e.error||"Failed to save correction data")}catch(a){console.error("Error saving correction data:",a),ae("Failed to save correction data")}finally{bo(!1)}}},bF=async()=>{bf&&0===bh.size?ae("Please select at least one machine to apply corrections"):await bE(bf)},bG=async()=>{if(_){bc(!0),ae(""),ag("");try{let a=localStorage.getItem("authToken"),b=await fetch(`/api/user/machine/${_.id}/set-master`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({setForAll:a9})}),c=await b.json();b.ok&&c.success?(ag(a9?"Master machine set and all machines in society updated successfully!":"Master machine set successfully!"),a8(!1),await bp(),setTimeout(()=>ag(""),3e3)):ae(c.error||"Failed to set master machine")}catch(a){console.error("Error setting master machine:",a),ae("Failed to set master machine")}finally{bc(!1)}}};return((0,c.useEffect)(()=>{bp(),bq(),br()},[Y,bp,bq,br]),(0,c.useEffect)(()=>{_&&bw()},[_,bw]),(0,c.useEffect)(()=>{Z||X.push("/login")},[Z,X]),(0,c.useEffect)(()=>{if(af){let a=setTimeout(()=>{ag("")},5e3);return()=>clearTimeout(a)}},[af]),(0,c.useEffect)(()=>{if(ad){let a=setTimeout(()=>{ae("")},5e3);return()=>clearTimeout(a)}},[ad]),Z)?ab?(0,b.jsx)(H.LoadingSpinner,{}):ad||!_?(0,b.jsx)(J.EmptyState,{icon:(0,b.jsx)(v.AlertCircle,{className:"w-10 h-10"}),title:`Machine Details ${$.common?.noDataAvailable||"Not Available"}`,message:ad||"Machine not found",actionText:`${$.common?.back||"Back"} to Machines`,onAction:()=>X.push("/admin/machine"),showAction:!0}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 lg:pb-8",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>X.push("/admin/machine"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center",children:(0,b.jsx)(j.ArrowLeft,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-green-600 to-emerald-600 rounded-lg sm:rounded-xl flex-shrink-0",children:(0,b.jsx)(k.Settings,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100",children:_.machineId}),_.isMasterMachine&&(0,b.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold bg-gradient-to-r from-yellow-400 to-amber-500 text-gray-900 rounded-full border border-yellow-600 shadow-sm",children:"Master Machine"})]}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:_.machineType})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{onClick:()=>ai(!ah),className:"flex items-center justify-center p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px]",children:(0,b.jsx)(G.MoreVertical,{className:"w-5 h-5"})}),ah&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>ai(!1)}),(0,b.jsx)(e.motion.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl overflow-hidden z-20",children:(0,b.jsxs)("div",{className:"py-1",children:[(0,b.jsxs)("button",{onClick:()=>{_&&(aO({machineId:_.machineId,machineType:_.machineType,societyId:_.societyId.toString(),location:_.location||"",installationDate:_.installationDate||"",operatorName:_.operatorName||"",contactPhone:_.contactPhone||"",status:_.status,notes:_.notes||""}),aM({}),ae(""),am(!0)),ai(!1)},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-green-50 dark:hover:bg-green-900/20 hover:text-green-700 dark:hover:text-green-400 transition-all duration-150",children:[(0,b.jsx)(q.Edit3,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"font-medium",children:$.common?.edit||"Edit"})]}),(0,b.jsx)("div",{className:"h-px bg-gray-100 dark:bg-gray-700 mx-2"}),(0,b.jsxs)("button",{onClick:()=>{ao(!0),ai(!1)},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-700 dark:hover:text-red-400 transition-all duration-150",children:[(0,b.jsx)(r.Trash2,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"font-medium",children:$.common?.delete||"Delete"})]})]})})]})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-between gap-3",children:(0,b.jsx)("span",{className:`px-3 py-1 text-xs sm:text-sm font-medium rounded-full border ${(a=>{switch(a){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 border-green-200 dark:border-green-800";case"inactive":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 border-red-200 dark:border-red-800";case"maintenance":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800";case"suspended":return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-800";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600"}})(_.status)}`,children:_.status})})]})}),(0,b.jsx)("div",{className:"px-4 sm:px-6 overflow-x-auto scrollbar-hide",children:(0,b.jsx)("div",{className:"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0",children:[{id:"overview",label:$.dashboard?.overview||"Overview",icon:s.Building2},{id:"statistics",label:"Statistics",icon:D.PieChart},{id:"correction",label:"Correction",icon:k.Settings}].map(a=>(0,b.jsxs)("button",{onClick:()=>ak(a.id),className:`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${aj===a.id?"text-blue-600 dark:text-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,b.jsx)(a.icon,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:a.label}),aj===a.id&&(0,b.jsx)(e.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},a.id))})})]}),(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:["overview"===aj&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Machine Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(A.Cog,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Machine ID"}),(0,b.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:_.machineId})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(z.Wrench,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Machine Type"}),(0,b.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:_.machineType})]})]}),_.societyName&&(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(s.Building2,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Society"}),(0,b.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:_.societyName})]})]}),_.location&&(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(l.MapPin,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Location"}),(0,b.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:_.location})]})]}),_.operatorName&&(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(n.User,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Operator"}),(0,b.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-words",children:_.operatorName})]})]}),_.contactPhone&&(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(m.Phone,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Contact"}),(0,b.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100 break-all",children:_.contactPhone})]})]}),_.installationDate&&(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(o.Calendar,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Installation Date"}),(0,b.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100",children:new Date(_.installationDate).toLocaleDateString()})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(o.Calendar,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:$.common?.createdAt||"Created At"}),(0,b.jsx)("p",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-gray-100",children:new Date(_.createdAt).toLocaleDateString()})]})]})]}),_.notes&&(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Notes"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:_.notes})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg sm:rounded-xl border border-blue-200 dark:border-blue-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-medium text-blue-700 dark:text-blue-400",children:"Operation Hours"}),(0,b.jsxs)("p",{className:"text-2xl sm:text-3xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:[_.operationHours||0,(0,b.jsx)("span",{className:"text-lg sm:text-xl ml-1",children:"hrs"})]}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-blue-600 dark:text-blue-400 mt-1",children:_.operationHours?`${Math.round(_.operationHours/24)} days of operation`:"No operation data yet"})]}),(0,b.jsx)("div",{className:"bg-blue-100 dark:bg-blue-800/50 p-3 rounded-xl",children:(0,b.jsx)(B,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-600 dark:text-blue-400 flex-shrink-0"})})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg sm:rounded-xl border border-yellow-200 dark:border-yellow-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-medium text-yellow-700 dark:text-yellow-400",children:"Maintenance Count"}),(0,b.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-yellow-900 dark:text-yellow-100 mt-1",children:_.maintenanceCount||0}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-400 mt-1",children:_.maintenanceCount?"Cleaning cycles completed":"No maintenance data"})]}),(0,b.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-800/50 p-3 rounded-xl",children:(0,b.jsx)(z.Wrench,{className:"w-7 h-7 sm:w-8 sm:h-8 text-yellow-600 dark:text-yellow-400 flex-shrink-0"})})]})}),(0,b.jsx)("div",{className:`bg-gradient-to-br rounded-lg sm:rounded-xl border shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow ${(_.efficiency??0)>=90?"from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-green-200 dark:border-green-800":(_.efficiency??0)>=75?"from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-yellow-200 dark:border-yellow-800":"from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-red-200 dark:border-red-800"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:`text-xs sm:text-sm font-medium ${(_.efficiency??0)>=90?"text-green-700 dark:text-green-400":(_.efficiency??0)>=75?"text-yellow-700 dark:text-yellow-400":"text-red-700 dark:text-red-400"}`,children:"Performance Efficiency"}),(0,b.jsxs)("p",{className:`text-2xl sm:text-3xl font-bold mt-1 ${(_.efficiency??0)>=90?"text-green-900 dark:text-green-100":(_.efficiency??0)>=75?"text-yellow-900 dark:text-yellow-100":"text-red-900 dark:text-red-100"}`,children:[_.efficiency??0,"%"]}),(0,b.jsx)("p",{className:`text-xs sm:text-sm mt-1 ${(_.efficiency??0)>=90?"text-green-600 dark:text-green-400":(_.efficiency??0)>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:(_.efficiency??0)>=90?"Excellent performance":(_.efficiency??0)>=75?"Good performance":(_.efficiency??0)>0?"Needs attention":"No efficiency data"})]}),(0,b.jsx)("div",{className:`p-3 rounded-xl ${(_.efficiency??0)>=90?"bg-green-100 dark:bg-green-800/50":(_.efficiency??0)>=75?"bg-yellow-100 dark:bg-yellow-800/50":"bg-red-100 dark:bg-red-800/50"}`,children:(0,b.jsx)(C.Zap,{className:`w-7 h-7 sm:w-8 sm:h-8 flex-shrink-0 ${(_.efficiency??0)>=90?"text-green-600 dark:text-green-400":(_.efficiency??0)>=75?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`})})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/20 dark:to-violet-900/20 rounded-lg sm:rounded-xl border border-purple-200 dark:border-purple-800 shadow-sm p-4 sm:p-6 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-medium text-purple-700 dark:text-purple-400",children:"Total Operations"}),(0,b.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-purple-900 dark:text-purple-100 mt-1",children:_.totalOperations?.toLocaleString()||0}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-purple-600 dark:text-purple-400 mt-1",children:_.totalOperations?"Tests & collections processed":"No operations recorded"})]}),(0,b.jsx)("div",{className:"bg-purple-100 dark:bg-purple-800/50 p-3 rounded-xl",children:(0,b.jsx)(t.TrendingUp,{className:"w-7 h-7 sm:w-8 sm:h-8 text-purple-600 dark:text-purple-400 flex-shrink-0"})})]})})]}),aJ.length>0&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6 mt-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg",children:(0,b.jsx)(p.Activity,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-bold text-gray-900 dark:text-gray-100",children:"Collection Reports"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Milk collection data and metrics"})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800 p-4 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-cyan-700 dark:text-cyan-400 mb-1",children:"Total Collections"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-100",children:aJ.length.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-cyan-600 dark:text-cyan-400 mt-1",children:"All time"})]}),(0,b.jsx)("div",{className:"bg-cyan-100 dark:bg-cyan-900/40 p-2 rounded-lg",children:(0,b.jsx)(u.BarChart3,{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400"})})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg border border-blue-200 dark:border-blue-800 p-4 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-blue-700 dark:text-blue-400 mb-1",children:"Total Quantity"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:aJ.reduce((a,b)=>a+(parseFloat(b.quantity)||0),0).toFixed(2)}),(0,b.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Liters"})]}),(0,b.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2 rounded-lg",children:(0,b.jsx)(t.TrendingUp,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-200 dark:border-indigo-800 p-4 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-400 mb-1",children:"Avg per Collection"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-100",children:aJ.length>0?(aJ.reduce((a,b)=>a+(parseFloat(b.quantity)||0),0)/aJ.length).toFixed(2):"0.00"}),(0,b.jsx)("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1",children:"Liters"})]}),(0,b.jsx)("div",{className:"bg-indigo-100 dark:bg-indigo-900/40 p-2 rounded-lg",children:(0,b.jsx)(D.PieChart,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-200 dark:border-purple-800 p-4 hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-purple-700 dark:text-purple-400 mb-1",children:"Last 7 Days"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:((a=new Date).setDate(a.getDate()-7),aJ.filter(b=>new Date(b.collection_date)>=a).length.toLocaleString())}),(0,b.jsx)("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Collections"})]}),(0,b.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/40 p-2 rounded-lg",children:(0,b.jsx)(x.Clock,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})]})})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Recent Collections"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Time"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Farmer ID"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Quantity"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"FAT"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"SNF"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Shift"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[...aJ].sort((a,b)=>{let c=new Date(a.collection_date+" "+(a.collection_time||"00:00:00")).getTime();return new Date(b.collection_date+" "+(b.collection_time||"00:00:00")).getTime()-c}).slice(0,10).map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:new Date(a.collection_date).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:a.collection_time||"N/A"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:a.farmer_id||"N/A"}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm font-medium text-blue-600 dark:text-blue-400",children:[parseFloat(a.quantity||0).toFixed(2)," L"]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:[parseFloat(a.fat||0).toFixed(2),"%"]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:[parseFloat(a.snf||0).toFixed(2),"%"]}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"Morning"===a.shift_type?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300":"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300"}`,children:a.shift_type||"N/A"})})]},c))})]})})]})]})]}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"sticky top-4 space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>X.push(`/admin/reports?machineFilter=${_.machineId}`),className:"w-full flex items-center px-3 sm:px-4 py-2.5 sm:py-3 text-left text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-900/20 dark:hover:to-indigo-900/20 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700 rounded-lg transition-all duration-200 min-h-[44px] group",children:[(0,b.jsx)("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded group-hover:bg-blue-200 dark:group-hover:bg-blue-800/40 transition-colors",children:(0,b.jsx)(u.BarChart3,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"})}),(0,b.jsx)("span",{className:"ml-3 truncate",children:"Reports"})]}),(0,b.jsxs)("button",{onClick:()=>X.push(`/admin/analytics?machineFilter=${_.machineId}`),className:"w-full flex items-center px-3 sm:px-4 py-2.5 sm:py-3 text-left text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 hover:bg-gradient-to-r hover:from-purple-50 hover:to-violet-50 dark:hover:from-purple-900/20 dark:hover:to-violet-900/20 border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700 rounded-lg transition-all duration-200 min-h-[44px] group",children:[(0,b.jsx)("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded group-hover:bg-purple-200 dark:group-hover:bg-purple-800/40 transition-colors",children:(0,b.jsx)(t.TrendingUp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 dark:text-purple-400 flex-shrink-0"})}),(0,b.jsx)("span",{className:"ml-3 truncate",children:"Analytics"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Machine Health"}),(0,b.jsxs)("div",{className:"space-y-3",children:[_.lastActivity&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)(p.Activity,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Last Activity"}),(0,b.jsx)("p",{className:"text-sm text-gray-900 dark:text-gray-100 break-words",children:new Date(_.lastActivity).toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(S=new Date(_.lastActivity),U=Math.round((T=new Date().getTime()-S.getTime())/6e4),V=Math.round(T/36e5),W=Math.round(T/864e5),U<60?`${U} minutes ago`:V<24?`${V} hours ago`:`${W} days ago`)})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)("div",{className:`w-4 h-4 rounded-full flex-shrink-0 mt-0.5 ${"active"===_.status?"bg-green-500 animate-pulse":"maintenance"===_.status?"bg-yellow-500":"bg-gray-400"}`}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Status"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 capitalize",children:_.status}),"active"===_.status&&(0,b.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Machine is operational"}),"maintenance"===_.status&&(0,b.jsx)("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:"Under maintenance"})]})]})]})]})]})})]}),"correction"===aj&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Machine Correction Data"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure correction values for all three channels"})]}),(0,b.jsxs)("form",{onSubmit:bD,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-2 border-emerald-200 dark:border-emerald-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg",children:(0,b.jsx)(C.Zap,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),(0,b.jsx)("h4",{className:"text-base sm:text-lg font-bold text-emerald-900 dark:text-emerald-100",children:"Channel 1"}),(0,b.jsx)("span",{className:"ml-auto px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 text-xs font-semibold rounded-full",children:"Primary"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(M.FormInput,{label:"Fat (%)",type:"number",value:aP.channel1_fat,onChange:a=>bB("channel1_fat",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"SNF (%)",type:"number",value:aP.channel1_snf,onChange:a=>bB("channel1_snf",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"CLR",type:"number",value:aP.channel1_clr,onChange:a=>bB("channel1_clr",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Temp (Â°C)",type:"number",value:aP.channel1_temp,onChange:a=>bB("channel1_temp",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Water (%)",type:"number",value:aP.channel1_water,onChange:a=>bB("channel1_water",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Protein (%)",type:"number",value:aP.channel1_protein,onChange:a=>bB("channel1_protein",a),placeholder:"0.00",step:"0.01"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-2 border-emerald-200 dark:border-emerald-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg",children:(0,b.jsx)(C.Zap,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),(0,b.jsx)("h4",{className:"text-base sm:text-lg font-bold text-emerald-900 dark:text-emerald-100",children:"Channel 2"}),(0,b.jsx)("span",{className:"ml-auto px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 text-xs font-semibold rounded-full",children:"Secondary"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(M.FormInput,{label:"Fat (%)",type:"number",value:aP.channel2_fat,onChange:a=>bB("channel2_fat",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"SNF (%)",type:"number",value:aP.channel2_snf,onChange:a=>bB("channel2_snf",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"CLR",type:"number",value:aP.channel2_clr,onChange:a=>bB("channel2_clr",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Temp (Â°C)",type:"number",value:aP.channel2_temp,onChange:a=>bB("channel2_temp",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Water (%)",type:"number",value:aP.channel2_water,onChange:a=>bB("channel2_water",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Protein (%)",type:"number",value:aP.channel2_protein,onChange:a=>bB("channel2_protein",a),placeholder:"0.00",step:"0.01"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl p-4 sm:p-6 transition-all duration-200 hover:shadow-md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg",children:(0,b.jsx)(C.Zap,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsx)("h4",{className:"text-base sm:text-lg font-bold text-green-900 dark:text-green-100",children:"Channel 3"}),(0,b.jsx)("span",{className:"ml-auto px-3 py-1 bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 text-xs font-semibold rounded-full",children:"Tertiary"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(M.FormInput,{label:"Fat (%)",type:"number",value:aP.channel3_fat,onChange:a=>bB("channel3_fat",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"SNF (%)",type:"number",value:aP.channel3_snf,onChange:a=>bB("channel3_snf",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"CLR",type:"number",value:aP.channel3_clr,onChange:a=>bB("channel3_clr",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Temp (Â°C)",type:"number",value:aP.channel3_temp,onChange:a=>bB("channel3_temp",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Water (%)",type:"number",value:aP.channel3_water,onChange:a=>bB("channel3_water",a),placeholder:"0.00",step:"0.01"}),(0,b.jsx)(M.FormInput,{label:"Protein (%)",type:"number",value:aP.channel3_protein,onChange:a=>bB("channel3_protein",a),placeholder:"0.00",step:"0.01"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-end pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)(R.default,{type:"button",variant:"outline",size:"medium",isLoading:aV,onClick:bx,className:"min-h-[44px]",children:[(0,b.jsx)(E.Download,{className:"w-4 h-4 mr-2"}),"From Machine"]}),(0,b.jsxs)(R.default,{type:"button",variant:"outline",size:"medium",isLoading:!1,onClick:()=>aC(!0),disabled:0===aD.length,className:"min-h-[44px]",children:[(0,b.jsx)(x.Clock,{className:"w-4 h-4 mr-2"}),"History (",aD.length,")"]}),(0,b.jsxs)(R.default,{type:"button",variant:"outline",size:"medium",isLoading:!1,onClick:()=>aQ({channel1_fat:"",channel1_snf:"",channel1_clr:"",channel1_temp:"",channel1_water:"",channel1_protein:"",channel2_fat:"",channel2_snf:"",channel2_clr:"",channel2_temp:"",channel2_water:"",channel2_protein:"",channel3_fat:"",channel3_snf:"",channel3_clr:"",channel3_temp:"",channel3_water:"",channel3_protein:""}),className:"min-h-[44px]",children:[(0,b.jsx)(y.X,{className:"w-4 h-4 mr-2"}),"Clear All"]}),(0,b.jsxs)(R.default,{type:"submit",variant:"primary",size:"medium",isLoading:ar,loadingText:"Saving Corrections...",className:"min-h-[44px]",children:[(0,b.jsx)(w.CheckCircle,{className:"w-4 h-4 mr-2"}),"Save Correction Data"]})]})]}),aT&&aR&&Array.isArray(aR)&&_&&(0,b.jsxs)("div",{className:"mt-6 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/10 dark:to-teal-900/10 rounded-lg sm:rounded-xl border border-emerald-200 dark:border-emerald-800 p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-emerald-900 dark:text-emerald-100",children:"Daily Corrections from Machine"}),(0,b.jsxs)("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 mt-1",children:["Machine: ",_.machineId," (ID: ",_.id,") â€¢ Society: ",_.societyName," â€¢ ",aR.length," ",1===aR.length?"day":"days"," of data",aZ.length>0&&` â€¢ ${aZ.length} selected`]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{aZ.length===aR.length?a$([]):a$(aR.map(a=>a.id))},className:"px-3 py-1.5 text-xs font-medium text-emerald-700 dark:text-emerald-300 bg-emerald-100 dark:bg-emerald-900/30 hover:bg-emerald-200 dark:hover:bg-emerald-900/50 rounded-lg transition-colors",title:aZ.length===aR.length?"Deselect all":"Select all",children:aZ.length===aR.length?"Deselect All":"Select All"}),aZ.length>0&&(0,b.jsxs)("button",{onClick:()=>{aZ.length>0&&aY(!0)},className:"px-3 py-1.5 text-xs font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 rounded-lg transition-colors flex items-center gap-1",title:"Delete selected records",children:[(0,b.jsx)(r.Trash2,{className:"w-3.5 h-3.5"}),"Delete (",aZ.length,")"]}),(0,b.jsx)("button",{onClick:()=>aU(!1),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200",children:(0,b.jsx)(y.X,{className:"w-5 h-5"})})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:aR.map((a,c)=>(0,b.jsxs)("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-4 border transition-colors ${aZ.includes(a.id)?"border-emerald-500 dark:border-emerald-400 ring-2 ring-emerald-200 dark:ring-emerald-800":"border-emerald-200 dark:border-emerald-700"}`,children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:aZ.includes(a.id),onChange:()=>{var b;return b=a.id,void a$(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:"w-4 h-4 text-emerald-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-emerald-500 focus:ring-2 cursor-pointer"}),(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${0===c?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:0===c?"ðŸ”´ Today":a.date}),(0,b.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date(a.lastUpdated).toLocaleString()]})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-emerald-200 dark:border-emerald-700",children:[(0,b.jsx)("th",{className:"text-left py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100",children:"Parameter"}),(0,b.jsx)("th",{className:"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100",children:"Channel 1 (COW)"}),(0,b.jsx)("th",{className:"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100",children:"Channel 2 (BUF)"}),(0,b.jsx)("th",{className:"text-center py-2 px-3 font-semibold text-emerald-900 dark:text-emerald-100",children:"Channel 3 (MIX)"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-emerald-100 dark:divide-emerald-800",children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"Fat (%)"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel1.fat||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel2.fat||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel3.fat||"-"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"SNF (%)"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel1.snf||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel2.snf||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel3.snf||"-"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"CLR"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel1.clr||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel2.clr||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel3.clr||"-"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"Temp (Â°C)"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel1.temp||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel2.temp||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel3.temp||"-"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"Water (%)"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel1.water||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel2.water||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel3.water||"-"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"py-2 px-3 font-medium text-emerald-900 dark:text-emerald-100",children:"Protein (%)"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel1.protein||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel2.protein||"-"}),(0,b.jsx)("td",{className:"py-2 px-3 text-center text-emerald-800 dark:text-emerald-200",children:a.channel3.protein||"-"})]})]})]})})]},a.id))})]})]}),"statistics"===aj&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Machine Statistics"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Operational statistics and performance metrics",a3.length>0&&` â€¢ ${a3.length} selected`]})]}),aF.length>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:bz,className:"px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 rounded-lg transition-colors",title:a3.length===aF.length?"Deselect all":"Select all",children:a3.length===aF.length?"Deselect All":"Select All"}),(0,b.jsx)("button",{onClick:bs,disabled:aH,className:"px-3 py-1.5 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",title:"Refresh statistics",children:(0,b.jsx)(F.RefreshCw,{className:`w-3.5 h-3.5 ${aH?"animate-spin":""}`})}),a3.length>0&&(0,b.jsxs)("button",{onClick:()=>{a3.length>0&&a2(!0)},className:"px-3 py-1.5 text-xs font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 rounded-lg transition-colors flex items-center gap-1",title:"Delete selected records",children:[(0,b.jsx)(r.Trash2,{className:"w-3.5 h-3.5"}),"Delete (",a3.length,")"]})]})]}),aH?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(H.LoadingSpinner,{size:"large"})}):0===aF.length?(0,b.jsx)(J.EmptyState,{icon:(0,b.jsx)(D.PieChart,{className:"w-10 h-10"}),title:"No Statistics Available",message:"No statistical data has been recorded for this machine yet.",showAction:!1}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100 w-12",children:(0,b.jsx)("input",{type:"checkbox",checked:a3.length===aF.length&&aF.length>0,onChange:bz,className:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Date"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Time"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Total Tests"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Daily Clean"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Weekly Clean"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Skip Clean"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Gain"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-900 dark:text-gray-100",children:"Auto Channel"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:aF.map(a=>(0,b.jsxs)("tr",{className:`transition-colors ${a3.includes(a.id)?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[(0,b.jsx)("td",{className:"py-3 px-4 text-center",children:(0,b.jsx)("input",{type:"checkbox",checked:a3.includes(a.id),onChange:()=>{var b;return b=a.id,void a4(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),(0,b.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-gray-100",children:new Date(a.statistics_date).toLocaleDateString()}),(0,b.jsx)("td",{className:"py-3 px-4 text-gray-900 dark:text-gray-100",children:a.statistics_time}),(0,b.jsx)("td",{className:"py-3 px-4 text-center",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:a.total_test})}),(0,b.jsx)("td",{className:"py-3 px-4 text-center",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:a.daily_cleaning})}),(0,b.jsx)("td",{className:"py-3 px-4 text-center",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:a.weekly_cleaning})}),(0,b.jsx)("td",{className:"py-3 px-4 text-center",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300",children:a.cleaning_skip})}),(0,b.jsx)("td",{className:"py-3 px-4 text-center",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300",children:a.gain})}),(0,b.jsx)("td",{className:"py-3 px-4 text-center",children:(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${"ENABLE"===a.auto_channel?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:a.auto_channel})})]},a.id))})]})})]})]}),(0,b.jsx)("div",{className:"fixed bottom-6 right-6 z-[9999] w-full max-w-md px-4 sm:px-0",children:(0,b.jsx)(I.StatusMessage,{success:af,error:ad,onClose:af?()=>ag(""):ad?()=>ae(""):void 0})}),(0,b.jsx)(L.FormModal,{isOpen:al,onClose:bt,title:"Edit Machine",maxWidth:"lg",children:(0,b.jsxs)("form",{onSubmit:bu,className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)(P.FormGrid,{children:[(0,b.jsx)(M.FormInput,{label:"Machine ID",value:aN.machineId,onChange:a=>aO({...aN,machineId:a}),placeholder:"e.g., M2232, S3232",required:!0,error:aL.machineId,colSpan:2}),(0,b.jsx)(N.FormSelect,{label:"Machine Type",value:aN.machineType,onChange:a=>aO({...aN,machineType:a}),options:ax.map(a=>({value:a.machineType,label:a.machineType})),placeholder:"Select Machine Type",required:!0,disabled:az,error:aL.machineType}),(0,b.jsx)(N.FormSelect,{label:"Society",value:aN.societyId,onChange:a=>aO({...aN,societyId:a}),options:at.map(a=>({value:a.id,label:`${a.name} (${a.society_id})`})),placeholder:"Select Society",required:!0,disabled:av,error:aL.societyId}),(0,b.jsx)(M.FormInput,{label:"Location",value:aN.location,onChange:a=>aO({...aN,location:a}),placeholder:"Installation location"}),(0,b.jsx)(M.FormInput,{label:"Installation Date",type:"date",value:aN.installationDate,onChange:a=>aO({...aN,installationDate:a})}),(0,b.jsx)(M.FormInput,{label:"Operator Name",value:aN.operatorName,onChange:a=>aO({...aN,operatorName:a}),placeholder:"Machine operator name"}),(0,b.jsx)(M.FormInput,{label:"Contact Phone",type:"tel",value:aN.contactPhone,onChange:a=>{let b=(0,i.formatPhoneInput)(a);aO({...aN,contactPhone:b})},onBlur:()=>{let a=(0,i.validatePhoneOnBlur)(aN.contactPhone);if(a)aM(b=>({...b,contactPhone:a}));else{let{contactPhone:a,...b}=aL;aM(b)}},placeholder:"Operator contact number",error:aL.contactPhone}),(0,b.jsx)(N.FormSelect,{label:"Status",value:aN.status,onChange:a=>aO({...aN,status:a}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Under Maintenance"},{value:"suspended",label:"Suspended"}]}),(0,b.jsx)(M.FormInput,{label:"Notes",type:"text",value:aN.notes,onChange:a=>aO({...aN,notes:a}),placeholder:"Additional notes or comments...",colSpan:2})]}),(0,b.jsx)(Q.FormError,{error:ad}),(0,b.jsx)(O.FormActions,{onCancel:bt,submitText:"Update Machine",isLoading:ap,isSubmitDisabled:!aN.machineId||!aN.machineType||!aN.societyId})]})}),(0,b.jsx)(K.ConfirmDeleteModal,{isOpen:an,onClose:()=>ao(!1),onConfirm:bv,itemName:_?.machineId||"this machine",itemType:"Machine"}),(0,b.jsx)(f.AnimatePresence,{children:aB&&(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-[9999] p-4",onClick:()=>aC(!1),children:(0,b.jsxs)(e.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg",children:(0,b.jsx)(x.Clock,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Correction History"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Last ",aD.length," changes"]})]})]}),(0,b.jsx)("button",{onClick:()=>aC(!1),className:"p-2 hover:bg-green-100 dark:hover:bg-green-900/40 rounded-lg transition-colors",children:(0,b.jsx)(y.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),(0,b.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-80px)]",children:0===aD.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(x.Clock,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No history available"})]}):(0,b.jsx)("div",{className:"space-y-3",children:aD.map((a,c)=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*c},onClick:()=>{aQ({channel1_fat:a.channel1_fat?String(a.channel1_fat):"",channel1_snf:a.channel1_snf?String(a.channel1_snf):"",channel1_clr:a.channel1_clr?String(a.channel1_clr):"",channel1_temp:a.channel1_temp?String(a.channel1_temp):"",channel1_water:a.channel1_water?String(a.channel1_water):"",channel1_protein:a.channel1_protein?String(a.channel1_protein):"",channel2_fat:a.channel2_fat?String(a.channel2_fat):"",channel2_snf:a.channel2_snf?String(a.channel2_snf):"",channel2_clr:a.channel2_clr?String(a.channel2_clr):"",channel2_temp:a.channel2_temp?String(a.channel2_temp):"",channel2_water:a.channel2_water?String(a.channel2_water):"",channel2_protein:a.channel2_protein?String(a.channel2_protein):"",channel3_fat:a.channel3_fat?String(a.channel3_fat):"",channel3_snf:a.channel3_snf?String(a.channel3_snf):"",channel3_clr:a.channel3_clr?String(a.channel3_clr):"",channel3_temp:a.channel3_temp?String(a.channel3_temp):"",channel3_water:a.channel3_water?String(a.channel3_water):"",channel3_protein:a.channel3_protein?String(a.channel3_protein):""}),aC(!1),ag("History data loaded into form")},className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${1===a.status?"border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 shadow-md shadow-green-500/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 hover:border-green-300 dark:hover:border-green-700 hover:shadow-md"}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Calendar,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:new Date(a.created_at).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})})]}),1===a.status&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 text-xs font-semibold rounded-full",children:"Active"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Channel 1"}),(0,b.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Fat: ",String(a.channel1_fat||"0")," | SNF: ",String(a.channel1_snf||"0")]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Channel 2"}),(0,b.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Fat: ",String(a.channel2_fat||"0")," | SNF: ",String(a.channel2_snf||"0")]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Channel 3"}),(0,b.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Fat: ",String(a.channel3_fat||"0")," | SNF: ",String(a.channel3_snf||"0")]})]})]})]},a.id))})})]})})}),(0,b.jsx)(f.AnimatePresence,{children:a1&&(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!a5&&a2(!1),children:(0,b.jsxs)(e.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Delete Selected Statistics"}),(0,b.jsx)("button",{onClick:()=>!a5&&a2(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:a5,children:(0,b.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Are you sure you want to delete ",(0,b.jsx)("strong",{children:a3.length})," selected statistics ",1===a3.length?"record":"records","? This action cannot be undone."]})}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>a2(!1),disabled:a5,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsxs)(R.default,{onClick:bA,isLoading:a5,loadingText:"Deleting...",variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,b.jsx)(r.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})}),(0,b.jsx)(f.AnimatePresence,{children:bd&&(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!bn&&be(!1),children:(0,b.jsxs)(e.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Save Correction Data"}),(0,b.jsx)("button",{onClick:()=>!bn&&be(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:bn,children:(0,b.jsx)(y.X,{className:"w-5 h-5"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(z.Wrench,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"Master Machine Correction"}),(0,b.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["You are saving correction data for the master machine ",(0,b.jsx)("strong",{children:_?.machineId}),". You can optionally apply these corrections to other machines in this society."]})]})]})}),bl.length>0&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,b.jsx)("input",{type:"checkbox",id:"applyCorrectionsToOthers",checked:bf,onChange:a=>{bg(a.target.checked),a.target.checked||(bi(new Set),bk(!1))},disabled:bn,className:"mt-1 w-4 h-4 text-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 focus:ring-2"}),(0,b.jsxs)("label",{htmlFor:"applyCorrectionsToOthers",className:"flex-1 cursor-pointer",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Apply these corrections to other machines"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Select which machines in this society should receive these correction values"})]})]}),bf&&(0,b.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex-shrink-0",children:["Select Machines (",bh.size," selected)"]}),(0,b.jsx)("button",{onClick:()=>{bj?(bi(new Set),bk(!1)):(bi(new Set(bl.map(a=>a.id))),bk(!0))},disabled:bn,className:"text-xs text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium disabled:opacity-50 whitespace-nowrap px-3 py-1 bg-primary-50 dark:bg-primary-900/20 rounded-md hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors",children:bj?"Deselect All":"Select All"})]})}),(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto",children:bl.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[(0,b.jsx)("input",{type:"checkbox",id:`machine-correction-${a.id}`,checked:bh.has(a.id),onChange:()=>{var b;let c;return b=a.id,void((c=new Set(bh)).has(b)?(c.delete(b),bk(!1)):(c.add(b),c.size===bl.length&&bk(!0)),bi(c))},disabled:bn,className:"w-4 h-4 text-primary-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-primary-500 focus:ring-2"}),(0,b.jsx)("label",{htmlFor:`machine-correction-${a.id}`,className:"flex-1 cursor-pointer text-sm text-gray-900 dark:text-gray-100",children:a.machineId})]},a.id))})]})]}),0===bl.length&&(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center py-4",children:"No other machines found in this society"})]}),(0,b.jsx)("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6",children:(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>be(!1),disabled:bn,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsxs)(R.default,{onClick:bF,isLoading:bn,loadingText:"Saving...",variant:"primary",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",children:[(0,b.jsx)(z.Wrench,{className:"w-4 h-4 mr-2"}),"Save Correction Data"]})]})})]})})}),(0,b.jsx)(f.AnimatePresence,{children:a7&&(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!bb&&a8(!1),children:(0,b.jsxs)(e.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Set as Master Machine"}),(0,b.jsx)("button",{onClick:()=>!bb&&a8(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:bb,children:(0,b.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["This will set ",(0,b.jsx)("strong",{children:_?.machineId})," as the master machine for its society. The current master machine will be changed."]}),(0,b.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:"setForAll",checked:a9,onChange:a=>ba(a.target.checked),className:"mt-1 w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{htmlFor:"setForAll",className:"text-sm font-medium text-gray-900 dark:text-gray-100 cursor-pointer",children:"Set passwords for all machines in society"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Update all machines in this society with the master machine's current passwords (user and supervisor passwords)"})]})]})})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>a8(!1),disabled:bb,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsx)(R.default,{onClick:bG,isLoading:bb,loadingText:"Setting...",variant:"primary",className:"bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-white",children:"Set as Master"})]})]})})}),(0,b.jsx)(f.AnimatePresence,{children:aX&&(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!a_&&aY(!1),children:(0,b.jsxs)(e.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Delete Selected Corrections"}),(0,b.jsx)("button",{onClick:()=>!a_&&aY(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:a_,children:(0,b.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Are you sure you want to delete ",(0,b.jsx)("strong",{children:aZ.length})," selected correction ",1===aZ.length?"record":"records","? This action cannot be undone."]})}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>aY(!1),disabled:a_,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsxs)(R.default,{onClick:by,isLoading:a_,loadingText:"Deleting...",variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,b.jsx)(r.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})})]}):null}a.s(["default",()=>S],80268)}];

//# sourceMappingURL=src_app_admin_machine_%5Bid%5D_page_tsx_8d1d0d6d._.js.map