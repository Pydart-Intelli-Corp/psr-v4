{"version":3,"sources":["turbopack:///[project]/src/lib/validation/phoneValidation.ts","turbopack:///[project]/src/lib/validation/emailValidation.ts"],"sourcesContent":["/**\r\n * Mobile Number Validation Utilities\r\n * \r\n * Validates and formats Indian mobile numbers\r\n * Indian mobile numbers: 10 digits starting with 6-9\r\n */\r\n\r\nexport interface PhoneValidationResult {\r\n  isValid: boolean;\r\n  error?: string;\r\n  formatted?: string;\r\n}\r\n\r\n/**\r\n * Validates Indian mobile number\r\n * @param phone - Phone number to validate\r\n * @returns Validation result with error message if invalid\r\n */\r\nexport function validateIndianPhone(phone: string): PhoneValidationResult {\r\n  if (!phone || phone.trim() === '') {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number is required'\r\n    };\r\n  }\r\n\r\n  // Remove all non-digit characters\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n\r\n  // Check length\r\n  if (cleaned.length !== 10) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number must be exactly 10 digits'\r\n    };\r\n  }\r\n\r\n  // Check if starts with valid digit (6-9)\r\n  if (!/^[6-9]/.test(cleaned)) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Phone number must start with 6, 7, 8, or 9'\r\n    };\r\n  }\r\n\r\n  return {\r\n    isValid: true,\r\n    formatted: cleaned\r\n  };\r\n}\r\n\r\n/**\r\n * Formats phone number input - allows only digits and limits to 10\r\n * @param value - Input value\r\n * @returns Formatted phone number (digits only, max 10)\r\n */\r\nexport function formatPhoneInput(value: string): string {\r\n  // Remove all non-digit characters\r\n  const cleaned = value.replace(/\\D/g, '');\r\n  \r\n  // Limit to 10 digits\r\n  return cleaned.slice(0, 10);\r\n}\r\n\r\n/**\r\n * Checks if phone number is complete (10 digits)\r\n * @param phone - Phone number to check\r\n * @returns True if phone has 10 digits\r\n */\r\nexport function isPhoneComplete(phone: string): boolean {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return cleaned.length === 10;\r\n}\r\n\r\n/**\r\n * Display formatted phone number with spacing\r\n * @param phone - Phone number to format\r\n * @returns Formatted as: XXXXX XXXXX\r\n */\r\nexport function displayPhoneNumber(phone: string): string {\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  \r\n  if (cleaned.length <= 5) {\r\n    return cleaned;\r\n  }\r\n  \r\n  return `${cleaned.slice(0, 5)} ${cleaned.slice(5)}`;\r\n}\r\n\r\n/**\r\n * Validates phone on blur - provides detailed error\r\n * @param phone - Phone number to validate\r\n * @returns Error message or empty string if valid\r\n */\r\nexport function validatePhoneOnBlur(phone: string): string {\r\n  if (!phone || phone.trim() === '') {\r\n    return ''; // Don't show error for empty field (let required handle it)\r\n  }\r\n\r\n  const result = validateIndianPhone(phone);\r\n  return result.error || '';\r\n}\r\n","/**\r\n * Email validation utilities for farmer email fields\r\n */\r\n\r\nexport interface EmailValidationResult {\r\n  isValid: boolean;\r\n  error?: string;\r\n  formatted?: string;\r\n}\r\n\r\n/**\r\n * Validates an email address format\r\n * Returns validation result with isValid flag and optional error message\r\n */\r\nexport function validateEmail(email: string): EmailValidationResult {\r\n  // Empty email is valid (optional field)\r\n  if (!email || email.trim() === '') {\r\n    return { isValid: true, formatted: '' };\r\n  }\r\n\r\n  const trimmedEmail = email.trim();\r\n\r\n  // Basic email format validation\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  \r\n  if (!emailRegex.test(trimmedEmail)) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Please enter a valid email address (e.g., farmer@example.com)'\r\n    };\r\n  }\r\n\r\n  // Check email length\r\n  if (trimmedEmail.length > 255) {\r\n    return {\r\n      isValid: false,\r\n      error: 'Email address is too long (max 255 characters)'\r\n    };\r\n  }\r\n\r\n  // Valid email\r\n  return {\r\n    isValid: true,\r\n    formatted: trimmedEmail\r\n  };\r\n}\r\n\r\n/**\r\n * Validates email on blur event for form fields\r\n * Returns error message string (empty if valid)\r\n */\r\nexport function validateEmailOnBlur(email: string): string {\r\n  const result = validateEmail(email);\r\n  return result.error || '';\r\n}\r\n\r\n/**\r\n * Formats email input by trimming whitespace\r\n * Use this on input change to clean the value\r\n */\r\nexport function formatEmailInput(value: string): string {\r\n  // Remove leading/trailing spaces and convert to lowercase for consistency\r\n  return value.trim().toLowerCase();\r\n}\r\n\r\n/**\r\n * Checks if email is required and validates accordingly\r\n * Use this when email is a required field\r\n */\r\nexport function validateRequiredEmail(email: string): EmailValidationResult {\r\n  if (!email || email.trim() === '') {\r\n    return {\r\n      isValid: false,\r\n      error: 'Email address is required'\r\n    };\r\n  }\r\n\r\n  return validateEmail(email);\r\n}\r\n"],"names":[],"mappings":"wCAkBO,SAAS,EAAoB,CAAa,EAC/C,GAAI,CAAC,GAA0B,IAAI,CAArB,EAAM,IAAI,GACtB,MAAO,CACL,SAAS,EACT,MAAO,0BACT,EAIF,IAAM,EAAU,EAAM,OAAO,CAAC,MAAO,WAGrC,AAAI,AAAmB,IAAI,GAAf,MAAM,CACT,CACL,SAAS,EACT,MAAO,wCACT,EAIG,SAAS,IAAI,CAAC,GAOZ,CACL,MAR2B,EAQlB,GACT,UAAW,CACb,EATS,CACL,SAAS,EACT,MAAO,4CACT,CAOJ,CAOO,SAAS,EAAiB,CAAa,EAK5C,OAHgB,AAGT,EAHe,OAAO,CAAC,MAAO,IAGtB,KAAK,CAAC,EAAG,GAC1B,CAgCO,SAAS,EAAoB,CAAa,SAC/C,AAAK,GAA0B,CAA3B,GAA+B,CAArB,EAAM,IAAI,IAIT,AACR,EAD4B,GACrB,KAAK,EAAI,EACzB,uMClDO,SAAS,EAAoB,CAAa,EAE/C,OAvCK,AAsCU,AACR,SAvCO,AAAc,CAAa,EAEzC,GAAI,CAAC,GAA0B,IAAI,CAArB,EAAM,IAAI,GACtB,MAAO,CAAE,QAAS,GAAM,UAAW,EAAG,EAGxC,IAAM,EAAe,EAAM,IAAI,SAGZ,AAEnB,AAAK,IAAD,yBAAY,IAAI,CAAC,GAQjB,EAAa,MAAM,CAAG,GARU,CAS3B,CADsB,AAE3B,QAAS,GACT,MAAO,gDACT,EAIK,CACL,SAAS,EACT,UAAW,CACb,EAlBS,CACL,SAAS,EACT,MAAO,+DACT,CAgBJ,EAO+B,GACf,KAAK,EAAI,EACzB,CAMO,SAAS,EAAiB,CAAa,EAE5C,OAAO,EAAM,IAAI,GAAG,WAAW,EACjC"}