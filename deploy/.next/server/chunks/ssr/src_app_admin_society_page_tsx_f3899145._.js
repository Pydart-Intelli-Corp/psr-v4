module.exports=[56512,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(346158),e=a.i(835466),f=a.i(50944),g=a.i(835475),h=a.i(550194),i=a.i(457431),j=a.i(677924),k=a.i(758042),l=a.i(994222),m=a.i(54419),n=a.i(659854),o=a.i(48662),p=a.i(660246),q=a.i(468976),r=a.i(124987),s=a.i(963519),t=a.i(546842),u=a.i(941675),v=a.i(267900),w=a.i(177156),x=a.i(141379),y=a.i(781560),z=a.i(724669),A=a.i(93518),B=a.i(923821),C=a.i(915618),D=a.i(839761),E=a.i(633508);a.i(16707);var F=a.i(529784),G=a.i(883733),H=a.i(981189),I=a.i(651963),J=a.i(851068),K=a.i(796182),L=a.i(110724),M=a.i(199313),N=a.i(195279),O=a.i(333436),P=a.i(668610),Q=a.i(960020),R=a.i(688902),S=a.i(603430),T=a.i(202082),U=a.i(559314),V=a.i(913795),W=a.i(731524);let X={name:"",societyId:"",password:"",location:"",presidentName:"",contactPhone:"",email:"",bmcId:"",status:"active"},Y=(a,c)=>{if(!a&&0!==a)return a||"";if(!c)return a;let d=a.toString(),e=RegExp(`(${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return d.split(e).map((a,c)=>e.test(a)?(0,b.jsx)("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-0.5 rounded",children:a},c):a)};function Z(){let a,Z,$,_,aa,ab,ac,ad,ae,af,ag=(0,f.useRouter)(),ah=(0,f.useSearchParams)(),{user:ai}=(0,g.useUser)(),{t:aj}=(0,h.useLanguage)(),[ak,al]=(0,c.useState)([]),[am,an]=(0,c.useState)([]),[ao,ap]=(0,c.useState)([]),[aq,ar]=(0,c.useState)(!0),[as,at]=(0,c.useState)(!1),[au,av]=(0,c.useState)(!1),[aw,ax]=(0,c.useState)(!1),[ay,az]=(0,c.useState)(!1),[aA,aB]=(0,c.useState)(null),[aC,aD]=(0,c.useState)(!1),[aE,aF]=(0,c.useState)(X),[aG,aH]=(0,c.useState)(!1),[aI,aJ]=(0,c.useState)(""),[aK,aL]=(0,c.useState)("all"),[aM,aN]=(0,c.useState)([]),[aO,aP]=(0,c.useState)([]),[aQ,aR]=(0,c.useState)(""),[aS,aT]=(0,c.useState)(""),[aU,aV]=(0,c.useState)({}),[aW,aX]=(0,c.useState)(null),[aY,aZ]=(0,c.useState)(new Set),[a$,a_]=(0,c.useState)("active"),[a0,a1]=(0,c.useState)(!1),[a2,a3]=(0,c.useState)(!1),[a4,a5]=(0,c.useState)("quantity"),[a6,a7]=(0,c.useState)(!1),[a8,a9]=(0,c.useState)(!1),[ba,bb]=(0,c.useState)(""),[bc,bd]=(0,c.useState)(!1),[be,bf]=(0,c.useState)(null),bg=(0,c.useCallback)(async()=>{try{ar(!0);let a=localStorage.getItem("authToken");if(!a)return void ag.push("/login");let b=await fetch("/api/user/society",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!b.ok){if(401===b.status||403===b.status){localStorage.removeItem("authToken"),ag.push("/login");return}throw Error("Failed to fetch societies")}let c=((await b.json()).data||[]).map(a=>({id:a.id,name:a.name,societyId:a.society_id,location:a.location,presidentName:a.president_name,contactPhone:a.contact_phone,email:a.email||"",bmcId:a.bmc_id,bmcName:a.bmc_name,status:a.status,createdAt:a.created_at,updatedAt:a.updated_at,totalCollections30d:Number(a.total_collections_30d)||0,totalQuantity30d:Number(a.total_quantity_30d)||0,totalAmount30d:Number(a.total_amount_30d)||0,weightedFat30d:Number(a.weighted_fat_30d)||0,weightedSnf30d:Number(a.weighted_snf_30d)||0,weightedClr30d:Number(a.weighted_clr_30d)||0,weightedWater30d:Number(a.weighted_water_30d)||0}));al(c)}catch(a){console.error("Error fetching societies:",a),aR("Failed to load society data")}finally{ar(!1)}},[ag]),bh=(0,c.useCallback)(async()=>{try{let a=localStorage.getItem("authToken");if(!a)return;let b=await fetch("/api/user/dairy",{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();ap(a.data||[])}}catch(a){console.error("Error fetching dairies:",a)}},[]),bi=(0,c.useCallback)(async()=>{try{at(!0);let a=localStorage.getItem("authToken");if(!a)return;let b=await fetch("/api/user/bmc",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(b.ok){let a=await b.json();an(a.data||[])}}catch(a){console.error("Error fetching BMCs:",a)}finally{at(!1)}},[]),bj=(0,c.useCallback)(async()=>{try{let a=localStorage.getItem("authToken");if(!a)return;let b=await fetch("/api/user/pulse",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json","x-user-id":ai?.id?.toString()||""}});if(b.ok){let a=await b.json();bf(a.data||null)}}catch(a){console.error("Error fetching pulse data:",a)}},[ai?.id]);(0,c.useEffect)(()=>{let a=a=>{null!==aW&&(a.target.closest(".relative")||aX(null))};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[aW]);let bk=async a=>{if(0===aY.size)return;let b=a||a$;try{ar(!0);let a=localStorage.getItem("authToken"),c=Array.from(aY);console.log(`ðŸ”„ Bulk updating ${c.length} societies to status: ${b}`);let d=c.map(c=>{let d=ak.find(a=>a.id===c);return d?fetch("/api/user/society",{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({id:d.id,name:d.name,societyId:d.societyId,location:d.location||"",presidentName:d.presidentName||"",contactPhone:d.contactPhone||"",bmcId:d.bmcId,status:b})}):Promise.resolve()});await Promise.all(d),console.log(`âœ… Successfully updated ${c.length} societies to ${b}`),aT(`Updated ${c.length} ${1===c.length?"society":"societies"} to ${b}!`),await bg(),aZ(new Set),setTimeout(()=>aT(""),3e3)}catch(a){console.error("Bulk update error:",a),aR("Failed to update societies"),setTimeout(()=>aR(""),5e3)}finally{ar(!1)}},bl=async a=>{a1(!1),a7(!0);try{let b=localStorage.getItem("authToken"),c=Array.from(aY);console.log(`ðŸ—‘ï¸ Bulk deleting ${c.length} societies with password verification:`,c);let d=c.map(c=>fetch("/api/user/society/delete",{method:"DELETE",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({id:c,password:a})}).then(async a=>{if(!a.ok){let b=await a.json();throw Error(b.error||"Delete failed")}return a.json()})),e=await Promise.allSettled(d),f=e.filter(a=>"fulfilled"===a.status).length,g=e.filter(a=>"rejected"===a.status).length;f>0?(console.log(`âœ… Successfully deleted ${f} societies`),aT(`Successfully deleted ${f} ${1===f?"society":"societies"}${g>0?`. ${g} failed.`:""}`),await bg(),aZ(new Set),setTimeout(()=>aT(""),5e3)):(console.error(`âŒ Failed to delete all ${c.length} societies`),aR("Failed to delete societies. Please check your password and try again."),setTimeout(()=>aR(""),5e3))}catch(a){console.error("Bulk delete error:",a),aR(a instanceof Error?a.message:"Failed to delete societies"),setTimeout(()=>aR(""),5e3)}finally{a7(!1)}},bm=async a=>{if(a.preventDefault(),aH(!0),aR(""),!aE.bmcId){aR("Please select a BMC"),aH(!1);return}try{let a=localStorage.getItem("authToken"),b=await fetch("/api/user/society",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({...aE,bmcId:parseInt(aE.bmcId)})});if(b.ok)aT("Society added successfully!"),av(!1),aF(X),await bg(),setTimeout(()=>aT(""),3e3);else{let a=(await b.json()).error||"Failed to add society";aV({}),a.toLowerCase().includes("society id")&&a.toLowerCase().includes("already exists")?aV({societyId:"This Society ID already exists"}):a.toLowerCase().includes("society name")&&a.toLowerCase().includes("already exists")?aV({name:"This Society name already exists"}):aR(a)}}catch(a){console.error("Error adding society:",a),aR("Failed to add society")}finally{aH(!1)}},bn=async a=>{if(a.preventDefault(),aA){if(aH(!0),aR(""),!aE.bmcId){aR("Please select a BMC"),aH(!1);return}try{let a=localStorage.getItem("authToken"),b={id:aA.id,name:aE.name,location:aE.location,presidentName:aE.presidentName,contactPhone:aE.contactPhone,email:aE.email,bmcId:parseInt(aE.bmcId),status:aE.status};aE.password&&aE.password!==ba&&(b.password=aE.password);let c=await fetch("/api/user/society",{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(b)});if(c.ok)aT("Society updated successfully!"),ax(!1),aB(null),aF(X),await bg(),setTimeout(()=>aT(""),3e3);else{let a=(await c.json()).error||"Failed to update society";aV({}),a.toLowerCase().includes("society id")&&a.toLowerCase().includes("already exists")?aV({societyId:"This Society ID already exists"}):a.toLowerCase().includes("society name")&&a.toLowerCase().includes("already exists")?aV({name:"This Society name already exists"}):aR(a)}}catch(a){console.error("Error updating society:",a),aR("Failed to update society")}finally{aH(!1)}}},bo=async a=>{if(aA){aD(!0);try{let b=localStorage.getItem("authToken"),c=await fetch(`/api/user/society/delete?id=${aA.id}&otp=${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}}),d=await c.json();if(!c.ok)throw Error(d.error||"Failed to delete society");aT("Society and all related data deleted successfully!"),az(!1),aB(null),await bg(),setTimeout(()=>aT(""),3e3)}catch(a){console.error("Error deleting society:",a),aR(a instanceof Error?a.message:"Failed to delete society"),setTimeout(()=>aR(""),5e3)}finally{aD(!1)}}},bp=(a,b)=>{"societyId"===a&&au&&!b.startsWith("S-")&&b.length>0&&(b=`S-${b.replace(/^S-/,"")}`),aF(c=>({...c,[a]:b})),aU[a]&&aV(b=>({...b,[a]:void 0}))},bq=async a=>{aB(a),aV({}),aR(""),a9(!1),bi();try{let b=localStorage.getItem("authToken"),c=await fetch(`/api/user/society/password?id=${a.id}`,{headers:{Authorization:`Bearer ${b}`}});if(console.log("Password fetch response status:",c.status),c.ok){let b=await c.json();console.log("Password fetch result:",b);let d=b.data?.password||b.password||"";console.log("Fetched password:",d),bb(d),aF({name:a.name,societyId:a.societyId,password:d,location:a.location||"",presidentName:a.presidentName||"",contactPhone:a.contactPhone||"",email:a.email||"",bmcId:a.bmcId?.toString()||"",status:a.status})}else{let b=await c.json();console.error("Password fetch failed:",b),bb(""),aF({name:a.name,societyId:a.societyId,password:"",location:a.location||"",presidentName:a.presidentName||"",contactPhone:a.contactPhone||"",email:a.email||"",bmcId:a.bmcId?.toString()||"",status:a.status})}}catch(b){console.error("Error fetching password:",b),bb(""),aF({name:a.name,societyId:a.societyId,password:"",location:a.location||"",presidentName:a.presidentName||"",contactPhone:a.contactPhone||"",email:a.email||"",bmcId:a.bmcId?.toString()||"",status:a.status})}ax(!0)},br=async(a,b)=>{console.log("Status change triggered:",{societyId:a.id,currentStatus:a.status,newStatus:b});try{ar(!0);let c=localStorage.getItem("authToken"),d={id:a.id,name:a.name,societyId:a.societyId,location:a.location||"",presidentName:a.presidentName||"",contactPhone:a.contactPhone||"",bmcId:a.bmcId,status:b};console.log("Sending update request:",d);let e=await fetch("/api/user/society",{method:"PUT",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify(d)}),f=await e.json();if(console.log("API response:",{status:e.status,data:f}),e.ok)aT(`Status updated to ${b}!`),await bg(),setTimeout(()=>aT(""),3e3);else{let a=f.error||"Failed to update status";console.error("Update failed:",a),aR(a),setTimeout(()=>aR(""),5e3)}}catch(a){console.error("Error updating status:",a),aR("Failed to update status"),setTimeout(()=>aR(""),5e3)}finally{ar(!1)}},bs=ak.filter(a=>{let b=""===aI||a.name.toLowerCase().includes(aI.toLowerCase())||a.societyId.toLowerCase().includes(aI.toLowerCase())||a.presidentName?.toLowerCase().includes(aI.toLowerCase())||a.location?.toLowerCase().includes(aI.toLowerCase())||a.contactPhone?.toLowerCase().includes(aI.toLowerCase())||a.bmcName?.toLowerCase().includes(aI.toLowerCase()),c="all"===aK||a.status===aK,d=am.find(b=>b.id===a.bmcId),e=0===aO.length||aO.includes(d?.id.toString()||""),f=0===aM.length||!!d?.dairyFarmId&&aM.includes(d.dairyFarmId.toString());return b&&c&&e&&f});return((0,c.useEffect)(()=>{bg(),bh(),bi(),bj();let a=ah.get("bmcFilter");a&&aP([a]);let b=ah.get("dairyFilter");b&&aN([b]);let c=setInterval(()=>{bj()},3e4);return()=>clearInterval(c)},[bg,bh,bi,bj,ah]),(0,c.useEffect)(()=>{let a=a=>{aJ(a.detail?.query||"")};return window.addEventListener("globalSearch",a),()=>window.removeEventListener("globalSearch",a)},[]),ai)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6 lg:pb-8",children:[(0,b.jsx)(M.PageHeader,{title:"Society Management",subtitle:"Manage societies and their operations",icon:(0,b.jsx)(p.Users,{className:"w-5 h-5 sm:w-6 sm:h-6"}),onRefresh:bg}),(0,b.jsx)(N.StatusMessage,{success:aS,error:aQ}),ak.length>0&&(Z=[...a=ak.filter(a=>a.totalQuantity30d&&a.totalQuantity30d>0)].sort((a,b)=>(b.totalQuantity30d||0)-(a.totalQuantity30d||0))[0],$=[...a].sort((a,b)=>(b.totalAmount30d||0)-(a.totalAmount30d||0))[0],_=[...a].sort((a,b)=>(b.weightedFat30d||0)-(a.weightedFat30d||0))[0],aa=[...a].sort((a,b)=>(b.weightedSnf30d||0)-(a.weightedSnf30d||0))[0],ab=[...a].sort((a,b)=>(b.totalCollections30d||0)-(a.totalCollections30d||0))[0],ac=[...a].sort((a,b)=>(b.weightedWater30d||0)-(a.weightedWater30d||0))[0],(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4",children:[Z&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-4 rounded-lg border border-green-200 dark:border-green-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{a5("quantity"),a3(!0)},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:"Top Collection (30d)"}),(0,b.jsx)(p.Users,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-green-800 dark:text-green-200",children:Z.name}),(0,b.jsxs)("p",{className:"text-sm text-green-600 dark:text-green-400",children:[Z.totalQuantity30d?.toFixed(2)," L"]})]}),$&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{a5("revenue"),a3(!0)},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:"Top Revenue (30d)"}),(0,b.jsx)(v.Building2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-blue-800 dark:text-blue-200",children:$.name}),(0,b.jsxs)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["â‚¹",$.totalAmount30d?.toFixed(2)]})]}),_&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-4 rounded-lg border border-purple-200 dark:border-purple-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{a5("fat"),a3(!0)},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:"Best Quality (30d)"}),(0,b.jsx)(w.Eye,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-purple-800 dark:text-purple-200",children:_.name}),(0,b.jsxs)("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:[_.weightedFat30d?.toFixed(2),"% Fat"]})]}),aa&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 p-4 rounded-lg border border-orange-200 dark:border-orange-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{a5("snf"),a3(!0)},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:"Best SNF (30d)"}),(0,b.jsx)(z.TrendingUp,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-orange-800 dark:text-orange-200",children:aa.name}),(0,b.jsxs)("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:[aa.weightedSnf30d?.toFixed(2),"% SNF"]})]}),ab&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 p-4 rounded-lg border border-pink-200 dark:border-pink-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{a5("collections"),a3(!0)},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-pink-900 dark:text-pink-100",children:"Most Active (30d)"}),(0,b.jsx)(A.Award,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-pink-800 dark:text-pink-200",children:ab.name}),(0,b.jsxs)("p",{className:"text-sm text-pink-600 dark:text-pink-400",children:[ab.totalCollections30d," Collections"]})]}),ac&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-4 rounded-lg border border-red-200 dark:border-red-700 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{a5("water"),a3(!0)},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-red-900 dark:text-red-100",children:"Most Water (30d)"}),(0,b.jsx)(B.Droplets,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),(0,b.jsx)("p",{className:"text-lg font-bold text-red-800 dark:text-red-200",children:ac.name}),(0,b.jsxs)("p",{className:"text-sm text-red-600 dark:text-red-400",children:[ac.weightedWater30d?.toFixed(2),"% Water"]})]})]})),(0,b.jsx)(P.FilterDropdown,{statusFilter:aK,onStatusChange:a=>aL(a),dairyFilter:aM,onDairyChange:a=>aN(Array.isArray(a)?a:[a]),bmcFilter:aO,onBmcChange:a=>aP(Array.isArray(a)?a:[a]),societyFilter:[],onSocietyChange:()=>{},machineFilter:[],onMachineChange:()=>{},dairies:ao,bmcs:am,societies:ak.map(a=>({...a,bmc_id:a.bmcId,society_id:a.societyId})),machines:[],filteredCount:bs.length,totalCount:ak.length,searchQuery:aI,hideMainFilterButton:!0,hideSocietyFilter:!0}),(0,b.jsx)(O.FilterControls,{icon:(0,b.jsx)(p.Users,{className:"w-4 h-4"}),showingText:`Showing ${bs.length} of ${ak.length} societies`,filterValue:aK,filterOptions:[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"},{value:"suspended",label:"Suspended"}],onFilterChange:a=>aL(a)}),aq?(0,b.jsx)(G.LoadingSpinner,{}):bs.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:bs.map(a=>{let c,d,e,f,g,h,i;return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-lg transition-all duration-200 overflow-visible border border-gray-200 dark:border-gray-700 hover:border-green-200 dark:hover:border-green-700 relative z-10 hover:z-20",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 border-b border-gray-200 dark:border-gray-700 rounded-t-lg",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,b.jsx)("input",{type:"checkbox",checked:aY.has(a.id),onChange:()=>{var b;return b=a.id,void aZ(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},onClick:a=>a.stopPropagation(),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 flex-shrink-0"}),(0,b.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg flex-shrink-0",children:(0,b.jsx)(v.Building2,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:Y(a.name,aI)}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Y(a.societyId,aI)})]})]}),(0,b.jsx)(R.StatusDropdown,{currentStatus:a.status,onStatusChange:b=>br(a,b),options:[{status:"active",label:"Active",color:"bg-green-500",bgColor:"hover:bg-green-50 dark:hover:bg-green-900/30"},{status:"inactive",label:"Inactive",color:"bg-red-500",bgColor:"hover:bg-red-50 dark:hover:bg-red-900/30"},{status:"maintenance",label:"Maintenance",color:"bg-yellow-500",bgColor:"hover:bg-yellow-50 dark:hover:bg-yellow-900/30"},{status:"suspended",label:"Suspended",color:"bg-orange-500",bgColor:"hover:bg-orange-50 dark:hover:bg-orange-900/30"}],compact:!0})]})}),(0,b.jsxs)("div",{className:"p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.User,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:Y(a.presidentName||"No President",aI)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.Phone,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:Y(a.contactPhone||"No Phone",aI)})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.MapPin,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:Y(a.location||"No Location",aI)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Building2,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium truncate",children:Y(a.bmcName||"No BMC",aI)})]})]}),(0,b.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Last 30 Days"}),(0,b.jsx)(u.Calendar,{className:"w-4 h-4 text-gray-400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Collections"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:a.totalCollections30d||0}),(0,b.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(a.totalQuantity30d||0).toFixed(2)," Liters"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,b.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-2 text-center",children:[(0,b.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Fat"}),(0,b.jsxs)("div",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400",children:[(a.weightedFat30d||0).toFixed(2),"%"]})]}),(0,b.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-2 text-center",children:[(0,b.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"SNF"}),(0,b.jsxs)("div",{className:"text-sm font-bold text-purple-600 dark:text-purple-400",children:[(a.weightedSnf30d||0).toFixed(2),"%"]})]}),(0,b.jsxs)("div",{className:"bg-pink-50 dark:bg-pink-900/20 rounded-lg p-2 text-center",children:[(0,b.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"CLR"}),(0,b.jsx)("div",{className:"text-sm font-bold text-pink-600 dark:text-pink-400",children:(a.weightedClr30d||0).toFixed(1)})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Revenue"})]}),(0,b.jsxs)("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["â‚¹",(a.totalAmount30d||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between gap-2 rounded-b-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>bq(a),className:"p-2 text-gray-400 dark:text-gray-500 hover:text-green-600 dark:hover:text-green-400 transition-colors rounded-lg hover:bg-green-50 dark:hover:bg-green-900/30",title:"Edit",children:(0,b.jsx)(q.Edit3,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{aB(a),window.selectedSocietyId=a.id,az(!0)},className:"p-2 text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30",title:"Delete",children:(0,b.jsx)(y.Trash2,{className:"w-4 h-4"})}),(c=be?.pulses?.find(b=>b.societyId===a.id),d=c?.pulseStatus==="active",e=c?.pulseStatus==="paused",f=c?.pulseStatus==="ended",g=c?.pulseStatus==="inactive",h=()=>d?"text-green-500":e?"text-orange-500":f?"text-red-500":g?"text-gray-400":"text-gray-300",i=()=>d?"Active":e?"Paused":f?"Ended":g?`${c.inactiveDays}d`:"No Pulse",(0,b.jsxs)("div",{className:"flex items-center gap-1.5 ml-2 pl-2 border-l border-gray-200 dark:border-gray-700",title:(()=>{if(!c)return"No Pulse";let a=(a,b=!1)=>{if(!a)return"N/A";let c=a.toString(),d=c.match(/(\d{4})-(\d{2})-(\d{2})/),e=c.match(/(\d{2}):(\d{2}):(\d{2})/);if(d&&e){let a=parseInt(e[1]),c=parseInt(e[2]),f=e[3];b&&(a+=5,(c+=30)>=60&&(a+=1,c-=60),a>=24&&(a-=24));let g=a.toString().padStart(2,"0"),h=c.toString().padStart(2,"0");return`${d[1]}-${d[2]}-${d[3]} ${g}:${h}:${f}`}return"N/A"},b=a(c.createdAt),d=a(c.lastCollectionTime,!0),e=a(c.sectionEndTime);return"active"===c.pulseStatus?`Section Start: ${b}`:"paused"===c.pulseStatus?`Start: ${b}
Paused: ${d}`:"ended"===c.pulseStatus?`Start: ${b}
End: ${e}`:c.createdAt?`Section Start: ${b}`:c.statusMessage||i()})(),children:[(0,b.jsx)("svg",{className:`w-6 h-4 ${h()}`,viewBox:"0 0 24 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d?(0,b.jsx)("path",{d:"M0 8 L5 8 L6 3 L7 13 L8 8 L10 8 L11 5 L12 11 L13 8 L24 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-pulse"}):(0,b.jsx)("path",{d:"M0 8 L24 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})}),(0,b.jsx)("span",{className:`text-xs ${h()}`,children:i()})]}))]}),(0,b.jsxs)("button",{onClick:()=>ag.push(`/admin/society/${a.id}`),className:"flex items-center px-3 py-1.5 text-sm text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",children:[(0,b.jsx)(w.Eye,{className:"w-4 h-4 mr-1"}),(0,b.jsx)("span",{children:"View"})]})]})]},a.id)})}):(0,b.jsx)(Q.EmptyState,{icon:(0,b.jsx)(p.Users,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400"}),title:0===ak.length?"No societies found":"No matching societies",message:0===ak.length?"Get started by adding your first society to the system.":"Try changing your search or filter criteria.",actionText:0===ak.length?"Add First Society":void 0,onAction:0===ak.length?()=>{aV({}),aR(""),av(!0),bi()}:void 0,showAction:0===ak.length})]}),(0,b.jsx)(T.default,{selectedCount:aY.size,totalCount:bs.length,onBulkDelete:()=>{0!==aY.size&&a1(!0)},onBulkStatusUpdate:bk,onSelectAll:()=>{aZ(new Set(bs.map(a=>a.id)))},onClearSelection:()=>{aZ(new Set)},itemType:"society",showStatusUpdate:!0,currentBulkStatus:a$,onBulkStatusChange:a=>a_(a)}),(0,b.jsx)(U.default,{actions:[{icon:(0,b.jsx)(C.Plus,{className:"w-6 h-6 text-white"}),label:"Add Society",onClick:()=>{aV({}),aR(""),av(!0),bi()},color:"bg-gradient-to-br from-blue-500 to-blue-600"}],directClick:!0}),(0,b.jsx)(H.FormModal,{isOpen:au,onClose:()=>av(!1),title:"Add New Society",maxWidth:"lg",children:(0,b.jsxs)("form",{onSubmit:bm,className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)(L.FormGrid,{children:[(0,b.jsx)(I.FormInput,{label:"Society Name",value:aE.name,onChange:a=>bp("name",a),placeholder:"Enter society name",required:!0,error:aU.name,colSpan:1}),(0,b.jsx)(I.FormInput,{label:"Society ID",value:aE.societyId,onChange:a=>bp("societyId",a),placeholder:"S-001",required:!0,error:aU.societyId,colSpan:1}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Password ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:bc?"text":"password",value:aE.password,onChange:a=>bp("password",a.target.value),placeholder:"Enter password",required:!0,className:"form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none"}),(0,b.jsx)("button",{type:"button",onClick:()=>bd(!bc),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:bc?"Hide password":"Show password",children:bc?(0,b.jsx)(x.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(w.Eye,{className:"w-5 h-5"})})]})]}),(0,b.jsx)(J.FormSelect,{label:"Associated BMC",value:aE.bmcId,onChange:a=>bp("bmcId",a),options:am.map(a=>({value:a.id,label:`${a.name} (${a.bmcId})`})),placeholder:"Select BMC",required:!0,disabled:as,colSpan:1}),(0,b.jsx)(I.FormInput,{label:"President Name",value:aE.presidentName,onChange:a=>bp("presidentName",a),placeholder:"Enter president name",colSpan:1}),(0,b.jsx)(I.FormInput,{label:"Location",value:aE.location,onChange:a=>bp("location",a),placeholder:"Enter location",colSpan:1}),(0,b.jsx)(I.FormInput,{label:"Contact Phone",type:"tel",value:aE.contactPhone,onChange:a=>{bp("contactPhone",(0,d.formatPhoneInput)(a))},onBlur:()=>{let a=(0,d.validatePhoneOnBlur)(aE.contactPhone);a?aV(b=>({...b,contactPhone:a})):aV(a=>({...a,contactPhone:void 0}))},placeholder:"Enter phone number",error:aU.contactPhone,colSpan:1}),(0,b.jsx)(I.FormInput,{label:"Email Address",type:"email",value:aE.email,onChange:a=>{bp("email",(0,e.formatEmailInput)(a))},onBlur:()=>{let a=(0,e.validateEmailOnBlur)(aE.email);a?aV(b=>({...b,email:a})):aV(a=>({...a,email:void 0}))},placeholder:"Enter email address",error:aU.email,required:!0,colSpan:1}),(0,b.jsx)(J.FormSelect,{label:"Status",value:aE.status,onChange:a=>bp("status",a),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"},{value:"suspended",label:"Suspended"}],colSpan:1})]}),(0,b.jsx)(K.FormActions,{onCancel:()=>av(!1),submitText:"Add Society",isLoading:aG})]})}),(0,b.jsx)(H.FormModal,{isOpen:aw&&!!aA,onClose:()=>{ax(!1),aB(null),aF(X)},title:aA?`${aj.common?.edit||"Edit"} ${aA.name}`:aj.common?.edit||"Edit",maxWidth:"lg",children:(0,b.jsxs)("form",{onSubmit:bn,className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)(L.FormGrid,{children:[(0,b.jsx)(I.FormInput,{label:"Society Name",value:aE.name,onChange:a=>bp("name",a),placeholder:"Enter society name",required:!0,error:aU.name,colSpan:1}),(0,b.jsx)(I.FormInput,{label:"Society ID",value:aE.societyId,onChange:()=>{},readOnly:!0,disabled:!0,colSpan:1}),(0,b.jsx)(J.FormSelect,{label:"Associated BMC",value:aE.bmcId,onChange:a=>bp("bmcId",a),options:am.map(a=>({value:a.id,label:`${a.name} (${a.bmcId})`})),placeholder:"Select BMC",required:!0,disabled:!0,colSpan:2}),(0,b.jsxs)("div",{className:"sm:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:a8?"text":"password",value:aE.password,onChange:a=>bp("password",a.target.value),placeholder:"Enter password",className:"form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none"}),(0,b.jsx)("button",{type:"button",onClick:()=>a9(!a8),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:a8?"Hide password":"Show password",children:a8?(0,b.jsx)(x.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(w.Eye,{className:"w-5 h-5"})})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Current password is pre-filled. Click eye icon to view or edit to change."})]}),(0,b.jsx)(I.FormInput,{label:"President Name",value:aE.presidentName,onChange:a=>bp("presidentName",a),placeholder:"Enter president name",colSpan:1}),(0,b.jsx)(I.FormInput,{label:"Location",value:aE.location,onChange:a=>bp("location",a),placeholder:"Enter location",colSpan:1}),(0,b.jsx)(I.FormInput,{label:"Contact Phone",type:"tel",value:aE.contactPhone,onChange:a=>{bp("contactPhone",(0,d.formatPhoneInput)(a))},onBlur:()=>{let a=(0,d.validatePhoneOnBlur)(aE.contactPhone);a?aV(b=>({...b,contactPhone:a})):aV(a=>({...a,contactPhone:void 0}))},placeholder:"Enter contact phone",error:aU.contactPhone,colSpan:1}),(0,b.jsx)(I.FormInput,{label:"Email Address",type:"email",value:aE.email,onChange:a=>{bp("email",(0,e.formatEmailInput)(a))},onBlur:()=>{let a=(0,e.validateEmailOnBlur)(aE.email);a?aV(b=>({...b,email:a})):aV(a=>({...a,email:void 0}))},placeholder:aA?.email?`Current: ${aA.email}`:"Enter email address",error:aU.email,required:!0,colSpan:1,helperText:"Current email address is pre-filled. Edit to change."}),(0,b.jsx)(J.FormSelect,{label:"Status",value:aE.status,onChange:a=>bp("status",a),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"},{value:"suspended",label:"Suspended"}],colSpan:1})]}),(0,b.jsx)(K.FormActions,{onCancel:()=>{ax(!1),aB(null),aF(X)},submitText:"Update Society",isLoading:aG,cancelText:"Cancel",loadingText:"Updating...",submitIcon:(0,b.jsx)(q.Edit3,{className:"w-4 h-4"})})]})}),(0,b.jsx)(W.default,{isOpen:ay&&!!aA,onClose:()=>{az(!1),aB(null)},onConfirm:bo,societyName:aA?.name||"",loading:aC}),(0,b.jsx)(V.default,{isOpen:a0,onClose:()=>a1(!1),onConfirm:bl,title:`Delete ${aY.size} ${1===aY.size?"Society":"Societies"}`,message:`Enter your admin password to confirm deletion of ${aY.size} selected ${1===aY.size?"society":"societies"}. This action cannot be undone and will be logged for security purposes.`}),(0,b.jsx)(S.LoadingSnackbar,{isVisible:aq||a6||aC,message:a6?`Deleting ${aY.size} ${1===aY.size?"Society":"Societies"}`:aC?"Deleting Society":"Processing",submessage:a6||aC?"Verifying credentials and removing data...":"Please wait...",showProgress:!1}),a2&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(D.BarChart3,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["quantity"===a4&&"Collection Volume - Last 30 Days","revenue"===a4&&"Revenue - Last 30 Days","fat"===a4&&"Average Fat % - Last 30 Days","snf"===a4&&"Average SNF % - Last 30 Days","collections"===a4&&"Number of Collections - Last 30 Days","water"===a4&&"Average Water % - Last 30 Days"]})]}),(0,b.jsx)("button",{onClick:()=>a3(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(E.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(ad=ak.filter(a=>a.totalQuantity30d&&a.totalQuantity30d>0).map(a=>({name:a.name,societyId:a.societyId,value:"quantity"===a4?a.totalQuantity30d||0:"revenue"===a4?a.totalAmount30d||0:"fat"===a4?a.weightedFat30d||0:"snf"===a4?a.weightedSnf30d||0:"collections"===a4?a.totalCollections30d||0:a.weightedWater30d||0})).sort((a,b)=>b.value-a.value),ae=()=>{switch(a4){case"quantity":return"#10b981";case"revenue":return"#3b82f6";case"fat":return"#8b5cf6";case"snf":return"#f59e0b";case"collections":return"#ec4899";case"water":return"#ef4444";default:return"#6b7280"}},af=()=>{switch(a4){case"quantity":return"Quantity (L)";case"revenue":return"Revenue (â‚¹)";case"fat":return"Fat %";case"snf":return"SNF %";case"collections":return"Collections";case"water":return"Water %";default:return"Value"}},ad.length>0?(0,b.jsx)("div",{className:"w-full h-[500px]",children:(0,b.jsx)(o.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(i.LineChart,{data:ad,margin:{top:5,right:30,left:20,bottom:80},children:[(0,b.jsx)(m.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),(0,b.jsx)(k.XAxis,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,tick:{fontSize:11},stroke:"#6b7280",label:{value:"Society Name",position:"insideBottom",offset:-5,style:{fontSize:13,fontWeight:500,fill:"#9ca3af"}}}),(0,b.jsx)(l.YAxis,{label:{value:af(),angle:-90,position:"insideLeft",style:{fontSize:14,fontWeight:600}},tick:{fontSize:12},stroke:"#6b7280"}),(0,b.jsx)(n.Tooltip,{content:(0,b.jsx)(({active:a,payload:c})=>{if(a&&c&&c.length){let a=c[0].payload;return(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 dark:text-white mb-1",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["(",a.societyId,")"]}),(0,b.jsxs)("p",{className:"font-semibold",style:{color:ae()},children:["revenue"===a4&&"â‚¹",a.value.toFixed(2),"fat"===a4||"snf"===a4||"water"===a4?"%":"","quantity"===a4?" L":""]})]})}return null},{})}),(0,b.jsx)(j.Line,{type:"monotone",dataKey:"value",stroke:ae(),strokeWidth:3,dot:{fill:ae(),r:5},activeDot:{r:7},name:af()})]})})}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(D.BarChart3,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available for the last 30 days"})]}))})]})})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,b.jsx)(F.FlowerSpinner,{size:48})})}a.s(["default",()=>Z])}];

//# sourceMappingURL=src_app_admin_society_page_tsx_f3899145._.js.map