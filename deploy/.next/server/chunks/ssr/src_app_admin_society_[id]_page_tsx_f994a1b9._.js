module.exports=[733148,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(346271),f=a.i(262036),g=a.i(400210),h=a.i(660246),i=a.i(124987),j=a.i(963519),k=a.i(546842),l=a.i(267900),m=a.i(797063),n=a.i(410227),o=a.i(538784),p=a.i(321161),q=a.i(839761),r=a.i(626112),s=a.i(790166),t=a.i(292e3),u=a.i(501027),v=a.i(93518),w=a.i(824569),x=a.i(114548),y=a.i(633508),z=a.i(669520),A=a.i(781560),B=a.i(177156),C=a.i(141379),D=a.i(346158),E=a.i(835466);a.i(16707);var F=a.i(883733),G=a.i(960020),H=a.i(195279),I=a.i(651963),J=a.i(851068),K=a.i(731524),L=a.i(551551);function M(){let a=(0,d.useParams)(),M=(0,d.useRouter)(),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)("overview"),[R,S]=(0,c.useState)(!0),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)({name:"",password:"",location:"",presidentName:"",contactPhone:"",email:"",status:"active"}),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)({contactPhone:"",email:""}),[ap,aq]=(0,c.useState)(!1),[ar,as]=(0,c.useState)(""),at=(0,c.useCallback)(async()=>{try{S(!0),U("");let b=localStorage.getItem("authToken");if(!b)return void M.push("/login");let c=await fetch(`/api/user/society/${a.id}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!c.ok){if(401===c.status||403===c.status){localStorage.removeItem("authToken"),M.push("/login");return}throw Error("Failed to fetch society details")}let d=await c.json();d.success&&d.data?O(d.data):U(d.message||"Failed to load society details")}catch(a){console.error("Error fetching society details:",a),U("Failed to load society details")}finally{S(!1)}},[a.id,M]);(0,c.useEffect)(()=>{a.id&&at()},[a.id,at]),(0,c.useEffect)(()=>{N?.society&&ak({name:N.society.name||"",password:"",location:N.society.location||"",presidentName:N.society.presidentName||"",contactPhone:N.society.contactPhone||"",email:N.society.email||"",status:N.society.status||"active"})},[N]),(0,c.useEffect)(()=>{(async()=>{if(ah&&a.id)try{let b=localStorage.getItem("authToken"),c=await fetch(`/api/user/society/password?id=${a.id}`,{headers:{Authorization:`Bearer ${b}`}});if(c.ok){let a=await c.json(),b=a.data?.password||a.password||"";as(b),ak(a=>({...a,password:b}))}}catch(a){console.error("Error fetching password:",a)}else aq(!1),as("")})()},[ah,a.id]);let au=a=>{switch(a?.toLowerCase()){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"inactive":default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";case"maintenance":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"suspended":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}},av=a=>{if(!a)return"N/A";let b=new Date(a);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric"}).format(b)},aw=a=>{if(null==a)return"0";let b="string"==typeof a?parseFloat(a):a;return new Intl.NumberFormat("en-IN",{maximumFractionDigits:2}).format(b)},ax=a=>{if(null==a)return"₹0";let b="string"==typeof a?parseFloat(a):a;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(b)},ay=()=>{ah&&(N?.society&&ak({name:N.society.name||"",password:"",location:N.society.location||"",presidentName:N.society.presidentName||"",contactPhone:N.society.contactPhone||"",email:N.society.email||"",status:N.society.status||"active"}),ao({contactPhone:"",email:""})),ai(!ah)},az=async()=>{try{if(am(!0),U(""),aj.contactPhone){let a=(0,D.validateIndianPhone)(aj.contactPhone);if(!a.isValid){ao({...an,contactPhone:a.error||"Invalid phone number"}),U("Please fix validation errors before saving"),am(!1);return}}if(!aj.email||!aj.email.trim()){ao({...an,email:"Email is required"}),U("Please fix validation errors before saving"),am(!1);return}let b=(0,E.validateEmailOnBlur)(aj.email);if(b){ao({...an,email:b}),U("Please fix validation errors before saving"),am(!1);return}let c=localStorage.getItem("authToken");if(!c)return void M.push("/login");let d={id:Number(a.id),name:aj.name,location:aj.location,presidentName:aj.presidentName,contactPhone:aj.contactPhone,email:aj.email,status:aj.status};aj.password&&aj.password!==ar&&(d.password=aj.password);let e=await fetch("/api/user/society",{method:"PUT",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify(d)});if(!e.ok){if(401===e.status||403===e.status){localStorage.removeItem("authToken"),M.push("/login");return}let a=await e.json().catch(()=>({})),b=a.message||`Failed to update society details (${e.status})`;U(b),console.error("Update failed:",b,a);return}let f=await e.json();f.success?(await at(),ai(!1)):U(f.message||"Failed to update society details")}catch(a){console.error("Error updating society:",a),U(a instanceof Error?a.message:"Failed to update society details")}finally{am(!1)}},aA=async b=>{ag(!0);try{let c=localStorage.getItem("authToken");if(!c)return void M.push("/login");let d=await fetch(`/api/user/society?id=${a.id}&otp=${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!d.ok){if(401===d.status||403===d.status){localStorage.removeItem("authToken"),M.push("/login");return}let a=await d.json().catch(()=>({}));throw Error(a.message||"Failed to delete society")}let e=await d.json();if(e.success)ae(!1),M.push("/admin/society");else throw Error(e.message||"Failed to delete society")}catch(a){console.error("Error deleting society:",a),U(a instanceof Error?a.message:"Failed to delete society"),setTimeout(()=>U(""),5e3)}finally{ag(!1)}};if(R)return(0,b.jsx)(F.LoadingSpinner,{});if(T||!N)return(0,b.jsx)(G.EmptyState,{icon:(0,b.jsx)(t.AlertCircle,{className:"w-10 h-10"}),title:"Failed to Load Society Details",message:T||"Unable to fetch society information",actionText:"Back to Societies",onAction:()=>M.push("/admin/society"),showAction:!0});let{society:aB,analytics:aC,topPerformers:aD,channelBreakdown:aE,sections:aF}=N,aG=[{id:"overview",label:"Overview",icon:m.Info},{id:"sections",label:`Sections (${aF?.length||0})`,icon:q.BarChart3},{id:"details",label:"Details",icon:p.Settings}];return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 lg:pb-8",children:[(0,b.jsx)(H.StatusMessage,{error:T}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("div",{className:"px-4 sm:px-6 py-3 sm:py-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>M.push("/admin/society"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center",children:(0,b.jsx)(g.ArrowLeft,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg sm:rounded-xl flex-shrink-0",children:(0,b.jsx)(l.Building2,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100 truncate",children:aB.name}),(0,b.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:["ID: ",aB.societyId]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("span",{className:`px-3 py-1 text-xs sm:text-sm font-medium rounded-full border ${au(aB.status)}`,children:aB.status}),(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsxs)("button",{onClick:at,className:"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm text-blue-600 dark:text-blue-500 border border-blue-600 dark:border-blue-500 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors min-h-[44px]",children:[(0,b.jsx)(z.RefreshCw,{className:"w-4 h-4 sm:mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,b.jsxs)("button",{onClick:()=>{window.selectedSocietyId=Number(a.id),ae(!0)},className:"flex items-center px-3 sm:px-4 py-2 sm:py-2.5 text-xs sm:text-sm text-red-600 dark:text-red-500 border border-red-600 dark:border-red-500 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors min-h-[44px]",children:[(0,b.jsx)(A.Trash2,{className:"w-4 h-4 sm:mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})]})}),(0,b.jsx)("div",{className:"px-4 sm:px-6 overflow-x-auto scrollbar-hide",children:(0,b.jsx)("div",{className:"flex gap-1 sm:gap-2 border-b border-gray-200 dark:border-gray-700 min-w-max sm:min-w-0",children:aG.map(a=>(0,b.jsxs)("button",{onClick:()=>Q(a.id),className:`flex items-center gap-2 px-3 sm:px-4 py-2.5 sm:py-3 font-medium transition-all relative whitespace-nowrap text-sm sm:text-base ${P===a.id?"text-blue-600 dark:text-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,b.jsx)(a.icon,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,b.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:a.label}),P===a.id&&(0,b.jsx)(e.motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},a.id))})})]}),(0,b.jsx)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:(0,b.jsxs)(f.AnimatePresence,{mode:"wait",children:["overview"===P&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{onClick:()=>aC.totalFarmers>0&&W(!0),className:`bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${aC.totalFarmers>0?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed opacity-60"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(h.Users,{className:"w-8 h-8 text-white/80"}),(0,b.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-2xl font-bold text-white",children:aC.totalFarmers})})]}),(0,b.jsx)("p",{className:"text-white/90 font-medium text-sm",children:"Total Farmers"}),(0,b.jsxs)("p",{className:"text-white/70 text-xs mt-1",children:[aC.activeFarmers," active • Click to view"]})]}),(0,b.jsxs)("div",{onClick:()=>aC.totalMachines>0&&Y(!0),className:`bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${aC.totalMachines>0?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed opacity-60"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(p.Settings,{className:"w-8 h-8 text-white/80"}),(0,b.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-2xl font-bold text-white",children:aC.totalMachines})})]}),(0,b.jsx)("p",{className:"text-white/90 font-medium text-sm",children:"Total Machines"}),(0,b.jsxs)("p",{className:"text-white/70 text-xs mt-1",children:[aC.activeMachines," active • Click to view"]})]}),(0,b.jsxs)("div",{onClick:()=>aC.totalCollections>0&&$(!0),className:`bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-all ${aC.totalCollections>0?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed opacity-60"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(r.Droplet,{className:"w-8 h-8 text-white/80"}),(0,b.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-2xl font-bold text-white",children:aw(aC.totalCollections)})})]}),(0,b.jsx)("p",{className:"text-white/90 font-medium text-sm",children:"Collections"}),(0,b.jsx)("p",{className:"text-white/70 text-xs mt-1",children:"Last 30 days • Click to view"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 sm:p-6 shadow-lg hover:shadow-xl transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(s.DollarSign,{className:"w-8 h-8 text-white/80"}),(0,b.jsx)("div",{className:"flex-1 text-right",children:(0,b.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-white block",children:ax(aC.totalRevenue)})})]}),(0,b.jsx)("p",{className:"text-white/90 font-medium text-sm",children:"Total Revenue"}),(0,b.jsx)("p",{className:"text-white/70 text-xs mt-1",children:"Last 30 days"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,b.jsx)(r.Droplet,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Collected"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[aw(aC.totalQuantityCollected)," L"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Last 30 days"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,b.jsx)(n.Truck,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Dispatched"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[aw(aC.totalQuantityDispatched)," L"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Last 30 days"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,b.jsx)(n.Truck,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Dispatch Count"}),(0,b.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:aw(aC.totalDispatches)}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Last 30 days"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:(0,b.jsx)(o.ShoppingCart,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Sales"}),(0,b.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:aw(aC.totalSales)}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Last 30 days"})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,b.jsx)(l.Building2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Society Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[aB.dairyName&&(0,b.jsxs)("div",{onClick:()=>aB.dairyId&&aa(!0),className:`flex items-start gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 transition-all ${aB.dairyId?"cursor-pointer hover:shadow-md hover:scale-105 active:scale-95":"cursor-default"}`,children:[(0,b.jsx)(l.Building2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:["Dairy Farm ",aB.dairyId&&"• Click to view"]}),(0,b.jsx)("p",{className:"font-semibold text-sm text-gray-900 dark:text-white break-words",children:aB.dairyName}),aB.dairyIdentifier&&(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:aB.dairyIdentifier})]})]}),aB.bmcName&&(0,b.jsxs)("div",{onClick:()=>aB.bmcId&&ac(!0),className:`flex items-start gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 transition-all ${aB.bmcId?"cursor-pointer hover:shadow-md hover:scale-105 active:scale-95":"cursor-default"}`,children:[(0,b.jsx)(l.Building2,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("p",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:["BMC (Bulk Milk Cooler) ",aB.bmcId&&"• Click to view"]}),(0,b.jsx)("p",{className:"font-semibold text-sm text-gray-900 dark:text-white break-words",children:aB.bmcName}),aB.bmcIdentifier&&(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:aB.bmcIdentifier})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[aB.location&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)(i.MapPin,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Location"}),(0,b.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white break-words",children:aB.location})]})]}),aB.presidentName&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)(k.User,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"President"}),(0,b.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white break-words",children:aB.presidentName})]})]}),aB.contactPhone&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)(j.Phone,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Contact Phone"}),(0,b.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white break-words",children:aB.contactPhone})]})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,b.jsx)(u.Zap,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),"Quality Metrics (Last 30 Days)"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/40 rounded-lg flex items-center justify-center",children:(0,b.jsx)(r.Droplet,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"FAT %"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:[aw(aC.avgFat),"%"]})]})]}),(0,b.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Average Fat Content"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-xl p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/40 rounded-lg flex items-center justify-center",children:(0,b.jsx)(r.Droplet,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"SNF %"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:[aw(aC.avgSnf),"%"]})]})]}),(0,b.jsx)("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Solid-Not-Fat Content"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border border-purple-200 dark:border-purple-800 rounded-xl p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/40 rounded-lg flex items-center justify-center",children:(0,b.jsx)(s.DollarSign,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:"Rate"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:[ax(aC.avgRate),"/L"]})]})]}),(0,b.jsx)("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Average Price per Liter"})]})]})]}),aD.farmers.length>0&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,b.jsx)(v.Award,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),"Top Performing Farmers"]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Rank"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Farmer"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Collections"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Quantity (L)"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Revenue"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:aD.farmers.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${0===c?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":1===c?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":2===c?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400"}`,children:c+1})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.farmerId})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white",children:aw(a.collections)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white",children:aw(a.totalQuantity)}),(0,b.jsx)("td",{className:"px-4 py-3 text-right text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:ax(a.totalRevenue)})]},a.farmerId))})]})})]})]}),(0,b.jsxs)("div",{className:"lg:col-span-1 space-y-4 sm:space-y-6",children:[aE.length>0&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Channel Breakdown"}),(0,b.jsx)("div",{className:"space-y-3",children:aE.map(a=>(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 border border-gray-200 dark:border-gray-600",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:a.channel}),(0,b.jsxs)("p",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:[aw(a.totalQuantity)," L"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[aw(a.collections)," collections"]})]},a.channel))})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4",children:"Information"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Society ID"}),(0,b.jsx)("span",{className:"font-mono text-sm text-gray-900 dark:text-gray-100",children:aB.societyId})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Created"}),(0,b.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:av(aB.createdAt)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Updated"}),(0,b.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:av(aB.updatedAt)})]})]})]})]})]})]},"overview"),"details"===P&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[(0,b.jsx)(p.Settings,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),"Society Details"]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:ah?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{type:"button",onClick:ay,disabled:al,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(y.X,{className:"w-4 h-4"}),"Cancel"]}),(0,b.jsxs)("button",{type:"button",onClick:az,disabled:al,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(x.Save,{className:"w-4 h-4"}),al?"Saving...":"Save Changes"]})]}):(0,b.jsxs)("button",{type:"button",onClick:ay,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:[(0,b.jsx)(w.Edit,{className:"w-4 h-4"}),"Edit Details"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ah?(0,b.jsx)(I.FormInput,{label:"Society Name",value:aj.name,onChange:a=>ak({...aj,name:a}),placeholder:"Enter society name",required:!0}):(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Society Name"}),(0,b.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,b.jsx)("p",{className:"text-gray-900 dark:text-white",children:aB.name})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Society ID"}),(0,b.jsx)("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 font-mono",children:aB.societyId})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),ah?(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:ap?"text":"password",value:aj.password,onChange:a=>ak({...aj,password:a.target.value}),placeholder:"Enter password",className:"form-input-custom w-full px-3 sm:px-4 py-2 sm:py-2.5 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none"}),(0,b.jsx)("button",{type:"button",onClick:()=>aq(!ap),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:ap?"Hide password":"Show password",children:ap?(0,b.jsx)(C.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(B.Eye,{className:"w-5 h-5"})})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Current password is pre-filled. Click eye icon to view or edit to change."})]}):(0,b.jsxs)("div",{className:"relative px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-gray-900 dark:text-white font-mono",children:ap&&ar?ar:"••••••••"}),(0,b.jsx)("button",{type:"button",onClick:async()=>{if(ap||ar)aq(!ap);else try{let b=localStorage.getItem("authToken"),c=await fetch(`/api/user/society/password?id=${a.id}`,{headers:{Authorization:`Bearer ${b}`}});if(c.ok){let a=await c.json(),b=a.data?.password||a.password||"";as(b),aq(!0)}}catch(a){console.error("Error fetching password:",a)}},className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",title:ap?"Hide password":"Show password",children:ap?(0,b.jsx)(C.EyeOff,{className:"w-5 h-5"}):(0,b.jsx)(B.Eye,{className:"w-5 h-5"})})]})]}),ah?(0,b.jsx)(I.FormInput,{label:"President Name",value:aj.presidentName,onChange:a=>ak({...aj,presidentName:a}),placeholder:"Enter president name"}):(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"President Name"}),(0,b.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,b.jsx)("p",{className:"text-gray-900 dark:text-white",children:aB.presidentName||"N/A"})})]}),ah?(0,b.jsx)(I.FormInput,{label:"Location",value:aj.location,onChange:a=>ak({...aj,location:a}),placeholder:"Enter location"}):(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,b.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,b.jsx)("p",{className:"text-gray-900 dark:text-white",children:aB.location||"N/A"})})]}),ah?(0,b.jsx)(I.FormInput,{label:"Contact Phone",type:"tel",value:aj.contactPhone,onChange:a=>{let b=(0,D.formatPhoneInput)(a);ak({...aj,contactPhone:b}),an.contactPhone&&ao({...an,contactPhone:""})},onBlur:()=>{if(aj.contactPhone){let a=(0,D.validatePhoneOnBlur)(aj.contactPhone);ao({...an,contactPhone:a})}},placeholder:"Enter 10-digit mobile number",maxLength:10,error:an.contactPhone}):(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Phone"}),(0,b.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,b.jsx)("p",{className:"text-gray-900 dark:text-white",children:aB.contactPhone||"N/A"})})]}),ah?(0,b.jsx)(I.FormInput,{label:"Email Address",type:"email",value:aj.email,onChange:a=>{let b=(0,E.formatEmailInput)(a);ak({...aj,email:b}),an.email&&ao({...an,email:""})},onBlur:()=>{let a=(0,E.validateEmailOnBlur)(aj.email);ao({...an,email:a})},placeholder:aB.email?`Current: ${aB.email}`:"Enter email address",error:an.email,required:!0,helperText:"Current email address is pre-filled. Edit to change."}):(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),(0,b.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,b.jsx)("p",{className:"text-gray-900 dark:text-white",children:aB.email||"N/A"})})]}),ah?(0,b.jsx)(J.FormSelect,{label:"Status",value:aj.status,onChange:a=>ak({...aj,status:a}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"maintenance",label:"Maintenance"}]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,b.jsx)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,b.jsx)("span",{className:`inline-flex px-3 py-1 text-xs font-medium rounded-full ${au(aB.status)}`,children:aB.status})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Associated BMC"}),(0,b.jsxs)("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,b.jsx)("p",{className:"text-gray-900 dark:text-white",children:aB.bmcName||"N/A"}),aB.bmcIdentifier&&(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1",children:aB.bmcIdentifier})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Associated Dairy"}),(0,b.jsxs)("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,b.jsx)("p",{className:"text-gray-900 dark:text-white",children:aB.dairyName||"N/A"}),aB.dairyIdentifier&&(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1",children:aB.dairyIdentifier})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"System Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Created At"}),(0,b.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:av(aB.createdAt)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Updated"}),(0,b.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:av(aB.updatedAt)})]})]})]})]})},"details"),"sections"===P&&(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 sm:p-6",children:[(0,b.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4 flex items-center gap-2",children:[(0,b.jsx)(q.BarChart3,{className:"w-5 h-5 text-blue-600"}),"Section Pulse Details (",aF?.length||0,")"]}),aF&&aF.length>0?(0,b.jsx)("div",{className:"overflow-x-auto -mx-4 sm:-mx-6",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,b.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"First Collection"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Collection"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"End Time"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Collections"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total Farmers"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Present"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Absent"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Attendance %"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Inactive Days"}),(0,b.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Checked"})]})}),(0,b.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:aF.map(a=>{let c=a.totalFarmers>0?(a.presentFarmers/a.totalFarmers*100).toFixed(1):"0.0";return(0,b.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-900 dark:text-white font-medium",children:av(a.pulseDate)}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:(0,b.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                  ${"active"===a.pulseStatus?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":""}
                                  ${"paused"===a.pulseStatus?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":""}
                                  ${"ended"===a.pulseStatus?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":""}
                                  ${"not_started"===a.pulseStatus?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400":""}
                                  ${"inactive"===a.pulseStatus?"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-500":""}
                                `,children:["active"===a.pulseStatus&&"● Active","paused"===a.pulseStatus&&"⏸ Paused","ended"===a.pulseStatus&&"✓ Ended","not_started"===a.pulseStatus&&"○ Not Started","inactive"===a.pulseStatus&&"- Inactive"]})}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400",children:a.firstCollectionTime||"-"}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400",children:a.lastCollectionTime||"-"}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-600 dark:text-gray-400",children:a.sectionEndTime||"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white",children:aw(a.totalCollections)}),(0,b.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-blue-600 dark:text-blue-400",children:aw(a.totalFarmers)}),(0,b.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:aw(a.presentFarmers)}),(0,b.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm font-medium text-red-600 dark:text-red-400",children:aw(a.absentFarmers)}),(0,b.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm",children:(0,b.jsxs)("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold
                                  ${parseFloat(c)>=80?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":""}
                                  ${parseFloat(c)>=50&&80>parseFloat(c)?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":""}
                                  ${50>parseFloat(c)?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":""}
                                `,children:[c,"%"]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:a.inactiveDays}),(0,b.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm text-gray-500 dark:text-gray-500",children:a.lastChecked||"-"})]},a.id)})})]})}):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(q.BarChart3,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No section data"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No section pulse data available for this society."})]})]})},"sections")]})}),(0,b.jsx)(L.default,{isOpen:V,onClose:()=>W(!1),onConfirm:()=>{W(!1),N?.society&&M.push(`/admin/farmer?societyId=${N.society.id}&societyName=${encodeURIComponent(N.society.name)}`)},title:"Navigate to Farmer Management",message:`View all farmers from ${N?.society.name} in the Farmer Management page with filters applied.`,confirmText:"Go to Farmer Management",cancelText:"Cancel"}),(0,b.jsx)(L.default,{isOpen:X,onClose:()=>Y(!1),onConfirm:()=>{Y(!1),N?.society&&M.push(`/admin/machine?societyId=${N.society.id}&societyName=${encodeURIComponent(N.society.name)}`)},title:"Navigate to Machine Management",message:`View all machines from ${N?.society.name} in the Machine Management page with filters applied.`,confirmText:"Go to Machine Management",cancelText:"Cancel"}),(0,b.jsx)(L.default,{isOpen:Z,onClose:()=>$(!1),onConfirm:()=>{if($(!1),N?.society){let a=new Date,b=new Date(a);b.setDate(a.getDate()-30);let c=a=>{let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${b}-${c}-${d}`},d=c(b),e=c(a);M.push(`/admin/reports?societyId=${N.society.societyId}&societyName=${encodeURIComponent(N.society.name)}&fromDate=${d}&toDate=${e}`)}},title:"Navigate to Reports Management",message:`View all collection reports from ${N?.society.name} for the last 30 days in the Reports Management page with filters applied.`,confirmText:"Go to Reports Management",cancelText:"Cancel"}),(0,b.jsx)(L.default,{isOpen:_,onClose:()=>aa(!1),onConfirm:()=>{aa(!1),N?.society.dairyId&&M.push(`/admin/dairy/${N.society.dairyId}`)},title:"Navigate to Dairy Details",message:`View complete details of ${N?.society.dairyName} in the Dairy Management page.`,confirmText:"Go to Dairy Details",cancelText:"Cancel"}),(0,b.jsx)(L.default,{isOpen:ab,onClose:()=>ac(!1),onConfirm:()=>{ac(!1),N?.society.bmcId&&M.push(`/admin/bmc/${N.society.bmcId}`)},title:"Navigate to BMC Details",message:`View complete details of ${N?.society.bmcName} in the BMC Management page.`,confirmText:"Go to BMC Details",cancelText:"Cancel"}),(0,b.jsx)(K.default,{isOpen:ad,onClose:()=>ae(!1),onConfirm:aA,societyName:N?.society.name||"",loading:af})]})}a.s(["default",()=>M],733148)}];

//# sourceMappingURL=src_app_admin_society_%5Bid%5D_page_tsx_f994a1b9._.js.map